var J$=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var c_e=J$((ys,ws)=>{const Z$=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}};Z$();var Bo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function eQ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $2(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),e}var Y={exports:{}},Xt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var V5=Object.getOwnPropertySymbols,tQ=Object.prototype.hasOwnProperty,iQ=Object.prototype.propertyIsEnumerable;function nQ(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function rQ(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(o){r[o]=o}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var iD=rQ()?Object.assign:function(t,e){for(var i,n=nQ(t),r,o=1;o<arguments.length;o++){i=Object(arguments[o]);for(var a in i)tQ.call(i,a)&&(n[a]=i[a]);if(V5){r=V5(i);for(var s=0;s<r.length;s++)iQ.call(i,r[s])&&(n[r[s]]=i[r[s]])}}return n};/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2=iD,qo=typeof Symbol=="function"&&Symbol.for,Sg=qo?Symbol.for("react.element"):60103,oQ=qo?Symbol.for("react.portal"):60106,aQ=qo?Symbol.for("react.fragment"):60107,sQ=qo?Symbol.for("react.strict_mode"):60108,lQ=qo?Symbol.for("react.profiler"):60114,cQ=qo?Symbol.for("react.provider"):60109,uQ=qo?Symbol.for("react.context"):60110,dQ=qo?Symbol.for("react.forward_ref"):60112,fQ=qo?Symbol.for("react.suspense"):60113,pQ=qo?Symbol.for("react.memo"):60115,hQ=qo?Symbol.for("react.lazy"):60116,$5=typeof Symbol=="function"&&Symbol.iterator;function Cg(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rD={};function $f(t,e,i){this.props=t,this.context=e,this.refs=rD,this.updater=i||nD}$f.prototype.isReactComponent={};$f.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Cg(85));this.updater.enqueueSetState(this,t,e,"setState")};$f.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oD(){}oD.prototype=$f.prototype;function q2(t,e,i){this.props=t,this.context=e,this.refs=rD,this.updater=i||nD}var K2=q2.prototype=new oD;K2.constructor=q2;Q2(K2,$f.prototype);K2.isPureReactComponent=!0;var X2={current:null},aD=Object.prototype.hasOwnProperty,sD={key:!0,ref:!0,__self:!0,__source:!0};function lD(t,e,i){var n,r={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)aD.call(e,n)&&!sD.hasOwnProperty(n)&&(r[n]=e[n]);var s=arguments.length-2;if(s===1)r.children=i;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)r[n]===void 0&&(r[n]=s[n]);return{$$typeof:Sg,type:t,key:o,ref:a,props:r,_owner:X2.current}}function mQ(t,e){return{$$typeof:Sg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function J2(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sg}function gQ(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(i){return e[i]})}var cD=/\/+/g,ty=[];function uD(t,e,i,n){if(ty.length){var r=ty.pop();return r.result=t,r.keyPrefix=e,r.func=i,r.context=n,r.count=0,r}return{result:t,keyPrefix:e,func:i,context:n,count:0}}function dD(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>ty.length&&ty.push(t)}function x_(t,e,i,n){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sg:case oQ:o=!0}}if(o)return i(n,t,e===""?"."+Z1(t,0):e),1;if(o=0,e=e===""?".":e+":",Array.isArray(t))for(var a=0;a<t.length;a++){r=t[a];var s=e+Z1(r,a);o+=x_(r,s,i,n)}else if(t===null||typeof t!="object"?s=null:(s=$5&&t[$5]||t["@@iterator"],s=typeof s=="function"?s:null),typeof s=="function")for(t=s.call(t),a=0;!(r=t.next()).done;)r=r.value,s=e+Z1(r,a++),o+=x_(r,s,i,n);else if(r==="object")throw i=""+t,Error(Cg(31,i==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return o}function k_(t,e,i){return t==null?0:x_(t,"",e,i)}function Z1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gQ(t.key):e.toString(36)}function bQ(t,e){t.func.call(t.context,e,t.count++)}function vQ(t,e,i){var n=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?__(t,n,i,function(o){return o}):t!=null&&(J2(t)&&(t=mQ(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(cD,"$&/")+"/")+i)),n.push(t))}function __(t,e,i,n,r){var o="";i!=null&&(o=(""+i).replace(cD,"$&/")+"/"),e=uD(e,o,n,r),k_(t,vQ,e),dD(e)}var fD={current:null};function Bs(){var t=fD.current;if(t===null)throw Error(Cg(321));return t}var yQ={ReactCurrentDispatcher:fD,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:X2,IsSomeRendererActing:{current:!1},assign:Q2};Xt.Children={map:function(t,e,i){if(t==null)return t;var n=[];return __(t,n,null,e,i),n},forEach:function(t,e,i){if(t==null)return t;e=uD(null,null,e,i),k_(t,bQ,e),dD(e)},count:function(t){return k_(t,function(){return null},null)},toArray:function(t){var e=[];return __(t,e,null,function(i){return i}),e},only:function(t){if(!J2(t))throw Error(Cg(143));return t}};Xt.Component=$f;Xt.Fragment=aQ;Xt.Profiler=lQ;Xt.PureComponent=q2;Xt.StrictMode=sQ;Xt.Suspense=fQ;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yQ;Xt.cloneElement=function(t,e,i){if(t==null)throw Error(Cg(267,t));var n=Q2({},t.props),r=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=X2.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)aD.call(e,l)&&!sD.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=i;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Sg,type:t.type,key:r,ref:o,props:n,_owner:a}};Xt.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:uQ,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:cQ,_context:t},t.Consumer=t};Xt.createElement=lD;Xt.createFactory=function(t){var e=lD.bind(null,t);return e.type=t,e};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(t){return{$$typeof:dQ,render:t}};Xt.isValidElement=J2;Xt.lazy=function(t){return{$$typeof:hQ,_ctor:t,_status:-1,_result:null}};Xt.memo=function(t,e){return{$$typeof:pQ,type:t,compare:e===void 0?null:e}};Xt.useCallback=function(t,e){return Bs().useCallback(t,e)};Xt.useContext=function(t,e){return Bs().useContext(t,e)};Xt.useDebugValue=function(){};Xt.useEffect=function(t,e){return Bs().useEffect(t,e)};Xt.useImperativeHandle=function(t,e,i){return Bs().useImperativeHandle(t,e,i)};Xt.useLayoutEffect=function(t,e){return Bs().useLayoutEffect(t,e)};Xt.useMemo=function(t,e){return Bs().useMemo(t,e)};Xt.useReducer=function(t,e,i){return Bs().useReducer(t,e,i)};Xt.useRef=function(t){return Bs().useRef(t)};Xt.useState=function(t){return Bs().useState(t)};Xt.version="16.14.0";Y.exports=Xt;var ye=Y.exports,_l={exports:{}},Co={},pD={exports:{}},hD={};/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,i,n,r,o;if(typeof window=="undefined"||typeof MessageChannel!="function"){var a=null,s=null,l=function(){if(a!==null)try{var ie=t.unstable_now();a(!0,ie),a=null}catch(se){throw setTimeout(l,0),se}},c=Date.now();t.unstable_now=function(){return Date.now()-c},e=function(ie){a!==null?setTimeout(e,0,ie):(a=ie,setTimeout(l,0))},i=function(ie,se){s=setTimeout(ie,se)},n=function(){clearTimeout(s)},r=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var u=window.performance,f=window.Date,h=window.setTimeout,m=window.clearTimeout;if(typeof console!="undefined"){var b=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof b!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof u=="object"&&typeof u.now=="function")t.unstable_now=function(){return u.now()};else{var w=f.now();t.unstable_now=function(){return f.now()-w}}var g=!1,A=null,x=-1,T=5,C=0;r=function(){return t.unstable_now()>=C},o=function(){},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):T=0<ie?Math.floor(1e3/ie):5};var z=new MessageChannel,L=z.port2;z.port1.onmessage=function(){if(A!==null){var ie=t.unstable_now();C=ie+T;try{A(!0,ie)?L.postMessage(null):(g=!1,A=null)}catch(se){throw L.postMessage(null),se}}else g=!1},e=function(ie){A=ie,g||(g=!0,L.postMessage(null))},i=function(ie,se){x=h(function(){ie(t.unstable_now())},se)},n=function(){m(x),x=-1}}function B(ie,se){var pe=ie.length;ie.push(se);e:for(;;){var xe=pe-1>>>1,we=ie[xe];if(we!==void 0&&0<H(we,se))ie[xe]=se,ie[pe]=we,pe=xe;else break e}}function O(ie){return ie=ie[0],ie===void 0?null:ie}function F(ie){var se=ie[0];if(se!==void 0){var pe=ie.pop();if(pe!==se){ie[0]=pe;e:for(var xe=0,we=ie.length;xe<we;){var Pe=2*(xe+1)-1,Ye=ie[Pe],$e=Pe+1,nt=ie[$e];if(Ye!==void 0&&0>H(Ye,pe))nt!==void 0&&0>H(nt,Ye)?(ie[xe]=nt,ie[$e]=pe,xe=$e):(ie[xe]=Ye,ie[Pe]=pe,xe=Pe);else if(nt!==void 0&&0>H(nt,pe))ie[xe]=nt,ie[$e]=pe,xe=$e;else break e}}return se}return null}function H(ie,se){var pe=ie.sortIndex-se.sortIndex;return pe!==0?pe:ie.id-se.id}var K=[],fe=[],Ae=1,Se=null,ke=3,Oe=!1,Fe=!1,Ve=!1;function Le(ie){for(var se=O(fe);se!==null;){if(se.callback===null)F(fe);else if(se.startTime<=ie)F(fe),se.sortIndex=se.expirationTime,B(K,se);else break;se=O(fe)}}function Me(ie){if(Ve=!1,Le(ie),!Fe)if(O(K)!==null)Fe=!0,e(ce);else{var se=O(fe);se!==null&&i(Me,se.startTime-ie)}}function ce(ie,se){Fe=!1,Ve&&(Ve=!1,n()),Oe=!0;var pe=ke;try{for(Le(se),Se=O(K);Se!==null&&(!(Se.expirationTime>se)||ie&&!r());){var xe=Se.callback;if(xe!==null){Se.callback=null,ke=Se.priorityLevel;var we=xe(Se.expirationTime<=se);se=t.unstable_now(),typeof we=="function"?Se.callback=we:Se===O(K)&&F(K),Le(se)}else F(K);Se=O(K)}if(Se!==null)var Pe=!0;else{var Ye=O(fe);Ye!==null&&i(Me,Ye.startTime-se),Pe=!1}return Pe}finally{Se=null,ke=pe,Oe=!1}}function Z(ie){switch(ie){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var de=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){Fe||Oe||(Fe=!0,e(ce))},t.unstable_getCurrentPriorityLevel=function(){return ke},t.unstable_getFirstCallbackNode=function(){return O(K)},t.unstable_next=function(ie){switch(ke){case 1:case 2:case 3:var se=3;break;default:se=ke}var pe=ke;ke=se;try{return ie()}finally{ke=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=de,t.unstable_runWithPriority=function(ie,se){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var pe=ke;ke=ie;try{return se()}finally{ke=pe}},t.unstable_scheduleCallback=function(ie,se,pe){var xe=t.unstable_now();if(typeof pe=="object"&&pe!==null){var we=pe.delay;we=typeof we=="number"&&0<we?xe+we:xe,pe=typeof pe.timeout=="number"?pe.timeout:Z(ie)}else pe=Z(ie),we=xe;return pe=we+pe,ie={id:Ae++,callback:se,priorityLevel:ie,startTime:we,expirationTime:pe,sortIndex:-1},we>xe?(ie.sortIndex=we,B(fe,ie),O(K)===null&&ie===O(fe)&&(Ve?n():Ve=!0,i(Me,we-xe))):(ie.sortIndex=pe,B(K,ie),Fe||Oe||(Fe=!0,e(ce))),ie},t.unstable_shouldYield=function(){var ie=t.unstable_now();Le(ie);var se=O(K);return se!==Se&&Se!==null&&se!==null&&se.callback!==null&&se.startTime<=ie&&se.expirationTime<Se.expirationTime||r()},t.unstable_wrapCallback=function(ie){var se=ke;return function(){var pe=ke;ke=se;try{return ie.apply(this,arguments)}finally{ke=pe}}}})(hD);pD.exports=hD;/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw=Y.exports,rr=iD,yn=pD.exports;function Re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Fw)throw Error(Re(227));function wQ(t,e,i,n,r,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(i,c)}catch(u){this.onError(u)}}var Xh=!1,iy=null,ny=!1,T_=null,AQ={onError:function(t){Xh=!0,iy=t}};function xQ(t,e,i,n,r,o,a,s,l){Xh=!1,iy=null,wQ.apply(AQ,arguments)}function kQ(t,e,i,n,r,o,a,s,l){if(xQ.apply(this,arguments),Xh){if(Xh){var c=iy;Xh=!1,iy=null}else throw Error(Re(198));ny||(ny=!0,T_=c)}}var Z2=null,mD=null,gD=null;function Q5(t,e,i){var n=t.type||"unknown-event";t.currentTarget=gD(i),kQ(n,e,void 0,t),t.currentTarget=null}var ry=null,gd={};function bD(){if(ry)for(var t in gd){var e=gd[t],i=ry.indexOf(t);if(!(-1<i))throw Error(Re(96,t));if(!oy[i]){if(!e.extractEvents)throw Error(Re(97,t));oy[i]=e,i=e.eventTypes;for(var n in i){var r=void 0,o=i[n],a=e,s=n;if(S_.hasOwnProperty(s))throw Error(Re(99,s));S_[s]=o;var l=o.phasedRegistrationNames;if(l){for(r in l)l.hasOwnProperty(r)&&q5(l[r],a,s);r=!0}else o.registrationName?(q5(o.registrationName,a,s),r=!0):r=!1;if(!r)throw Error(Re(98,n,t))}}}}function q5(t,e,i){if($d[t])throw Error(Re(100,t));$d[t]=e,eS[t]=e.eventTypes[i].dependencies}var oy=[],S_={},$d={},eS={};function vD(t){var e=!1,i;for(i in t)if(t.hasOwnProperty(i)){var n=t[i];if(!gd.hasOwnProperty(i)||gd[i]!==n){if(gd[i])throw Error(Re(102,i));gd[i]=n,e=!0}}e&&bD()}var Vl=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),C_=null,Rd=null,Ld=null;function K5(t){if(t=mD(t)){if(typeof C_!="function")throw Error(Re(280));var e=t.stateNode;e&&(e=Z2(e),C_(t.stateNode,t.type,e))}}function yD(t){Rd?Ld?Ld.push(t):Ld=[t]:Rd=t}function wD(){if(Rd){var t=Rd,e=Ld;if(Ld=Rd=null,K5(t),e)for(t=0;t<e.length;t++)K5(e[t])}}function tS(t,e){return t(e)}function AD(t,e,i,n,r){return t(e,i,n,r)}function iS(){}var xD=tS,Cc=!1,ek=!1;function nS(){(Rd!==null||Ld!==null)&&(iS(),wD())}function kD(t,e,i){if(ek)return t(e,i);ek=!0;try{return xD(t,e,i)}finally{ek=!1,nS()}}var _Q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X5=Object.prototype.hasOwnProperty,J5={},Z5={};function TQ(t){return X5.call(Z5,t)?!0:X5.call(J5,t)?!1:_Q.test(t)?Z5[t]=!0:(J5[t]=!0,!1)}function SQ(t,e,i,n){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CQ(t,e,i,n){if(e===null||typeof e=="undefined"||SQ(t,e,i,n))return!0;if(n)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sr(t,e,i,n,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=o}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wn[t]=new sr(t,0,!1,t,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wn[e]=new sr(e,1,!1,t[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wn[t]=new sr(t,2,!1,t.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wn[t]=new sr(t,2,!1,t,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wn[t]=new sr(t,3,!1,t.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(t){wn[t]=new sr(t,3,!0,t,null,!1)});["capture","download"].forEach(function(t){wn[t]=new sr(t,4,!1,t,null,!1)});["cols","rows","size","span"].forEach(function(t){wn[t]=new sr(t,6,!1,t,null,!1)});["rowSpan","start"].forEach(function(t){wn[t]=new sr(t,5,!1,t.toLowerCase(),null,!1)});var rS=/[\-:]([a-z])/g;function oS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rS,oS);wn[e]=new sr(e,1,!1,t,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rS,oS);wn[e]=new sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rS,oS);wn[e]=new sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(t){wn[t]=new sr(t,1,!1,t.toLowerCase(),null,!1)});wn.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(t){wn[t]=new sr(t,1,!1,t.toLowerCase(),null,!0)});var Ho=Fw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ho.hasOwnProperty("ReactCurrentDispatcher")||(Ho.ReactCurrentDispatcher={current:null});Ho.hasOwnProperty("ReactCurrentBatchConfig")||(Ho.ReactCurrentBatchConfig={suspense:null});function aS(t,e,i,n){var r=wn.hasOwnProperty(e)?wn[e]:null,o=r!==null?r.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");o||(CQ(e,i,r,n)&&(i=null),n||r===null?TQ(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=i===null?r.type===3?!1:"":i:(e=r.attributeName,n=r.attributeNamespace,i===null?t.removeAttribute(e):(r=r.type,i=r===3||r===4&&i===!0?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}var EQ=/^(.*)[\\\/]/,zr=typeof Symbol=="function"&&Symbol.for,N0=zr?Symbol.for("react.element"):60103,bd=zr?Symbol.for("react.portal"):60106,Tc=zr?Symbol.for("react.fragment"):60107,_D=zr?Symbol.for("react.strict_mode"):60108,kv=zr?Symbol.for("react.profiler"):60114,TD=zr?Symbol.for("react.provider"):60109,SD=zr?Symbol.for("react.context"):60110,zQ=zr?Symbol.for("react.concurrent_mode"):60111,sS=zr?Symbol.for("react.forward_ref"):60112,_v=zr?Symbol.for("react.suspense"):60113,E_=zr?Symbol.for("react.suspense_list"):60120,lS=zr?Symbol.for("react.memo"):60115,CD=zr?Symbol.for("react.lazy"):60116,ED=zr?Symbol.for("react.block"):60121,e3=typeof Symbol=="function"&&Symbol.iterator;function mh(t){return t===null||typeof t!="object"?null:(t=e3&&t[e3]||t["@@iterator"],typeof t=="function"?t:null)}function IQ(t){if(t._status===-1){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then(function(i){t._status===0&&(i=i.default,t._status=1,t._result=i)},function(i){t._status===0&&(t._status=2,t._result=i)})}}function As(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tc:return"Fragment";case bd:return"Portal";case kv:return"Profiler";case _D:return"StrictMode";case _v:return"Suspense";case E_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SD:return"Context.Consumer";case TD:return"Context.Provider";case sS:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case lS:return As(t.type);case ED:return As(t.render);case CD:if(t=t._status===1?t._result:null)return As(t)}return null}function cS(t){var e="";do{e:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var i="";break e;default:var n=t._debugOwner,r=t._debugSource,o=As(t.type);i=null,n&&(i=As(n.type)),n=o,o="",r?o=" (at "+r.fileName.replace(EQ,"")+":"+r.lineNumber+")":i&&(o=" (created by "+i+")"),i=`
    in `+(n||"Unknown")+o}e+=i,t=t.return}while(t);return e}function Tl(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function zD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PQ(t){var e=zD(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof i!="undefined"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,o=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function j0(t){t._valueTracker||(t._valueTracker=PQ(t))}function ID(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=zD(t)?t.checked?"true":"false":t.value),t=n,t!==i?(e.setValue(t),!0):!1}function z_(t,e){var i=e.checked;return rr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i!=null?i:t._wrapperState.initialChecked})}function t3(t,e){var i=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;i=Tl(e.value!=null?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PD(t,e){e=e.checked,e!=null&&aS(t,"checked",e,!1)}function I_(t,e){PD(t,e);var i=Tl(e.value),n=e.type;if(i!=null)n==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?P_(t,e.type,i):e.hasOwnProperty("defaultValue")&&P_(t,e.type,Tl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function i3(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function P_(t,e,i){(e!=="number"||t.ownerDocument.activeElement!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function RQ(t){var e="";return Fw.Children.forEach(t,function(i){i!=null&&(e+=i)}),e}function R_(t,e){return t=rr({children:void 0},e),(e=RQ(e.children))&&(t.children=e),t}function Od(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+Tl(i),e=null,r=0;r<t.length;r++){if(t[r].value===i){t[r].selected=!0,n&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function L_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Re(91));return rr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function n3(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(Re(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(Re(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:Tl(i)}}function RD(t,e){var i=Tl(e.value),n=Tl(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),n!=null&&(t.defaultValue=""+n)}function r3(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var LD={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function OD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function O_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var U0,DD=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,i,n,r){MSApp.execUnsafeLocalFunction(function(){return t(e,i,n,r)})}:t}(function(t,e){if(t.namespaceURI!==LD.svg||"innerHTML"in t)t.innerHTML=e;else{for(U0=U0||document.createElement("div"),U0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=U0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Am(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}function G0(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var vd={animationend:G0("Animation","AnimationEnd"),animationiteration:G0("Animation","AnimationIteration"),animationstart:G0("Animation","AnimationStart"),transitionend:G0("Transition","TransitionEnd")},tk={},MD={};Vl&&(MD=document.createElement("div").style,"AnimationEvent"in window||(delete vd.animationend.animation,delete vd.animationiteration.animation,delete vd.animationstart.animation),"TransitionEvent"in window||delete vd.transitionend.transition);function Nw(t){if(tk[t])return tk[t];if(!vd[t])return t;var e=vd[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in MD)return tk[t]=e[i];return t}var BD=Nw("animationend"),FD=Nw("animationiteration"),ND=Nw("animationstart"),jD=Nw("transitionend"),Mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o3=new(typeof WeakMap=="function"?WeakMap:Map);function uS(t){var e=o3.get(t);return e===void 0&&(e=new Map,o3.set(t,e)),e}function bu(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.effectTag&1026)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function UD(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a3(t){if(bu(t)!==t)throw Error(Re(188))}function LQ(t){var e=t.alternate;if(!e){if(e=bu(t),e===null)throw Error(Re(188));return e!==t?null:t}for(var i=t,n=e;;){var r=i.return;if(r===null)break;var o=r.alternate;if(o===null){if(n=r.return,n!==null){i=n;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===i)return a3(r),t;if(o===n)return a3(r),e;o=o.sibling}throw Error(Re(188))}if(i.return!==n.return)i=r,n=o;else{for(var a=!1,s=r.child;s;){if(s===i){a=!0,i=r,n=o;break}if(s===n){a=!0,n=r,i=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===i){a=!0,i=o,n=r;break}if(s===n){a=!0,n=o,i=r;break}s=s.sibling}if(!a)throw Error(Re(189))}}if(i.alternate!==n)throw Error(Re(190))}if(i.tag!==3)throw Error(Re(188));return i.stateNode.current===i?t:e}function GD(t){if(t=LQ(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Qd(t,e){if(e==null)throw Error(Re(30));return t==null?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function dS(t,e,i){Array.isArray(t)?t.forEach(e,i):t&&e.call(i,t)}var gh=null;function OQ(t){if(t){var e=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(e))for(var n=0;n<e.length&&!t.isPropagationStopped();n++)Q5(t,e[n],i[n]);else e&&Q5(t,e,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function jw(t){if(t!==null&&(gh=Qd(gh,t)),t=gh,gh=null,t){if(dS(t,OQ),gh)throw Error(Re(95));if(ny)throw t=T_,ny=!1,T_=null,t}}function fS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}function HD(t){if(!Vl)return!1;t="on"+t;var e=t in document;return e||(e=document.createElement("div"),e.setAttribute(t,"return;"),e=typeof e[t]=="function"),e}var ay=[];function YD(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ay.length&&ay.push(t)}function WD(t,e,i,n){if(ay.length){var r=ay.pop();return r.topLevelType=t,r.eventSystemFlags=n,r.nativeEvent=e,r.targetInst=i,r}return{topLevelType:t,eventSystemFlags:n,nativeEvent:e,targetInst:i,ancestors:[]}}function VD(t){var e=t.targetInst,i=e;do{if(!i){t.ancestors.push(i);break}var n=i;if(n.tag===3)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=n.tag!==3?null:n.stateNode.containerInfo}if(!n)break;e=i.tag,e!==5&&e!==6||t.ancestors.push(i),i=zg(n)}while(i);for(i=0;i<t.ancestors.length;i++){e=t.ancestors[i];var r=fS(t.nativeEvent);n=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;i===0&&(a|=64);for(var s=null,l=0;l<oy.length;l++){var c=oy[l];c&&(c=c.extractEvents(n,e,o,r,a))&&(s=Qd(s,c))}jw(s)}}function D_(t,e,i){if(!i.has(t)){switch(t){case"scroll":Bh(e,"scroll",!0);break;case"focus":case"blur":Bh(e,"focus",!0),Bh(e,"blur",!0),i.set("blur",null),i.set("focus",null);break;case"cancel":case"close":HD(t)&&Bh(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:Mh.indexOf(t)===-1&&gi(t,e)}i.set(t,null)}}var $D,pS,QD,M_=!1,ca=[],hl=null,ml=null,gl=null,xm=new Map,km=new Map,bh=[],B_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),DQ="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function MQ(t,e){var i=uS(e);B_.forEach(function(n){D_(n,e,i)}),DQ.forEach(function(n){D_(n,e,i)})}function F_(t,e,i,n,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:i|32,nativeEvent:r,container:n}}function s3(t,e){switch(t){case"focus":case"blur":hl=null;break;case"dragenter":case"dragleave":ml=null;break;case"mouseover":case"mouseout":gl=null;break;case"pointerover":case"pointerout":xm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":km.delete(e.pointerId)}}function vh(t,e,i,n,r,o){return t===null||t.nativeEvent!==o?(t=F_(e,i,n,r,o),e!==null&&(e=Ig(e),e!==null&&pS(e)),t):(t.eventSystemFlags|=n,t)}function BQ(t,e,i,n,r){switch(e){case"focus":return hl=vh(hl,t,e,i,n,r),!0;case"dragenter":return ml=vh(ml,t,e,i,n,r),!0;case"mouseover":return gl=vh(gl,t,e,i,n,r),!0;case"pointerover":var o=r.pointerId;return xm.set(o,vh(xm.get(o)||null,t,e,i,n,r)),!0;case"gotpointercapture":return o=r.pointerId,km.set(o,vh(km.get(o)||null,t,e,i,n,r)),!0}return!1}function FQ(t){var e=zg(t.target);if(e!==null){var i=bu(e);if(i!==null){if(e=i.tag,e===13){if(e=UD(i),e!==null){t.blockedOn=e,yn.unstable_runWithPriority(t.priority,function(){QD(i)});return}}else if(e===3&&i.stateNode.hydrate){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tv(t){if(t.blockedOn!==null)return!1;var e=gS(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(e!==null){var i=Ig(e);return i!==null&&pS(i),t.blockedOn=e,!1}return!0}function l3(t,e,i){Tv(t)&&i.delete(e)}function NQ(){for(M_=!1;0<ca.length;){var t=ca[0];if(t.blockedOn!==null){t=Ig(t.blockedOn),t!==null&&$D(t);break}var e=gS(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);e!==null?t.blockedOn=e:ca.shift()}hl!==null&&Tv(hl)&&(hl=null),ml!==null&&Tv(ml)&&(ml=null),gl!==null&&Tv(gl)&&(gl=null),xm.forEach(l3),km.forEach(l3)}function yh(t,e){t.blockedOn===e&&(t.blockedOn=null,M_||(M_=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,NQ)))}function qD(t){function e(r){return yh(r,t)}if(0<ca.length){yh(ca[0],t);for(var i=1;i<ca.length;i++){var n=ca[i];n.blockedOn===t&&(n.blockedOn=null)}}for(hl!==null&&yh(hl,t),ml!==null&&yh(ml,t),gl!==null&&yh(gl,t),xm.forEach(e),km.forEach(e),i=0;i<bh.length;i++)n=bh[i],n.blockedOn===t&&(n.blockedOn=null);for(;0<bh.length&&(i=bh[0],i.blockedOn===null);)FQ(i),i.blockedOn===null&&bh.shift()}var KD={},XD=new Map,hS=new Map,jQ=["abort","abort",BD,"animationEnd",FD,"animationIteration",ND,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",jD,"transitionEnd","waiting","waiting"];function mS(t,e){for(var i=0;i<t.length;i+=2){var n=t[i],r=t[i+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[n],eventPriority:e},hS.set(n,e),XD.set(n,o),KD[r]=o}}mS("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);mS("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);mS(jQ,2);for(var c3="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ik=0;ik<c3.length;ik++)hS.set(c3[ik],0);var UQ=yn.unstable_UserBlockingPriority,GQ=yn.unstable_runWithPriority,Sv=!0;function gi(t,e){Bh(e,t,!1)}function Bh(t,e,i){var n=hS.get(e);switch(n===void 0?2:n){case 0:n=HQ.bind(null,e,1,t);break;case 1:n=YQ.bind(null,e,1,t);break;default:n=Uw.bind(null,e,1,t)}i?t.addEventListener(e,n,!0):t.addEventListener(e,n,!1)}function HQ(t,e,i,n){Cc||iS();var r=Uw,o=Cc;Cc=!0;try{AD(r,t,e,i,n)}finally{(Cc=o)||nS()}}function YQ(t,e,i,n){GQ(UQ,Uw.bind(null,t,e,i,n))}function Uw(t,e,i,n){if(Sv)if(0<ca.length&&-1<B_.indexOf(t))t=F_(null,t,e,i,n),ca.push(t);else{var r=gS(t,e,i,n);if(r===null)s3(t,n);else if(-1<B_.indexOf(t))t=F_(r,t,e,i,n),ca.push(t);else if(!BQ(r,t,e,i,n)){s3(t,n),t=WD(t,n,null,e);try{kD(VD,t)}finally{YD(t)}}}}function gS(t,e,i,n){if(i=fS(n),i=zg(i),i!==null){var r=bu(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=UD(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.hydrate)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}t=WD(t,n,i,e);try{kD(VD,t)}finally{YD(t)}return null}var Jh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WQ=["Webkit","ms","Moz","O"];Object.keys(Jh).forEach(function(t){WQ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jh[e]=Jh[t]})});function JD(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||Jh.hasOwnProperty(t)&&Jh[t]?(""+e).trim():e+"px"}function ZD(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var n=i.indexOf("--")===0,r=JD(i,e[i],n);i==="float"&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}var VQ=rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N_(t,e){if(e){if(VQ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Re(137,t,""));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Re(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Re(62,""))}}function j_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u3=LD.html;function rs(t,e){t=t.nodeType===9||t.nodeType===11?t:t.ownerDocument;var i=uS(t);e=eS[e];for(var n=0;n<e.length;n++)D_(e[n],t,i)}function sy(){}function U_(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function d3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function f3(t,e){var i=d3(t);t=0;for(var n;i;){if(i.nodeType===3){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=d3(i)}}function eM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function p3(){for(var t=window,e=U_();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=U_(t.document)}return e}function G_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var tM="$",iM="/$",bS="$?",vS="$!",nk=null,rk=null;function nM(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function H_(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ok=typeof setTimeout=="function"?setTimeout:void 0,$Q=typeof clearTimeout=="function"?clearTimeout:void 0;function Dd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function h3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i===tM||i===vS||i===bS){if(e===0)return t;e--}else i===iM&&e++}t=t.previousSibling}return null}var yS=Math.random().toString(36).slice(2),sl="__reactInternalInstance$"+yS,ly="__reactEventHandlers$"+yS,Eg="__reactContainere$"+yS;function zg(t){var e=t[sl];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Eg]||i[sl]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=h3(t);t!==null;){if(i=t[sl])return i;t=h3(t)}return e}t=i,i=t.parentNode}return null}function Ig(t){return t=t[sl]||t[Eg],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Re(33))}function wS(t){return t[ly]||null}function os(t){do t=t.return;while(t&&t.tag!==5);return t||null}function rM(t,e){var i=t.stateNode;if(!i)return null;var n=Z2(i);if(!n)return null;i=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(Re(231,e,typeof i));return i}function m3(t,e,i){(e=rM(t,i.dispatchConfig.phasedRegistrationNames[e]))&&(i._dispatchListeners=Qd(i._dispatchListeners,e),i._dispatchInstances=Qd(i._dispatchInstances,t))}function QQ(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,i=[];e;)i.push(e),e=os(e);for(e=i.length;0<e--;)m3(i[e],"captured",t);for(e=0;e<i.length;e++)m3(i[e],"bubbled",t)}}function Y_(t,e,i){t&&i&&i.dispatchConfig.registrationName&&(e=rM(t,i.dispatchConfig.registrationName))&&(i._dispatchListeners=Qd(i._dispatchListeners,e),i._dispatchInstances=Qd(i._dispatchInstances,t))}function qQ(t){t&&t.dispatchConfig.registrationName&&Y_(t._targetInst,null,t)}function qd(t){dS(t,QQ)}var ll=null,AS=null,Cv=null;function oM(){if(Cv)return Cv;var t,e=AS,i=e.length,n,r="value"in ll?ll.value:ll.textContent,o=r.length;for(t=0;t<i&&e[t]===r[t];t++);var a=i-t;for(n=1;n<=a&&e[i-n]===r[o-n];n++);return Cv=r.slice(t,1<n?1-n:void 0)}function Ev(){return!0}function cy(){return!1}function io(t,e,i,n){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=i,t=this.constructor.Interface;for(var r in t)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(i):r==="target"?this.target=n:this[r]=i[r]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ev:cy,this.isPropagationStopped=cy,this}rr(io.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Ev)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Ev)},persist:function(){this.isPersistent=Ev},isPersistent:cy,destructor:function(){var t=this.constructor.Interface,e;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=cy,this._dispatchInstances=this._dispatchListeners=null}});io.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};io.extend=function(t){function e(){}function i(){return n.apply(this,arguments)}var n=this;e.prototype=n.prototype;var r=new e;return rr(r,i.prototype),i.prototype=r,i.prototype.constructor=i,i.Interface=rr({},n.Interface,t),i.extend=n.extend,aM(i),i};aM(io);function KQ(t,e,i,n){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,i,n),r}return new this(t,e,i,n)}function XQ(t){if(!(t instanceof this))throw Error(Re(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function aM(t){t.eventPool=[],t.getPooled=KQ,t.release=XQ}var JQ=io.extend({data:null}),ZQ=io.extend({data:null}),eq=[9,13,27,32],xS=Vl&&"CompositionEvent"in window,Zh=null;Vl&&"documentMode"in document&&(Zh=document.documentMode);var tq=Vl&&"TextEvent"in window&&!Zh,sM=Vl&&(!xS||Zh&&8<Zh&&11>=Zh),g3=String.fromCharCode(32),is={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},b3=!1;function lM(t,e){switch(t){case"keyup":return eq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function cM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yd=!1;function iq(t,e){switch(t){case"compositionend":return cM(e);case"keypress":return e.which!==32?null:(b3=!0,g3);case"textInput":return t=e.data,t===g3&&b3?null:t;default:return null}}function nq(t,e){if(yd)return t==="compositionend"||!xS&&lM(t,e)?(t=oM(),Cv=AS=ll=null,yd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sM&&e.locale!=="ko"?null:e.data;default:return null}}var rq={eventTypes:is,extractEvents:function(t,e,i,n){var r;if(xS)e:{switch(t){case"compositionstart":var o=is.compositionStart;break e;case"compositionend":o=is.compositionEnd;break e;case"compositionupdate":o=is.compositionUpdate;break e}o=void 0}else yd?lM(t,i)&&(o=is.compositionEnd):t==="keydown"&&i.keyCode===229&&(o=is.compositionStart);return o?(sM&&i.locale!=="ko"&&(yd||o!==is.compositionStart?o===is.compositionEnd&&yd&&(r=oM()):(ll=n,AS="value"in ll?ll.value:ll.textContent,yd=!0)),o=JQ.getPooled(o,e,i,n),r?o.data=r:(r=cM(i),r!==null&&(o.data=r)),qd(o),r=o):r=null,(t=tq?iq(t,i):nq(t,i))?(e=ZQ.getPooled(is.beforeInput,e,i,n),e.data=t,qd(e)):e=null,r===null?e:e===null?r:[r,e]}},oq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oq[t.type]:e==="textarea"}var dM={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fM(t,e,i){return t=io.getPooled(dM.change,t,e,i),t.type="change",yD(i),qd(t),t}var em=null,_m=null;function aq(t){jw(t)}function Gw(t){var e=Zc(t);if(ID(e))return t}function sq(t,e){if(t==="change")return e}var W_=!1;Vl&&(W_=HD("input")&&(!document.documentMode||9<document.documentMode));function v3(){em&&(em.detachEvent("onpropertychange",pM),_m=em=null)}function pM(t){if(t.propertyName==="value"&&Gw(_m))if(t=fM(_m,t,fS(t)),Cc)jw(t);else{Cc=!0;try{tS(aq,t)}finally{Cc=!1,nS()}}}function lq(t,e,i){t==="focus"?(v3(),em=e,_m=i,em.attachEvent("onpropertychange",pM)):t==="blur"&&v3()}function cq(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gw(_m)}function uq(t,e){if(t==="click")return Gw(e)}function dq(t,e){if(t==="input"||t==="change")return Gw(e)}var fq={eventTypes:dM,_isInputEventSupported:W_,extractEvents:function(t,e,i,n){var r=e?Zc(e):window,o=r.nodeName&&r.nodeName.toLowerCase();if(o==="select"||o==="input"&&r.type==="file")var a=sq;else if(uM(r))if(W_)a=dq;else{a=cq;var s=lq}else(o=r.nodeName)&&o.toLowerCase()==="input"&&(r.type==="checkbox"||r.type==="radio")&&(a=uq);if(a&&(a=a(t,e)))return fM(a,i,n);s&&s(t,r,e),t==="blur"&&(t=r._wrapperState)&&t.controlled&&r.type==="number"&&P_(r,"number",r.value)}},Pg=io.extend({view:null,detail:null}),pq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pq[t])?!!e[t]:!1}function kS(){return hq}var y3=0,w3=0,A3=!1,x3=!1,Rg=Pg.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:kS,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=y3;return y3=t.screenX,A3?t.type==="mousemove"?t.screenX-e:0:(A3=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=w3;return w3=t.screenY,x3?t.type==="mousemove"?t.screenY-e:0:(x3=!0,0)}}),hM=Rg.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),wh={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},mq={eventTypes:wh,extractEvents:function(t,e,i,n,r){var o=t==="mouseover"||t==="pointerover",a=t==="mouseout"||t==="pointerout";if(o&&(r&32)===0&&(i.relatedTarget||i.fromElement)||!a&&!o)return null;if(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,a){if(a=e,e=(e=i.relatedTarget||i.toElement)?zg(e):null,e!==null){var s=bu(e);(e!==s||e.tag!==5&&e.tag!==6)&&(e=null)}}else a=null;if(a===e)return null;if(t==="mouseout"||t==="mouseover")var l=Rg,c=wh.mouseLeave,u=wh.mouseEnter,f="mouse";else(t==="pointerout"||t==="pointerover")&&(l=hM,c=wh.pointerLeave,u=wh.pointerEnter,f="pointer");if(t=a==null?o:Zc(a),o=e==null?o:Zc(e),c=l.getPooled(c,a,i,n),c.type=f+"leave",c.target=t,c.relatedTarget=o,i=l.getPooled(u,e,i,n),i.type=f+"enter",i.target=o,i.relatedTarget=t,n=a,f=e,n&&f)e:{for(l=n,u=f,a=0,t=l;t;t=os(t))a++;for(t=0,e=u;e;e=os(e))t++;for(;0<a-t;)l=os(l),a--;for(;0<t-a;)u=os(u),t--;for(;a--;){if(l===u||l===u.alternate)break e;l=os(l),u=os(u)}l=null}else l=null;for(u=l,l=[];n&&n!==u&&(a=n.alternate,!(a!==null&&a===u));)l.push(n),n=os(n);for(n=[];f&&f!==u&&(a=f.alternate,!(a!==null&&a===u));)n.push(f),f=os(f);for(f=0;f<l.length;f++)Y_(l[f],"bubbled",c);for(f=n.length;0<f--;)Y_(n[f],"captured",i);return(r&64)===0?[c]:[c,i]}};function gq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eu=typeof Object.is=="function"?Object.is:gq,bq=Object.prototype.hasOwnProperty;function Tm(t,e){if(eu(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!bq.call(e,i[n])||!eu(t[i[n]],e[i[n]]))return!1;return!0}var vq=Vl&&"documentMode"in document&&11>=document.documentMode,mM={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},wd=null,V_=null,tm=null,$_=!1;function k3(t,e){var i=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;return $_||wd==null||wd!==U_(i)?null:(i=wd,"selectionStart"in i&&G_(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),tm&&Tm(tm,i)?null:(tm=i,t=io.getPooled(mM.select,V_,t,e),t.type="select",t.target=wd,qd(t),t))}var yq={eventTypes:mM,extractEvents:function(t,e,i,n,r,o){if(r=o||(n.window===n?n.document:n.nodeType===9?n:n.ownerDocument),!(o=!r)){e:{r=uS(r),o=eS.onSelect;for(var a=0;a<o.length;a++)if(!r.has(o[a])){r=!1;break e}r=!0}o=!r}if(o)return null;switch(r=e?Zc(e):window,t){case"focus":(uM(r)||r.contentEditable==="true")&&(wd=r,V_=e,tm=null);break;case"blur":tm=V_=wd=null;break;case"mousedown":$_=!0;break;case"contextmenu":case"mouseup":case"dragend":return $_=!1,k3(i,n);case"selectionchange":if(vq)break;case"keydown":case"keyup":return k3(i,n)}return null}},wq=io.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Aq=io.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xq=Pg.extend({relatedTarget:null});function zv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}var kq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tq=Pg.extend({key:function(t){if(t.key){var e=kq[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_q[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:kS,charCode:function(t){return t.type==="keypress"?zv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sq=Rg.extend({dataTransfer:null}),Cq=Pg.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:kS}),Eq=io.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),zq=Rg.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),Iq={eventTypes:KD,extractEvents:function(t,e,i,n){var r=XD.get(t);if(!r)return null;switch(t){case"keypress":if(zv(i)===0)return null;case"keydown":case"keyup":t=Tq;break;case"blur":case"focus":t=xq;break;case"click":if(i.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=Sq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=Cq;break;case BD:case FD:case ND:t=wq;break;case jD:t=Eq;break;case"scroll":t=Pg;break;case"wheel":t=zq;break;case"copy":case"cut":case"paste":t=Aq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=hM;break;default:t=io}return e=t.getPooled(r,e,i,n),qd(e),e}};if(ry)throw Error(Re(101));ry=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));bD();var Pq=Ig;Z2=wS;mD=Pq;gD=Zc;vD({SimpleEventPlugin:Iq,EnterLeaveEventPlugin:mq,ChangeEventPlugin:fq,SelectEventPlugin:yq,BeforeInputEventPlugin:rq});var Q_=[],Ad=-1;function fi(t){0>Ad||(t.current=Q_[Ad],Q_[Ad]=null,Ad--)}function Pi(t,e){Ad++,Q_[Ad]=t.current,t.current=e}var Sl={},Dn={current:Sl},wr={current:!1},tu=Sl;function Kd(t,e){var i=t.type.contextTypes;if(!i)return Sl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in i)r[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ar(t){return t=t.childContextTypes,t!=null}function uy(){fi(wr),fi(Dn)}function _3(t,e,i){if(Dn.current!==Sl)throw Error(Re(168));Pi(Dn,e),Pi(wr,i)}function gM(t,e,i){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return i;n=n.getChildContext();for(var r in n)if(!(r in t))throw Error(Re(108,As(e)||"Unknown",r));return rr({},i,{},n)}function Iv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sl,tu=Dn.current,Pi(Dn,t),Pi(wr,wr.current),!0}function T3(t,e,i){var n=t.stateNode;if(!n)throw Error(Re(169));i?(t=gM(t,e,tu),n.__reactInternalMemoizedMergedChildContext=t,fi(wr),fi(Dn),Pi(Dn,t)):fi(wr),Pi(wr,i)}var Rq=yn.unstable_runWithPriority,_S=yn.unstable_scheduleCallback,bM=yn.unstable_cancelCallback,S3=yn.unstable_requestPaint,q_=yn.unstable_now,Lq=yn.unstable_getCurrentPriorityLevel,Hw=yn.unstable_ImmediatePriority,vM=yn.unstable_UserBlockingPriority,yM=yn.unstable_NormalPriority,wM=yn.unstable_LowPriority,AM=yn.unstable_IdlePriority,xM={},Oq=yn.unstable_shouldYield,Dq=S3!==void 0?S3:function(){},us=null,Pv=null,ak=!1,C3=q_(),bo=1e4>C3?q_:function(){return q_()-C3};function Yw(){switch(Lq()){case Hw:return 99;case vM:return 98;case yM:return 97;case wM:return 96;case AM:return 95;default:throw Error(Re(332))}}function kM(t){switch(t){case 99:return Hw;case 98:return vM;case 97:return yM;case 96:return wM;case 95:return AM;default:throw Error(Re(332))}}function Cl(t,e){return t=kM(t),Rq(t,e)}function _M(t,e,i){return t=kM(t),_S(t,e,i)}function E3(t){return us===null?(us=[t],Pv=_S(Hw,TM)):us.push(t),xM}function Da(){if(Pv!==null){var t=Pv;Pv=null,bM(t)}TM()}function TM(){if(!ak&&us!==null){ak=!0;var t=0;try{var e=us;Cl(99,function(){for(;t<e.length;t++){var i=e[t];do i=i(!0);while(i!==null)}}),us=null}catch(i){throw us!==null&&(us=us.slice(t+1)),_S(Hw,Da),i}finally{ak=!1}}}function Rv(t,e,i){return i/=10,1073741821-(((1073741821-t+e/10)/i|0)+1)*i}function Do(t,e){if(t&&t.defaultProps){e=rr({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i])}return e}var dy={current:null},fy=null,xd=null,py=null;function TS(){py=xd=fy=null}function SS(t){var e=dy.current;fi(dy),t.type._context._currentValue=e}function SM(t,e){for(;t!==null;){var i=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,i!==null&&i.childExpirationTime<e&&(i.childExpirationTime=e);else if(i!==null&&i.childExpirationTime<e)i.childExpirationTime=e;else break;t=t.return}}function Md(t,e){fy=t,py=xd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.expirationTime>=e&&(ua=!0),t.firstContext=null)}function xo(t,e){if(py!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(py=t,e=1073741823),e={context:t,observedBits:e,next:null},xd===null){if(fy===null)throw Error(Re(308));xd=e,fy.dependencies={expirationTime:0,firstContext:e,responders:null}}else xd=xd.next=e;return t._currentValue}var al=!1;function CS(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ES(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function bl(t,e){return t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null},t.next=t}function vl(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}}function z3(t,e){var i=t.alternate;i!==null&&ES(i,t),t=t.updateQueue,i=t.baseQueue,i===null?(t.baseQueue=e.next=e,e.next=e):(e.next=i.next,i.next=e)}function Sm(t,e,i,n){var r=t.updateQueue;al=!1;var o=r.baseQueue,a=r.shared.pending;if(a!==null){if(o!==null){var s=o.next;o.next=a.next,a.next=s}o=a,r.shared.pending=null,s=t.alternate,s!==null&&(s=s.updateQueue,s!==null&&(s.baseQueue=a))}if(o!==null){s=o.next;var l=r.baseState,c=0,u=null,f=null,h=null;if(s!==null){var m=s;do{if(a=m.expirationTime,a<n){var b={expirationTime:m.expirationTime,suspenseConfig:m.suspenseConfig,tag:m.tag,payload:m.payload,callback:m.callback,next:null};h===null?(f=h=b,u=l):h=h.next=b,a>c&&(c=a)}else{h!==null&&(h=h.next={expirationTime:1073741823,suspenseConfig:m.suspenseConfig,tag:m.tag,payload:m.payload,callback:m.callback,next:null}),i8(a,m.suspenseConfig);e:{var w=t,g=m;switch(a=e,b=i,g.tag){case 1:if(w=g.payload,typeof w=="function"){l=w.call(b,l,a);break e}l=w;break e;case 3:w.effectTag=w.effectTag&-4097|64;case 0:if(w=g.payload,a=typeof w=="function"?w.call(b,l,a):w,a==null)break e;l=rr({},l,a);break e;case 2:al=!0}}m.callback!==null&&(t.effectTag|=32,a=r.effects,a===null?r.effects=[m]:a.push(m))}if(m=m.next,m===null||m===s){if(a=r.shared.pending,a===null)break;m=o.next=a.next,a.next=s,r.baseQueue=o=a,r.shared.pending=null}}while(1)}h===null?u=l:h.next=f,r.baseState=u,r.baseQueue=h,qw(c),t.expirationTime=c,t.memoizedState=l}}function I3(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(r!==null){if(n.callback=null,n=r,r=i,typeof n!="function")throw Error(Re(191,n));n.call(r)}}}var im=Ho.ReactCurrentBatchConfig,CM=new Fw.Component().refs;function hy(t,e,i,n){e=t.memoizedState,i=i(n,e),i=i==null?e:rr({},e,i),t.memoizedState=i,t.expirationTime===0&&(t.updateQueue.baseState=i)}var Ww={isMounted:function(t){return(t=t._reactInternalFiber)?bu(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternalFiber;var n=va(),r=im.suspense;n=Fc(n,t,r),r=bl(n,r),r.payload=e,i!=null&&(r.callback=i),vl(t,r),wl(t,n)},enqueueReplaceState:function(t,e,i){t=t._reactInternalFiber;var n=va(),r=im.suspense;n=Fc(n,t,r),r=bl(n,r),r.tag=1,r.payload=e,i!=null&&(r.callback=i),vl(t,r),wl(t,n)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var i=va(),n=im.suspense;i=Fc(i,t,n),n=bl(i,n),n.tag=2,e!=null&&(n.callback=e),vl(t,n),wl(t,i)}};function P3(t,e,i,n,r,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!Tm(i,n)||!Tm(r,o):!0}function EM(t,e,i){var n=!1,r=Sl,o=e.contextType;return typeof o=="object"&&o!==null?o=xo(o):(r=Ar(e)?tu:Dn.current,n=e.contextTypes,o=(n=n!=null)?Kd(t,r):Sl),e=new e(i,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ww,t.stateNode=e,e._reactInternalFiber=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function R3(t,e,i,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&Ww.enqueueReplaceState(e,e.state,null)}function K_(t,e,i,n){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs=CM,CS(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=xo(o):(o=Ar(e)?tu:Dn.current,r.context=Kd(t,o)),Sm(t,i,r,n),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(hy(t,e,o,i),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ww.enqueueReplaceState(r,r.state,null),Sm(t,i,r,n),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.effectTag|=4)}var H0=Array.isArray;function Ah(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(Re(309));var n=i.stateNode}if(!n)throw Error(Re(147,t));var r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=n.refs;a===CM&&(a=n.refs={}),o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(Re(284));if(!i._owner)throw Error(Re(290,t))}return t}function Y0(t,e){if(t.type!=="textarea")throw Error(Re(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function zM(t){function e(g,A){if(t){var x=g.lastEffect;x!==null?(x.nextEffect=A,g.lastEffect=A):g.firstEffect=g.lastEffect=A,A.nextEffect=null,A.effectTag=8}}function i(g,A){if(!t)return null;for(;A!==null;)e(g,A),A=A.sibling;return null}function n(g,A){for(g=new Map;A!==null;)A.key!==null?g.set(A.key,A):g.set(A.index,A),A=A.sibling;return g}function r(g,A){return g=iu(g,A),g.index=0,g.sibling=null,g}function o(g,A,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<A?(g.effectTag=2,A):x):(g.effectTag=2,A)):A}function a(g){return t&&g.alternate===null&&(g.effectTag=2),g}function s(g,A,x,T){return A===null||A.tag!==6?(A=fk(x,g.mode,T),A.return=g,A):(A=r(A,x),A.return=g,A)}function l(g,A,x,T){return A!==null&&A.elementType===x.type?(T=r(A,x.props),T.ref=Ah(g,A,x),T.return=g,T):(T=Mv(x.type,x.key,x.props,null,g.mode,T),T.ref=Ah(g,A,x),T.return=g,T)}function c(g,A,x,T){return A===null||A.tag!==4||A.stateNode.containerInfo!==x.containerInfo||A.stateNode.implementation!==x.implementation?(A=pk(x,g.mode,T),A.return=g,A):(A=r(A,x.children||[]),A.return=g,A)}function u(g,A,x,T,C){return A===null||A.tag!==7?(A=dl(x,g.mode,T,C),A.return=g,A):(A=r(A,x),A.return=g,A)}function f(g,A,x){if(typeof A=="string"||typeof A=="number")return A=fk(""+A,g.mode,x),A.return=g,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case N0:return x=Mv(A.type,A.key,A.props,null,g.mode,x),x.ref=Ah(g,null,A),x.return=g,x;case bd:return A=pk(A,g.mode,x),A.return=g,A}if(H0(A)||mh(A))return A=dl(A,g.mode,x,null),A.return=g,A;Y0(g,A)}return null}function h(g,A,x,T){var C=A!==null?A.key:null;if(typeof x=="string"||typeof x=="number")return C!==null?null:s(g,A,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case N0:return x.key===C?x.type===Tc?u(g,A,x.props.children,T,C):l(g,A,x,T):null;case bd:return x.key===C?c(g,A,x,T):null}if(H0(x)||mh(x))return C!==null?null:u(g,A,x,T,null);Y0(g,x)}return null}function m(g,A,x,T,C){if(typeof T=="string"||typeof T=="number")return g=g.get(x)||null,s(A,g,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case N0:return g=g.get(T.key===null?x:T.key)||null,T.type===Tc?u(A,g,T.props.children,C,T.key):l(A,g,T,C);case bd:return g=g.get(T.key===null?x:T.key)||null,c(A,g,T,C)}if(H0(T)||mh(T))return g=g.get(x)||null,u(A,g,T,C,null);Y0(A,T)}return null}function b(g,A,x,T){for(var C=null,z=null,L=A,B=A=0,O=null;L!==null&&B<x.length;B++){L.index>B?(O=L,L=null):O=L.sibling;var F=h(g,L,x[B],T);if(F===null){L===null&&(L=O);break}t&&L&&F.alternate===null&&e(g,L),A=o(F,A,B),z===null?C=F:z.sibling=F,z=F,L=O}if(B===x.length)return i(g,L),C;if(L===null){for(;B<x.length;B++)L=f(g,x[B],T),L!==null&&(A=o(L,A,B),z===null?C=L:z.sibling=L,z=L);return C}for(L=n(g,L);B<x.length;B++)O=m(L,g,B,x[B],T),O!==null&&(t&&O.alternate!==null&&L.delete(O.key===null?B:O.key),A=o(O,A,B),z===null?C=O:z.sibling=O,z=O);return t&&L.forEach(function(H){return e(g,H)}),C}function w(g,A,x,T){var C=mh(x);if(typeof C!="function")throw Error(Re(150));if(x=C.call(x),x==null)throw Error(Re(151));for(var z=C=null,L=A,B=A=0,O=null,F=x.next();L!==null&&!F.done;B++,F=x.next()){L.index>B?(O=L,L=null):O=L.sibling;var H=h(g,L,F.value,T);if(H===null){L===null&&(L=O);break}t&&L&&H.alternate===null&&e(g,L),A=o(H,A,B),z===null?C=H:z.sibling=H,z=H,L=O}if(F.done)return i(g,L),C;if(L===null){for(;!F.done;B++,F=x.next())F=f(g,F.value,T),F!==null&&(A=o(F,A,B),z===null?C=F:z.sibling=F,z=F);return C}for(L=n(g,L);!F.done;B++,F=x.next())F=m(L,g,B,F.value,T),F!==null&&(t&&F.alternate!==null&&L.delete(F.key===null?B:F.key),A=o(F,A,B),z===null?C=F:z.sibling=F,z=F);return t&&L.forEach(function(K){return e(g,K)}),C}return function(g,A,x,T){var C=typeof x=="object"&&x!==null&&x.type===Tc&&x.key===null;C&&(x=x.props.children);var z=typeof x=="object"&&x!==null;if(z)switch(x.$$typeof){case N0:e:{for(z=x.key,C=A;C!==null;){if(C.key===z){switch(C.tag){case 7:if(x.type===Tc){i(g,C.sibling),A=r(C,x.props.children),A.return=g,g=A;break e}break;default:if(C.elementType===x.type){i(g,C.sibling),A=r(C,x.props),A.ref=Ah(g,C,x),A.return=g,g=A;break e}}i(g,C);break}else e(g,C);C=C.sibling}x.type===Tc?(A=dl(x.props.children,g.mode,T,x.key),A.return=g,g=A):(T=Mv(x.type,x.key,x.props,null,g.mode,T),T.ref=Ah(g,A,x),T.return=g,g=T)}return a(g);case bd:e:{for(C=x.key;A!==null;){if(A.key===C)if(A.tag===4&&A.stateNode.containerInfo===x.containerInfo&&A.stateNode.implementation===x.implementation){i(g,A.sibling),A=r(A,x.children||[]),A.return=g,g=A;break e}else{i(g,A);break}else e(g,A);A=A.sibling}A=pk(x,g.mode,T),A.return=g,g=A}return a(g)}if(typeof x=="string"||typeof x=="number")return x=""+x,A!==null&&A.tag===6?(i(g,A.sibling),A=r(A,x),A.return=g,g=A):(i(g,A),A=fk(x,g.mode,T),A.return=g,g=A),a(g);if(H0(x))return b(g,A,x,T);if(mh(x))return w(g,A,x,T);if(z&&Y0(g,x),typeof x=="undefined"&&!C)switch(g.tag){case 1:case 0:throw g=g.type,Error(Re(152,g.displayName||g.name||"Component"))}return i(g,A)}}var Xd=zM(!0),zS=zM(!1),Lg={},ba={current:Lg},Cm={current:Lg},Em={current:Lg};function Ec(t){if(t===Lg)throw Error(Re(174));return t}function X_(t,e){switch(Pi(Em,e),Pi(Cm,t),Pi(ba,Lg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:O_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=O_(e,t)}fi(ba),Pi(ba,e)}function Jd(){fi(ba),fi(Cm),fi(Em)}function L3(t){Ec(Em.current);var e=Ec(ba.current),i=O_(e,t.type);e!==i&&(Pi(Cm,t),Pi(ba,i))}function IS(t){Cm.current===t&&(fi(ba),fi(Cm))}var xi={current:0};function my(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data===bS||i.data===vS))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.effectTag&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function PS(t,e){return{responder:t,props:e}}var Lv=Ho.ReactCurrentDispatcher,yo=Ho.ReactCurrentBatchConfig,cl=0,$i=null,En=null,zn=null,gy=!1;function Ur(){throw Error(Re(321))}function RS(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!eu(t[i],e[i]))return!1;return!0}function LS(t,e,i,n,r,o){if(cl=o,$i=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Lv.current=t===null||t.memoizedState===null?Mq:Bq,t=i(n,r),e.expirationTime===cl){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(Re(301));o+=1,zn=En=null,e.updateQueue=null,Lv.current=Fq,t=i(n,r)}while(e.expirationTime===cl)}if(Lv.current=yy,e=En!==null&&En.next!==null,cl=0,zn=En=$i=null,gy=!1,e)throw Error(Re(300));return t}function Bd(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?$i.memoizedState=zn=t:zn=zn.next=t,zn}function Qf(){if(En===null){var t=$i.alternate;t=t!==null?t.memoizedState:null}else t=En.next;var e=zn===null?$i.memoizedState:zn.next;if(e!==null)zn=e,En=t;else{if(t===null)throw Error(Re(310));En=t,t={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},zn===null?$i.memoizedState=zn=t:zn=zn.next=t}return zn}function Dc(t,e){return typeof e=="function"?e(t):e}function W0(t){var e=Qf(),i=e.queue;if(i===null)throw Error(Re(311));i.lastRenderedReducer=t;var n=En,r=n.baseQueue,o=i.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}n.baseQueue=r=o,i.pending=null}if(r!==null){r=r.next,n=n.baseState;var s=a=o=null,l=r;do{var c=l.expirationTime;if(c<cl){var u={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};s===null?(a=s=u,o=n):s=s.next=u,c>$i.expirationTime&&($i.expirationTime=c,qw(c))}else s!==null&&(s=s.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),i8(c,l.suspenseConfig),n=l.eagerReducer===t?l.eagerState:t(n,l.action);l=l.next}while(l!==null&&l!==r);s===null?o=n:s.next=a,eu(n,e.memoizedState)||(ua=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=s,i.lastRenderedState=n}return[e.memoizedState,i.dispatch]}function V0(t){var e=Qf(),i=e.queue;if(i===null)throw Error(Re(311));i.lastRenderedReducer=t;var n=i.dispatch,r=i.pending,o=e.memoizedState;if(r!==null){i.pending=null;var a=r=r.next;do o=t(o,a.action),a=a.next;while(a!==r);eu(o,e.memoizedState)||(ua=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),i.lastRenderedState=o}return[o,n]}function sk(t){var e=Bd();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Dc,lastRenderedState:t},t=t.dispatch=DM.bind(null,$i,t),[e.memoizedState,t]}function J_(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},e=$i.updateQueue,e===null?(e={lastEffect:null},$i.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t)),t}function IM(){return Qf().memoizedState}function Z_(t,e,i,n){var r=Bd();$i.effectTag|=t,r.memoizedState=J_(1|e,i,void 0,n===void 0?null:n)}function OS(t,e,i,n){var r=Qf();n=n===void 0?null:n;var o=void 0;if(En!==null){var a=En.memoizedState;if(o=a.destroy,n!==null&&RS(n,a.deps)){J_(e,i,o,n);return}}$i.effectTag|=t,r.memoizedState=J_(1|e,i,o,n)}function O3(t,e){return Z_(516,4,t,e)}function by(t,e){return OS(516,4,t,e)}function PM(t,e){return OS(4,2,t,e)}function RM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LM(t,e,i){return i=i!=null?i.concat([t]):null,OS(4,2,RM.bind(null,e,t),i)}function DS(){}function D3(t,e){return Bd().memoizedState=[t,e===void 0?null:e],t}function vy(t,e){var i=Qf();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&RS(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function OM(t,e){var i=Qf();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&RS(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function MS(t,e,i){var n=Yw();Cl(98>n?98:n,function(){t(!0)}),Cl(97<n?97:n,function(){var r=yo.suspense;yo.suspense=e===void 0?null:e;try{t(!1),i()}finally{yo.suspense=r}})}function DM(t,e,i){var n=va(),r=im.suspense;n=Fc(n,t,r),r={expirationTime:n,suspenseConfig:r,action:i,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(o===null?r.next=r:(r.next=o.next,o.next=r),e.pending=r,o=t.alternate,t===$i||o!==null&&o===$i)gy=!0,r.expirationTime=cl,$i.expirationTime=cl;else{if(t.expirationTime===0&&(o===null||o.expirationTime===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,i);if(r.eagerReducer=o,r.eagerState=s,eu(s,a))return}catch{}finally{}wl(t,n)}}var yy={readContext:xo,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useLayoutEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useResponder:Ur,useDeferredValue:Ur,useTransition:Ur},Mq={readContext:xo,useCallback:D3,useContext:xo,useEffect:O3,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,Z_(4,2,RM.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Z_(4,2,t,e)},useMemo:function(t,e){var i=Bd();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=Bd();return e=i!==void 0?i(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=DM.bind(null,$i,t),[n.memoizedState,t]},useRef:function(t){var e=Bd();return t={current:t},e.memoizedState=t},useState:sk,useDebugValue:DS,useResponder:PS,useDeferredValue:function(t,e){var i=sk(t),n=i[0],r=i[1];return O3(function(){var o=yo.suspense;yo.suspense=e===void 0?null:e;try{r(t)}finally{yo.suspense=o}},[t,e]),n},useTransition:function(t){var e=sk(!1),i=e[0];return e=e[1],[D3(MS.bind(null,e,t),[e,t]),i]}},Bq={readContext:xo,useCallback:vy,useContext:xo,useEffect:by,useImperativeHandle:LM,useLayoutEffect:PM,useMemo:OM,useReducer:W0,useRef:IM,useState:function(){return W0(Dc)},useDebugValue:DS,useResponder:PS,useDeferredValue:function(t,e){var i=W0(Dc),n=i[0],r=i[1];return by(function(){var o=yo.suspense;yo.suspense=e===void 0?null:e;try{r(t)}finally{yo.suspense=o}},[t,e]),n},useTransition:function(t){var e=W0(Dc),i=e[0];return e=e[1],[vy(MS.bind(null,e,t),[e,t]),i]}},Fq={readContext:xo,useCallback:vy,useContext:xo,useEffect:by,useImperativeHandle:LM,useLayoutEffect:PM,useMemo:OM,useReducer:V0,useRef:IM,useState:function(){return V0(Dc)},useDebugValue:DS,useResponder:PS,useDeferredValue:function(t,e){var i=V0(Dc),n=i[0],r=i[1];return by(function(){var o=yo.suspense;yo.suspense=e===void 0?null:e;try{r(t)}finally{yo.suspense=o}},[t,e]),n},useTransition:function(t){var e=V0(Dc),i=e[0];return e=e[1],[vy(MS.bind(null,e,t),[e,t]),i]}},gs=null,ul=null,Mc=!1;function MM(t,e){var i=da(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=e,i.return=t,i.effectTag=8,t.lastEffect!==null?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function M3(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function eT(t){if(Mc){var e=ul;if(e){var i=e;if(!M3(t,e)){if(e=Dd(i.nextSibling),!e||!M3(t,e)){t.effectTag=t.effectTag&-1025|2,Mc=!1,gs=t;return}MM(gs,i)}gs=t,ul=Dd(e.firstChild)}else t.effectTag=t.effectTag&-1025|2,Mc=!1,gs=t}}function B3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gs=t}function $0(t){if(t!==gs)return!1;if(!Mc)return B3(t),Mc=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!H_(e,t.memoizedProps))for(e=ul;e;)MM(t,e),e=Dd(e.nextSibling);if(B3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i===iM){if(e===0){ul=Dd(t.nextSibling);break e}e--}else i!==tM&&i!==vS&&i!==bS||e++}t=t.nextSibling}ul=null}}else ul=gs?Dd(t.stateNode.nextSibling):null;return!0}function lk(){ul=gs=null,Mc=!1}var Nq=Ho.ReactCurrentOwner,ua=!1;function Yr(t,e,i,n){e.child=t===null?zS(e,null,i,n):Xd(e,t.child,i,n)}function F3(t,e,i,n,r){i=i.render;var o=e.ref;return Md(e,r),n=LS(t,e,i,n,o,r),t!==null&&!ua?(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),bs(t,e,r)):(e.effectTag|=1,Yr(t,e,n,r),e.child)}function N3(t,e,i,n,r,o){if(t===null){var a=i.type;return typeof a=="function"&&!US(a)&&a.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=a,BM(t,e,a,n,r,o)):(t=Mv(i.type,null,n,null,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,r<o&&(r=a.memoizedProps,i=i.compare,i=i!==null?i:Tm,i(r,n)&&t.ref===e.ref)?bs(t,e,o):(e.effectTag|=1,t=iu(a,n),t.ref=e.ref,t.return=e,e.child=t)}function BM(t,e,i,n,r,o){return t!==null&&Tm(t.memoizedProps,n)&&t.ref===e.ref&&(ua=!1,r<o)?(e.expirationTime=t.expirationTime,bs(t,e,o)):tT(t,e,i,n,o)}function FM(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.effectTag|=128)}function tT(t,e,i,n,r){var o=Ar(i)?tu:Dn.current;return o=Kd(e,o),Md(e,r),i=LS(t,e,i,n,o,r),t!==null&&!ua?(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=r&&(t.expirationTime=0),bs(t,e,r)):(e.effectTag|=1,Yr(t,e,i,r),e.child)}function j3(t,e,i,n,r){if(Ar(i)){var o=!0;Iv(e)}else o=!1;if(Md(e,r),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),EM(e,i,n),K_(e,i,n,r),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=i.contextType;typeof c=="object"&&c!==null?c=xo(c):(c=Ar(i)?tu:Dn.current,c=Kd(e,c));var u=i.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==c)&&R3(e,a,n,c),al=!1;var h=e.memoizedState;a.state=h,Sm(e,n,a,r),l=e.memoizedState,s!==n||h!==l||wr.current||al?(typeof u=="function"&&(hy(e,i,u,n),l=e.memoizedState),(s=al||P3(e,i,s,n,h,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.effectTag|=4)):(typeof a.componentDidMount=="function"&&(e.effectTag|=4),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=s):(typeof a.componentDidMount=="function"&&(e.effectTag|=4),n=!1)}else a=e.stateNode,ES(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:Do(e.type,s),l=a.context,c=i.contextType,typeof c=="object"&&c!==null?c=xo(c):(c=Ar(i)?tu:Dn.current,c=Kd(e,c)),u=i.getDerivedStateFromProps,(f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==c)&&R3(e,a,n,c),al=!1,l=e.memoizedState,a.state=l,Sm(e,n,a,r),h=e.memoizedState,s!==n||l!==h||wr.current||al?(typeof u=="function"&&(hy(e,i,u,n),h=e.memoizedState),(u=al||P3(e,i,s,n,l,h,c))?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,h,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,h,c)),typeof a.componentDidUpdate=="function"&&(e.effectTag|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.effectTag|=256)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=n,e.memoizedState=h),a.props=n,a.state=h,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),n=!1);return iT(t,e,i,n,o,r)}function iT(t,e,i,n,r,o){FM(t,e);var a=(e.effectTag&64)!==0;if(!n&&!a)return r&&T3(e,i,!1),bs(t,e,o);n=e.stateNode,Nq.current=e;var s=a&&typeof i.getDerivedStateFromError!="function"?null:n.render();return e.effectTag|=1,t!==null&&a?(e.child=Xd(e,t.child,null,o),e.child=Xd(e,null,s,o)):Yr(t,e,s,o),e.memoizedState=n.state,r&&T3(e,i,!0),e.child}function U3(t){var e=t.stateNode;e.pendingContext?_3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_3(t,e.context,!1),X_(t,e.containerInfo)}var ck={dehydrated:null,retryTime:0};function G3(t,e,i){var n=e.mode,r=e.pendingProps,o=xi.current,a=!1,s;if((s=(e.effectTag&64)!==0)||(s=(o&2)!==0&&(t===null||t.memoizedState!==null)),s?(a=!0,e.effectTag&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(o|=1),Pi(xi,o&1),t===null){if(r.fallback!==void 0&&eT(e),a){if(a=r.fallback,r=dl(null,n,0,null),r.return=e,(e.mode&2)===0)for(t=e.memoizedState!==null?e.child.child:e.child,r.child=t;t!==null;)t.return=r,t=t.sibling;return i=dl(a,n,i,null),i.return=e,r.sibling=i,e.memoizedState=ck,e.child=r,i}return n=r.children,e.memoizedState=null,e.child=zS(e,null,n,i)}if(t.memoizedState!==null){if(t=t.child,n=t.sibling,a){if(r=r.fallback,i=iu(t,t.pendingProps),i.return=e,(e.mode&2)===0&&(a=e.memoizedState!==null?e.child.child:e.child,a!==t.child))for(i.child=a;a!==null;)a.return=i,a=a.sibling;return n=iu(n,r),n.return=e,i.sibling=n,i.childExpirationTime=0,e.memoizedState=ck,e.child=i,n}return i=Xd(e,t.child,r.children,i),e.memoizedState=null,e.child=i}if(t=t.child,a){if(a=r.fallback,r=dl(null,n,0,null),r.return=e,r.child=t,t!==null&&(t.return=r),(e.mode&2)===0)for(t=e.memoizedState!==null?e.child.child:e.child,r.child=t;t!==null;)t.return=r,t=t.sibling;return i=dl(a,n,i,null),i.return=e,r.sibling=i,i.effectTag|=2,r.childExpirationTime=0,e.memoizedState=ck,e.child=r,i}return e.memoizedState=null,e.child=Xd(e,t,r.children,i)}function H3(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;i!==null&&i.expirationTime<e&&(i.expirationTime=e),SM(t.return,e)}function uk(t,e,i,n,r,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailExpiration:0,tailMode:r,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=i,a.tailExpiration=0,a.tailMode=r,a.lastEffect=o)}function Y3(t,e,i){var n=e.pendingProps,r=n.revealOrder,o=n.tail;if(Yr(t,e,n.children,i),n=xi.current,(n&2)!==0)n=n&1|2,e.effectTag|=64;else{if(t!==null&&(t.effectTag&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&H3(t,i);else if(t.tag===19)H3(t,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Pi(xi,n),(e.mode&2)===0)e.memoizedState=null;else switch(r){case"forwards":for(i=e.child,r=null;i!==null;)t=i.alternate,t!==null&&my(t)===null&&(r=i),i=i.sibling;i=r,i===null?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),uk(e,!1,r,i,o,e.lastEffect);break;case"backwards":for(i=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&my(t)===null){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}uk(e,!0,i,null,o,e.lastEffect);break;case"together":uk(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function bs(t,e,i){t!==null&&(e.dependencies=t.dependencies);var n=e.expirationTime;if(n!==0&&qw(n),e.childExpirationTime<i)return null;if(t!==null&&e.child!==t.child)throw Error(Re(153));if(e.child!==null){for(t=e.child,i=iu(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=iu(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}var NM,nT,jM,UM;NM=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};nT=function(){};jM=function(t,e,i,n,r){var o=t.memoizedProps;if(o!==n){var a=e.stateNode;switch(Ec(ba.current),t=null,i){case"input":o=z_(a,o),n=z_(a,n),t=[];break;case"option":o=R_(a,o),n=R_(a,n),t=[];break;case"select":o=rr({},o,{value:void 0}),n=rr({},n,{value:void 0}),t=[];break;case"textarea":o=L_(a,o),n=L_(a,n),t=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(a.onclick=sy)}N_(i,n);var s,l;i=null;for(s in o)if(!n.hasOwnProperty(s)&&o.hasOwnProperty(s)&&o[s]!=null)if(s==="style")for(l in a=o[s],a)a.hasOwnProperty(l)&&(i||(i={}),i[l]="");else s!=="dangerouslySetInnerHTML"&&s!=="children"&&s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($d.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in n){var c=n[s];if(a=o!=null?o[s]:void 0,n.hasOwnProperty(s)&&c!==a&&(c!=null||a!=null))if(s==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(i||(i={}),i[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(i||(i={}),i[l]=c[l])}else i||(t||(t=[]),t.push(s,i)),i=c;else s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(t=t||[]).push(s,c)):s==="children"?a===c||typeof c!="string"&&typeof c!="number"||(t=t||[]).push(s,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&($d.hasOwnProperty(s)?(c!=null&&rs(r,s),t||a===c||(t=[])):(t=t||[]).push(s,c))}i&&(t=t||[]).push("style",i),r=t,(e.updateQueue=r)&&(e.effectTag|=4)}};UM=function(t,e,i,n){i!==n&&(e.effectTag|=4)};function Q0(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function jq(t,e,i){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ar(e.type)&&uy(),null;case 3:return Jd(),fi(wr),fi(Dn),i=e.stateNode,i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),t!==null&&t.child!==null||!$0(e)||(e.effectTag|=4),nT(e),null;case 5:IS(e),i=Ec(Em.current);var r=e.type;if(t!==null&&e.stateNode!=null)jM(t,e,r,n,i),t.ref!==e.ref&&(e.effectTag|=128);else{if(!n){if(e.stateNode===null)throw Error(Re(166));return null}if(t=Ec(ba.current),$0(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[sl]=e,n[ly]=o,r){case"iframe":case"object":case"embed":gi("load",n);break;case"video":case"audio":for(t=0;t<Mh.length;t++)gi(Mh[t],n);break;case"source":gi("error",n);break;case"img":case"image":case"link":gi("error",n),gi("load",n);break;case"form":gi("reset",n),gi("submit",n);break;case"details":gi("toggle",n);break;case"input":t3(n,o),gi("invalid",n),rs(i,"onChange");break;case"select":n._wrapperState={wasMultiple:!!o.multiple},gi("invalid",n),rs(i,"onChange");break;case"textarea":n3(n,o),gi("invalid",n),rs(i,"onChange")}N_(r,o),t=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(t=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(t=["children",""+s]):$d.hasOwnProperty(a)&&s!=null&&rs(i,a)}switch(r){case"input":j0(n),i3(n,o,!0);break;case"textarea":j0(n),r3(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=sy)}i=t,e.updateQueue=i,i!==null&&(e.effectTag|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,t===u3&&(t=OD(r)),t===u3?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[sl]=e,t[ly]=n,NM(t,e,!1,!1),e.stateNode=t,a=j_(r,n),r){case"iframe":case"object":case"embed":gi("load",t),s=n;break;case"video":case"audio":for(s=0;s<Mh.length;s++)gi(Mh[s],t);s=n;break;case"source":gi("error",t),s=n;break;case"img":case"image":case"link":gi("error",t),gi("load",t),s=n;break;case"form":gi("reset",t),gi("submit",t),s=n;break;case"details":gi("toggle",t),s=n;break;case"input":t3(t,n),s=z_(t,n),gi("invalid",t),rs(i,"onChange");break;case"option":s=R_(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=rr({},n,{value:void 0}),gi("invalid",t),rs(i,"onChange");break;case"textarea":n3(t,n),s=L_(t,n),gi("invalid",t),rs(i,"onChange");break;default:s=n}N_(r,s);var l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?ZD(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&DD(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Am(t,c):typeof c=="number"&&Am(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($d.hasOwnProperty(o)?c!=null&&rs(i,o):c!=null&&aS(t,o,c,a))}switch(r){case"input":j0(t),i3(t,n,!1);break;case"textarea":j0(t),r3(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Tl(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Od(t,!!n.multiple,i,!1):n.defaultValue!=null&&Od(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=sy)}nM(r,n)&&(e.effectTag|=4)}e.ref!==null&&(e.effectTag|=128)}return null;case 6:if(t&&e.stateNode!=null)UM(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Re(166));i=Ec(Em.current),Ec(ba.current),$0(e)?(i=e.stateNode,n=e.memoizedProps,i[sl]=e,i.nodeValue!==n&&(e.effectTag|=4)):(i=(i.nodeType===9?i:i.ownerDocument).createTextNode(n),i[sl]=e,e.stateNode=i)}return null;case 13:return fi(xi),n=e.memoizedState,(e.effectTag&64)!==0?(e.expirationTime=i,e):(i=n!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&$0(e):(r=t.memoizedState,n=r!==null,i||r===null||(r=t.child.sibling,r!==null&&(o=e.firstEffect,o!==null?(e.firstEffect=r,r.nextEffect=o):(e.firstEffect=e.lastEffect=r,r.nextEffect=null),r.effectTag=8))),i&&!n&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(xi.current&1)!==0?Ji===Bc&&(Ji=xy):((Ji===Bc||Ji===xy)&&(Ji=Vw),Im!==0&&qr!==null&&(Pc(qr,Sr),s8(qr,Im)))),(i||n)&&(e.effectTag|=4),null);case 4:return Jd(),nT(e),null;case 10:return SS(e),null;case 17:return Ar(e.type)&&uy(),null;case 19:if(fi(xi),n=e.memoizedState,n===null)return null;if(r=(e.effectTag&64)!==0,o=n.rendering,o===null){if(r)Q0(n,!1);else if(Ji!==Bc||t!==null&&(t.effectTag&64)!==0)for(o=e.child;o!==null;){if(t=my(o),t!==null){for(e.effectTag|=64,Q0(n,!1),r=t.updateQueue,r!==null&&(e.updateQueue=r,e.effectTag|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=e.child;n!==null;)r=n,o=i,r.effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,t=r.alternate,t===null?(r.childExpirationTime=0,r.expirationTime=o,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=t.childExpirationTime,r.expirationTime=t.expirationTime,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,o=t.dependencies,r.dependencies=o===null?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),n=n.sibling;return Pi(xi,xi.current&1|2),e.child}o=o.sibling}}else{if(!r)if(t=my(o),t!==null){if(e.effectTag|=64,r=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.effectTag|=4),Q0(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*bo()-n.renderingStartTime>n.tailExpiration&&1<i&&(e.effectTag|=64,r=!0,Q0(n,!1),e.expirationTime=e.childExpirationTime=i-1);n.isBackwards?(o.sibling=e.child,e.child=o):(i=n.last,i!==null?i.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(n.tailExpiration===0&&(n.tailExpiration=bo()+500),i=n.tail,n.rendering=i,n.tail=i.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=bo(),i.sibling=null,e=xi.current,Pi(xi,r?e&1|2:e&1),i):null}throw Error(Re(156,e.tag))}function Uq(t){switch(t.tag){case 1:Ar(t.type)&&uy();var e=t.effectTag;return e&4096?(t.effectTag=e&-4097|64,t):null;case 3:if(Jd(),fi(wr),fi(Dn),e=t.effectTag,(e&64)!==0)throw Error(Re(285));return t.effectTag=e&-4097|64,t;case 5:return IS(t),null;case 13:return fi(xi),e=t.effectTag,e&4096?(t.effectTag=e&-4097|64,t):null;case 19:return fi(xi),null;case 4:return Jd(),null;case 10:return SS(t),null;default:return null}}function BS(t,e){return{value:t,source:e,stack:cS(e)}}var Gq=typeof WeakSet=="function"?WeakSet:Set;function rT(t,e){var i=e.source,n=e.stack;n===null&&i!==null&&(n=cS(i)),i!==null&&As(i.type),e=e.value,t!==null&&t.tag===1&&As(t.type);try{console.error(e)}catch(r){setTimeout(function(){throw r})}}function Hq(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Nc(t,i)}}function W3(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(i){Nc(t,i)}else e.current=null}function Yq(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.effectTag&256&&t!==null){var i=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?i:Do(e.type,i),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(Re(163))}function GM(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var n=i.destroy;i.destroy=void 0,n!==void 0&&n()}i=i.next}while(i!==e)}}function HM(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function Wq(t,e,i){switch(i.tag){case 0:case 11:case 15:case 22:HM(3,i);return;case 1:if(t=i.stateNode,i.effectTag&4)if(e===null)t.componentDidMount();else{var n=i.elementType===i.type?e.memoizedProps:Do(i.type,e.memoizedProps);t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}e=i.updateQueue,e!==null&&I3(i,e,t);return;case 3:if(e=i.updateQueue,e!==null){if(t=null,i.child!==null)switch(i.child.tag){case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}I3(i,e,t)}return;case 5:t=i.stateNode,e===null&&i.effectTag&4&&nM(i.type,i.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:i.memoizedState===null&&(i=i.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&qD(i))));return;case 19:case 17:case 20:case 21:return}throw Error(Re(163))}function V3(t,e,i){switch(typeof fT=="function"&&fT(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t.next;Cl(97<i?97:i,function(){var r=n;do{var o=r.destroy;if(o!==void 0){var a=e;try{o()}catch(s){Nc(a,s)}}r=r.next}while(r!==n)})}break;case 1:W3(e),i=e.stateNode,typeof i.componentWillUnmount=="function"&&Hq(e,i);break;case 5:W3(e);break;case 4:WM(t,e,i)}}function YM(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,e!==null&&YM(e)}function $3(t){return t.tag===5||t.tag===3||t.tag===4}function Q3(t){e:{for(var e=t.return;e!==null;){if($3(e)){var i=e;break e}e=e.return}throw Error(Re(160))}switch(e=i.stateNode,i.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(Re(161))}i.effectTag&16&&(Am(e,""),i.effectTag&=-17);e:t:for(i=t;;){for(;i.sibling===null;){if(i.return===null||$3(i.return)){i=null;break e}i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.effectTag&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.effectTag&2)){i=i.stateNode;break e}}n?oT(t,i,e):aT(t,i,e)}function oT(t,e,i){var n=t.tag,r=n===5||n===6;if(r)t=r?t.stateNode:t.stateNode.instance,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=sy));else if(n!==4&&(t=t.child,t!==null))for(oT(t,e,i),t=t.sibling;t!==null;)oT(t,e,i),t=t.sibling}function aT(t,e,i){var n=t.tag,r=n===5||n===6;if(r)t=r?t.stateNode:t.stateNode.instance,e?i.insertBefore(t,e):i.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(aT(t,e,i),t=t.sibling;t!==null;)aT(t,e,i),t=t.sibling}function WM(t,e,i){for(var n=e,r=!1,o,a;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(Re(160));switch(o=r.stateNode,r.tag){case 5:a=!1;break e;case 3:o=o.containerInfo,a=!0;break e;case 4:o=o.containerInfo,a=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var s=t,l=n,c=i,u=l;;)if(V3(s,u,c),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}a?(s=o,l=n.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):o.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){o=n.stateNode.containerInfo,a=!0,n.child.return=n,n=n.child;continue}}else if(V3(t,n,i),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function dk(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:GM(3,e);return;case 1:return;case 5:var i=e.stateNode;if(i!=null){var n=e.memoizedProps,r=t!==null?t.memoizedProps:n;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(i[ly]=n,t==="input"&&n.type==="radio"&&n.name!=null&&PD(i,n),j_(t,r),e=j_(t,n),r=0;r<o.length;r+=2){var a=o[r],s=o[r+1];a==="style"?ZD(i,s):a==="dangerouslySetInnerHTML"?DD(i,s):a==="children"?Am(i,s):aS(i,a,s,e)}switch(t){case"input":I_(i,n);break;case"textarea":RD(i,n);break;case"select":e=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!n.multiple,t=n.value,t!=null?Od(i,!!n.multiple,t,!1):e!==!!n.multiple&&(n.defaultValue!=null?Od(i,!!n.multiple,n.defaultValue,!0):Od(i,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Re(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:e=e.stateNode,e.hydrate&&(e.hydrate=!1,qD(e.containerInfo));return;case 12:return;case 13:if(i=e,e.memoizedState===null?n=!1:(n=!0,i=e.child,jS=bo()),i!==null)e:for(t=i;;){if(t.tag===5)o=t.stateNode,n?(o=o.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(o=t.stateNode,r=t.memoizedProps.style,r=r!=null&&r.hasOwnProperty("display")?r.display:null,o.style.display=JD("display",r));else if(t.tag===6)t.stateNode.nodeValue=n?"":t.memoizedProps;else if(t.tag===13&&t.memoizedState!==null&&t.memoizedState.dehydrated===null){o=t.child.sibling,o.return=t,t=o;continue}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}q3(e);return;case 19:q3(e);return;case 17:return}throw Error(Re(163))}function q3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new Gq),e.forEach(function(n){var r=tK.bind(null,t,n);i.has(n)||(i.add(n),n.then(r,r))})}}var Vq=typeof WeakMap=="function"?WeakMap:Map;function VM(t,e,i){i=bl(i,null),i.tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){Ty||(Ty=!0,sT=n),rT(t,e)},i}function $M(t,e,i){i=bl(i,null),i.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var r=e.value;i.payload=function(){return rT(t,e),n(r)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(i.callback=function(){typeof n!="function"&&(yl===null?yl=new Set([this]):yl.add(this),rT(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),i}var $q=Math.ceil,wy=Ho.ReactCurrentDispatcher,QM=Ho.ReactCurrentOwner,en=0,FS=8,Yo=16,Ta=32,Bc=0,Ay=1,qM=2,xy=3,Vw=4,NS=5,pt=en,qr=null,yt=null,Sr=0,Ji=Bc,$w=null,ds=1073741823,zm=1073741823,ky=null,Im=0,_y=!1,jS=0,KM=500,tt=null,Ty=!1,sT=null,yl=null,Sy=!1,nm=null,Fh=90,zc=null,rm=0,lT=null,Ov=0;function va(){return(pt&(Yo|Ta))!==en?1073741821-(bo()/10|0):Ov!==0?Ov:Ov=1073741821-(bo()/10|0)}function Fc(t,e,i){if(e=e.mode,(e&2)===0)return 1073741823;var n=Yw();if((e&4)===0)return n===99?1073741823:1073741822;if((pt&Yo)!==en)return Sr;if(i!==null)t=Rv(t,i.timeoutMs|0||5e3,250);else switch(n){case 99:t=1073741823;break;case 98:t=Rv(t,150,100);break;case 97:case 96:t=Rv(t,5e3,250);break;case 95:t=2;break;default:throw Error(Re(326))}return qr!==null&&t===Sr&&--t,t}function wl(t,e){if(50<rm)throw rm=0,lT=null,Error(Re(185));if(t=Qw(t,e),t!==null){var i=Yw();e===1073741823?(pt&FS)!==en&&(pt&(Yo|Ta))===en?cT(t):(Kr(t),pt===en&&Da()):Kr(t),(pt&4)===en||i!==98&&i!==99||(zc===null?zc=new Map([[t,e]]):(i=zc.get(t),(i===void 0||i>e)&&zc.set(t,e)))}}function Qw(t,e){t.expirationTime<e&&(t.expirationTime=e);var i=t.alternate;i!==null&&i.expirationTime<e&&(i.expirationTime=e);var n=t.return,r=null;if(n===null&&t.tag===3)r=t.stateNode;else for(;n!==null;){if(i=n.alternate,n.childExpirationTime<e&&(n.childExpirationTime=e),i!==null&&i.childExpirationTime<e&&(i.childExpirationTime=e),n.return===null&&n.tag===3){r=n.stateNode;break}n=n.return}return r!==null&&(qr===r&&(qw(e),Ji===Vw&&Pc(r,Sr)),s8(r,e)),r}function Dv(t){var e=t.lastExpiredTime;if(e!==0||(e=t.firstPendingTime,!a8(t,e)))return e;var i=t.lastPingedTime;return t=t.nextKnownPendingLevel,t=i>t?i:t,2>=t&&e!==t?0:t}function Kr(t){if(t.lastExpiredTime!==0)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=E3(cT.bind(null,t));else{var e=Dv(t),i=t.callbackNode;if(e===0)i!==null&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var n=va();if(e===1073741823?n=99:e===1||e===2?n=95:(n=10*(1073741821-e)-10*(1073741821-n),n=0>=n?99:250>=n?98:5250>=n?97:95),i!==null){var r=t.callbackPriority;if(t.callbackExpirationTime===e&&r>=n)return;i!==xM&&bM(i)}t.callbackExpirationTime=e,t.callbackPriority=n,e=e===1073741823?E3(cT.bind(null,t)):_M(n,XM.bind(null,t),{timeout:10*(1073741821-e)-bo()}),t.callbackNode=e}}}function XM(t,e){if(Ov=0,e)return e=va(),pT(t,e),Kr(t),null;var i=Dv(t);if(i!==0){if(e=t.callbackNode,(pt&(Yo|Ta))!==en)throw Error(Re(327));if(qf(),t===qr&&i===Sr||Ic(t,i),yt!==null){var n=pt;pt|=Yo;var r=t8();do try{Kq();break}catch(s){e8(t,s)}while(1);if(TS(),pt=n,wy.current=r,Ji===Ay)throw e=$w,Ic(t,i),Pc(t,i),Kr(t),e;if(yt===null)switch(r=t.finishedWork=t.current.alternate,t.finishedExpirationTime=i,n=Ji,qr=null,n){case Bc:case Ay:throw Error(Re(345));case qM:pT(t,2<i?2:i);break;case xy:if(Pc(t,i),n=t.lastSuspendedTime,i===n&&(t.nextKnownPendingLevel=uT(r)),ds===1073741823&&(r=jS+KM-bo(),10<r)){if(_y){var o=t.lastPingedTime;if(o===0||o>=i){t.lastPingedTime=i,Ic(t,i);break}}if(o=Dv(t),o!==0&&o!==i)break;if(n!==0&&n!==i){t.lastPingedTime=n;break}t.timeoutHandle=ok(vc.bind(null,t),r);break}vc(t);break;case Vw:if(Pc(t,i),n=t.lastSuspendedTime,i===n&&(t.nextKnownPendingLevel=uT(r)),_y&&(r=t.lastPingedTime,r===0||r>=i)){t.lastPingedTime=i,Ic(t,i);break}if(r=Dv(t),r!==0&&r!==i)break;if(n!==0&&n!==i){t.lastPingedTime=n;break}if(zm!==1073741823?n=10*(1073741821-zm)-bo():ds===1073741823?n=0:(n=10*(1073741821-ds)-5e3,r=bo(),i=10*(1073741821-i)-r,n=r-n,0>n&&(n=0),n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$q(n/1960))-n,i<n&&(n=i)),10<n){t.timeoutHandle=ok(vc.bind(null,t),n);break}vc(t);break;case NS:if(ds!==1073741823&&ky!==null){o=ds;var a=ky;if(n=a.busyMinDurationMs|0,0>=n?n=0:(r=a.busyDelayMs|0,o=bo()-(10*(1073741821-o)-(a.timeoutMs|0||5e3)),n=o<=r?0:r+n-o),10<n){Pc(t,i),t.timeoutHandle=ok(vc.bind(null,t),n);break}}vc(t);break;default:throw Error(Re(329))}if(Kr(t),t.callbackNode===e)return XM.bind(null,t)}}return null}function cT(t){var e=t.lastExpiredTime;if(e=e!==0?e:1073741823,(pt&(Yo|Ta))!==en)throw Error(Re(327));if(qf(),t===qr&&e===Sr||Ic(t,e),yt!==null){var i=pt;pt|=Yo;var n=t8();do try{qq();break}catch(r){e8(t,r)}while(1);if(TS(),pt=i,wy.current=n,Ji===Ay)throw i=$w,Ic(t,e),Pc(t,e),Kr(t),i;if(yt!==null)throw Error(Re(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,qr=null,vc(t),Kr(t)}return null}function Qq(){if(zc!==null){var t=zc;zc=null,t.forEach(function(e,i){pT(i,e),Kr(i)}),Da()}}function JM(t,e){var i=pt;pt|=1;try{return t(e)}finally{pt=i,pt===en&&Da()}}function ZM(t,e){var i=pt;pt&=-2,pt|=FS;try{return t(e)}finally{pt=i,pt===en&&Da()}}function Ic(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,$Q(i)),yt!==null)for(i=yt.return;i!==null;){var n=i;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&uy();break;case 3:Jd(),fi(wr),fi(Dn);break;case 5:IS(n);break;case 4:Jd();break;case 13:fi(xi);break;case 19:fi(xi);break;case 10:SS(n)}i=i.return}qr=t,yt=iu(t.current,null),Sr=e,Ji=Bc,$w=null,zm=ds=1073741823,ky=null,Im=0,_y=!1}function e8(t,e){do{try{if(TS(),Lv.current=yy,gy)for(var i=$i.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}if(cl=0,zn=En=$i=null,gy=!1,yt===null||yt.return===null)return Ji=Ay,$w=e,yt=null;e:{var r=t,o=yt.return,a=yt,s=e;if(e=Sr,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,s!==null&&typeof s=="object"&&typeof s.then=="function"){var l=s;if((a.mode&2)===0){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=(xi.current&1)!==0,f=o;do{var h;if(h=f.tag===13){var m=f.memoizedState;if(m!==null)h=m.dehydrated!==null;else{var b=f.memoizedProps;h=b.fallback===void 0?!1:b.unstable_avoidThisFallback!==!0?!0:!u}}if(h){var w=f.updateQueue;if(w===null){var g=new Set;g.add(l),f.updateQueue=g}else w.add(l);if((f.mode&2)===0){if(f.effectTag|=64,a.effectTag&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var A=bl(1073741823,null);A.tag=2,vl(a,A)}a.expirationTime=1073741823;break e}s=void 0,a=e;var x=r.pingCache;if(x===null?(x=r.pingCache=new Vq,s=new Set,x.set(l,s)):(s=x.get(l),s===void 0&&(s=new Set,x.set(l,s))),!s.has(a)){s.add(a);var T=eK.bind(null,r,l,a);l.then(T,T)}f.effectTag|=4096,f.expirationTime=e;break e}f=f.return}while(f!==null);s=Error((As(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`+cS(a))}Ji!==NS&&(Ji=qM),s=BS(s,a),f=o;do{switch(f.tag){case 3:l=s,f.effectTag|=4096,f.expirationTime=e;var C=VM(f,l,e);z3(f,C);break e;case 1:l=s;var z=f.type,L=f.stateNode;if((f.effectTag&64)===0&&(typeof z.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(yl===null||!yl.has(L)))){f.effectTag|=4096,f.expirationTime=e;var B=$M(f,l,e);z3(f,B);break e}}f=f.return}while(f!==null)}yt=r8(yt)}catch(O){e=O;continue}break}while(1)}function t8(){var t=wy.current;return wy.current=yy,t===null?yy:t}function i8(t,e){t<ds&&2<t&&(ds=t),e!==null&&t<zm&&2<t&&(zm=t,ky=e)}function qw(t){t>Im&&(Im=t)}function qq(){for(;yt!==null;)yt=n8(yt)}function Kq(){for(;yt!==null&&!Oq();)yt=n8(yt)}function n8(t){var e=o8(t.alternate,t,Sr);return t.memoizedProps=t.pendingProps,e===null&&(e=r8(t)),QM.current=null,e}function r8(t){yt=t;do{var e=yt.alternate;if(t=yt.return,(yt.effectTag&2048)===0){if(e=jq(e,yt,Sr),Sr===1||yt.childExpirationTime!==1){for(var i=0,n=yt.child;n!==null;){var r=n.expirationTime,o=n.childExpirationTime;r>i&&(i=r),o>i&&(i=o),n=n.sibling}yt.childExpirationTime=i}if(e!==null)return e;t!==null&&(t.effectTag&2048)===0&&(t.firstEffect===null&&(t.firstEffect=yt.firstEffect),yt.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=yt.firstEffect),t.lastEffect=yt.lastEffect),1<yt.effectTag&&(t.lastEffect!==null?t.lastEffect.nextEffect=yt:t.firstEffect=yt,t.lastEffect=yt))}else{if(e=Uq(yt),e!==null)return e.effectTag&=2047,e;t!==null&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(e=yt.sibling,e!==null)return e;yt=t}while(yt!==null);return Ji===Bc&&(Ji=NS),null}function uT(t){var e=t.expirationTime;return t=t.childExpirationTime,e>t?e:t}function vc(t){var e=Yw();return Cl(99,Xq.bind(null,t,e)),null}function Xq(t,e){do qf();while(nm!==null);if((pt&(Yo|Ta))!==en)throw Error(Re(327));var i=t.finishedWork,n=t.finishedExpirationTime;if(i===null)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,i===t.current)throw Error(Re(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var r=uT(i);if(t.firstPendingTime=r,n<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:n<=t.firstSuspendedTime&&(t.firstSuspendedTime=n-1),n<=t.lastPingedTime&&(t.lastPingedTime=0),n<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===qr&&(yt=qr=null,Sr=0),1<i.effectTag?i.lastEffect!==null?(i.lastEffect.nextEffect=i,r=i.firstEffect):r=i:r=i.firstEffect,r!==null){var o=pt;pt|=Ta,QM.current=null,nk=Sv;var a=p3();if(G_(a)){if("selectionStart"in a)var s={start:a.selectionStart,end:a.selectionEnd};else e:{s=(s=a.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break e}var f=0,h=-1,m=-1,b=0,w=0,g=a,A=null;t:for(;;){for(var x;g!==s||c!==0&&g.nodeType!==3||(h=f+c),g!==u||l!==0&&g.nodeType!==3||(m=f+l),g.nodeType===3&&(f+=g.nodeValue.length),(x=g.firstChild)!==null;)A=g,g=x;for(;;){if(g===a)break t;if(A===s&&++b===c&&(h=f),A===u&&++w===l&&(m=f),(x=g.nextSibling)!==null)break;g=A,A=g.parentNode}g=x}s=h===-1||m===-1?null:{start:h,end:m}}else s=null}s=s||{start:0,end:0}}else s=null;rk={activeElementDetached:null,focusedElem:a,selectionRange:s},Sv=!1,tt=r;do try{Jq()}catch(F){if(tt===null)throw Error(Re(330));Nc(tt,F),tt=tt.nextEffect}while(tt!==null);tt=r;do try{for(a=t,s=e;tt!==null;){var T=tt.effectTag;if(T&16&&Am(tt.stateNode,""),T&128){var C=tt.alternate;if(C!==null){var z=C.ref;z!==null&&(typeof z=="function"?z(null):z.current=null)}}switch(T&1038){case 2:Q3(tt),tt.effectTag&=-3;break;case 6:Q3(tt),tt.effectTag&=-3,dk(tt.alternate,tt);break;case 1024:tt.effectTag&=-1025;break;case 1028:tt.effectTag&=-1025,dk(tt.alternate,tt);break;case 4:dk(tt.alternate,tt);break;case 8:c=tt,WM(a,c,s),YM(c)}tt=tt.nextEffect}}catch(F){if(tt===null)throw Error(Re(330));Nc(tt,F),tt=tt.nextEffect}while(tt!==null);if(z=rk,C=p3(),T=z.focusedElem,s=z.selectionRange,C!==T&&T&&T.ownerDocument&&eM(T.ownerDocument.documentElement,T)){for(s!==null&&G_(T)&&(C=s.start,z=s.end,z===void 0&&(z=C),"selectionStart"in T?(T.selectionStart=C,T.selectionEnd=Math.min(z,T.value.length)):(z=(C=T.ownerDocument||document)&&C.defaultView||window,z.getSelection&&(z=z.getSelection(),c=T.textContent.length,a=Math.min(s.start,c),s=s.end===void 0?a:Math.min(s.end,c),!z.extend&&a>s&&(c=s,s=a,a=c),c=f3(T,a),u=f3(T,s),c&&u&&(z.rangeCount!==1||z.anchorNode!==c.node||z.anchorOffset!==c.offset||z.focusNode!==u.node||z.focusOffset!==u.offset)&&(C=C.createRange(),C.setStart(c.node,c.offset),z.removeAllRanges(),a>s?(z.addRange(C),z.extend(u.node,u.offset)):(C.setEnd(u.node,u.offset),z.addRange(C)))))),C=[],z=T;z=z.parentNode;)z.nodeType===1&&C.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<C.length;T++)z=C[T],z.element.scrollLeft=z.left,z.element.scrollTop=z.top}Sv=!!nk,rk=nk=null,t.current=i,tt=r;do try{for(T=t;tt!==null;){var L=tt.effectTag;if(L&36&&Wq(T,tt.alternate,tt),L&128){C=void 0;var B=tt.ref;if(B!==null){var O=tt.stateNode;switch(tt.tag){case 5:C=O;break;default:C=O}typeof B=="function"?B(C):B.current=C}}tt=tt.nextEffect}}catch(F){if(tt===null)throw Error(Re(330));Nc(tt,F),tt=tt.nextEffect}while(tt!==null);tt=null,Dq(),pt=o}else t.current=i;if(Sy)Sy=!1,nm=t,Fh=e;else for(tt=r;tt!==null;)e=tt.nextEffect,tt.nextEffect=null,tt=e;if(e=t.firstPendingTime,e===0&&(yl=null),e===1073741823?t===lT?rm++:(rm=0,lT=t):rm=0,typeof dT=="function"&&dT(i.stateNode,n),Kr(t),Ty)throw Ty=!1,t=sT,sT=null,t;return(pt&FS)!==en||Da(),null}function Jq(){for(;tt!==null;){var t=tt.effectTag;(t&256)!==0&&Yq(tt.alternate,tt),(t&512)===0||Sy||(Sy=!0,_M(97,function(){return qf(),null})),tt=tt.nextEffect}}function qf(){if(Fh!==90){var t=97<Fh?97:Fh;return Fh=90,Cl(t,Zq)}}function Zq(){if(nm===null)return!1;var t=nm;if(nm=null,(pt&(Yo|Ta))!==en)throw Error(Re(331));var e=pt;for(pt|=Ta,t=t.current.firstEffect;t!==null;){try{var i=t;if((i.effectTag&512)!==0)switch(i.tag){case 0:case 11:case 15:case 22:GM(5,i),HM(5,i)}}catch(n){if(t===null)throw Error(Re(330));Nc(t,n)}i=t.nextEffect,t.nextEffect=null,t=i}return pt=e,Da(),!0}function K3(t,e,i){e=BS(i,e),e=VM(t,e,1073741823),vl(t,e),t=Qw(t,1073741823),t!==null&&Kr(t)}function Nc(t,e){if(t.tag===3)K3(t,t,e);else for(var i=t.return;i!==null;){if(i.tag===3){K3(i,t,e);break}else if(i.tag===1){var n=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yl===null||!yl.has(n))){t=BS(e,t),t=$M(i,t,1073741823),vl(i,t),i=Qw(i,1073741823),i!==null&&Kr(i);break}}i=i.return}}function eK(t,e,i){var n=t.pingCache;n!==null&&n.delete(e),qr===t&&Sr===i?Ji===Vw||Ji===xy&&ds===1073741823&&bo()-jS<KM?Ic(t,Sr):_y=!0:a8(t,i)&&(e=t.lastPingedTime,e!==0&&e<i||(t.lastPingedTime=i,Kr(t)))}function tK(t,e){var i=t.stateNode;i!==null&&i.delete(e),e=0,e===0&&(e=va(),e=Fc(e,t,null)),t=Qw(t,e),t!==null&&Kr(t)}var o8;o8=function(t,e,i){var n=e.expirationTime;if(t!==null){var r=e.pendingProps;if(t.memoizedProps!==r||wr.current)ua=!0;else{if(n<i){switch(ua=!1,e.tag){case 3:U3(e),lk();break;case 5:if(L3(e),e.mode&4&&i!==1&&r.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:Ar(e.type)&&Iv(e);break;case 4:X_(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value,r=e.type._context,Pi(dy,r._currentValue),r._currentValue=n;break;case 13:if(e.memoizedState!==null)return n=e.child.childExpirationTime,n!==0&&n>=i?G3(t,e,i):(Pi(xi,xi.current&1),e=bs(t,e,i),e!==null?e.sibling:null);Pi(xi,xi.current&1);break;case 19:if(n=e.childExpirationTime>=i,(t.effectTag&64)!==0){if(n)return Y3(t,e,i);e.effectTag|=64}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null),Pi(xi,xi.current),!n)return null}return bs(t,e,i)}ua=!1}}else ua=!1;switch(e.expirationTime=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,r=Kd(e,Dn.current),Md(e,i),r=LS(null,e,n,t,r,i),e.effectTag|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ar(n)){var o=!0;Iv(e)}else o=!1;e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,CS(e);var a=n.getDerivedStateFromProps;typeof a=="function"&&hy(e,n,a,t),r.updater=Ww,e.stateNode=r,r._reactInternalFiber=e,K_(e,n,t,i),e=iT(null,e,n,!0,o,i)}else e.tag=0,Yr(null,e,r,i),e=e.child;return e;case 16:e:{if(r=e.elementType,t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,IQ(r),r._status!==1)throw r._result;switch(r=r._result,e.type=r,o=e.tag=rK(r),t=Do(r,t),o){case 0:e=tT(null,e,r,t,i);break e;case 1:e=j3(null,e,r,t,i);break e;case 11:e=F3(null,e,r,t,i);break e;case 14:e=N3(null,e,r,Do(r.type,t),n,i);break e}throw Error(Re(306,r,""))}return e;case 0:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Do(n,r),tT(t,e,n,r,i);case 1:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Do(n,r),j3(t,e,n,r,i);case 3:if(U3(e),n=e.updateQueue,t===null||n===null)throw Error(Re(282));if(n=e.pendingProps,r=e.memoizedState,r=r!==null?r.element:null,ES(t,e),Sm(e,n,null,i),n=e.memoizedState.element,n===r)lk(),e=bs(t,e,i);else{if((r=e.stateNode.hydrate)&&(ul=Dd(e.stateNode.containerInfo.firstChild),gs=e,r=Mc=!0),r)for(i=zS(e,null,n,i),e.child=i;i;)i.effectTag=i.effectTag&-3|1024,i=i.sibling;else Yr(t,e,n,i),lk();e=e.child}return e;case 5:return L3(e),t===null&&eT(e),n=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,a=r.children,H_(n,r)?a=null:o!==null&&H_(n,o)&&(e.effectTag|=16),FM(t,e),e.mode&4&&i!==1&&r.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Yr(t,e,a,i),e=e.child),e;case 6:return t===null&&eT(e),null;case 13:return G3(t,e,i);case 4:return X_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Xd(e,null,n,i):Yr(t,e,n,i),e.child;case 11:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Do(n,r),F3(t,e,n,r,i);case 7:return Yr(t,e,e.pendingProps,i),e.child;case 8:return Yr(t,e,e.pendingProps.children,i),e.child;case 12:return Yr(t,e,e.pendingProps.children,i),e.child;case 10:e:{n=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value;var s=e.type._context;if(Pi(dy,s._currentValue),s._currentValue=o,a!==null)if(s=a.value,o=eu(s,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,o):1073741823)|0,o===0){if(a.children===r.children&&!wr.current){e=bs(t,e,i);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n&&(c.observedBits&o)!==0){s.tag===1&&(c=bl(i,null),c.tag=2,vl(s,c)),s.expirationTime<i&&(s.expirationTime=i),c=s.alternate,c!==null&&c.expirationTime<i&&(c.expirationTime=i),SM(s.return,i),l.expirationTime<i&&(l.expirationTime=i);break}c=c.next}}else a=s.tag===10&&s.type===e.type?null:s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Yr(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps,n=o.children,Md(e,i),r=xo(r,o.unstable_observedBits),n=n(r),e.effectTag|=1,Yr(t,e,n,i),e.child;case 14:return r=e.type,o=Do(r,e.pendingProps),o=Do(r.type,o),N3(t,e,r,o,n,i);case 15:return BM(t,e,e.type,e.pendingProps,n,i);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:Do(n,r),t!==null&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,Ar(n)?(t=!0,Iv(e)):t=!1,Md(e,i),EM(e,n,r),K_(e,n,r,i),iT(null,e,n,!0,t,i);case 19:return Y3(t,e,i)}throw Error(Re(156,e.tag))};var dT=null,fT=null;function iK(t){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var i=e.inject(t);dT=function(n){try{e.onCommitFiberRoot(i,n,void 0,(n.current.effectTag&64)===64)}catch{}},fT=function(n){try{e.onCommitFiberUnmount(i,n)}catch{}}}catch{}return!0}function nK(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function da(t,e,i,n){return new nK(t,e,i,n)}function US(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rK(t){if(typeof t=="function")return US(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sS)return 11;if(t===lS)return 14}return 2}function iu(t,e){var i=t.alternate;return i===null?(i=da(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Mv(t,e,i,n,r,o){var a=2;if(n=t,typeof t=="function")US(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Tc:return dl(i.children,r,o,e);case zQ:a=8,r|=7;break;case _D:a=8,r|=1;break;case kv:return t=da(12,i,e,r|8),t.elementType=kv,t.type=kv,t.expirationTime=o,t;case _v:return t=da(13,i,e,r),t.type=_v,t.elementType=_v,t.expirationTime=o,t;case E_:return t=da(19,i,e,r),t.elementType=E_,t.expirationTime=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TD:a=10;break e;case SD:a=9;break e;case sS:a=11;break e;case lS:a=14;break e;case CD:a=16,n=null;break e;case ED:a=22;break e}throw Error(Re(130,t==null?t:typeof t,""))}return e=da(a,i,e,r),e.elementType=t,e.type=n,e.expirationTime=o,e}function dl(t,e,i,n){return t=da(7,t,n,e),t.expirationTime=i,t}function fk(t,e,i){return t=da(6,t,null,e),t.expirationTime=i,t}function pk(t,e,i){return e=da(4,t.children!==null?t.children:[],t.key,e),e.expirationTime=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oK(t,e,i){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function a8(t,e){var i=t.firstSuspendedTime;return t=t.lastSuspendedTime,i!==0&&i>=e&&t<=e}function Pc(t,e){var i=t.firstSuspendedTime,n=t.lastSuspendedTime;i<e&&(t.firstSuspendedTime=e),(n>e||i===0)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function s8(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var i=t.firstSuspendedTime;i!==0&&(e>=i?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function pT(t,e){var i=t.lastExpiredTime;(i===0||i>e)&&(t.lastExpiredTime=e)}function Cy(t,e,i,n){var r=e.current,o=va(),a=im.suspense;o=Fc(o,r,a);e:if(i){i=i._reactInternalFiber;t:{if(bu(i)!==i||i.tag!==1)throw Error(Re(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Ar(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(Re(171))}if(i.tag===1){var l=i.type;if(Ar(l)){i=gM(i,l,s);break e}}i=s}else i=Sl;return e.context===null?e.context=i:e.pendingContext=i,e=bl(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),vl(r,e),wl(r,o),o}function hk(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function X3(t,e){t=t.memoizedState,t!==null&&t.dehydrated!==null&&t.retryTime<e&&(t.retryTime=e)}function GS(t,e){X3(t,e),(t=t.alternate)&&X3(t,e)}function HS(t,e,i){i=i!=null&&i.hydrate===!0;var n=new oK(t,e,i),r=da(3,null,null,e===2?7:e===1?3:0);n.current=r,r.stateNode=n,CS(r),t[Eg]=n.current,i&&e!==0&&MQ(t,t.nodeType===9?t:t.ownerDocument),this._internalRoot=n}HS.prototype.render=function(t){Cy(t,this._internalRoot,null,null)};HS.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Cy(null,t,null,function(){e[Eg]=null})};function Og(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aK(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new HS(t,0,e?{hydrate:!0}:void 0)}function Kw(t,e,i,n,r){var o=i._reactRootContainer;if(o){var a=o._internalRoot;if(typeof r=="function"){var s=r;r=function(){var c=hk(a);s.call(c)}}Cy(e,a,t,r)}else{if(o=i._reactRootContainer=aK(i,n),a=o._internalRoot,typeof r=="function"){var l=r;r=function(){var c=hk(a);l.call(c)}}ZM(function(){Cy(e,a,t,r)})}return hk(a)}function sK(t,e,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bd,key:n==null?null:""+n,children:t,containerInfo:e,implementation:i}}$D=function(t){if(t.tag===13){var e=Rv(va(),150,100);wl(t,e),GS(t,e)}};pS=function(t){t.tag===13&&(wl(t,3),GS(t,3))};QD=function(t){if(t.tag===13){var e=va();e=Fc(e,t,null),wl(t,e),GS(t,e)}};C_=function(t,e,i){switch(e){case"input":if(I_(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=wS(n);if(!r)throw Error(Re(90));ID(n),I_(n,r)}}}break;case"textarea":RD(t,i);break;case"select":e=i.value,e!=null&&Od(t,!!i.multiple,e,!1)}};tS=JM;AD=function(t,e,i,n,r){var o=pt;pt|=4;try{return Cl(98,t.bind(null,e,i,n,r))}finally{pt=o,pt===en&&Da()}};iS=function(){(pt&(1|Yo|Ta))===en&&(Qq(),qf())};xD=function(t,e){var i=pt;pt|=2;try{return t(e)}finally{pt=i,pt===en&&Da()}};function l8(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Og(e))throw Error(Re(200));return sK(t,e,null,i)}var lK={Events:[Ig,Zc,wS,vD,S_,qd,function(t){dS(t,qQ)},yD,wD,Uw,jw,qf,{current:!1}]};(function(t){var e=t.findFiberByHostInstance;return iK(rr({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ho.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=GD(i),i===null?null:i.stateNode},findFiberByHostInstance:function(i){return e?e(i):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:zg,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});Co.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lK;Co.createPortal=l8;Co.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternalFiber;if(e===void 0)throw typeof t.render=="function"?Error(Re(188)):Error(Re(268,Object.keys(t)));return t=GD(e),t=t===null?null:t.stateNode,t};Co.flushSync=function(t,e){if((pt&(Yo|Ta))!==en)throw Error(Re(187));var i=pt;pt|=1;try{return Cl(99,t.bind(null,e))}finally{pt=i,Da()}};Co.hydrate=function(t,e,i){if(!Og(e))throw Error(Re(200));return Kw(null,t,e,!0,i)};Co.render=function(t,e,i){if(!Og(e))throw Error(Re(200));return Kw(null,t,e,!1,i)};Co.unmountComponentAtNode=function(t){if(!Og(t))throw Error(Re(40));return t._reactRootContainer?(ZM(function(){Kw(null,null,t,!1,function(){t._reactRootContainer=null,t[Eg]=null})}),!0):!1};Co.unstable_batchedUpdates=JM;Co.unstable_createPortal=function(t,e){return l8(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Co.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!Og(i))throw Error(Re(200));if(t==null||t._reactInternalFiber===void 0)throw Error(Re(38));return Kw(t,e,i,!1,n)};Co.version="16.14.0";function c8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c8)}catch(t){console.error(t)}}c8(),_l.exports=Co;var cK=_l.exports,Xw={exports:{}},Dg={};/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uK=Y.exports,u8=60103;Dg.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var J3=Symbol.for;u8=J3("react.element"),Dg.Fragment=J3("react.fragment")}var dK=uK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fK=Object.prototype.hasOwnProperty,pK={key:!0,ref:!0,__self:!0,__source:!0};function d8(t,e,i){var n,r={},o=null,a=null;i!==void 0&&(o=""+i),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)fK.call(e,n)&&!pK.hasOwnProperty(n)&&(r[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:u8,type:t,key:o,ref:a,props:r,_owner:dK.current}}Dg.jsx=d8;Dg.jsxs=d8;Xw.exports=Dg;const P=Xw.exports.jsx,le=Xw.exports.jsxs,Ir=Xw.exports.Fragment,f8=Y.exports.createContext({firebaseConfig:{options:{projectId:"cdp-seattle-staging-dbengvtn"},settings:{}},municipality:{name:"Seattle Staging",timeZone:"America/Los_Angeles",footerLinksSections:[]}}),hK=({appConfig:t,children:e})=>P(f8.Provider,{value:t,children:e}),Li=()=>{const t=Y.exports.useContext(f8);if(t===void 0)throw new Error("useAppConfigContext must be used within a AppConfigProvider");return t},p8=Y.exports.createContext({language:"en",setLanguage:()=>{}}),mK=({languageConfig:t,children:e})=>P(p8.Provider,{value:t,children:e}),Ko=()=>{const t=Y.exports.useContext(p8);if(t===void 0)throw new Error("useLanguageConfigContext must be used within a LanguageConfigProvider");return t};function Pm(t,e){return Pm=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pm(t,e)}function ge(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Pm(t,e)}var h8={exports:{}},gK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bK=gK,vK=bK;function m8(){}function g8(){}g8.resetWarningCache=m8;var yK=function(){function t(n,r,o,a,s,l){if(l!==vK){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:g8,resetWarningCache:m8};return i.PropTypes=i,i};h8.exports=yK();var Z3=h8.exports;function he(){return he=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},he.apply(this,arguments)}var wK=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"}));function q0(t){return t.charAt(0)==="/"}function mk(t,e){for(var i=e,n=i+1,r=t.length;n<r;i+=1,n+=1)t[i]=t[n];t.pop()}function AK(t,e){e===void 0&&(e="");var i=t&&t.split("/")||[],n=e&&e.split("/")||[],r=t&&q0(t),o=e&&q0(e),a=r||o;if(t&&q0(t)?n=i:i.length&&(n.pop(),n=n.concat(i)),!n.length)return"/";var s;if(n.length){var l=n[n.length-1];s=l==="."||l===".."||l===""}else s=!1;for(var c=0,u=n.length;u>=0;u--){var f=n[u];f==="."?mk(n,u):f===".."?(mk(n,u),c++):c&&(mk(n,u),c--)}if(!a)for(;c--;c)n.unshift("..");a&&n[0]!==""&&(!n[0]||!q0(n[0]))&&n.unshift("");var h=n.join("/");return s&&h.substr(-1)!=="/"&&(h+="/"),h}var xK=!0,gk="Invariant failed";function vu(t,e){if(!t){if(xK)throw new Error(gk);var i=typeof e=="function"?e():e,n=i?gk+": "+i:gk;throw new Error(n)}}function om(t){return t.charAt(0)==="/"?t:"/"+t}function e4(t){return t.charAt(0)==="/"?t.substr(1):t}function kK(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function b8(t,e){return kK(t,e)?t.substr(e.length):t}function v8(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function _K(t){var e=t||"/",i="",n="",r=e.indexOf("#");r!==-1&&(n=e.substr(r),e=e.substr(0,r));var o=e.indexOf("?");return o!==-1&&(i=e.substr(o),e=e.substr(0,o)),{pathname:e,search:i==="?"?"":i,hash:n==="#"?"":n}}function gr(t){var e=t.pathname,i=t.search,n=t.hash,r=e||"/";return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function $r(t,e,i,n){var r;typeof t=="string"?(r=_K(t),r.state=e):(r=he({},t),r.pathname===void 0&&(r.pathname=""),r.search?r.search.charAt(0)!=="?"&&(r.search="?"+r.search):r.search="",r.hash?r.hash.charAt(0)!=="#"&&(r.hash="#"+r.hash):r.hash="",e!==void 0&&r.state===void 0&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return i&&(r.key=i),n?r.pathname?r.pathname.charAt(0)!=="/"&&(r.pathname=AK(r.pathname,n.pathname)):r.pathname=n.pathname:r.pathname||(r.pathname="/"),r}function YS(){var t=null;function e(a){return t=a,function(){t===a&&(t=null)}}function i(a,s,l,c){if(t!=null){var u=typeof t=="function"?t(a,s):t;typeof u=="string"?typeof l=="function"?l(u,c):c(!0):c(u!==!1)}else c(!0)}var n=[];function r(a){var s=!0;function l(){s&&a.apply(void 0,arguments)}return n.push(l),function(){s=!1,n=n.filter(function(c){return c!==l})}}function o(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];n.forEach(function(c){return c.apply(void 0,s)})}return{setPrompt:e,confirmTransitionTo:i,appendListener:r,notifyListeners:o}}var y8=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function w8(t,e){e(window.confirm(t))}function TK(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function SK(){return window.navigator.userAgent.indexOf("Trident")===-1}function CK(){return window.navigator.userAgent.indexOf("Firefox")===-1}function EK(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var t4="popstate",i4="hashchange";function n4(){try{return window.history.state||{}}catch{return{}}}function zK(t){t===void 0&&(t={}),y8||vu(!1);var e=window.history,i=TK(),n=!SK(),r=t,o=r.forceRefresh,a=o===void 0?!1:o,s=r.getUserConfirmation,l=s===void 0?w8:s,c=r.keyLength,u=c===void 0?6:c,f=t.basename?v8(om(t.basename)):"";function h(Le){var Me=Le||{},ce=Me.key,Z=Me.state,de=window.location,ie=de.pathname,se=de.search,pe=de.hash,xe=ie+se+pe;return f&&(xe=b8(xe,f)),$r(xe,Z,ce)}function m(){return Math.random().toString(36).substr(2,u)}var b=YS();function w(Le){he(Ve,Le),Ve.length=e.length,b.notifyListeners(Ve.location,Ve.action)}function g(Le){EK(Le)||T(h(Le.state))}function A(){T(h(n4()))}var x=!1;function T(Le){if(x)x=!1,w();else{var Me="POP";b.confirmTransitionTo(Le,Me,l,function(ce){ce?w({action:Me,location:Le}):C(Le)})}}function C(Le){var Me=Ve.location,ce=L.indexOf(Me.key);ce===-1&&(ce=0);var Z=L.indexOf(Le.key);Z===-1&&(Z=0);var de=ce-Z;de&&(x=!0,H(de))}var z=h(n4()),L=[z.key];function B(Le){return f+gr(Le)}function O(Le,Me){var ce="PUSH",Z=$r(Le,Me,m(),Ve.location);b.confirmTransitionTo(Z,ce,l,function(de){if(!!de){var ie=B(Z),se=Z.key,pe=Z.state;if(i)if(e.pushState({key:se,state:pe},null,ie),a)window.location.href=ie;else{var xe=L.indexOf(Ve.location.key),we=L.slice(0,xe+1);we.push(Z.key),L=we,w({action:ce,location:Z})}else window.location.href=ie}})}function F(Le,Me){var ce="REPLACE",Z=$r(Le,Me,m(),Ve.location);b.confirmTransitionTo(Z,ce,l,function(de){if(!!de){var ie=B(Z),se=Z.key,pe=Z.state;if(i)if(e.replaceState({key:se,state:pe},null,ie),a)window.location.replace(ie);else{var xe=L.indexOf(Ve.location.key);xe!==-1&&(L[xe]=Z.key),w({action:ce,location:Z})}else window.location.replace(ie)}})}function H(Le){e.go(Le)}function K(){H(-1)}function fe(){H(1)}var Ae=0;function Se(Le){Ae+=Le,Ae===1&&Le===1?(window.addEventListener(t4,g),n&&window.addEventListener(i4,A)):Ae===0&&(window.removeEventListener(t4,g),n&&window.removeEventListener(i4,A))}var ke=!1;function Oe(Le){Le===void 0&&(Le=!1);var Me=b.setPrompt(Le);return ke||(Se(1),ke=!0),function(){return ke&&(ke=!1,Se(-1)),Me()}}function Fe(Le){var Me=b.appendListener(Le);return Se(1),function(){Se(-1),Me()}}var Ve={length:e.length,action:"POP",location:z,createHref:B,push:O,replace:F,go:H,goBack:K,goForward:fe,block:Oe,listen:Fe};return Ve}var r4="hashchange",IK={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+e4(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:e4,decodePath:om},slash:{encodePath:om,decodePath:om}};function A8(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function xh(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function PK(t){window.location.hash=t}function bk(t){window.location.replace(A8(window.location.href)+"#"+t)}function RK(t){t===void 0&&(t={}),y8||vu(!1);var e=window.history;CK();var i=t,n=i.getUserConfirmation,r=n===void 0?w8:n,o=i.hashType,a=o===void 0?"slash":o,s=t.basename?v8(om(t.basename)):"",l=IK[a],c=l.encodePath,u=l.decodePath;function f(){var Me=u(xh());return s&&(Me=b8(Me,s)),$r(Me)}var h=YS();function m(Me){he(Le,Me),Le.length=e.length,h.notifyListeners(Le.location,Le.action)}var b=!1,w=null;function g(Me,ce){return Me.pathname===ce.pathname&&Me.search===ce.search&&Me.hash===ce.hash}function A(){var Me=xh(),ce=c(Me);if(Me!==ce)bk(ce);else{var Z=f(),de=Le.location;if(!b&&g(de,Z)||w===gr(Z))return;w=null,x(Z)}}function x(Me){if(b)b=!1,m();else{var ce="POP";h.confirmTransitionTo(Me,ce,r,function(Z){Z?m({action:ce,location:Me}):T(Me)})}}function T(Me){var ce=Le.location,Z=B.lastIndexOf(gr(ce));Z===-1&&(Z=0);var de=B.lastIndexOf(gr(Me));de===-1&&(de=0);var ie=Z-de;ie&&(b=!0,K(ie))}var C=xh(),z=c(C);C!==z&&bk(z);var L=f(),B=[gr(L)];function O(Me){var ce=document.querySelector("base"),Z="";return ce&&ce.getAttribute("href")&&(Z=A8(window.location.href)),Z+"#"+c(s+gr(Me))}function F(Me,ce){var Z="PUSH",de=$r(Me,void 0,void 0,Le.location);h.confirmTransitionTo(de,Z,r,function(ie){if(!!ie){var se=gr(de),pe=c(s+se),xe=xh()!==pe;if(xe){w=se,PK(pe);var we=B.lastIndexOf(gr(Le.location)),Pe=B.slice(0,we+1);Pe.push(se),B=Pe,m({action:Z,location:de})}else m()}})}function H(Me,ce){var Z="REPLACE",de=$r(Me,void 0,void 0,Le.location);h.confirmTransitionTo(de,Z,r,function(ie){if(!!ie){var se=gr(de),pe=c(s+se),xe=xh()!==pe;xe&&(w=se,bk(pe));var we=B.indexOf(gr(Le.location));we!==-1&&(B[we]=se),m({action:Z,location:de})}})}function K(Me){e.go(Me)}function fe(){K(-1)}function Ae(){K(1)}var Se=0;function ke(Me){Se+=Me,Se===1&&Me===1?window.addEventListener(r4,A):Se===0&&window.removeEventListener(r4,A)}var Oe=!1;function Fe(Me){Me===void 0&&(Me=!1);var ce=h.setPrompt(Me);return Oe||(ke(1),Oe=!0),function(){return Oe&&(Oe=!1,ke(-1)),ce()}}function Ve(Me){var ce=h.appendListener(Me);return ke(1),function(){ke(-1),ce()}}var Le={length:e.length,action:"POP",location:L,createHref:O,push:F,replace:H,go:K,goBack:fe,goForward:Ae,block:Fe,listen:Ve};return Le}function o4(t,e,i){return Math.min(Math.max(t,e),i)}function LK(t){t===void 0&&(t={});var e=t,i=e.getUserConfirmation,n=e.initialEntries,r=n===void 0?["/"]:n,o=e.initialIndex,a=o===void 0?0:o,s=e.keyLength,l=s===void 0?6:s,c=YS();function u(O){he(B,O),B.length=B.entries.length,c.notifyListeners(B.location,B.action)}function f(){return Math.random().toString(36).substr(2,l)}var h=o4(a,0,r.length-1),m=r.map(function(O){return typeof O=="string"?$r(O,void 0,f()):$r(O,void 0,O.key||f())}),b=gr;function w(O,F){var H="PUSH",K=$r(O,F,f(),B.location);c.confirmTransitionTo(K,H,i,function(fe){if(!!fe){var Ae=B.index,Se=Ae+1,ke=B.entries.slice(0);ke.length>Se?ke.splice(Se,ke.length-Se,K):ke.push(K),u({action:H,location:K,index:Se,entries:ke})}})}function g(O,F){var H="REPLACE",K=$r(O,F,f(),B.location);c.confirmTransitionTo(K,H,i,function(fe){!fe||(B.entries[B.index]=K,u({action:H,location:K}))})}function A(O){var F=o4(B.index+O,0,B.entries.length-1),H="POP",K=B.entries[F];c.confirmTransitionTo(K,H,i,function(fe){fe?u({action:H,location:K,index:F}):u()})}function x(){A(-1)}function T(){A(1)}function C(O){var F=B.index+O;return F>=0&&F<B.entries.length}function z(O){return O===void 0&&(O=!1),c.setPrompt(O)}function L(O){return c.appendListener(O)}var B={length:m.length,action:"POP",location:m[h],index:h,entries:m,createHref:b,push:w,replace:g,go:A,goBack:x,goForward:T,canGo:C,block:z,listen:L};return B}var vk=1073741823,a4=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:{};function OK(){var t="__global_unique_id__";return a4[t]=(a4[t]||0)+1}function DK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function MK(t){var e=[];return{on:function(n){e.push(n)},off:function(n){e=e.filter(function(r){return r!==n})},get:function(){return t},set:function(n,r){t=n,e.forEach(function(o){return o(t,r)})}}}function BK(t){return Array.isArray(t)?t[0]:t}function FK(t,e){var i,n,r="__create-react-context-"+OK()+"__",o=function(s){ge(l,s);function l(){var u;return u=s.apply(this,arguments)||this,u.emitter=MK(u.props.value),u}var c=l.prototype;return c.getChildContext=function(){var f;return f={},f[r]=this.emitter,f},c.componentWillReceiveProps=function(f){if(this.props.value!==f.value){var h=this.props.value,m=f.value,b;DK(h,m)?b=0:(b=typeof e=="function"?e(h,m):vk,b|=0,b!==0&&this.emitter.set(f.value,b))}},c.render=function(){return this.props.children},l}(Y.exports.Component);o.childContextTypes=(i={},i[r]=Z3.object.isRequired,i);var a=function(s){ge(l,s);function l(){var u;return u=s.apply(this,arguments)||this,u.state={value:u.getValue()},u.onUpdate=function(f,h){var m=u.observedBits|0;(m&h)!==0&&u.setState({value:u.getValue()})},u}var c=l.prototype;return c.componentWillReceiveProps=function(f){var h=f.observedBits;this.observedBits=h==null?vk:h},c.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var f=this.props.observedBits;this.observedBits=f==null?vk:f},c.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},c.getValue=function(){return this.context[r]?this.context[r].get():t},c.render=function(){return BK(this.props.children)(this.state.value)},l}(Y.exports.Component);return a.contextTypes=(n={},n[r]=Z3.object,n),{Provider:o,Consumer:a}}var NK=ye.createContext||FK,Kf={exports:{}},jK=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},Ey=jK;Kf.exports=_8;Kf.exports.parse=WS;Kf.exports.compile=GK;Kf.exports.tokensToFunction=x8;Kf.exports.tokensToRegExp=k8;var UK=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function WS(t,e){for(var i=[],n=0,r=0,o="",a=e&&e.delimiter||"/",s;(s=UK.exec(t))!=null;){var l=s[0],c=s[1],u=s.index;if(o+=t.slice(r,u),r=u+l.length,c){o+=c[1];continue}var f=t[r],h=s[2],m=s[3],b=s[4],w=s[5],g=s[6],A=s[7];o&&(i.push(o),o="");var x=h!=null&&f!=null&&f!==h,T=g==="+"||g==="*",C=g==="?"||g==="*",z=s[2]||a,L=b||w;i.push({name:m||n++,prefix:h||"",delimiter:z,optional:C,repeat:T,partial:x,asterisk:!!A,pattern:L?WK(L):A?".*":"[^"+Bv(z)+"]+?"})}return r<t.length&&(o+=t.substr(r)),o&&i.push(o),i}function GK(t,e){return x8(WS(t,e),e)}function HK(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function YK(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function x8(t,e){for(var i=new Array(t.length),n=0;n<t.length;n++)typeof t[n]=="object"&&(i[n]=new RegExp("^(?:"+t[n].pattern+")$",$S(e)));return function(r,o){for(var a="",s=r||{},l=o||{},c=l.pretty?HK:encodeURIComponent,u=0;u<t.length;u++){var f=t[u];if(typeof f=="string"){a+=f;continue}var h=s[f.name],m;if(h==null)if(f.optional){f.partial&&(a+=f.prefix);continue}else throw new TypeError('Expected "'+f.name+'" to be defined');if(Ey(h)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var b=0;b<h.length;b++){if(m=c(h[b]),!i[u].test(m))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(m)+"`");a+=(b===0?f.prefix:f.delimiter)+m}continue}if(m=f.asterisk?YK(h):c(h),!i[u].test(m))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+m+'"');a+=f.prefix+m}return a}}function Bv(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function WK(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function VS(t,e){return t.keys=e,t}function $S(t){return t&&t.sensitive?"":"i"}function VK(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return VS(t,e)}function $K(t,e,i){for(var n=[],r=0;r<t.length;r++)n.push(_8(t[r],e,i).source);var o=new RegExp("(?:"+n.join("|")+")",$S(i));return VS(o,e)}function QK(t,e,i){return k8(WS(t,i),e,i)}function k8(t,e,i){Ey(e)||(i=e||i,e=[]),i=i||{};for(var n=i.strict,r=i.end!==!1,o="",a=0;a<t.length;a++){var s=t[a];if(typeof s=="string")o+=Bv(s);else{var l=Bv(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),s.optional?s.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",o+=c}}var u=Bv(i.delimiter||"/"),f=o.slice(-u.length)===u;return n||(o=(f?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),r?o+="$":o+=n&&f?"":"(?="+u+"|$)",VS(new RegExp("^"+o,$S(i)),e)}function _8(t,e,i){return Ey(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?VK(t,e):Ey(t)?$K(t,e,i):QK(t,e,i)}var qK=Kf.exports,QS={exports:{}},Jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sn=typeof Symbol=="function"&&Symbol.for,qS=sn?Symbol.for("react.element"):60103,KS=sn?Symbol.for("react.portal"):60106,Jw=sn?Symbol.for("react.fragment"):60107,Zw=sn?Symbol.for("react.strict_mode"):60108,eA=sn?Symbol.for("react.profiler"):60114,tA=sn?Symbol.for("react.provider"):60109,iA=sn?Symbol.for("react.context"):60110,XS=sn?Symbol.for("react.async_mode"):60111,nA=sn?Symbol.for("react.concurrent_mode"):60111,rA=sn?Symbol.for("react.forward_ref"):60112,oA=sn?Symbol.for("react.suspense"):60113,KK=sn?Symbol.for("react.suspense_list"):60120,aA=sn?Symbol.for("react.memo"):60115,sA=sn?Symbol.for("react.lazy"):60116,XK=sn?Symbol.for("react.block"):60121,JK=sn?Symbol.for("react.fundamental"):60117,ZK=sn?Symbol.for("react.responder"):60118,eX=sn?Symbol.for("react.scope"):60119;function no(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qS:switch(t=t.type,t){case XS:case nA:case Jw:case eA:case Zw:case oA:return t;default:switch(t=t&&t.$$typeof,t){case iA:case rA:case sA:case aA:case tA:return t;default:return e}}case KS:return e}}}function T8(t){return no(t)===nA}Jt.AsyncMode=XS;Jt.ConcurrentMode=nA;Jt.ContextConsumer=iA;Jt.ContextProvider=tA;Jt.Element=qS;Jt.ForwardRef=rA;Jt.Fragment=Jw;Jt.Lazy=sA;Jt.Memo=aA;Jt.Portal=KS;Jt.Profiler=eA;Jt.StrictMode=Zw;Jt.Suspense=oA;Jt.isAsyncMode=function(t){return T8(t)||no(t)===XS};Jt.isConcurrentMode=T8;Jt.isContextConsumer=function(t){return no(t)===iA};Jt.isContextProvider=function(t){return no(t)===tA};Jt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qS};Jt.isForwardRef=function(t){return no(t)===rA};Jt.isFragment=function(t){return no(t)===Jw};Jt.isLazy=function(t){return no(t)===sA};Jt.isMemo=function(t){return no(t)===aA};Jt.isPortal=function(t){return no(t)===KS};Jt.isProfiler=function(t){return no(t)===eA};Jt.isStrictMode=function(t){return no(t)===Zw};Jt.isSuspense=function(t){return no(t)===oA};Jt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Jw||t===nA||t===eA||t===Zw||t===oA||t===KK||typeof t=="object"&&t!==null&&(t.$$typeof===sA||t.$$typeof===aA||t.$$typeof===tA||t.$$typeof===iA||t.$$typeof===rA||t.$$typeof===JK||t.$$typeof===ZK||t.$$typeof===eX||t.$$typeof===XK)};Jt.typeOf=no;QS.exports=Jt;function yu(t,e){if(t==null)return{};var i={},n=Object.keys(t),r,o;for(o=0;o<n.length;o++)r=n[o],!(e.indexOf(r)>=0)&&(i[r]=t[r]);return i}var S8=QS.exports,tX={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},iX={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},C8={};C8[S8.ForwardRef]=tX;C8[S8.Memo]=iX;var E8=function(e){var i=NK();return i.displayName=e,i},z8=E8("Router-History"),El=E8("Router"),lA=function(t){ge(e,t),e.computeRootMatch=function(r){return{path:"/",url:"/",params:{},isExact:r==="/"}};function e(n){var r;return r=t.call(this,n)||this,r.state={location:n.history.location},r._isMounted=!1,r._pendingLocation=null,n.staticContext||(r.unlisten=n.history.listen(function(o){r._isMounted?r.setState({location:o}):r._pendingLocation=o})),r}var i=e.prototype;return i.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},i.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},i.render=function(){return ye.createElement(El.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},ye.createElement(z8.Provider,{children:this.props.children||null,value:this.props.history}))},e}(ye.Component);ye.Component;ye.Component;var s4={},nX=1e4,l4=0;function rX(t,e){var i=""+e.end+e.strict+e.sensitive,n=s4[i]||(s4[i]={});if(n[t])return n[t];var r=[],o=qK(t,r,e),a={regexp:o,keys:r};return l4<nX&&(n[t]=a,l4++),a}function JS(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var i=e,n=i.path,r=i.exact,o=r===void 0?!1:r,a=i.strict,s=a===void 0?!1:a,l=i.sensitive,c=l===void 0?!1:l,u=[].concat(n);return u.reduce(function(f,h){if(!h&&h!=="")return null;if(f)return f;var m=rX(h,{end:o,strict:s,sensitive:c}),b=m.regexp,w=m.keys,g=b.exec(t);if(!g)return null;var A=g[0],x=g.slice(1),T=t===A;return o&&!T?null:{path:h,url:h==="/"&&A===""?"/":A,isExact:T,params:w.reduce(function(C,z,L){return C[z.name]=x[L],C},{})}},null)}function oX(t){return ye.Children.count(t)===0}var rl=function(t){ge(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var r=this;return ye.createElement(El.Consumer,null,function(o){o||vu(!1);var a=r.props.location||o.location,s=r.props.computedMatch?r.props.computedMatch:r.props.path?JS(a.pathname,r.props):o.match,l=he({},o,{location:a,match:s}),c=r.props,u=c.children,f=c.component,h=c.render;return Array.isArray(u)&&oX(u)&&(u=null),ye.createElement(El.Provider,{value:l},l.match?u?typeof u=="function"?u(l):u:f?ye.createElement(f,l):h?h(l):null:typeof u=="function"?u(l):null)})},e}(ye.Component);function ZS(t){return t.charAt(0)==="/"?t:"/"+t}function aX(t,e){return t?he({},e,{pathname:ZS(t)+e.pathname}):e}function sX(t,e){if(!t)return e;var i=ZS(t);return e.pathname.indexOf(i)!==0?e:he({},e,{pathname:e.pathname.substr(i.length)})}function c4(t){return typeof t=="string"?t:gr(t)}function yk(t){return function(){vu(!1)}}function u4(){}ye.Component;var lX=function(t){ge(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var r=this;return ye.createElement(El.Consumer,null,function(o){o||vu(!1);var a=r.props.location||o.location,s,l;return ye.Children.forEach(r.props.children,function(c){if(l==null&&ye.isValidElement(c)){s=c;var u=c.props.path||c.props.from;l=u?JS(a.pathname,he({},c.props,{path:u})):o.match}}),l?ye.cloneElement(s,{location:a,computedMatch:l}):null})},e}(ye.Component),eC=ye.useContext;function tC(){return eC(z8)}function Xf(){return eC(El).location}function cA(){var t=eC(El).match;return t?t.params:{}}ye.Component;var cX=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.history=RK(n.props),n}var i=e.prototype;return i.render=function(){return ye.createElement(lA,{history:this.history,children:this.props.children})},e}(ye.Component),hT=function(e,i){return typeof e=="function"?e(i):e},mT=function(e,i){return typeof e=="string"?$r(e,null,null,i):e},iC=function(e){return e},Zd=ye.forwardRef;typeof Zd=="undefined"&&(Zd=iC);function uX(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var dX=Zd(function(t,e){var i=t.innerRef,n=t.navigate,r=t.onClick,o=yu(t,["innerRef","navigate","onClick"]),a=o.target,s=he({},o,{onClick:function(c){try{r&&r(c)}catch(u){throw c.preventDefault(),u}!c.defaultPrevented&&c.button===0&&(!a||a==="_self")&&!uX(c)&&(c.preventDefault(),n())}});return iC!==Zd?s.ref=e||i:s.ref=i,ye.createElement("a",s)}),mn=Zd(function(t,e){var i=t.component,n=i===void 0?dX:i,r=t.replace,o=t.to,a=t.innerRef,s=yu(t,["component","replace","to","innerRef"]);return ye.createElement(El.Consumer,null,function(l){l||vu(!1);var c=l.history,u=mT(hT(o,l.location),l.location),f=u?c.createHref(u):"",h=he({},s,{href:f,navigate:function(){var b=hT(o,l.location),w=gr(l.location)===gr(mT(b)),g=r||w?c.replace:c.push;g(b)}});return iC!==Zd?h.ref=e||a:h.innerRef=a,ye.createElement(n,h)})}),I8=function(e){return e},zy=ye.forwardRef;typeof zy=="undefined"&&(zy=I8);function fX(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.filter(function(n){return n}).join(" ")}zy(function(t,e){var i=t["aria-current"],n=i===void 0?"page":i,r=t.activeClassName,o=r===void 0?"active":r,a=t.activeStyle,s=t.className,l=t.exact,c=t.isActive,u=t.location,f=t.sensitive,h=t.strict,m=t.style,b=t.to,w=t.innerRef,g=yu(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return ye.createElement(El.Consumer,null,function(A){A||vu(!1);var x=u||A.location,T=mT(hT(b,x),x),C=T.pathname,z=C&&C.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),L=z?JS(x.pathname,{path:z,exact:l,sensitive:f,strict:h}):null,B=!!(c?c(L,x):L),O=typeof s=="function"?s(B):s,F=typeof m=="function"?m(B):m;B&&(O=fX(O,o),F=he({},F,a));var H=he({"aria-current":B&&n||null,className:O,style:F,to:T},g);return I8!==zy?H.ref=e||w:H.innerRef=w,ye.createElement(mn,H)})});function P8(t){var e=Object.create(null);return function(i){return e[i]===void 0&&(e[i]=t(i)),e[i]}}var pX=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,hX=P8(function(t){return pX.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function mX(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function gX(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var R8=function(){function t(i){var n=this;this._insertTag=function(r){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(r,o),n.tags.push(r)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(gX(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=mX(r);try{o.insertRule(n,o.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Cn="-ms-",Iy="-moz-",Ut="-webkit-",L8="comm",nC="rule",rC="decl",bX="@import",O8="@keyframes",vX=Math.abs,uA=String.fromCharCode,yX=Object.assign;function wX(t,e){return(((e<<2^vr(t,0))<<2^vr(t,1))<<2^vr(t,2))<<2^vr(t,3)}function D8(t){return t.trim()}function AX(t,e){return(t=e.exec(t))?t[0]:t}function Wt(t,e,i){return t.replace(e,i)}function gT(t,e){return t.indexOf(e)}function vr(t,e){return t.charCodeAt(e)|0}function Rm(t,e,i){return t.slice(e,i)}function aa(t){return t.length}function oC(t){return t.length}function K0(t,e){return e.push(t),t}function xX(t,e){return t.map(e).join("")}var dA=1,ef=1,M8=0,Cr=0,Mi=0,Jf="";function fA(t,e,i,n,r,o,a){return{value:t,root:e,parent:i,type:n,props:r,children:o,line:dA,column:ef,length:a,return:""}}function kh(t,e){return yX(fA("",null,null,"",null,null,0),t,{length:-t.length},e)}function kX(){return Mi}function _X(){return Mi=Cr>0?vr(Jf,--Cr):0,ef--,Mi===10&&(ef=1,dA--),Mi}function Xr(){return Mi=Cr<M8?vr(Jf,Cr++):0,ef++,Mi===10&&(ef=1,dA++),Mi}function ya(){return vr(Jf,Cr)}function Fv(){return Cr}function Mg(t,e){return Rm(Jf,t,e)}function Lm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function B8(t){return dA=ef=1,M8=aa(Jf=t),Cr=0,[]}function F8(t){return Jf="",t}function Nv(t){return D8(Mg(Cr-1,bT(t===91?t+2:t===40?t+1:t)))}function TX(t){for(;(Mi=ya())&&Mi<33;)Xr();return Lm(t)>2||Lm(Mi)>3?"":" "}function SX(t,e){for(;--e&&Xr()&&!(Mi<48||Mi>102||Mi>57&&Mi<65||Mi>70&&Mi<97););return Mg(t,Fv()+(e<6&&ya()==32&&Xr()==32))}function bT(t){for(;Xr();)switch(Mi){case t:return Cr;case 34:case 39:t!==34&&t!==39&&bT(Mi);break;case 40:t===41&&bT(t);break;case 92:Xr();break}return Cr}function CX(t,e){for(;Xr()&&t+Mi!==47+10;)if(t+Mi===42+42&&ya()===47)break;return"/*"+Mg(e,Cr-1)+"*"+uA(t===47?t:Xr())}function EX(t){for(;!Lm(ya());)Xr();return Mg(t,Cr)}function zX(t){return F8(jv("",null,null,null,[""],t=B8(t),0,[0],t))}function jv(t,e,i,n,r,o,a,s,l){for(var c=0,u=0,f=a,h=0,m=0,b=0,w=1,g=1,A=1,x=0,T="",C=r,z=o,L=n,B=T;g;)switch(b=x,x=Xr()){case 40:if(b!=108&&B.charCodeAt(f-1)==58){gT(B+=Wt(Nv(x),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:B+=Nv(x);break;case 9:case 10:case 13:case 32:B+=TX(b);break;case 92:B+=SX(Fv()-1,7);continue;case 47:switch(ya()){case 42:case 47:K0(IX(CX(Xr(),Fv()),e,i),l);break;default:B+="/"}break;case 123*w:s[c++]=aa(B)*A;case 125*w:case 59:case 0:switch(x){case 0:case 125:g=0;case 59+u:m>0&&aa(B)-f&&K0(m>32?f4(B+";",n,i,f-1):f4(Wt(B," ","")+";",n,i,f-2),l);break;case 59:B+=";";default:if(K0(L=d4(B,e,i,c,u,r,s,T,C=[],z=[],f),o),x===123)if(u===0)jv(B,e,L,L,C,o,f,s,z);else switch(h){case 100:case 109:case 115:jv(t,L,L,n&&K0(d4(t,L,L,0,0,r,s,T,r,C=[],f),z),r,z,f,s,n?C:z);break;default:jv(B,L,L,L,[""],z,0,s,z)}}c=u=m=0,w=A=1,T=B="",f=a;break;case 58:f=1+aa(B),m=b;default:if(w<1){if(x==123)--w;else if(x==125&&w++==0&&_X()==125)continue}switch(B+=uA(x),x*w){case 38:A=u>0?1:(B+="\f",-1);break;case 44:s[c++]=(aa(B)-1)*A,A=1;break;case 64:ya()===45&&(B+=Nv(Xr())),h=ya(),u=f=aa(T=B+=EX(Fv())),x++;break;case 45:b===45&&aa(B)==2&&(w=0)}}return o}function d4(t,e,i,n,r,o,a,s,l,c,u){for(var f=r-1,h=r===0?o:[""],m=oC(h),b=0,w=0,g=0;b<n;++b)for(var A=0,x=Rm(t,f+1,f=vX(w=a[b])),T=t;A<m;++A)(T=D8(w>0?h[A]+" "+x:Wt(x,/&\f/g,h[A])))&&(l[g++]=T);return fA(t,e,i,r===0?nC:s,l,c,u)}function IX(t,e,i){return fA(t,e,i,L8,uA(kX()),Rm(t,2,-2),0)}function f4(t,e,i,n){return fA(t,e,i,rC,Rm(t,0,n),Rm(t,n+1,-1),n)}function N8(t,e){switch(wX(t,e)){case 5103:return Ut+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ut+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ut+t+Iy+t+Cn+t+t;case 6828:case 4268:return Ut+t+Cn+t+t;case 6165:return Ut+t+Cn+"flex-"+t+t;case 5187:return Ut+t+Wt(t,/(\w+).+(:[^]+)/,Ut+"box-$1$2"+Cn+"flex-$1$2")+t;case 5443:return Ut+t+Cn+"flex-item-"+Wt(t,/flex-|-self/,"")+t;case 4675:return Ut+t+Cn+"flex-line-pack"+Wt(t,/align-content|flex-|-self/,"")+t;case 5548:return Ut+t+Cn+Wt(t,"shrink","negative")+t;case 5292:return Ut+t+Cn+Wt(t,"basis","preferred-size")+t;case 6060:return Ut+"box-"+Wt(t,"-grow","")+Ut+t+Cn+Wt(t,"grow","positive")+t;case 4554:return Ut+Wt(t,/([^-])(transform)/g,"$1"+Ut+"$2")+t;case 6187:return Wt(Wt(Wt(t,/(zoom-|grab)/,Ut+"$1"),/(image-set)/,Ut+"$1"),t,"")+t;case 5495:case 3959:return Wt(t,/(image-set\([^]*)/,Ut+"$1$`$1");case 4968:return Wt(Wt(t,/(.+:)(flex-)?(.*)/,Ut+"box-pack:$3"+Cn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ut+t+t;case 4095:case 3583:case 4068:case 2532:return Wt(t,/(.+)-inline(.+)/,Ut+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(aa(t)-1-e>6)switch(vr(t,e+1)){case 109:if(vr(t,e+4)!==45)break;case 102:return Wt(t,/(.+:)(.+)-([^]+)/,"$1"+Ut+"$2-$3$1"+Iy+(vr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~gT(t,"stretch")?N8(Wt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(vr(t,e+1)!==115)break;case 6444:switch(vr(t,aa(t)-3-(~gT(t,"!important")&&10))){case 107:return Wt(t,":",":"+Ut)+t;case 101:return Wt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ut+(vr(t,14)===45?"inline-":"")+"box$3$1"+Ut+"$2$3$1"+Cn+"$2box$3")+t}break;case 5936:switch(vr(t,e+11)){case 114:return Ut+t+Cn+Wt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ut+t+Cn+Wt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ut+t+Cn+Wt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ut+t+Cn+t+t}return t}function Fd(t,e){for(var i="",n=oC(t),r=0;r<n;r++)i+=e(t[r],r,t,e)||"";return i}function PX(t,e,i,n){switch(t.type){case bX:case rC:return t.return=t.return||t.value;case L8:return"";case O8:return t.return=t.value+"{"+Fd(t.children,n)+"}";case nC:t.value=t.props.join(",")}return aa(i=Fd(t.children,n))?t.return=t.value+"{"+i+"}":""}function RX(t){var e=oC(t);return function(i,n,r,o){for(var a="",s=0;s<e;s++)a+=t[s](i,n,r,o)||"";return a}}function LX(t){return function(e){e.root||(e=e.return)&&t(e)}}function OX(t,e,i,n){if(t.length>-1&&!t.return)switch(t.type){case rC:t.return=N8(t.value,t.length);break;case O8:return Fd([kh(t,{value:Wt(t.value,"@","@"+Ut)})],n);case nC:if(t.length)return xX(t.props,function(r){switch(AX(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fd([kh(t,{props:[Wt(r,/:(read-\w+)/,":"+Iy+"$1")]})],n);case"::placeholder":return Fd([kh(t,{props:[Wt(r,/:(plac\w+)/,":"+Ut+"input-$1")]}),kh(t,{props:[Wt(r,/:(plac\w+)/,":"+Iy+"$1")]}),kh(t,{props:[Wt(r,/:(plac\w+)/,Cn+"input-$1")]})],n)}return""})}}var DX=function(e,i,n){for(var r=0,o=0;r=o,o=ya(),r===38&&o===12&&(i[n]=1),!Lm(o);)Xr();return Mg(e,Cr)},MX=function(e,i){var n=-1,r=44;do switch(Lm(r)){case 0:r===38&&ya()===12&&(i[n]=1),e[n]+=DX(Cr-1,i,n);break;case 2:e[n]+=Nv(r);break;case 4:if(r===44){e[++n]=ya()===58?"&\f":"",i[n]=e[n].length;break}default:e[n]+=uA(r)}while(r=Xr());return e},BX=function(e,i){return F8(MX(B8(e),i))},p4=new WeakMap,FX=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var i=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&i.charCodeAt(0)!==58&&!p4.get(n))&&!r){p4.set(e,!0);for(var o=[],a=BX(i,o),s=n.props,l=0,c=0;l<a.length;l++)for(var u=0;u<s.length;u++,c++)e.props[c]=o[l]?a[l].replace(/&\f/g,s[u]):s[u]+" "+a[l]}}},NX=function(e){if(e.type==="decl"){var i=e.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(e.return="",e.value="")}},jX=[OX],UX=function(e){var i=e.key;if(i==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(w){var g=w.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var r=e.stylisPlugins||jX,o={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(w){for(var g=w.getAttribute("data-emotion").split(" "),A=1;A<g.length;A++)o[g[A]]=!0;s.push(w)});var l,c=[FX,NX];{var u,f=[PX,LX(function(w){u.insert(w)})],h=RX(c.concat(r,f)),m=function(g){return Fd(zX(g),h)};l=function(g,A,x,T){u=x,m(g?g+"{"+A.styles+"}":A.styles),T&&(b.inserted[A.name]=!0)}}var b={key:i,sheet:new R8({key:i,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return b.sheet.hydrate(s),b},GX=!0;function HX(t,e,i){var n="";return i.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):n+=r+" "}),n}var j8=function(e,i,n){var r=e.key+"-"+i.name;if((n===!1||GX===!1)&&e.registered[r]===void 0&&(e.registered[r]=i.styles),e.inserted[i.name]===void 0){var o=i;do e.insert(i===o?"."+r:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function YX(t){for(var e=0,i,n=0,r=t.length;r>=4;++n,r-=4)i=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,e=(i&65535)*1540483477+((i>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var WX={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},VX=/[A-Z]|^ms/g,$X=/_EMO_([^_]+?)_([^]*?)_EMO_/g,U8=function(e){return e.charCodeAt(1)===45},h4=function(e){return e!=null&&typeof e!="boolean"},wk=P8(function(t){return U8(t)?t:t.replace(VX,"-$&").toLowerCase()}),m4=function(e,i){switch(e){case"animation":case"animationName":if(typeof i=="string")return i.replace($X,function(n,r,o){return sa={name:r,styles:o,next:sa},r})}return WX[e]!==1&&!U8(e)&&typeof i=="number"&&i!==0?i+"px":i};function Om(t,e,i){if(i==null)return"";if(i.__emotion_styles!==void 0)return i;switch(typeof i){case"boolean":return"";case"object":{if(i.anim===1)return sa={name:i.name,styles:i.styles,next:sa},i.name;if(i.styles!==void 0){var n=i.next;if(n!==void 0)for(;n!==void 0;)sa={name:n.name,styles:n.styles,next:sa},n=n.next;var r=i.styles+";";return r}return QX(t,e,i)}case"function":{if(t!==void 0){var o=sa,a=i(t);return sa=o,Om(t,e,a)}break}}if(e==null)return i;var s=e[i];return s!==void 0?s:i}function QX(t,e,i){var n="";if(Array.isArray(i))for(var r=0;r<i.length;r++)n+=Om(t,e,i[r])+";";else for(var o in i){var a=i[o];if(typeof a!="object")e!=null&&e[a]!==void 0?n+=o+"{"+e[a]+"}":h4(a)&&(n+=wk(o)+":"+m4(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var s=0;s<a.length;s++)h4(a[s])&&(n+=wk(o)+":"+m4(o,a[s])+";");else{var l=Om(t,e,a);switch(o){case"animation":case"animationName":{n+=wk(o)+":"+l+";";break}default:n+=o+"{"+l+"}"}}}return n}var g4=/label:\s*([^\s;\n{]+)\s*(;|$)/g,sa,aC=function(e,i,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,o="";sa=void 0;var a=e[0];a==null||a.raw===void 0?(r=!1,o+=Om(n,i,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=Om(n,i,e[s]),r&&(o+=a[s]);g4.lastIndex=0;for(var l="",c;(c=g4.exec(o))!==null;)l+="-"+c[1];var u=YX(o)+l;return{name:u,styles:o,next:sa}},G8=Y.exports.createContext(typeof HTMLElement!="undefined"?UX({key:"css"}):null);G8.Provider;var H8=function(e){return Y.exports.forwardRef(function(i,n){var r=Y.exports.useContext(G8);return e(i,r,n)})},Y8=Y.exports.createContext({}),qX=H8(function(t,e){var i=t.styles,n=aC([i],void 0,Y.exports.useContext(Y8)),r=Y.exports.useRef();return Y.exports.useLayoutEffect(function(){var o=e.key+"-global",a=new R8({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",o),a.hydrate([l])),r.current=[a,s],function(){a.flush()}},[e]),Y.exports.useLayoutEffect(function(){var o=r.current,a=o[0],s=o[1];if(s){o[1]=!1;return}if(n.next!==void 0&&j8(e,n.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",n,a,!1)},[e,n.name]),null});function W8(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return aC(e)}var KX=function(){var e=W8.apply(void 0,arguments),i="animation-"+e.name;return{name:i,styles:"@keyframes "+i+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},XX=hX,JX=function(e){return e!=="theme"},b4=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?XX:JX},v4=function(e,i,n){var r;if(i){var o=i.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(a){return e.__emotion_forwardProp(a)&&o(a)}:o}return typeof r!="function"&&n&&(r=e.__emotion_forwardProp),r},ZX=function(){return null},eJ=function t(e,i){var n=e.__emotion_real===e,r=n&&e.__emotion_base||e,o,a;i!==void 0&&(o=i.label,a=i.target);var s=v4(e,i,n),l=s||b4(r),c=!l("as");return function(){var u=arguments,f=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{f.push(u[0][0]);for(var h=u.length,m=1;m<h;m++)f.push(u[m],u[0][m])}var b=H8(function(w,g,A){var x=c&&w.as||r,T="",C=[],z=w;if(w.theme==null){z={};for(var L in w)z[L]=w[L];z.theme=Y.exports.useContext(Y8)}typeof w.className=="string"?T=HX(g.registered,C,w.className):w.className!=null&&(T=w.className+" ");var B=aC(f.concat(C),g.registered,z);j8(g,B,typeof x=="string"),T+=g.key+"-"+B.name,a!==void 0&&(T+=" "+a);var O=c&&s===void 0?b4(x):l,F={};for(var H in w)c&&H==="as"||O(H)&&(F[H]=w[H]);F.className=T,F.ref=A;var K=Y.exports.createElement(x,F),fe=Y.exports.createElement(ZX,null);return Y.exports.createElement(Y.exports.Fragment,null,fe,K)});return b.displayName=o!==void 0?o:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=r,b.__emotion_styles=f,b.__emotion_forwardProp=s,Object.defineProperty(b,"toString",{value:function(){return"."+a}}),b.withComponent=function(w,g){return t(w,he({},i,g,{shouldForwardProp:v4(b,g,!0)})).apply(void 0,f)},b}},tJ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Be=eJ.bind();tJ.forEach(function(t){Be[t]=Be(t)});function Zf(t){Y.exports.useEffect(()=>{if(t==null||t==="")return;const e=document.title;return document.title=t,()=>{document.title=e}},[t])}const iJ={number_approved:"{number} Genehmigt",number_rejected:"{number} Abgelehnt",number_non_voting:"{number} Nicht-Abstimmen",meeting_votes_caption:"Klicken Sie auf jede Zeile, um zu sehen, wie die Ratsmitglieder abgestimmt haben",legislation:"Gesetzgebung",council_decision:"Beschluss des Rates",votes:"Stimmen",meeting:"Treffen",persons_vote:"{name}s Stimee",en:"English",es:"Espa\xF1ol",de:"Deutsche",keywords:"Schl\xFCsselw\xF6rter",select_language:"Sprache ausw\xE4hlen",same:"gleich",committee:"Komitee",chair:"Vorsitzende",tenure:"Amtszeit",bills_sponsored:"Rechnung(en) gesponsert",see_documents:"Siehe Dokumente",jump_to_sentence_video:"Zum Satz im Video springen",jump_to_sentence_transcript:"Zum Satz im Transkript springen",search_transcript:"Transkript suchen",search_transcript_placeholder:"Transkript suchen...",number_of_results:"{number} Ergebnis(e)",clear:"L\xF6schen",save:"Speichern",about:"\xDCber",search:"Suche",advanced_options:"Erweiterte Optionen",copyright_notice:"Urheberrechte \xA9 Einzelne mitwirkende, {date_range}",content_license_prefix:"Inhalt verf\xFCgbar unter a ",content_license_link:"https://creativecommons.org/licenses/by/4.0/deed.en",content_license_link_text:"Creative Commons Namensnennung 4.0 International License",tools_license_prefix:"Council Data Project werkzeuge sind lizenziert unter ",styled_using_prefix:"Gestylt mit ",artwork_provided_by_prefix:"Kunstwerk zur Verf\xFCgung gestellt von ",passed:"Bestanden",failed:"Fehlgeschlagen",approve:"Genehmigen",reject:"Ablehnen",abstain_approve:"Verzichten (Genehmigt)",abstain_non_voting:"Verzichten (Nicht-Abstimmen)",abstain_reject:"Verzichten (Abgelehnt)",absent_approve:"Abwesend (Genehmigt)",absent_non_voting:"Abwesend (Nicht-Abstimmen)",absent_reject:"Abwesend (Abgelehnt)",rejected:"Abgelehnt",adopted:"Angenommen",in_progress:"In Bearbeitung",example_prefix:"Beispiel:",search_topic_placeholder:"Thema suchen...",search_municipality_name:"{municipality_name} suchen",events:"Veranstaltungen",links:"Links",people:"Menschen",council_data_project:"Council Data Project",transcript:"Transkript",agenda:"Agenda",session:"Sitzung",date:"Datum",newest_first:"Neusten zuerst",oldest_first:"\xC4ltesten zuerst",most_relevant_first:"Das Wichtigste zuerst",closest_match_first:"N\xE4chste \xDCbereinstimmung zuerst",most_relevant:"Relevanteste",search_results:"Suchergebnisse",event_search_results:"Ergebnisse der Suche nach Ereignissen",no_results_found:"Keine Ergebnisse",show_more:"Zeig mehr...",legislation_sponsored:"Gesetzgebung gesponsert",menu:"Speisekarte",persons_voting_record:"{person_name}s Abstimmungsprotokoll",contact:"Kontakt",terms:"Begriffe",committee_membership:"Ausschussmitgliedschaft",former_committee_membership:"Ehemalige Ausschussmitgliedschaft",committees:"Aussch\xFCsse",visit_persons_website:"Besuchen Sie {person_name}s Website",alternate:"Wechseln",councilmember:"Stadtrat/in",member:"Mitglied",council_president:"Pr\xE4sident des Rates",vice_chair:"Stellvertretender Vorsitzender",supervisor:"Supervisor/in",active:"aktiv",inactive:"inaktiv",latest_vote:"Letzte Abstimmung",history:"Geschichte",minutes:"Protokoll",go_to_matter_details:"Gehen Sie zu den vollst\xE4ndigen Rechtsvorschriften",disclaimer_start:"Um Transkripte von Veranstaltungen kosteng\xFCnstig bereitzustellen, verwendet Council Data Project",disclaimer_end:"f\xFCr die Transkription. Ereignisprotokolle k\xF6nnen Fehler enthalten.",disclaimer_footer_start:"In vielen F\xE4llen verwendet Council Data Project ein fein abgestimmtes",disclaimer_footer_end:"Modell zur Generierung von Ereignisprotokollen. Wir verstehen, dass Transkripte Fehler enthalten k\xF6nnen. Wenn Sie ein Experte f\xFCr maschinelles Lernen sind und dabei helfen m\xF6chten, unser System zum Generieren von Transkripten zu verbessern, kontaktieren Sie uns bitte auf GitHub."},nJ={number_approved:"{number} Approved",number_rejected:"{number} Rejected",number_non_voting:"{number} Non-Voting",meeting_votes_caption:"Click each row to see how council members voted",legislation:"Legislation",council_decision:"Council Decision",votes:"Votes",meeting:"Meeting",persons_vote:"{name}'s Vote",en:"English",es:"Espa\xF1ol",de:"Deutsche",keywords:"Keywords",select_language:"Select Language",same:"same",committee:"Committee",chair:"Chair",tenure:"Tenure",bills_sponsored:"bill(s) sponsored",see_documents:"See Documents",jump_to_sentence_video:"Jump to sentence in video",jump_to_sentence_transcript:"Jump to sentence in transcript",search_transcript:"Search transcript",search_transcript_placeholder:"Search transcript...",number_of_results:"{number} result(s)",clear:"Clear",save:"Save",about:"About",search:"Search",advanced_options:"Advanced Options",copyright_notice:"Copyright \xA9 Individual contributors, {date_range}.",content_license_prefix:"Content available under a ",content_license_link:"https://creativecommons.org/licenses/by/4.0/",content_license_link_text:"Creative Commons Attribution 4.0 International License",tools_license_prefix:"Council Data Project tools are licensed under ",styled_using_prefix:"Styled using ",artwork_provided_by_prefix:"Artwork provided by ",passed:"Passed",failed:"Failed",approve:"Approve",reject:"Reject",abstain_approve:"Abstain (Approve)",abstain_non_voting:"Abstain (Non-Voting)",abstain_reject:"Abstain (Reject)",absent_approve:"Absent (Approve)",absent_non_voting:"Absent (Non-Voting)",absent_reject:"Absent (Reject)",rejected:"Rejected",adopted:"Adopted",in_progress:"In Progress",example_prefix:"Example: ",search_topic_placeholder:"Search for a topic...",search_municipality_name:"Search {municipality_name}",events:"Events",links:"Links",people:"People",council_data_project:"Council Data Project",transcript:"Transcript",agenda:"Agenda",session:"Session",date:"Date",newest_first:"Newest First",oldest_first:"Oldest First",most_relevant_first:"Most relevant first",closest_match_first:"Closest match first",most_relevant:"Most relevant",search_results:"Search Results",event_search_results:"Event search results",no_results_found:"No results found",show_more:"Show more...",legislation_sponsored:"Legislation Sponsored",menu:"Menu",persons_voting_record:"{person_name}'s Voting Record",contact:"Contact",terms:"Terms",committee_membership:"Committee Membership",former_committee_membership:"Former Committee Membership",committees:"Committees",visit_persons_website:"Visit {person_name}'s website",alternate:"Alternate",councilmember:"Councilmember",member:"Member",council_president:"Council President",vice_chair:"Vice Chair",supervisor:"Supervisor",active:"active",inactive:"inactive",latest_vote:"Latest Vote",history:"History",minutes:"Minutes",go_to_matter_details:"Go to Full Legislation Details",disclaimer_start:"To provide event transcripts at low-cost, Council Data Project uses",disclaimer_end:"for transcription. Event transcripts may include errors.",disclaimer_footer_start:"In many cases, Council Data Project utilizes a fine-tuned",disclaimer_footer_end:"model for generation of event transcripts. We understand that transcripts may include errors. If you are a machine learning expert and wish to help improve our system for generating transcripts, please reach out to us on GitHub."},rJ={number_approved:"{number} Aprobado",number_rejected:"{number} Rechazado",number_non_voting:"{number} sin derecho a voto",meeting_votes_caption:"Haga clic en cada fila para ver c\xF3mo votaron los miembros del consejo",legislation:"Legislaci\xF3n",council_decision:"Decisi\xF3n del Consejo",votes:"Votos",meeting:"Cita",persons_vote:"Voto de {name}",en:"English",es:"Espa\xF1ol",de:"Deutsche",keywords:"Palabras clave",select_language:"Seleccione el Idioma",same:"Mismo",committee:"Comit\xE9",chair:"presidente",tenure:"Tenencia",bills_sponsored:"factura (s) patrocinada",see_documents:"Ver Documentos",jump_to_sentence_video:"Saltar a la oraci\xF3n en el video",jump_to_sentence_transcript:"Saltar a la oraci\xF3n en la transcripci\xF3n",search_transcript:"Buscar transcripci\xF3n",search_transcript_placeholder:"Buscar transcripci\xF3n ...",number_of_results:"{number} resultado (s)",clear:"Despejar",save:"Ahorrar",about:"Acerca de",search:"Buscar",advanced_options:"Opciones Avanzadas",copyright_notice:"Derechos de autor \xA9 Contribuyentes individuales, {date_range}.",content_license_prefix:"Contenido disponible bajo un ",content_license_link:"https://creativecommons.org/licenses/by/4.0/deed.es",content_license_link_text:"Creative Commons Atribuci\xF3n 4.0 Internacional License",tools_license_prefix:"Council Data Project las herramientas tienen licencia bajo ",styled_using_prefix:"Dise\xF1ado usando ",artwork_provided_by_prefix:"Obra proporcionada por ",passed:"Pas\xF3",failed:"Fracas\xF3",approve:"Aprobar",reject:"Rechazar",abstain_approve:"Abstenerse (Aprobado)",abstain_non_voting:"Abstenerse (sin derecho a voto)",abstain_reject:"Abstenerse (Rechazado)",absent_approve:"Ausente (Aprobado)",absent_non_voting:"Ausente (sin derecho a voto)",absent_reject:"Ausente (Rechazado)",rejected:"Rechazado",adopted:"Adoptado",in_progress:"En curso",example_prefix:"Ejemplo:",search_topic_placeholder:"Buscar un tema ...",search_municipality_name:"Buscar {municipality_name}",events:"Eventos",links:"Enlaces",people:"Gente",council_data_project:"Council Data Project",transcript:"Transcripci\xF3n",agenda:"Agenda",session:"Sesi\xF3n",date:"Fecha",newest_first:"M\xE1s nuevos primero",oldest_first:"M\xE1s viejos primero",most_relevant_first:"M\xE1s relevante primero",closest_match_first:"Coincidencia m\xE1s cercana primero",most_relevant:"M\xE1s relevante",search_results:"Resultados de la B\xFAsqueda",event_search_results:"Resultados de Busqueda de Eventos",no_results_found:"No hay resultados",show_more:"Mostrar m\xE1s...",legislation_sponsored:"Legislaci\xF3n patrocinada",menu:"Men\xFA",persons_voting_record:"Registro de votos de {person_name}",contact:"Contacto",terms:"T\xE9rminos",committee_membership:"Membres\xEDa del Comit\xE9",former_committee_membership:"Membres\xEDa Anterior del Comit\xE9",committees:"Comit\xE9s",visit_persons_website:"Visite el sitio web de {person_name}",alternate:"Alterno/a",councilmember:"Concejal/a",member:"Miembro",council_president:"Presidente/a del Consejo",vice_chair:"Vicepresidente/a",supervisor:"Supervisor/a",active:"activo/a",inactive:"inactivo/a",latest_vote:"\xDAltimo Voto",history:"Historia",minutes:"Protocolo",go_to_matter_details:"Ir a los detalles completos de la legislaci\xF3n",disclaimer_start:"Para proporcionar transcripciones de eventos a bajo costo, Council Data Project utiliza",disclaimer_end:"para la transcripci\xF3n. Las transcripciones de eventos pueden incluir errores.",disclaimer_footer_start:"En muchos casos, Council Data Project utiliza un",disclaimer_footer_end:"modelo perfeccionado para la generaci\xF3n de transcripciones de eventos. Entendemos que las transcripciones pueden incluir errores. Si es un experto en aprendizaje autom\xE1tico y desea ayudar a mejorar nuestro sistema para generar transcripciones, comun\xEDquese con nosotros en GitHub."};var V8={},sC={},ep={};Object.defineProperty(ep,"__esModule",{value:!0});ep.getInterfaceLanguage=oJ;ep.getBestMatchingLanguage=aJ;ep.validateTranslationKeys=sJ;ep.randomPseudo=lJ;function oJ(){var t="en-US";if(typeof navigator=="undefined")return t;var e=navigator;if(e){if(e.language)return e.language;if(!!e.languages&&!!e.languages[0])return e.languages[0];if(e.userLanguage)return e.userLanguage;if(e.browserLanguage)return e.browserLanguage}return t}function aJ(t,e){if(e[t])return t;var i=t.indexOf("-"),n=i>=0?t.substring(0,i):t;return e[n]?n:Object.keys(e)[0]}function sJ(t){var e=["_interfaceLanguage","_language","_defaultLanguage","_defaultLanguageFirstLevelKeys","_props"];t.forEach(function(i){if(e.indexOf(i)!==-1)throw new Error(i+" cannot be used as a key. It is a reserved word.")})}function lJ(t){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<t;n+=1)e+=i.charAt(Math.floor(Math.random()*i.length));return e}Object.defineProperty(sC,"__esModule",{value:!0});var cJ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uJ=function(){function t(e,i){var n=[],r=!0,o=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(i&&n.length===i));r=!0);}catch(c){o=!0,a=c}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y4=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},dJ=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),fJ=ep,X0=pJ(fJ);function pJ(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function hJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ak=/(\{[\d|\w]+\})/,xk=/(\$ref\{[\w|.]+\})/,mJ=function(){function t(e,i){hJ(this,t),typeof i=="function"&&(i={customLanguageInterface:i}),this._opts=y4({},{customLanguageInterface:X0.getInterfaceLanguage,pseudo:!1,pseudoMultipleLanguages:!1,logsEnabled:!0},i),this._interfaceLanguage=this._opts.customLanguageInterface(),this._language=this._interfaceLanguage,this.setContent(e)}return dJ(t,[{key:"setContent",value:function(i){var n=this,r=Object.keys(i),o=uJ(r,1),a=o[0];this._defaultLanguage=a,this._defaultLanguageFirstLevelKeys=[],this._props=i,X0.validateTranslationKeys(Object.keys(i[this._defaultLanguage])),Object.keys(this._props[this._defaultLanguage]).forEach(function(s){typeof n._props[n._defaultLanguage][s]=="string"&&n._defaultLanguageFirstLevelKeys.push(s)}),this.setLanguage(this._interfaceLanguage),this._opts.pseudo&&this._pseudoAllValues(this._props)}},{key:"_pseudoAllValues",value:function(i){var n=this;Object.keys(i).forEach(function(r){if(cJ(i[r])==="object")n._pseudoAllValues(i[r]);else if(typeof i[r]=="string"){if(i[r].indexOf("[")===0&&i[r].lastIndexOf("]")===i[r].length-1)return;for(var o=i[r].split(" "),a=0;a<o.length;a+=1)if(!o[a].match(Ak)){if(!o[a].match(xk)){var s=o[a].length;n._opts.pseudoMultipleLanguages&&(s=parseInt(s*1.4,10)),o[a]=X0.randomPseudo(s)}}i[r]="["+o.join(" ")+"]"}})}},{key:"setLanguage",value:function(i){var n=this,r=X0.getBestMatchingLanguage(i,this._props),o=Object.keys(this._props)[0];if(this._language=r,this._props[r]){for(var a=0;a<this._defaultLanguageFirstLevelKeys.length;a+=1)delete this[this._defaultLanguageFirstLevelKeys[a]];var s=y4({},this._props[this._language]);Object.keys(s).forEach(function(l){n[l]=s[l]}),o!==this._language&&(s=this._props[o],this._fallbackValues(s,this))}}},{key:"_fallbackValues",value:function(i,n){var r=this;Object.keys(i).forEach(function(o){Object.prototype.hasOwnProperty.call(i,o)&&!n[o]&&n[o]!==""?(n[o]=i[o],r._opts.logsEnabled&&console.log("\u{1F6A7} \u{1F477} key '"+o+"' not found in localizedStrings for language "+r._language+" \u{1F6A7}")):typeof n[o]!="string"&&r._fallbackValues(i[o],n[o])})}},{key:"getLanguage",value:function(){return this._language}},{key:"getInterfaceLanguage",value:function(){return this._interfaceLanguage}},{key:"getAvailableLanguages",value:function(){var i=this;return this._availableLanguages||(this._availableLanguages=[],Object.keys(this._props).forEach(function(n){i._availableLanguages.push(n)})),this._availableLanguages}},{key:"formatString",value:function(i){for(var n=this,r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];var s=i||"";typeof s=="string"&&(s=this.getString(i,null,!0)||s);var l=s.split(xk).filter(function(c){return!!c}).map(function(c){if(c.match(xk)){var u=c.slice(5,-1),f=n.getString(u);return f||(n._opts.logsEnabled&&console.log("No Localization ref found for '"+c+"' in string '"+i+"'"),"$ref(id:"+u+")")}return c}).join("");return l.split(Ak).filter(function(c){return!!c}).map(function(c){if(c.match(Ak)){var u=c.slice(1,-1),f=o[u];if(f===void 0){var h=o[0][u];if(h!==void 0)f=h;else return f}return f}return c}).join("")}},{key:"getString",value:function(i,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;try{for(var o=this._props[n||this._language],a=i.split("."),s=0;s<a.length;s+=1){if(o[a[s]]===void 0)throw Error(a[s]);o=o[a[s]]}return o}catch(l){!r&&this._opts.logsEnabled&&console.log("No localization found for key '"+i+"' and language '"+n+"', failed on "+l.message)}return null}},{key:"getContent",value:function(){return this._props}}]),t}();sC.default=mJ;Object.defineProperty(V8,"__esModule",{value:!0});var gJ=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},bJ=Y.exports,w4=Q8(bJ),vJ=sC,$8=Q8(vJ);function Q8(t){return t&&t.__esModule?t:{default:t}}var A4=/(\{[\d|\w]+\})/;$8.default.prototype.formatString=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var r=!1,o=(t||"").split(A4).filter(function(a){return!!a}).map(function(a,s){if(a.match(A4)){var l=a.slice(1,-1),c=i[l];if(c==null){var u=i[0][l];if(u!==void 0)c=u;else return c}return w4.default.isValidElement(c)?(r=!0,w4.default.Children.toArray(c).map(function(f){return gJ({},f,{key:s.toString()})})):c}return a});return r?o:o.join("")};var yJ=V8.default=$8.default;const ze=new yJ({en:nJ,de:iJ,es:rJ}),Ft={smallMobile:"320px",largeMobile:"414px",tablet:"768px",desktop:"1224px"},wJ=Be.div({boxSizing:"initial"}),AJ=Be.div({float:"left",marginTop:"12px"}),xJ=Be.button({display:"block",[`@media (min-width:${Ft.tablet})`]:{display:"none"}}),kJ=Be.div(t=>({display:t.isVisible?"block":"none",[`@media (min-width:${Ft.tablet})`]:{display:"block"}}));function kk(t,e){const i={textDecoration:"underline"};return t===e||e.length>1&&t.includes(e)?i:{}}const _J=({municipalityName:t})=>{const[e,i]=Y.exports.useState(!1),n=Xf().pathname;return P("header",{children:P(wJ,{className:"mzp-c-navigation",children:P("div",{className:"mzp-c-navigation-l-content",children:le("div",{className:"mzp-c-navigation-container",children:[P(xJ,{className:"mzp-c-navigation-menu-button","aria-controls":"patterns.organisms.navigation.navigation",onClick:()=>i(r=>!r),children:ze.menu}),P(AJ,{children:P("a",{className:"cdp-icon-black-bg-transparent-size-256",style:{maxHeight:"64px",maxWidth:"64px"},href:"https://councildataproject.org",title:ze.council_data_project,children:ze.council_data_project})}),P(kJ,{isVisible:e,className:"mzp-c-navigation-items",id:"patterns.organisms.navigation.navigation",children:P("div",{className:"mzp-c-navigation-container",children:P("nav",{className:"mzp-c-menu mzp-is-basic",children:le("ul",{className:"mzp-c-menu-category-list",children:[P("li",{className:"mzp-c-menu-category",children:P(mn,{to:"/",className:"mzp-c-menu-title",style:kk(n,"/"),children:t})}),P("li",{className:"mzp-c-menu-category",children:P(mn,{to:"/events",className:"mzp-c-menu-title",style:kk(n,"/events"),children:ze.events})}),P("li",{className:"mzp-c-menu-category",children:P(mn,{to:"/people",className:"mzp-c-menu-title",style:kk(n,"/people"),children:ze.people})})]})})})})]})})})})};function TJ(t){return le("section",{className:"mzp-c-footer-section",children:[P("h5",{className:"mzp-c-footer-heading",children:t.footerLinksSectionName}),P("ul",{children:t.links.map(e=>P("li",{children:P("a",{href:e.url,children:e.label})},e.label))})]})}const SJ=({footerLinksSections:t})=>P("footer",{className:"mzp-c-footer",children:le("div",{className:"mzp-l-content",children:[P("nav",{className:"mzp-c-footer-primary","aria-label":"footer",children:le("div",{className:"mzp-c-footer-sections",children:[le("section",{className:"mzp-c-footer-section",children:[P("h5",{className:"mzp-c-footer-heading",children:ze.about}),le("ul",{children:[P("li",{children:P("a",{href:"https://councildataproject.github.io/",children:"CouncilDataProject"})}),P("li",{children:P("a",{href:"https://github.com/CouncilDataProject",children:"GitHub"})})]})]}),t.map(e=>TJ(e))]})}),le("nav",{className:"mzp-c-footer-secondary",children:[le("p",{children:[ze.disclaimer_footer_start," ",P("a",{rel:"noopener noreferrer license external",target:"_blank",href:"https://cloud.google.com/speech-to-text",children:"Google Speech-to-Text"})," ",ze.disclaimer_footer_end]}),le("div",{className:"mzp-c-footer-legal mzp-c-footer-license",children:[P("p",{children:ze.copyright_notice.replace("{date_range}","2017-2021")}),le("p",{children:[ze.content_license_prefix,P("a",{rel:"noopener noreferrer license external",href:ze.content_license_link,target:"_blank",children:ze.content_license_link_text}),".",P("br",{}),ze.tools_license_prefix,P("a",{rel:"noopener noreferrer license external",href:"https://github.com/CouncilDataProject/cookiecutter-cdp-deployment/blob/main/LICENSE",target:"_blank",children:"MIT License"}),"."]}),le("p",{children:[ze.styled_using_prefix,P("a",{rel:"noopener noreferrer external",href:"https://protocol.mozilla.org/",target:"_blank",children:"Mozilla Protocol"}),".",P("br",{}),ze.artwork_provided_by_prefix,P("a",{rel:"noopener noreferrer external",href:"https://undraw.co/",target:"_blank",children:"unDraw"}),"."]})]})]})]})});var Jr=(t=>(t.EVENT="events",t.LEGISLATION="legislations",t))(Jr||{});const q8="FILTER_CLEAR",K8="FILTER_UPDATE",CJ=()=>(t,e)=>{switch(e.type){case K8:return{...t,[e.payload.keyName]:e.payload.dataValue};case q8:const i={...t};return Object.keys(i).forEach(n=>i[n]=e.payload.dataValue),i;default:return t}},X8=(t,e)=>{const i=Object.values(t).filter(r=>r).length;return i?`${e} : ${i}`:e},lC=t=>Object.keys(t).filter(e=>t[e]===!0);var cC=Be.form({marginBottom:0,"& .mzp-c-field-set":{padding:0},"& .mzp-c-choices":{paddingBottom:0}});const EJ=(t,e)=>t.toLowerCase().indexOf(e.toLowerCase())!==-1,zJ=Be.label({"&::after":{boxSizing:"unset"}}),IJ=({name:t,state:e,update:i,options:n,optionQuery:r,setOptionQuery:o})=>{const a=c=>{const u=c.currentTarget.name,f=c.currentTarget.checked;i(u,f)},s=c=>{const u=c.currentTarget.value;o&&o(u)},l=Y.exports.useMemo(()=>{let c=[...n];if(n.length>5&&o){for(const u of n)u.disabled=!EJ(u.label,r||"");c=[...n.filter(u=>!u.disabled),...n.filter(u=>u.disabled)]}return c},[n,r,o]);return le(cC,{className:"mzp-c-form",children:[n.length>5&&o&&le("div",{className:"mzp-c-field mzp-l-stretch",children:[P("label",{className:"mzp-c-field-label",htmlFor:"form-input-control-search-filter",children:`Search ${t} Options`}),P("input",{className:"mzp-c-field-control",type:"text",id:"form-input-control-search-filter",value:r,onChange:s})]}),P("fieldset",{className:"mzp-c-field-set",children:P("div",{className:"mzp-c-choices",children:l.map(c=>le("div",{className:"mzp-c-choice",children:[P("input",{className:"mzp-c-choice-control",type:"checkbox",name:c.name,id:`form-checkbox-control-${c.name}`,checked:e[c.name]||!1,disabled:c.disabled,onChange:a}),P(zJ,{className:"mzp-c-choice-label",htmlFor:`form-checkbox-control-${c.name}`,children:c.label})]},c.name))})})]})};function jc(t){const{name:e,initialState:i,defaultDataValue:n,textRepFunction:r,isRequired:o,limit:a}=t,s=CJ(),[l,c]=Y.exports.useReducer(s,i),[u,f]=Y.exports.useState(!1),h=()=>{c({type:q8,payload:{dataValue:n}})},m=(T,C)=>{c({type:K8,payload:{keyName:T,dataValue:C}})},b=()=>r(l,e),w=()=>Object.values(l).some(T=>T!==n);return{name:e,state:l,clear:h,update:m,popupIsOpen:u,setPopupIsOpen:f,getTextRep:b,isActive:w,isSameState:T=>{if(!Object.entries(T).length)return!w();const C=Object.keys(l);for(const z of C)if(l[z]&&!T.hasOwnProperty(z)||l[z]!==T[z]&&T.hasOwnProperty(z))return!1;return!0},hasRequiredError:()=>o?!w():!1,hasLimitError:()=>a!==void 0?lC(l).length>a:!1,limit:a}}const x4=["minimum wage","police budget","rent control","municipal broadband","police accountability","homelessness response","municipal broadband, digital equity","sodo stadium","35 ave bike lane","capitol hill megablock"],PJ=`
  display: grid;
  column-gap: 8px;
  row-gap: 4px;
  /**One column template*/
  grid-template-columns: 1fr;
  justify-content: start;
`,RJ=Be.div`
  ${PJ}
  @media (min-width: ${Ft.tablet}) {
    /**Two columns template, with the first column taking up any free space*/
    grid-template-columns: 1fr auto;
  }
`,LJ=Be.input`
  margin-bottom: 0px !important;
`,OJ=Be.p`
  padding-top: 0px !important;
  font-size: 0.775rem !important;
  @media (min-width: ${Ft.tablet}) {
    /**Make the example topic appear after the search button*/
    order: 1;
  }
`,DJ=[{name:Jr.EVENT,label:"Events",disabled:!1},{name:Jr.LEGISLATION,label:"Legislations",disabled:!1}],MJ={[Jr.EVENT]:!0,[Jr.LEGISLATION]:!0},BJ=(t,e)=>{const i=Object.keys(t).filter(r=>t[r]);let n=e;return i.length===Object.keys(t).length?n+="(s): All":i.length>0&&(n+=`(s): ${i.map(o=>{var s;const a=DJ.find(l=>l.name===o);return(s=a==null?void 0:a.label)!=null?s:""}).join(", ")}`),n},FJ=x4[Math.floor(Math.random()*x4.length)],NJ=()=>{const[t,e]=Y.exports.useState(""),i=tC(),n=jc({name:"Search Type",initialState:MJ,defaultDataValue:!1,textRepFunction:BJ,isRequired:!0}),r=a=>{a.preventDefault();const s=`?q=${t.trim().replace(/\s+/g,"+")}`;i.push({pathname:`/${Jr.EVENT}/search`,search:s,state:{query:t.trim(),committees:{},dateRange:{}}})},o=a=>e(a.target.value);return P("div",{children:P("form",{className:"mzp-c-form",role:"search",onSubmit:r,children:le(RJ,{children:[P(LJ,{type:"search",placeholder:ze.search_topic_placeholder,required:!0,"aria-required":!0,disabled:!n.isActive(),value:t,onChange:o}),le(OJ,{className:"mzp-c-field-info",children:[ze.example_prefix,FJ]}),P("button",{className:"mzp-c-button mzp-t-product",type:"submit",disabled:!n.isActive(),children:ze.search})]})})})},jJ=Be.div({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flex:1,"& > *":{width:"100%"},[`@media (min-width:${Ft.tablet})`]:{"& > *":{width:"75%"}}}),UJ=()=>{Zf(ze.council_data_project);const{municipality:t}=Li();return le(jJ,{children:[P("h1",{className:"mzp-u-title-xs",children:ze.search_municipality_name.replace("{municipality_name}",t.name)}),P(NJ,{})]})};var pA={},GJ=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),J8="%[a-f0-9]{2}",k4=new RegExp(J8,"gi"),_4=new RegExp("("+J8+")+","gi");function vT(t,e){try{return decodeURIComponent(t.join(""))}catch{}if(t.length===1)return t;e=e||1;var i=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],vT(i),vT(n))}function HJ(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(k4),i=1;i<e.length;i++)t=vT(e,i).join(""),e=t.match(k4);return t}}function YJ(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},i=_4.exec(t);i;){try{e[i[0]]=decodeURIComponent(i[0])}catch{var n=HJ(i[0]);n!==i[0]&&(e[i[0]]=n)}i=_4.exec(t)}e["%C2"]="\uFFFD";for(var r=Object.keys(e),o=0;o<r.length;o++){var a=r[o];t=t.replace(new RegExp(a,"g"),e[a])}return t}var WJ=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return YJ(t)}},VJ=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const i=t.indexOf(e);return i===-1?[t]:[t.slice(0,i),t.slice(i+e.length)]},$J=function(t,e){for(var i={},n=Object.keys(t),r=Array.isArray(e),o=0;o<n.length;o++){var a=n[o],s=t[a];(r?e.indexOf(a)!==-1:e(a,s,t))&&(i[a]=s)}return i};(function(t){const e=GJ,i=WJ,n=VJ,r=$J,o=x=>x==null,a=Symbol("encodeFragmentIdentifier");function s(x){switch(x.arrayFormat){case"index":return T=>(C,z)=>{const L=C.length;return z===void 0||x.skipNull&&z===null||x.skipEmptyString&&z===""?C:z===null?[...C,[u(T,x),"[",L,"]"].join("")]:[...C,[u(T,x),"[",u(L,x),"]=",u(z,x)].join("")]};case"bracket":return T=>(C,z)=>z===void 0||x.skipNull&&z===null||x.skipEmptyString&&z===""?C:z===null?[...C,[u(T,x),"[]"].join("")]:[...C,[u(T,x),"[]=",u(z,x)].join("")];case"comma":case"separator":case"bracket-separator":{const T=x.arrayFormat==="bracket-separator"?"[]=":"=";return C=>(z,L)=>L===void 0||x.skipNull&&L===null||x.skipEmptyString&&L===""?z:(L=L===null?"":L,z.length===0?[[u(C,x),T,u(L,x)].join("")]:[[z,u(L,x)].join(x.arrayFormatSeparator)])}default:return T=>(C,z)=>z===void 0||x.skipNull&&z===null||x.skipEmptyString&&z===""?C:z===null?[...C,u(T,x)]:[...C,[u(T,x),"=",u(z,x)].join("")]}}function l(x){let T;switch(x.arrayFormat){case"index":return(C,z,L)=>{if(T=/\[(\d*)\]$/.exec(C),C=C.replace(/\[\d*\]$/,""),!T){L[C]=z;return}L[C]===void 0&&(L[C]={}),L[C][T[1]]=z};case"bracket":return(C,z,L)=>{if(T=/(\[\])$/.exec(C),C=C.replace(/\[\]$/,""),!T){L[C]=z;return}if(L[C]===void 0){L[C]=[z];return}L[C]=[].concat(L[C],z)};case"comma":case"separator":return(C,z,L)=>{const B=typeof z=="string"&&z.includes(x.arrayFormatSeparator),O=typeof z=="string"&&!B&&f(z,x).includes(x.arrayFormatSeparator);z=O?f(z,x):z;const F=B||O?z.split(x.arrayFormatSeparator).map(H=>f(H,x)):z===null?z:f(z,x);L[C]=F};case"bracket-separator":return(C,z,L)=>{const B=/(\[\])$/.test(C);if(C=C.replace(/\[\]$/,""),!B){L[C]=z&&f(z,x);return}const O=z===null?[]:z.split(x.arrayFormatSeparator).map(F=>f(F,x));if(L[C]===void 0){L[C]=O;return}L[C]=[].concat(L[C],O)};default:return(C,z,L)=>{if(L[C]===void 0){L[C]=z;return}L[C]=[].concat(L[C],z)}}}function c(x){if(typeof x!="string"||x.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function u(x,T){return T.encode?T.strict?e(x):encodeURIComponent(x):x}function f(x,T){return T.decode?i(x):x}function h(x){return Array.isArray(x)?x.sort():typeof x=="object"?h(Object.keys(x)).sort((T,C)=>Number(T)-Number(C)).map(T=>x[T]):x}function m(x){const T=x.indexOf("#");return T!==-1&&(x=x.slice(0,T)),x}function b(x){let T="";const C=x.indexOf("#");return C!==-1&&(T=x.slice(C)),T}function w(x){x=m(x);const T=x.indexOf("?");return T===-1?"":x.slice(T+1)}function g(x,T){return T.parseNumbers&&!Number.isNaN(Number(x))&&typeof x=="string"&&x.trim()!==""?x=Number(x):T.parseBooleans&&x!==null&&(x.toLowerCase()==="true"||x.toLowerCase()==="false")&&(x=x.toLowerCase()==="true"),x}function A(x,T){T=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},T),c(T.arrayFormatSeparator);const C=l(T),z=Object.create(null);if(typeof x!="string"||(x=x.trim().replace(/^[?#&]/,""),!x))return z;for(const L of x.split("&")){if(L==="")continue;let[B,O]=n(T.decode?L.replace(/\+/g," "):L,"=");O=O===void 0?null:["comma","separator","bracket-separator"].includes(T.arrayFormat)?O:f(O,T),C(f(B,T),O,z)}for(const L of Object.keys(z)){const B=z[L];if(typeof B=="object"&&B!==null)for(const O of Object.keys(B))B[O]=g(B[O],T);else z[L]=g(B,T)}return T.sort===!1?z:(T.sort===!0?Object.keys(z).sort():Object.keys(z).sort(T.sort)).reduce((L,B)=>{const O=z[B];return Boolean(O)&&typeof O=="object"&&!Array.isArray(O)?L[B]=h(O):L[B]=O,L},Object.create(null))}t.extract=w,t.parse=A,t.stringify=(x,T)=>{if(!x)return"";T=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},T),c(T.arrayFormatSeparator);const C=O=>T.skipNull&&o(x[O])||T.skipEmptyString&&x[O]==="",z=s(T),L={};for(const O of Object.keys(x))C(O)||(L[O]=x[O]);const B=Object.keys(L);return T.sort!==!1&&B.sort(T.sort),B.map(O=>{const F=x[O];return F===void 0?"":F===null?u(O,T):Array.isArray(F)?F.length===0&&T.arrayFormat==="bracket-separator"?u(O,T)+"[]":F.reduce(z(O),[]).join("&"):u(O,T)+"="+u(F,T)}).filter(O=>O.length>0).join("&")},t.parseUrl=(x,T)=>{T=Object.assign({decode:!0},T);const[C,z]=n(x,"#");return Object.assign({url:C.split("?")[0]||"",query:A(w(x),T)},T&&T.parseFragmentIdentifier&&z?{fragmentIdentifier:f(z,T)}:{})},t.stringifyUrl=(x,T)=>{T=Object.assign({encode:!0,strict:!0,[a]:!0},T);const C=m(x.url).split("?")[0]||"",z=t.extract(x.url),L=t.parse(z,{sort:!1}),B=Object.assign(L,x.query);let O=t.stringify(B,T);O&&(O=`?${O}`);let F=b(x.url);return x.fragmentIdentifier&&(F=`#${T[a]?u(x.fragmentIdentifier,T):x.fragmentIdentifier}`),`${C}${O}${F}`},t.pick=(x,T,C)=>{C=Object.assign({parseFragmentIdentifier:!0,[a]:!1},C);const{url:z,query:L,fragmentIdentifier:B}=t.parseUrl(x,C);return t.stringifyUrl({url:z,query:r(L,T),fragmentIdentifier:B},C)},t.exclude=(x,T,C)=>{const z=Array.isArray(T)?L=>!T.includes(L):(L,B)=>!T(L,B);return t.pick(x,z,C)}})(pA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QJ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,n)=>{i?this.reject(i):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qJ(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hA())}function KJ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XJ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JJ(){return hA().indexOf("Electron/")>=0}function ZJ(){const t=hA();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eZ(){return hA().indexOf("MSAppHost/")>=0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tZ="FirebaseError";class Bg extends Error{constructor(e,i,n){super(i),this.code=e,this.customData=n,this.name=tZ,Object.setPrototypeOf(this,Bg.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z8.prototype.create)}}class Z8{constructor(e,i,n){this.service=e,this.serviceName=i,this.errors=n}create(e,...i){const n=i[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?iZ(o,n):"Error",s=`${this.serviceName}: ${a} (${r}).`;return new Bg(r,s,n)}}function iZ(t,e){return t.replace(nZ,(i,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const nZ=/\{\$([^}]+)}/g;function Py(t,e){if(t===e)return!0;const i=Object.keys(t),n=Object.keys(e);for(const r of i){if(!n.includes(r))return!1;const o=t[r],a=e[r];if(T4(o)&&T4(a)){if(!Py(o,a))return!1}else if(o!==a)return!1}for(const r of n)if(!i.includes(r))return!1;return!0}function T4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(t){return t&&t._delegate?t._delegate:t}class tp{constructor(e,i,n){this.name=e,this.instanceFactory=i,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const n=new QJ;if(this.instancesDeferred.set(i,n),this.isInitialized(i)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:i});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aZ(e))try{this.getOrInitializeService({instanceIdentifier:yc})}catch{}for(const[i,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(i);try{const o=this.getOrInitializeService({instanceIdentifier:r});n.resolve(o)}catch{}}}}clearInstance(e=yc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yc){return this.instances.has(e)}getOptions(e=yc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:i});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);n===s&&a.resolve(r)}return r}onInit(e,i){var n;const r=this.normalizeInstanceIdentifier(i),o=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const n=this.onInitCallbacks.get(i);if(!!n)for(const r of n)try{r(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:oZ(e),options:i}),this.instances.set(e,n),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=yc){return this.component?this.component.multipleInstances?e:yc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oZ(t){return t===yc?void 0:t}function aZ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new rZ(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Vt||(Vt={}));const lZ={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},cZ=Vt.INFO,uZ={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},dZ=(t,e,...i)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),r=uZ[e];if(r)console[r](`[${n}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eB{constructor(e){this.name=e,this._logLevel=cZ,this._logHandler=dZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...e),this._logHandler(this,Vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...e),this._logHandler(this,Vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...e),this._logHandler(this,Vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...e),this._logHandler(this,Vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...e),this._logHandler(this,Vt.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(pZ(i)){const n=i.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(i=>i).join(" ")}}function pZ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yT="@firebase/app",S4="0.7.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new eB("@firebase/app"),hZ="@firebase/app-compat",mZ="@firebase/analytics-compat",gZ="@firebase/analytics",bZ="@firebase/app-check-compat",vZ="@firebase/app-check",yZ="@firebase/auth",wZ="@firebase/auth-compat",AZ="@firebase/database",xZ="@firebase/database-compat",kZ="@firebase/functions",_Z="@firebase/functions-compat",TZ="@firebase/installations",SZ="@firebase/installations-compat",CZ="@firebase/messaging",EZ="@firebase/messaging-compat",zZ="@firebase/performance",IZ="@firebase/performance-compat",PZ="@firebase/remote-config",RZ="@firebase/remote-config-compat",LZ="@firebase/storage",OZ="@firebase/storage-compat",DZ="@firebase/firestore",MZ="@firebase/firestore-compat",BZ="firebase",FZ="9.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB="[DEFAULT]",NZ={[yT]:"fire-core",[hZ]:"fire-core-compat",[gZ]:"fire-analytics",[mZ]:"fire-analytics-compat",[vZ]:"fire-app-check",[bZ]:"fire-app-check-compat",[yZ]:"fire-auth",[wZ]:"fire-auth-compat",[AZ]:"fire-rtdb",[xZ]:"fire-rtdb-compat",[kZ]:"fire-fn",[_Z]:"fire-fn-compat",[TZ]:"fire-iid",[SZ]:"fire-iid-compat",[CZ]:"fire-fcm",[EZ]:"fire-fcm-compat",[zZ]:"fire-perf",[IZ]:"fire-perf-compat",[PZ]:"fire-rc",[RZ]:"fire-rc-compat",[LZ]:"fire-gcs",[OZ]:"fire-gcs-compat",[DZ]:"fire-fst",[MZ]:"fire-fst-compat","fire-js":"fire-js",[BZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=new Map,wT=new Map;function jZ(t,e){try{t.container.addComponent(e)}catch(i){uC.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Fg(t){const e=t.name;if(wT.has(e))return uC.debug(`There were multiple attempts to register component ${e}.`),!1;wT.set(e,t);for(const i of Ry.values())jZ(i,t);return!0}function mA(t,e){return t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function."},Ly=new Z8("app","Firebase",UZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{constructor(e,i,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ly.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=FZ;function HZ(t,e={}){typeof e!="object"&&(e={name:e});const i=Object.assign({name:tB,automaticDataCollectionEnabled:!1},e),n=i.name;if(typeof n!="string"||!n)throw Ly.create("bad-app-name",{appName:String(n)});const r=Ry.get(n);if(r){if(Py(t,r.options)&&Py(i,r.config))return r;throw Ly.create("duplicate-app",{appName:n})}const o=new sZ(n);for(const s of wT.values())o.addComponent(s);const a=new GZ(t,i,o);return Ry.set(n,a),a}function dC(t=tB){const e=Ry.get(t);if(!e)throw Ly.create("no-app",{appName:t});return e}function wa(t,e,i){var n;let r=(n=NZ[t])!==null&&n!==void 0?n:t;i&&(r+=`-${i}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${r}" with version "${e}":`];o&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),uC.warn(s.join(" "));return}Fg(new tp(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YZ(t){Fg(new tp("platform-logger",e=>new fZ(e),"PRIVATE")),wa(yT,S4,t),wa(yT,S4,"esm2017"),wa("fire-js","")}YZ("");var WZ=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Je,fC=fC||{},ft=WZ||self;function Oy(){}function AT(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ng(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function VZ(t){return Object.prototype.hasOwnProperty.call(t,_k)&&t[_k]||(t[_k]=++$Z)}var _k="closure_uid_"+(1e9*Math.random()>>>0),$Z=0;function QZ(t,e,i){return t.call.apply(t.bind,arguments)}function qZ(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function gn(t,e,i){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gn=QZ:gn=qZ,gn.apply(null,arguments)}function J0(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var n=i.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function An(t,e){function i(){}i.prototype=e.prototype,t.Z=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Vb=function(n,r,o){for(var a=Array(arguments.length-2),s=2;s<arguments.length;s++)a[s-2]=arguments[s];return e.prototype[r].apply(n,a)}}function $l(){this.s=this.s,this.o=this.o}var KZ=0;$l.prototype.s=!1;$l.prototype.na=function(){!this.s&&(this.s=!0,this.M(),KZ!=0)&&VZ(this)};$l.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nB=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let i=0;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1},rB=Array.prototype.forEach?function(t,e,i){Array.prototype.forEach.call(t,e,i)}:function(t,e,i){const n=t.length,r=typeof t=="string"?t.split(""):t;for(let o=0;o<n;o++)o in r&&e.call(i,r[o],o,t)};function XZ(t){e:{var e=Gee;const i=t.length,n=typeof t=="string"?t.split(""):t;for(let r=0;r<i;r++)if(r in n&&e.call(void 0,n[r],r,t)){e=r;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function C4(t){return Array.prototype.concat.apply([],arguments)}function pC(t){const e=t.length;if(0<e){const i=Array(e);for(let n=0;n<e;n++)i[n]=t[n];return i}return[]}function Dy(t){return/^[\s\xa0]*$/.test(t)}var E4=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $n(t,e){return t.indexOf(e)!=-1}function Tk(t,e){return t<e?-1:t>e?1:0}var Qn;e:{var z4=ft.navigator;if(z4){var I4=z4.userAgent;if(I4){Qn=I4;break e}}Qn=""}function hC(t,e,i){for(const n in t)e.call(i,t[n],n,t)}function oB(t){const e={};for(const i in t)e[i]=t[i];return e}var P4="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aB(t,e){let i,n;for(let r=1;r<arguments.length;r++){n=arguments[r];for(i in n)t[i]=n[i];for(let o=0;o<P4.length;o++)i=P4[o],Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}}function mC(t){return mC[" "](t),t}mC[" "]=Oy;function JZ(t){var e=tee;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var ZZ=$n(Qn,"Opera"),tf=$n(Qn,"Trident")||$n(Qn,"MSIE"),sB=$n(Qn,"Edge"),xT=sB||tf,lB=$n(Qn,"Gecko")&&!($n(Qn.toLowerCase(),"webkit")&&!$n(Qn,"Edge"))&&!($n(Qn,"Trident")||$n(Qn,"MSIE"))&&!$n(Qn,"Edge"),eee=$n(Qn.toLowerCase(),"webkit")&&!$n(Qn,"Edge");function cB(){var t=ft.document;return t?t.documentMode:void 0}var My;e:{var Sk="",Ck=function(){var t=Qn;if(lB)return/rv:([^\);]+)(\)|;)/.exec(t);if(sB)return/Edge\/([\d\.]+)/.exec(t);if(tf)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(eee)return/WebKit\/(\S+)/.exec(t);if(ZZ)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ck&&(Sk=Ck?Ck[1]:""),tf){var Ek=cB();if(Ek!=null&&Ek>parseFloat(Sk)){My=String(Ek);break e}}My=Sk}var tee={};function iee(){return JZ(function(){let t=0;const e=E4(String(My)).split("."),i=E4("9").split("."),n=Math.max(e.length,i.length);for(let a=0;t==0&&a<n;a++){var r=e[a]||"",o=i[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],r[0].length==0&&o[0].length==0)break;t=Tk(r[1].length==0?0:parseInt(r[1],10),o[1].length==0?0:parseInt(o[1],10))||Tk(r[2].length==0,o[2].length==0)||Tk(r[2],o[2]),r=r[3],o=o[3]}while(t==0)}return 0<=t})}var kT;if(ft.document&&tf){var R4=cB();kT=R4||parseInt(My,10)||void 0}else kT=void 0;var nee=kT,ree=function(){if(!ft.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ft.addEventListener("test",Oy,e),ft.removeEventListener("test",Oy,e)}catch{}return t}();function Ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ln.prototype.h=function(){this.defaultPrevented=!0};function Dm(t,e){if(Ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(lB){e:{try{mC(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else i=="mouseover"?e=t.fromElement:i=="mouseout"&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:oee[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Dm.Z.h.call(this)}}An(Dm,Ln);var oee={2:"touch",3:"pen",4:"mouse"};Dm.prototype.h=function(){Dm.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var jg="closure_listenable_"+(1e6*Math.random()|0),aee=0;function see(t,e,i,n,r){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!n,this.ia=r,this.key=++aee,this.ca=this.fa=!1}function gA(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function bA(t){this.src=t,this.g={},this.h=0}bA.prototype.add=function(t,e,i,n,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=TT(t,e,n,r);return-1<a?(e=t[a],i||(e.fa=!1)):(e=new see(e,this.src,o,!!n,r),e.fa=i,t.push(e)),e};function _T(t,e){var i=e.type;if(i in t.g){var n=t.g[i],r=nB(n,e),o;(o=0<=r)&&Array.prototype.splice.call(n,r,1),o&&(gA(e),t.g[i].length==0&&(delete t.g[i],t.h--))}}function TT(t,e,i,n){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ca&&o.listener==e&&o.capture==!!i&&o.ia==n)return r}return-1}var gC="closure_lm_"+(1e6*Math.random()|0),zk={};function uB(t,e,i,n,r){if(n&&n.once)return fB(t,e,i,n,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)uB(t,e[o],i,n,r);return null}return i=yC(i),t&&t[jg]?t.N(e,i,Ng(n)?!!n.capture:!!n,r):dB(t,e,i,!1,n,r)}function dB(t,e,i,n,r,o){if(!e)throw Error("Invalid event type");var a=Ng(r)?!!r.capture:!!r,s=vC(t);if(s||(t[gC]=s=new bA(t)),i=s.add(e,i,n,a,o),i.proxy)return i;if(n=lee(),i.proxy=n,n.src=t,n.listener=i,t.addEventListener)ree||(r=a),r===void 0&&(r=!1),t.addEventListener(e.toString(),n,r);else if(t.attachEvent)t.attachEvent(hB(e.toString()),n);else if(t.addListener&&t.removeListener)t.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return i}function lee(){function t(i){return e.call(t.src,t.listener,i)}var e=cee;return t}function fB(t,e,i,n,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)fB(t,e[o],i,n,r);return null}return i=yC(i),t&&t[jg]?t.O(e,i,Ng(n)?!!n.capture:!!n,r):dB(t,e,i,!0,n,r)}function pB(t,e,i,n,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)pB(t,e[o],i,n,r);else n=Ng(n)?!!n.capture:!!n,i=yC(i),t&&t[jg]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],i=TT(o,i,n,r),-1<i&&(gA(o[i]),Array.prototype.splice.call(o,i,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=vC(t))&&(e=t.g[e.toString()],t=-1,e&&(t=TT(e,i,n,r)),(i=-1<t?e[t]:null)&&bC(i))}function bC(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[jg])_T(e.i,t);else{var i=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(i,n,t.capture):e.detachEvent?e.detachEvent(hB(i),n):e.addListener&&e.removeListener&&e.removeListener(n),(i=vC(e))?(_T(i,t),i.h==0&&(i.src=null,e[gC]=null)):gA(t)}}}function hB(t){return t in zk?zk[t]:zk[t]="on"+t}function cee(t,e){if(t.ca)t=!0;else{e=new Dm(e,this);var i=t.listener,n=t.ia||t.src;t.fa&&bC(t),t=i.call(n,e)}return t}function vC(t){return t=t[gC],t instanceof bA?t:null}var Ik="__closure_events_fn_"+(1e9*Math.random()>>>0);function yC(t){return typeof t=="function"?t:(t[Ik]||(t[Ik]=function(e){return t.handleEvent(e)}),t[Ik])}function rn(){$l.call(this),this.i=new bA(this),this.P=this,this.I=null}An(rn,$l);rn.prototype[jg]=!0;rn.prototype.removeEventListener=function(t,e,i,n){pB(this,t,e,i,n)};function bn(t,e){var i,n=t.I;if(n)for(i=[];n;n=n.I)i.push(n);if(t=t.P,n=e.type||e,typeof e=="string")e=new Ln(e,t);else if(e instanceof Ln)e.target=e.target||t;else{var r=e;e=new Ln(n,t),aB(e,r)}if(r=!0,i)for(var o=i.length-1;0<=o;o--){var a=e.g=i[o];r=Z0(a,n,!0,e)&&r}if(a=e.g=t,r=Z0(a,n,!0,e)&&r,r=Z0(a,n,!1,e)&&r,i)for(o=0;o<i.length;o++)a=e.g=i[o],r=Z0(a,n,!1,e)&&r}rn.prototype.M=function(){if(rn.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var i=t.g[e],n=0;n<i.length;n++)gA(i[n]);delete t.g[e],t.h--}}this.I=null};rn.prototype.N=function(t,e,i,n){return this.i.add(String(t),e,!1,i,n)};rn.prototype.O=function(t,e,i,n){return this.i.add(String(t),e,!0,i,n)};function Z0(t,e,i,n){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==i){var s=a.listener,l=a.ia||a.src;a.fa&&_T(t.i,a),r=s.call(l,n)!==!1&&r}}return r&&!n.defaultPrevented}var wC=ft.JSON.stringify;function uee(){var t=gB;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class dee{constructor(){this.h=this.g=null}add(e,i){const n=mB.get();n.set(e,i),this.h?this.h.next=n:this.g=n,this.h=n}}var mB=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new fee,t=>t.reset());class fee{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}function pee(t){ft.setTimeout(()=>{throw t},0)}function AC(t,e){ST||hee(),CT||(ST(),CT=!0),gB.add(t,e)}var ST;function hee(){var t=ft.Promise.resolve(void 0);ST=function(){t.then(mee)}}var CT=!1,gB=new dee;function mee(){for(var t;t=uee();){try{t.h.call(t.g)}catch(i){pee(i)}var e=mB;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}CT=!1}function vA(t,e){rn.call(this),this.h=t||1,this.g=e||ft,this.j=gn(this.kb,this),this.l=Date.now()}An(vA,rn);Je=vA.prototype;Je.da=!1;Je.S=null;Je.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),bn(this,"tick"),this.da&&(xC(this),this.start()))}};Je.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xC(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}Je.M=function(){vA.Z.M.call(this),xC(this),delete this.g};function kC(t,e,i){if(typeof t=="function")i&&(t=gn(t,i));else if(t&&typeof t.handleEvent=="function")t=gn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ft.setTimeout(t,e||0)}function bB(t){t.g=kC(()=>{t.g=null,t.i&&(t.i=!1,bB(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class gee extends $l{constructor(e,i){super(),this.m=e,this.j=i,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bB(this)}M(){super.M(),this.g&&(ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mm(t){$l.call(this),this.h=t,this.g={}}An(Mm,$l);var L4=[];function vB(t,e,i,n){Array.isArray(i)||(i&&(L4[0]=i.toString()),i=L4);for(var r=0;r<i.length;r++){var o=uB(e,i[r],n||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function yB(t){hC(t.g,function(e,i){this.g.hasOwnProperty(i)&&bC(e)},t),t.g={}}Mm.prototype.M=function(){Mm.Z.M.call(this),yB(this)};Mm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function yA(){this.g=!0}yA.prototype.Aa=function(){this.g=!1};function bee(t,e,i,n,r,o){t.info(function(){if(t.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var f=u.split("_");a=2<=f.length&&f[1]=="type"?a+(u+"="+c+"&"):a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+e+`
`+i+`
`+a})}function vee(t,e,i,n,r,o,a){t.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+e+`
`+i+`
`+o+" "+a})}function kd(t,e,i,n){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+wee(t,i)+(n?" "+n:"")})}function yee(t,e){t.info(function(){return"TIMEOUT: "+e})}yA.prototype.info=function(){};function wee(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i){for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var n=i[t];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<r.length;a++)r[a]=""}}}}return wC(i)}catch{return e}}var wu={},O4=null;function wA(){return O4=O4||new rn}wu.Ma="serverreachability";function wB(t){Ln.call(this,wu.Ma,t)}An(wB,Ln);function Bm(t){const e=wA();bn(e,new wB(e))}wu.STAT_EVENT="statevent";function AB(t,e){Ln.call(this,wu.STAT_EVENT,t),this.stat=e}An(AB,Ln);function tr(t){const e=wA();bn(e,new AB(e,t))}wu.Na="timingevent";function xB(t,e){Ln.call(this,wu.Na,t),this.size=e}An(xB,Ln);function Ug(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ft.setTimeout(function(){t()},e)}var AA={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},kB={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _C(){}_C.prototype.h=null;function D4(t){return t.h||(t.h=t.i())}function _B(){}var Gg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function TC(){Ln.call(this,"d")}An(TC,Ln);function SC(){Ln.call(this,"c")}An(SC,Ln);var ET;function xA(){}An(xA,_C);xA.prototype.g=function(){return new XMLHttpRequest};xA.prototype.i=function(){return{}};ET=new xA;function Hg(t,e,i,n){this.l=t,this.j=e,this.m=i,this.X=n||1,this.V=new Mm(this),this.P=Aee,t=xT?125:void 0,this.W=new vA(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new TB}function TB(){this.i=null,this.g="",this.h=!1}var Aee=45e3,zT={},By={};Je=Hg.prototype;Je.setTimeout=function(t){this.P=t};function IT(t,e,i){t.K=1,t.v=_A(Cs(e)),t.s=i,t.U=!0,SB(t,null)}function SB(t,e){t.F=Date.now(),Yg(t),t.A=Cs(t.v);var i=t.A,n=t.X;Array.isArray(n)||(n=[String(n)]),LB(i.h,"t",n),t.C=0,i=t.l.H,t.h=new TB,t.g=ZB(t.l,i?e:null,!t.s),0<t.O&&(t.L=new gee(gn(t.Ia,t,t.g),t.O)),vB(t.V,t.g,"readystatechange",t.gb),e=t.H?oB(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Bm(),bee(t.j,t.u,t.A,t.m,t.X,t.s)}Je.gb=function(t){t=t.target;const e=this.L;e&&vs(t)==3?e.l():this.Ia(t)};Je.Ia=function(t){try{if(t==this.g)e:{const u=vs(this.g);var e=this.g.Da();const f=this.g.ba();if(!(3>u)&&(u!=3||xT||this.g&&(this.h.h||this.g.ga()||N4(this.g)))){this.I||u!=4||e==7||(e==8||0>=f?Bm(3):Bm(2)),kA(this);var i=this.g.ba();this.N=i;t:if(CB(this)){var n=N4(this.g);t="";var r=n.length,o=vs(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Rc(this),am(this);var a="";break t}this.h.i=new ft.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:o&&e==r-1});n.splice(0,r),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=i==200,vee(this.j,this.u,this.A,this.m,this.X,u,i),this.i){if(this.$&&!this.J){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dy(s)){var c=s;break t}}c=null}if(i=c)kd(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,PT(this,i);else{this.i=!1,this.o=3,tr(12),Rc(this),am(this);break e}}this.U?(EB(this,u,a),xT&&this.i&&u==3&&(vB(this.V,this.W,"tick",this.fb),this.W.start())):(kd(this.j,this.m,a,null),PT(this,a)),u==4&&Rc(this),this.i&&!this.I&&(u==4?qB(this.l,this):(this.i=!1,Yg(this)))}else i==400&&0<a.indexOf("Unknown SID")?(this.o=3,tr(12)):(this.o=0,tr(13)),Rc(this),am(this)}}}catch{}finally{}};function CB(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function EB(t,e,i){let n=!0,r;for(;!t.I&&t.C<i.length;)if(r=xee(t,i),r==By){e==4&&(t.o=4,tr(14),n=!1),kd(t.j,t.m,null,"[Incomplete Response]");break}else if(r==zT){t.o=4,tr(15),kd(t.j,t.m,i,"[Invalid Chunk]"),n=!1;break}else kd(t.j,t.m,r,null),PT(t,r);CB(t)&&r!=By&&r!=zT&&(t.h.g="",t.C=0),e!=4||i.length!=0||t.h.h||(t.o=1,tr(16),n=!1),t.i=t.i&&n,n?0<i.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),DC(e),e.L=!0,tr(11))):(kd(t.j,t.m,i,"[Invalid Chunked Response]"),Rc(t),am(t))}Je.fb=function(){if(this.g){var t=vs(this.g),e=this.g.ga();this.C<e.length&&(kA(this),EB(this,t,e),this.i&&t!=4&&Yg(this))}};function xee(t,e){var i=t.C,n=e.indexOf(`
`,i);return n==-1?By:(i=Number(e.substring(i,n)),isNaN(i)?zT:(n+=1,n+i>e.length?By:(e=e.substr(n,i),t.C=n+i,e)))}Je.cancel=function(){this.I=!0,Rc(this)};function Yg(t){t.Y=Date.now()+t.P,zB(t,t.P)}function zB(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ug(gn(t.eb,t),e)}function kA(t){t.B&&(ft.clearTimeout(t.B),t.B=null)}Je.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(yee(this.j,this.A),this.K!=2&&(Bm(),tr(17)),Rc(this),this.o=2,am(this)):zB(this,this.Y-t)};function am(t){t.l.G==0||t.I||qB(t.l,t)}function Rc(t){kA(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,xC(t.W),yB(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function PT(t,e){try{var i=t.l;if(i.G!=0&&(i.g==t||RT(i.i,t))){if(i.I=t.N,!t.J&&RT(i.i,t)&&i.G==3){try{var n=i.Ca.g.parse(e)}catch{n=null}if(Array.isArray(n)&&n.length==3){var r=n;if(r[0]==0){e:if(!i.u){if(i.g)if(i.g.F+3e3<t.F)Uy(i),CA(i);else break e;OC(i),tr(18)}}else i.ta=r[1],0<i.ta-i.U&&37500>r[2]&&i.N&&i.A==0&&!i.v&&(i.v=Ug(gn(i.ab,i),6e3));if(1>=MB(i.i)&&i.ka){try{i.ka()}catch{}i.ka=void 0}}else Lc(i,11)}else if((t.J||i.g==t)&&Uy(i),!Dy(e))for(r=i.Ca.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(i.U=c[0],c=c[1],i.G==2)if(c[0]=="c"){i.J=c[1],i.la=c[2];const u=c[3];u!=null&&(i.ma=u,i.h.info("VER="+i.ma));const f=c[4];f!=null&&(i.za=f,i.h.info("SVER="+i.za));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(n=1.5*h,i.K=n,i.h.info("backChannelRequestTimeoutMs_="+n)),n=i;const m=t.g;if(m){const b=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=n.i;!o.g&&($n(b,"spdy")||$n(b,"quic")||$n(b,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(zC(o,o.h),o.h=null))}if(n.D){const w=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(n.sa=w,di(n.F,n.D,w))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-t.F,i.h.info("Handshake RTT: "+i.O+"ms")),n=i;var a=t;if(n.oa=JB(n,n.H?n.la:null,n.W),a.J){BB(n.i,a);var s=a,l=n.K;l&&s.setTimeout(l),s.B&&(kA(s),Yg(s)),n.g=a}else $B(n);0<i.l.length&&EA(i)}else c[0]!="stop"&&c[0]!="close"||Lc(i,7);else i.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Lc(i,7):LC(i):c[0]!="noop"&&i.j&&i.j.wa(c),i.A=0)}}Bm(4)}catch{}}function kee(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(AT(t)){for(var e=[],i=t.length,n=0;n<i;n++)e.push(t[n]);return e}e=[],i=0;for(n in t)e[i++]=t[n];return e}function CC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(AT(t)||typeof t=="string")rB(t,e,void 0);else{if(t.T&&typeof t.T=="function")var i=t.T();else if(t.R&&typeof t.R=="function")i=void 0;else if(AT(t)||typeof t=="string"){i=[];for(var n=t.length,r=0;r<n;r++)i.push(r)}else for(r in i=[],n=0,t)i[n++]=r;n=kee(t),r=n.length;for(var o=0;o<r;o++)e.call(void 0,n[o],i&&i[o],t)}}function ip(t,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var n=0;n<i;n+=2)this.set(arguments[n],arguments[n+1])}else if(t)if(t instanceof ip)for(i=t.T(),n=0;n<i.length;n++)this.set(i[n],t.get(i[n]));else for(n in t)this.set(n,t[n])}Je=ip.prototype;Je.R=function(){EC(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};Je.T=function(){return EC(this),this.g.concat()};function EC(t){if(t.i!=t.g.length){for(var e=0,i=0;e<t.g.length;){var n=t.g[e];nu(t.h,n)&&(t.g[i++]=n),e++}t.g.length=i}if(t.i!=t.g.length){var r={};for(i=e=0;e<t.g.length;)n=t.g[e],nu(r,n)||(t.g[i++]=n,r[n]=1),e++;t.g.length=i}}Je.get=function(t,e){return nu(this.h,t)?this.h[t]:e};Je.set=function(t,e){nu(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};Je.forEach=function(t,e){for(var i=this.T(),n=0;n<i.length;n++){var r=i[n],o=this.get(r);t.call(e,o,r,this)}};function nu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var IB=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _ee(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var n=t[i].indexOf("="),r=null;if(0<=n){var o=t[i].substring(0,n);r=t[i].substring(n+1)}else o=t[i];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function ru(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ru){this.g=e!==void 0?e:t.g,Fy(this,t.j),this.s=t.s,Ny(this,t.i),jy(this,t.m),this.l=t.l,e=t.h;var i=new Fm;i.i=e.i,e.g&&(i.g=new ip(e.g),i.h=e.h),M4(this,i),this.o=t.o}else t&&(i=String(t).match(IB))?(this.g=!!e,Fy(this,i[1]||"",!0),this.s=sm(i[2]||""),Ny(this,i[3]||"",!0),jy(this,i[4]),this.l=sm(i[5]||"",!0),M4(this,i[6]||"",!0),this.o=sm(i[7]||"")):(this.g=!!e,this.h=new Fm(null,this.g))}ru.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Nh(e,B4,!0),":");var i=this.i;return(i||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Nh(e,B4,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i=this.m,i!=null&&t.push(":",String(i))),(i=this.l)&&(this.i&&i.charAt(0)!="/"&&t.push("/"),t.push(Nh(i,i.charAt(0)=="/"?zee:Eee,!0))),(i=this.h.toString())&&t.push("?",i),(i=this.o)&&t.push("#",Nh(i,Pee)),t.join("")};function Cs(t){return new ru(t)}function Fy(t,e,i){t.j=i?sm(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ny(t,e,i){t.i=i?sm(e,!0):e}function jy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function M4(t,e,i){e instanceof Fm?(t.h=e,Ree(t.h,t.g)):(i||(e=Nh(e,Iee)),t.h=new Fm(e,t.g))}function di(t,e,i){t.h.set(e,i)}function _A(t){return di(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Tee(t){return t instanceof ru?Cs(t):new ru(t,void 0)}function See(t,e,i,n){var r=new ru(null,void 0);return t&&Fy(r,t),e&&Ny(r,e),i&&jy(r,i),n&&(r.l=n),r}function sm(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Nh(t,e,i){return typeof t=="string"?(t=encodeURI(t).replace(e,Cee),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Cee(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var B4=/[#\/\?@]/g,Eee=/[#\?:]/g,zee=/[#\?]/g,Iee=/[#\?@]/g,Pee=/#/g;function Fm(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ql(t){t.g||(t.g=new ip,t.h=0,t.i&&_ee(t.i,function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}Je=Fm.prototype;Je.add=function(t,e){Ql(this),this.i=null,t=np(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this};function PB(t,e){Ql(t),e=np(t,e),nu(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,nu(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&EC(t)))}function RB(t,e){return Ql(t),e=np(t,e),nu(t.g.h,e)}Je.forEach=function(t,e){Ql(this),this.g.forEach(function(i,n){rB(i,function(r){t.call(e,r,n,this)},this)},this)};Je.T=function(){Ql(this);for(var t=this.g.R(),e=this.g.T(),i=[],n=0;n<e.length;n++)for(var r=t[n],o=0;o<r.length;o++)i.push(e[n]);return i};Je.R=function(t){Ql(this);var e=[];if(typeof t=="string")RB(this,t)&&(e=C4(e,this.g.get(np(this,t))));else{t=this.g.R();for(var i=0;i<t.length;i++)e=C4(e,t[i])}return e};Je.set=function(t,e){return Ql(this),this.i=null,t=np(this,t),RB(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Je.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function LB(t,e,i){PB(t,e),0<i.length&&(t.i=null,t.g.set(np(t,e),pC(i)),t.h+=i.length)}Je.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),i=0;i<e.length;i++){var n=e[i],r=encodeURIComponent(String(n));n=this.R(n);for(var o=0;o<n.length;o++){var a=r;n[o]!==""&&(a+="="+encodeURIComponent(String(n[o]))),t.push(a)}}return this.i=t.join("&")};function np(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ree(t,e){e&&!t.j&&(Ql(t),t.i=null,t.g.forEach(function(i,n){var r=n.toLowerCase();n!=r&&(PB(this,n),LB(this,r,i))},t)),t.j=e}var Lee=class{constructor(t,e){this.h=t,this.g=e}};function OB(t){this.l=t||Oee,ft.PerformanceNavigationTiming?(t=ft.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ft.g&&ft.g.Ea&&ft.g.Ea()&&ft.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Oee=10;function DB(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function MB(t){return t.h?1:t.g?t.g.size:0}function RT(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function zC(t,e){t.g?t.g.add(e):t.h=e}function BB(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}OB.prototype.cancel=function(){if(this.i=FB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function FB(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const i of t.g.values())e=e.concat(i.D);return e}return pC(t.i)}function IC(){}IC.prototype.stringify=function(t){return ft.JSON.stringify(t,void 0)};IC.prototype.parse=function(t){return ft.JSON.parse(t,void 0)};function Dee(){this.g=new IC}function Mee(t,e,i){const n=i||"";try{CC(t,function(r,o){let a=r;Ng(r)&&(a=wC(r)),e.push(n+o+"="+encodeURIComponent(a))})}catch(r){throw e.push(n+"type="+encodeURIComponent("_badmap")),r}}function Bee(t,e){const i=new yA;if(ft.Image){const n=new Image;n.onload=J0(ev,i,n,"TestLoadImage: loaded",!0,e),n.onerror=J0(ev,i,n,"TestLoadImage: error",!1,e),n.onabort=J0(ev,i,n,"TestLoadImage: abort",!1,e),n.ontimeout=J0(ev,i,n,"TestLoadImage: timeout",!1,e),ft.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=t}else e(!1)}function ev(t,e,i,n,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(n)}catch{}}function Wg(t){this.l=t.$b||null,this.j=t.ib||!1}An(Wg,_C);Wg.prototype.g=function(){return new TA(this.l,this.j)};Wg.prototype.i=function(t){return function(){return t}}({});function TA(t,e){rn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=PC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}An(TA,rn);var PC=0;Je=TA.prototype;Je.open=function(t,e){if(this.readyState!=PC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Nm(this)};Je.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ft).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};Je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vg(this)),this.readyState=PC};Je.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Nm(this)),this.g&&(this.readyState=3,Nm(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ft.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;NB(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function NB(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}Je.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Vg(this):Nm(this),this.readyState==3&&NB(this)}};Je.Ua=function(t){this.g&&(this.response=this.responseText=t,Vg(this))};Je.Ta=function(t){this.g&&(this.response=t,Vg(this))};Je.ha=function(){this.g&&Vg(this)};function Vg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Nm(t)}Je.setRequestHeader=function(t,e){this.v.append(t,e)};Je.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Je.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var i=e.next();!i.done;)i=i.value,t.push(i[0]+": "+i[1]),i=e.next();return t.join(`\r
`)};function Nm(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(TA.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Fee=ft.JSON.parse;function Fi(t){rn.call(this),this.headers=new ip,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jB,this.K=this.L=!1}An(Fi,rn);var jB="",Nee=/^https?$/i,jee=["POST","PUT"];Je=Fi.prototype;Je.ea=function(t,e,i,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ET.g(),this.C=this.u?D4(this.u):D4(ET),this.g.onreadystatechange=gn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){F4(this,o);return}t=i||"";const r=new ip(this.headers);n&&CC(n,function(o,a){r.set(a,o)}),n=XZ(r.T()),i=ft.FormData&&t instanceof ft.FormData,!(0<=nB(jee,e))||n||i||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,a){this.g.setRequestHeader(a,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{HB(this),0<this.B&&((this.K=Uee(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gn(this.pa,this)):this.A=kC(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){F4(this,o)}};function Uee(t){return tf&&iee()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function Gee(t){return t.toLowerCase()=="content-type"}Je.pa=function(){typeof fC!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bn(this,"timeout"),this.abort(8))};function F4(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,UB(t),SA(t)}function UB(t){t.D||(t.D=!0,bn(t,"complete"),bn(t,"error"))}Je.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,bn(this,"complete"),bn(this,"abort"),SA(this))};Je.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),SA(this,!0)),Fi.Z.M.call(this)};Je.Fa=function(){this.s||(this.F||this.v||this.l?GB(this):this.cb())};Je.cb=function(){GB(this)};function GB(t){if(t.h&&typeof fC!="undefined"&&(!t.C[1]||vs(t)!=4||t.ba()!=2)){if(t.v&&vs(t)==4)kC(t.Fa,0,t);else if(bn(t,"readystatechange"),vs(t)==4){t.h=!1;try{const s=t.ba();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var i;if(!(i=e)){var n;if(n=s===0){var r=String(t.H).match(IB)[1]||null;if(!r&&ft.self&&ft.self.location){var o=ft.self.location.protocol;r=o.substr(0,o.length-1)}n=!Nee.test(r?r.toLowerCase():"")}i=n}if(i)bn(t,"complete"),bn(t,"success");else{t.m=6;try{var a=2<vs(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.ba()+"]",UB(t)}}finally{SA(t)}}}}function SA(t,e){if(t.g){HB(t);const i=t.g,n=t.C[0]?Oy:null;t.g=null,t.C=null,e||bn(t,"ready");try{i.onreadystatechange=n}catch{}}}function HB(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ft.clearTimeout(t.A),t.A=null)}function vs(t){return t.g?t.g.readyState:0}Je.ba=function(){try{return 2<vs(this)?this.g.status:-1}catch{return-1}};Je.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Je.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Fee(e)}};function N4(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case jB:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Je.Da=function(){return this.m};Je.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Hee(t){let e="";return hC(t,function(i,n){e+=n,e+=":",e+=i,e+=`\r
`}),e}function RC(t,e,i){e:{for(n in i){var n=!1;break e}n=!0}n||(i=Hee(i),typeof t=="string"?i!=null&&encodeURIComponent(String(i)):di(t,e,i))}function _h(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function YB(t){this.za=0,this.l=[],this.h=new yA,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_h("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_h("baseRetryDelayMs",5e3,t),this.$a=_h("retryDelaySeedMs",1e4,t),this.Ya=_h("forwardChannelMaxRetries",2,t),this.ra=_h("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new OB(t&&t.concurrentRequestLimit),this.Ca=new Dee,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}Je=YB.prototype;Je.ma=8;Je.G=1;function LC(t){if(WB(t),t.G==3){var e=t.V++,i=Cs(t.F);di(i,"SID",t.J),di(i,"RID",e),di(i,"TYPE","terminate"),$g(t,i),e=new Hg(t,t.h,e,void 0),e.K=2,e.v=_A(Cs(i)),i=!1,ft.navigator&&ft.navigator.sendBeacon&&(i=ft.navigator.sendBeacon(e.v.toString(),"")),!i&&ft.Image&&(new Image().src=e.v,i=!0),i||(e.g=ZB(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Yg(e)}XB(t)}Je.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function CA(t){t.g&&(DC(t),t.g.cancel(),t.g=null)}function WB(t){CA(t),t.u&&(ft.clearTimeout(t.u),t.u=null),Uy(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ft.clearTimeout(t.m),t.m=null)}function Pk(t,e){t.l.push(new Lee(t.Za++,e)),t.G==3&&EA(t)}function EA(t){DB(t.i)||t.m||(t.m=!0,AC(t.Ha,t),t.C=0)}function Yee(t,e){return MB(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Ug(gn(t.Ha,t,e),KB(t,t.C)),t.C++,!0)}Je.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const r=new Hg(this,this.h,t,void 0);let o=this.s;if(this.P&&(o?(o=oB(o),aB(o,this.P)):o=this.P),this.o===null&&(r.H=o),this.ja)e:{for(var e=0,i=0;i<this.l.length;i++){t:{var n=this.l[i];if("__data__"in n.g&&(n=n.g.__data__,typeof n=="string")){n=n.length;break t}n=void 0}if(n===void 0)break;if(e+=n,4096<e){e=i;break e}if(e===4096||i===this.l.length-1){e=i+1;break e}}e=1e3}else e=1e3;e=VB(this,r,e),i=Cs(this.F),di(i,"RID",t),di(i,"CVER",22),this.D&&di(i,"X-HTTP-Session-Id",this.D),$g(this,i),this.o&&o&&RC(i,this.o,o),zC(this.i,r),this.Ra&&di(i,"TYPE","init"),this.ja?(di(i,"$req",e),di(i,"SID","null"),r.$=!0,IT(r,i,null)):IT(r,i,e),this.G=2}}else this.G==3&&(t?j4(this,t):this.l.length==0||DB(this.i)||j4(this))};function j4(t,e){var i;e?i=e.m:i=t.V++;const n=Cs(t.F);di(n,"SID",t.J),di(n,"RID",i),di(n,"AID",t.U),$g(t,n),t.o&&t.s&&RC(n,t.o,t.s),i=new Hg(t,t.h,i,t.C+1),t.o===null&&(i.H=t.s),e&&(t.l=e.D.concat(t.l)),e=VB(t,i,1e3),i.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),zC(t.i,i),IT(i,n,e)}function $g(t,e){t.j&&CC({},function(i,n){di(e,n,i)})}function VB(t,e,i){i=Math.min(t.l.length,i);var n=t.j?gn(t.j.Oa,t.j,t):null;e:{var r=t.l;let o=-1;for(;;){const a=["count="+i];o==-1?0<i?(o=r[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);let s=!0;for(let l=0;l<i;l++){let c=r[l].h;const u=r[l].g;if(c-=o,0>c)o=Math.max(0,r[l].h-100),s=!1;else try{Mee(u,a,"req"+c+"_")}catch{n&&n(u)}}if(s){n=a.join("&");break e}}}return t=t.l.splice(0,i),e.D=t,n}function $B(t){t.g||t.u||(t.Y=1,AC(t.Ga,t),t.A=0)}function OC(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Ug(gn(t.Ga,t),KB(t,t.A)),t.A++,!0)}Je.Ga=function(){if(this.u=null,QB(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ug(gn(this.bb,this),t)}};Je.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,tr(10),CA(this),QB(this))};function DC(t){t.B!=null&&(ft.clearTimeout(t.B),t.B=null)}function QB(t){t.g=new Hg(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Cs(t.oa);di(e,"RID","rpc"),di(e,"SID",t.J),di(e,"CI",t.N?"0":"1"),di(e,"AID",t.U),$g(t,e),di(e,"TYPE","xmlhttp"),t.o&&t.s&&RC(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var i=t.g;t=t.la,i.K=1,i.v=_A(Cs(e)),i.s=null,i.U=!0,SB(i,t)}Je.ab=function(){this.v!=null&&(this.v=null,CA(this),OC(this),tr(19))};function Uy(t){t.v!=null&&(ft.clearTimeout(t.v),t.v=null)}function qB(t,e){var i=null;if(t.g==e){Uy(t),DC(t),t.g=null;var n=2}else if(RT(t.i,e))i=e.D,BB(t.i,e),n=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(n==1){i=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;n=wA(),bn(n,new xB(n,i)),EA(t)}else $B(t);else if(r=e.o,r==3||r==0&&0<t.I||!(n==1&&Yee(t,e)||n==2&&OC(t)))switch(i&&0<i.length&&(e=t.i,e.i=e.i.concat(i)),r){case 1:Lc(t,5);break;case 4:Lc(t,10);break;case 3:Lc(t,6);break;default:Lc(t,2)}}}function KB(t,e){let i=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(i*=2),i*e}function Lc(t,e){if(t.h.info("Error code "+e),e==2){var i=null;t.j&&(i=null);var n=gn(t.jb,t);i||(i=new ru("//www.google.com/images/cleardot.gif"),ft.location&&ft.location.protocol=="http"||Fy(i,"https"),_A(i)),Bee(i.toString(),n)}else tr(2);t.G=0,t.j&&t.j.va(e),XB(t),WB(t)}Je.jb=function(t){t?(this.h.info("Successfully pinged google.com"),tr(2)):(this.h.info("Failed to ping google.com"),tr(1))};function XB(t){t.G=0,t.I=-1,t.j&&((FB(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,pC(t.l),t.l.length=0),t.j.ua())}function JB(t,e,i){let n=Tee(i);if(n.i!="")e&&Ny(n,e+"."+n.i),jy(n,n.m);else{const r=ft.location;n=See(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,i)}return t.aa&&hC(t.aa,function(r,o){di(n,o,r)}),e=t.D,i=t.sa,e&&i&&di(n,e,i),di(n,"VER",t.ma),$g(t,n),n}function ZB(t,e,i){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=i&&t.Ba&&!t.qa?new Fi(new Wg({ib:!0})):new Fi(t.qa),e.L=t.H,e}function e6(){}Je=e6.prototype;Je.xa=function(){};Je.wa=function(){};Je.va=function(){};Je.ua=function(){};Je.Oa=function(){};function Gy(){if(tf&&!(10<=Number(nee)))throw Error("Environmental error: no available transport.")}Gy.prototype.g=function(t,e){return new Zr(t,e)};function Zr(t,e){rn.call(this),this.g=new YB(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Dy(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dy(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new rp(this)}An(Zr,rn);Zr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,i=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),AC(gn(t.hb,t,e))),tr(0),t.W=e,t.aa=i||{},t.N=t.X,t.F=JB(t,null,t.W),EA(t)};Zr.prototype.close=function(){LC(this.g)};Zr.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Pk(this.g,e)}else this.v?(e={},e.__data__=wC(t),Pk(this.g,e)):Pk(this.g,t)};Zr.prototype.M=function(){this.g.j=null,delete this.j,LC(this.g),delete this.g,Zr.Z.M.call(this)};function t6(t){TC.call(this);var e=t.__sm__;if(e){e:{for(const i in e){t=i;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}An(t6,TC);function i6(){SC.call(this),this.status=1}An(i6,SC);function rp(t){this.g=t}An(rp,e6);rp.prototype.xa=function(){bn(this.g,"a")};rp.prototype.wa=function(t){bn(this.g,new t6(t))};rp.prototype.va=function(t){bn(this.g,new i6)};rp.prototype.ua=function(){bn(this.g,"b")};Gy.prototype.createWebChannel=Gy.prototype.g;Zr.prototype.send=Zr.prototype.u;Zr.prototype.open=Zr.prototype.m;Zr.prototype.close=Zr.prototype.close;AA.NO_ERROR=0;AA.TIMEOUT=8;AA.HTTP_ERROR=6;kB.COMPLETE="complete";_B.EventType=Gg;Gg.OPEN="a";Gg.CLOSE="b";Gg.ERROR="c";Gg.MESSAGE="d";rn.prototype.listen=rn.prototype.N;Fi.prototype.listenOnce=Fi.prototype.O;Fi.prototype.getLastError=Fi.prototype.La;Fi.prototype.getLastErrorCode=Fi.prototype.Da;Fi.prototype.getStatus=Fi.prototype.ba;Fi.prototype.getResponseJson=Fi.prototype.Qa;Fi.prototype.getResponseText=Fi.prototype.ga;Fi.prototype.send=Fi.prototype.ea;var Wee=function(){return new Gy},Vee=function(){return wA()},Rk=AA,$ee=kB,Qee=wu,U4={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},qee=Wg,tv=_B,Kee=Fi;const G4="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op="9.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=new eB("@firebase/firestore");function H4(){return ou.logLevel}function at(t,...e){if(ou.logLevel<=Vt.DEBUG){const i=e.map(MC);ou.debug(`Firestore (${op}): ${t}`,...i)}}function zl(t,...e){if(ou.logLevel<=Vt.ERROR){const i=e.map(MC);ou.error(`Firestore (${op}): ${t}`,...i)}}function Y4(t,...e){if(ou.logLevel<=Vt.WARN){const i=e.map(MC);ou.warn(`Firestore (${op}): ${t}`,...i)}}function MC(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t="Unexpected state"){const e=`FIRESTORE (${op}) INTERNAL ASSERTION FAILED: `+t;throw zl(e),new Error(e)}function Ri(t,e){t||_t()}function Nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends Error{constructor(e,i){super(i),this.code=e,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(br.UNAUTHENTICATED))}shutdown(){}}class Zee{constructor(e){this.t=e,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){let n=this.i;const r=l=>this.i!==n?(n=this.i,i(l)):Promise.resolve();let o=new Al;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Al,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},s=l=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Al)}},0),a()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(n=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ri(typeof n.accessToken=="string"),new Xee(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ri(e===null||typeof e=="string"),new br(e)}}class ete{constructor(e,i,n){this.type="FirstParty",this.user=br.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",i);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class tte{constructor(e,i,n){this.h=e,this.l=i,this.m=n}getToken(){return Promise.resolve(new ete(this.h,this.l,this.m))}start(e,i){e.enqueueRetryable(()=>i(br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ite{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nte{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,i){this.o=r=>{e.enqueueRetryable(()=>(o=>(o.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`),i(o.token)))(r))};const n=r=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.g.onInit(r=>n(r)),setTimeout(()=>{if(!this.appCheck){const r=this.g.getImmediate({optional:!0});r?n(r):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ri(typeof i.token=="string"),new ite(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=n=>this.p(n),this.T=n=>i.writeSequenceNumber(n))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rte(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let n=0;n<t;n++)i[n]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */BC.I=-1;class n6{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=rte(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<i&&(n+=e.charAt(r[o]%e.length))}return n}}function ti(t,e){return t<e?-1:t>e?1:0}function jm(t,e,i){return t.length===e.length&&t.every((n,r)=>i(n,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new We(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new We(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new We(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nr.fromMillis(Date.now())}static fromDate(e){return nr.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*i));return new nr(i,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ti(this.nanoseconds,e.nanoseconds):ti(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Kt(e)}static min(){return new Kt(new nr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){let e=0;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function Qg(t,e){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function r6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,i,n){i===void 0?i=0:i>e.length&&_t(),n===void 0?n=e.length-i:n>e.length-i&&_t(),this.segments=e,this.offset=i,this.len=n}get length(){return this.len}isEqual(e){return Um.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Um?e.forEach(n=>{i.push(n)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,n=this.limit();i<n;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const n=Math.min(e.length,i.length);for(let r=0;r<n;r++){const o=e.get(r),a=i.get(r);if(o<a)return-1;if(o>a)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class li extends Um{construct(e,i,n){return new li(e,i,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const i=[];for(const n of e){if(n.indexOf("//")>=0)throw new We(Ie.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);i.push(...n.split("/").filter(r=>r.length>0))}return new li(i)}static emptyPath(){return new li([])}}const ote=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class go extends Um{construct(e,i,n){return new go(e,i,n)}static isValidIdentifier(e){return ote.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),go.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new go(["__name__"])}static fromServerFormat(e){const i=[];let n="",r=0;const o=()=>{if(n.length===0)throw new We(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(n),n=""};let a=!1;for(;r<e.length;){const s=e[r];if(s==="\\"){if(r+1===e.length)throw new We(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new We(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,r+=2}else s==="`"?(a=!a,r++):s!=="."||a?(n+=s,r++):(o(),r++)}if(o(),a)throw new We(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new go(i)}static emptyPath(){return new go([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=atob(e);return new Mn(i)}static fromUint8Array(e){const i=function(n){let r="";for(let o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(e);return new Mn(i)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ti(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const ate=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Il(t){if(Ri(!!t),typeof t=="string"){let e=0;const i=ate.exec(t);if(Ri(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),e=Number(r)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Di(t.seconds),nanos:Di(t.nanos)}}function Di(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nf(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t){var e,i;return((i=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function o6(t){const e=t.mapValue.fields.__previous_value__;return FC(e)?o6(e):e}function Gm(t){const e=Il(t.mapValue.fields.__local_write_time__.timestampValue);return new nr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(t){return t==null}function Hy(t){return t===0&&1/t==-1/0}function ste(t){return typeof t=="number"&&Number.isInteger(t)&&!Hy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(li.fromString(e))}static fromName(e){return new ut(li.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return e!==null&&li.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return li.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new li(e.slice()))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?FC(t)?4:10:_t()}function Sa(t,e){const i=au(t);if(i!==au(e))return!1;switch(i){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gm(t).isEqual(Gm(e));case 3:return function(n,r){if(typeof n.timestampValue=="string"&&typeof r.timestampValue=="string"&&n.timestampValue.length===r.timestampValue.length)return n.timestampValue===r.timestampValue;const o=Il(n.timestampValue),a=Il(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(n,r){return nf(n.bytesValue).isEqual(nf(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(n,r){return Di(n.geoPointValue.latitude)===Di(r.geoPointValue.latitude)&&Di(n.geoPointValue.longitude)===Di(r.geoPointValue.longitude)}(t,e);case 2:return function(n,r){if("integerValue"in n&&"integerValue"in r)return Di(n.integerValue)===Di(r.integerValue);if("doubleValue"in n&&"doubleValue"in r){const o=Di(n.doubleValue),a=Di(r.doubleValue);return o===a?Hy(o)===Hy(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return jm(t.arrayValue.values||[],e.arrayValue.values||[],Sa);case 10:return function(n,r){const o=n.mapValue.fields||{},a=r.mapValue.fields||{};if(W4(o)!==W4(a))return!1;for(const s in o)if(o.hasOwnProperty(s)&&(a[s]===void 0||!Sa(o[s],a[s])))return!1;return!0}(t,e);default:return _t()}}function Hm(t,e){return(t.values||[]).find(i=>Sa(i,e))!==void 0}function rf(t,e){const i=au(t),n=au(e);if(i!==n)return ti(i,n);switch(i){case 0:return 0;case 1:return ti(t.booleanValue,e.booleanValue);case 2:return function(r,o){const a=Di(r.integerValue||r.doubleValue),s=Di(o.integerValue||o.doubleValue);return a<s?-1:a>s?1:a===s?0:isNaN(a)?isNaN(s)?0:-1:1}(t,e);case 3:return V4(t.timestampValue,e.timestampValue);case 4:return V4(Gm(t),Gm(e));case 5:return ti(t.stringValue,e.stringValue);case 6:return function(r,o){const a=nf(r),s=nf(o);return a.compareTo(s)}(t.bytesValue,e.bytesValue);case 7:return function(r,o){const a=r.split("/"),s=o.split("/");for(let l=0;l<a.length&&l<s.length;l++){const c=ti(a[l],s[l]);if(c!==0)return c}return ti(a.length,s.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,o){const a=ti(Di(r.latitude),Di(o.latitude));return a!==0?a:ti(Di(r.longitude),Di(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,o){const a=r.values||[],s=o.values||[];for(let l=0;l<a.length&&l<s.length;++l){const c=rf(a[l],s[l]);if(c)return c}return ti(a.length,s.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,o){const a=r.fields||{},s=Object.keys(a),l=o.fields||{},c=Object.keys(l);s.sort(),c.sort();for(let u=0;u<s.length&&u<c.length;++u){const f=ti(s[u],c[u]);if(f!==0)return f;const h=rf(a[s[u]],l[c[u]]);if(h!==0)return h}return ti(s.length,c.length)}(t.mapValue,e.mapValue);default:throw _t()}}function V4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ti(t,e);const i=Il(t),n=Il(e),r=ti(i.seconds,n.seconds);return r!==0?r:ti(i.nanos,n.nanos)}function NC(t){return LT(t)}function LT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Il(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?nf(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,ut.fromName(i).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(n){let r="[",o=!0;for(const a of n.values||[])o?o=!1:r+=",",r+=LT(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const s of r)a?a=!1:o+=",",o+=`${s}:${LT(n.fields[s])}`;return o+"}"}(t.mapValue):_t();var e,i}function Yy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function OT(t){return!!t&&"integerValue"in t}function jC(t){return!!t&&"arrayValue"in t}function $4(t){return!!t&&"nullValue"in t}function Q4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lk(t){return!!t&&"mapValue"in t}function lm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qg(t.mapValue.fields,(i,n)=>e.mapValue.fields[i]=lm(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=lm(t.arrayValue.values[i]);return e}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.value=e}static empty(){return new fs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let n=0;n<e.length-1;++n)if(i=(i.mapValue.fields||{})[e.get(n)],!Lk(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=lm(i)}setAll(e){let i=go.emptyPath(),n={},r=[];e.forEach((a,s)=>{if(!i.isImmediateParentOf(s)){const l=this.getFieldsMap(i);this.applyChanges(l,n,r),n={},r=[],i=s.popLast()}a?n[s.lastSegment()]=lm(a):r.push(s.lastSegment())});const o=this.getFieldsMap(i);this.applyChanges(o,n,r)}delete(e){const i=this.field(e.popLast());Lk(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Sa(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=i.mapValue.fields[e.get(n)];Lk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[e.get(n)]=r),i=r}return i.mapValue.fields}applyChanges(e,i,n){Qg(i,(r,o)=>e[r]=o);for(const r of n)delete e[r]}clone(){return new fs(lm(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,i,n,r,o){this.key=e,this.documentType=i,this.version=n,this.data=r,this.documentState=o}static newInvalidDocument(e){return new Pn(e,0,Kt.min(),fs.empty(),0)}static newFoundDocument(e,i,n){return new Pn(e,1,i,n,0)}static newNoDocument(e,i){return new Pn(e,2,i,fs.empty(),0)}static newUnknownDocument(e,i){return new Pn(e,3,i,fs.empty(),2)}convertToFoundDocument(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Pn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(e,i=null,n=[],r=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=i,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=a,this.endAt=s,this.R=null}}function q4(t,e=null,i=[],n=[],r=null,o=null,a=null){return new lte(t,e,i,n,r,o,a)}function UC(t){const e=Nt(t);if(e.R===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(n=>ute(n)).join(","),i+="|ob:",i+=e.orderBy.map(n=>function(r){return r.field.canonicalString()+r.dir}(n)).join(","),ap(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=Wy(e.startAt)),e.endAt&&(i+="|ub:",i+=Wy(e.endAt)),e.R=i}return e.R}function cte(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>{return`${(n=i).field.canonicalString()} ${n.op} ${NC(n.value)}`;var n}).join(", ")}]`),ap(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>function(n){return`${n.field.canonicalString()} (${n.dir})`}(i)).join(", ")}]`),t.startAt&&(e+=", startAt: "+Wy(t.startAt)),t.endAt&&(e+=", endAt: "+Wy(t.endAt)),`Target(${e})`}function GC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!vte(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(i=t.filters[r],n=e.filters[r],i.op!==n.op||!i.field.isEqual(n.field)||!Sa(i.value,n.value))return!1;var i,n;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!X4(t.startAt,e.startAt)&&X4(t.endAt,e.endAt)}function DT(t){return ut.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class ir extends class{}{constructor(e,i,n){super(),this.field=e,this.op=i,this.value=n}static create(e,i,n){return e.isKeyField()?i==="in"||i==="not-in"?this.P(e,i,n):new dte(e,i,n):i==="array-contains"?new hte(e,n):i==="in"?new mte(e,n):i==="not-in"?new gte(e,n):i==="array-contains-any"?new bte(e,n):new ir(e,i,n)}static P(e,i,n){return i==="in"?new fte(e,n):new pte(e,n)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.v(rf(i,this.value)):i!==null&&au(this.value)===au(i)&&this.v(rf(i,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}function ute(t){return t.field.canonicalString()+t.op.toString()+NC(t.value)}class dte extends ir{constructor(e,i,n){super(e,i,n),this.key=ut.fromName(n.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.v(i)}}class fte extends ir{constructor(e,i){super(e,"in",i),this.keys=a6("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class pte extends ir{constructor(e,i){super(e,"not-in",i),this.keys=a6("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function a6(t,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(n=>ut.fromName(n.referenceValue))}class hte extends ir{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return jC(i)&&Hm(i.arrayValue,this.value)}}class mte extends ir{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Hm(this.value.arrayValue,i)}}class gte extends ir{constructor(e,i){super(e,"not-in",i)}matches(e){if(Hm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Hm(this.value.arrayValue,i)}}class bte extends ir{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!jC(i)||!i.arrayValue.values)&&i.arrayValue.values.some(n=>Hm(this.value.arrayValue,n))}}class Ym{constructor(e,i){this.position=e,this.before=i}}function Wy(t){return`${t.before?"b":"a"}:${t.position.map(e=>NC(e)).join(",")}`}class Nd{constructor(e,i="asc"){this.field=e,this.dir=i}}function vte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function K4(t,e,i){let n=0;for(let r=0;r<t.position.length;r++){const o=e[r],a=t.position[r];if(o.field.isKeyField()?n=ut.comparator(ut.fromName(a.referenceValue),i.key):n=rf(a,i.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return t.before?n<=0:n<0}function X4(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!Sa(t.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,i=null,n=[],r=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.S=null,this.D=null,this.startAt,this.endAt}}function yte(t,e,i,n,r,o,a,s){return new Au(t,e,i,n,r,o,a,s)}function HC(t){return new Au(t)}function Uv(t){return!ap(t.limit)&&t.limitType==="F"}function Vy(t){return!ap(t.limit)&&t.limitType==="L"}function YC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function WC(t){for(const e of t.filters)if(e.V())return e.field;return null}function VC(t){return t.collectionGroup!==null}function of(t){const e=Nt(t);if(e.S===null){e.S=[];const i=WC(e),n=YC(e);if(i!==null&&n===null)i.isKeyField()||e.S.push(new Nd(i)),e.S.push(new Nd(go.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.S.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Nd(go.keyField(),o))}}}return e.S}function su(t){const e=Nt(t);if(!e.D)if(e.limitType==="F")e.D=q4(e.path,e.collectionGroup,of(e),e.filters,e.limit,e.startAt,e.endAt);else{const i=[];for(const o of of(e)){const a=o.dir==="desc"?"asc":"desc";i.push(new Nd(o.field,a))}const n=e.endAt?new Ym(e.endAt.position,!e.endAt.before):null,r=e.startAt?new Ym(e.startAt.position,!e.startAt.before):null;e.D=q4(e.path,e.collectionGroup,i,e.filters,e.limit,n,r)}return e.D}function s6(t,e,i){return new Au(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function zA(t,e){return GC(su(t),su(e))&&t.limitType===e.limitType}function l6(t){return`${UC(su(t))}|lt:${t.limitType}`}function MT(t){return`Query(target=${cte(su(t))}; limitType=${t.limitType})`}function IA(t,e){return e.isFoundDocument()&&function(i,n){const r=n.key.path;return i.collectionGroup!==null?n.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):ut.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,n){for(const r of i.explicitOrderBy)if(!r.field.isKeyField()&&n.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,n){for(const r of i.filters)if(!r.matches(n))return!1;return!0}(t,e)&&function(i,n){return!(i.startAt&&!K4(i.startAt,of(i),n)||i.endAt&&K4(i.endAt,of(i),n))}(t,e)}function c6(t){return(e,i)=>{let n=!1;for(const r of of(t)){const o=wte(r,e,i);if(o!==0)return o;n=n||r.field.isKeyField()}return 0}}function wte(t,e,i){const n=t.field.isKeyField()?ut.comparator(e.key,i.key):function(r,o,a){const s=o.data.field(r),l=a.data.field(r);return s!==null&&l!==null?rf(s,l):_t()}(t.field,e,i);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return _t()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(t,e){if(t.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hy(e)?"-0":e}}function d6(t){return{integerValue:""+t}}function Ate(t,e){return ste(e)?d6(e):u6(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this._=void 0}}function xte(t,e,i){return t instanceof BT?function(n,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(i,e):t instanceof $y?f6(t,e):t instanceof Qy?p6(t,e):function(n,r){const o=_te(n,r),a=J4(o)+J4(n.N);return OT(o)&&OT(n.N)?d6(a):u6(n.k,a)}(t,e)}function kte(t,e,i){return t instanceof $y?f6(t,e):t instanceof Qy?p6(t,e):i}function _te(t,e){return t instanceof FT?OT(i=e)||function(n){return!!n&&"doubleValue"in n}(i)?e:{integerValue:0}:null;var i}class BT extends PA{}class $y extends PA{constructor(e){super(),this.elements=e}}function f6(t,e){const i=h6(e);for(const n of t.elements)i.some(r=>Sa(r,n))||i.push(n);return{arrayValue:{values:i}}}class Qy extends PA{constructor(e){super(),this.elements=e}}function p6(t,e){let i=h6(e);for(const n of t.elements)i=i.filter(r=>!Sa(r,n));return{arrayValue:{values:i}}}class FT extends PA{constructor(e,i){super(),this.k=e,this.N=i}}function J4(t){return Di(t.integerValue||t.doubleValue)}function h6(t){return jC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Tte(t,e){return t.field.isEqual(e.field)&&function(i,n){return i instanceof $y&&n instanceof $y||i instanceof Qy&&n instanceof Qy?jm(i.elements,n.elements,Sa):i instanceof FT&&n instanceof FT?Sa(i.N,n.N):i instanceof BT&&n instanceof BT}(t.transform,e.transform)}function Gv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class m6{}function Ste(t,e,i){t instanceof g6?function(n,r,o){const a=n.value.clone(),s=tP(n.fieldTransforms,r,o.transformResults);a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,i):t instanceof $C?function(n,r,o){if(!Gv(n.precondition,r))return void r.convertToUnknownDocument(o.version);const a=tP(n.fieldTransforms,r,o.transformResults),s=r.data;s.setAll(b6(n)),s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,i):function(n,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,i)}function NT(t,e,i){t instanceof g6?function(n,r,o){if(!Gv(n.precondition,r))return;const a=n.value.clone(),s=iP(n.fieldTransforms,o,r);a.setAll(s),r.convertToFoundDocument(eP(r),a).setHasLocalMutations()}(t,e,i):t instanceof $C?function(n,r,o){if(!Gv(n.precondition,r))return;const a=iP(n.fieldTransforms,o,r),s=r.data;s.setAll(b6(n)),s.setAll(a),r.convertToFoundDocument(eP(r),s).setHasLocalMutations()}(t,e,i):function(n,r){Gv(n.precondition,r)&&r.convertToNoDocument(Kt.min())}(t,e)}function Z4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,n){return i===void 0&&n===void 0||!(!i||!n)&&jm(i,n,(r,o)=>Tte(r,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function eP(t){return t.isFoundDocument()?t.version:Kt.min()}class g6 extends m6{constructor(e,i,n,r=[]){super(),this.key=e,this.value=i,this.precondition=n,this.fieldTransforms=r,this.type=0}}class $C extends m6{constructor(e,i,n,r,o=[]){super(),this.key=e,this.data=i,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}}function b6(t){const e=new Map;return t.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const n=t.data.field(i);e.set(i,n)}}),e}function tP(t,e,i){const n=new Map;Ri(t.length===i.length);for(let r=0;r<i.length;r++){const o=t[r],a=o.transform,s=e.data.field(o.field);n.set(o.field,kte(a,s,i[r]))}return n}function iP(t,e,i){const n=new Map;for(const r of t){const o=r.transform,a=i.data.field(r.field);n.set(r.field,xte(o,a,e))}return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oi,Rt;function v6(t){if(t===void 0)return zl("GRPC error has no .code"),Ie.UNKNOWN;switch(t){case Oi.OK:return Ie.OK;case Oi.CANCELLED:return Ie.CANCELLED;case Oi.UNKNOWN:return Ie.UNKNOWN;case Oi.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Oi.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Oi.INTERNAL:return Ie.INTERNAL;case Oi.UNAVAILABLE:return Ie.UNAVAILABLE;case Oi.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Oi.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Oi.NOT_FOUND:return Ie.NOT_FOUND;case Oi.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Oi.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Oi.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Oi.ABORTED:return Ie.ABORTED;case Oi.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Oi.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Oi.DATA_LOSS:return Ie.DATA_LOSS;default:return _t()}}(Rt=Oi||(Oi={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,i){this.comparator=e,this.root=i||fn.EMPTY}insert(e,i){return new or(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const n=this.comparator(e,i.key);if(n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}indexOf(e){let i=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return i+n.left.size;r<0?n=n.left:(i+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,n)=>(e(i,n),!1))}toString(){const e=[];return this.inorderTraversal((i,n)=>(e.push(`${i}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iv(this.root,e,this.comparator,!1)}getReverseIterator(){return new iv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iv(this.root,e,this.comparator,!0)}}class iv{constructor(e,i,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=i?n(e.key,i):1,r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,i,n,r,o){this.key=e,this.value=i,this.color=n!=null?n:fn.RED,this.left=r!=null?r:fn.EMPTY,this.right=o!=null?o:fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,n,r,o){return new fn(e!=null?e:this.key,i!=null?i:this.value,n!=null?n:this.color,r!=null?r:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,i,n),null):o===0?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(e,i,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let n,r=this;if(i(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),i(e,r.key)===0){if(r.right.isEmpty())return fn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(t,e,i,n,r){return this}insert(t,e,i){return new fn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new or(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,n)=>(e(i),!1))}forEachInRange(e,i){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;i(r.key)}}forEachWhile(e,i){let n;for(n=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new nP(this.data.getIterator())}getIteratorFrom(e){return new nP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(n=>{i=i.add(n)}),i}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const i=this.data.getIterator(),n=e.data.getIterator();for(;i.hasNext();){const r=i.getNext().key,o=n.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new vn(this.comparator);return i.data=e,i}}class nP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ete=new or(ut.comparator);function lu(){return Ete}const zte=new or(ut.comparator);function jT(){return zte}new or(ut.comparator);const Ite=new vn(ut.comparator);function pi(...t){let e=Ite;for(const i of t)e=e.add(i);return e}const Pte=new vn(ti);function y6(){return Pte}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,i,n,r,o){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,i){const n=new Map;return n.set(e,qg.createSynthesizedTargetChangeForCurrentChange(e,i)),new RA(Kt.min(),n,y6(),lu(),pi())}}class qg{constructor(e,i,n,r,o){this.resumeToken=e,this.current=i,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,i){return new qg(Mn.EMPTY_BYTE_STRING,i,pi(),pi(),pi())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,i,n,r){this.$=e,this.removedTargetIds=i,this.key=n,this.F=r}}class w6{constructor(e,i){this.targetId=e,this.O=i}}class A6{constructor(e,i,n=Mn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=i,this.resumeToken=n,this.cause=r}}class rP{constructor(){this.M=0,this.L=aP(),this.B=Mn.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return this.M!==0}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=pi(),i=pi(),n=pi();return this.L.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:i=i.add(r);break;case 1:n=n.add(r);break;default:_t()}}),new qg(this.B,this.U,e,i,n)}H(){this.q=!1,this.L=aP()}J(e,i){this.q=!0,this.L=this.L.insert(e,i)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class Rte{constructor(e){this.et=e,this.nt=new Map,this.st=lu(),this.it=oP(),this.rt=new vn(ti)}ot(e){for(const i of e.$)e.F&&e.F.isFoundDocument()?this.at(i,e.F):this.ct(i,e.key,e.F);for(const i of e.removedTargetIds)this.ct(i,e.key,e.F)}ut(e){this.forEachTarget(e,i=>{const n=this.ht(i);switch(e.state){case 0:this.lt(i)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(i);break;case 3:this.lt(i)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(i)&&(this.ft(i),n.W(e.resumeToken));break;default:_t()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.nt.forEach((n,r)=>{this.lt(r)&&i(r)})}dt(e){const i=e.targetId,n=e.O.count,r=this.wt(i);if(r){const o=r.target;if(DT(o))if(n===0){const a=new ut(o.path);this.ct(i,a,Pn.newNoDocument(a,Kt.min()))}else Ri(n===1);else this._t(i)!==n&&(this.ft(i),this.rt=this.rt.add(i))}}gt(e){const i=new Map;this.nt.forEach((o,a)=>{const s=this.wt(a);if(s){if(o.current&&DT(s.target)){const l=new ut(s.target.path);this.st.get(l)!==null||this.yt(a,l)||this.ct(a,l,Pn.newNoDocument(l,e))}o.j&&(i.set(a,o.G()),o.H())}});let n=pi();this.it.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const c=this.wt(l);return!c||c.purpose===2||(s=!1,!1)}),s&&(n=n.add(o))});const r=new RA(e,i,this.rt,this.st,n);return this.st=lu(),this.it=oP(),this.rt=new vn(ti),r}at(e,i){if(!this.lt(e))return;const n=this.yt(e,i.key)?2:0;this.ht(e).J(i.key,n),this.st=this.st.insert(i.key,i),this.it=this.it.insert(i.key,this.Tt(i.key).add(e))}ct(e,i,n){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,i)?r.J(i,1):r.Y(i),this.it=this.it.insert(i,this.Tt(i).delete(e)),n&&(this.st=this.st.insert(i,n))}removeTarget(e){this.nt.delete(e)}_t(e){const i=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let i=this.nt.get(e);return i||(i=new rP,this.nt.set(e,i)),i}Tt(e){let i=this.it.get(e);return i||(i=new vn(ti),this.it=this.it.insert(e,i)),i}lt(e){const i=this.wt(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}wt(e){const i=this.nt.get(e);return i&&i.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new rP),this.et.getRemoteKeysForTarget(e).forEach(i=>{this.ct(e,i,null)})}yt(e,i){return this.et.getRemoteKeysForTarget(e).has(i)}}function oP(){return new or(ut.comparator)}function aP(){return new or(ut.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lte=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Ote=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class Dte{constructor(e,i){this.databaseId=e,this.C=i}}function UT(t,e){return t.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x6(t,e){return t.C?e.toBase64():e.toUint8Array()}function Wm(t){return Ri(!!t),Kt.fromTimestamp(function(e){const i=Il(e);return new nr(i.seconds,i.nanos)}(t))}function k6(t,e){return function(i){return new li(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function _6(t){const e=li.fromString(t);return Ri(C6(e)),e}function Ok(t,e){const i=_6(e);if(i.get(1)!==t.databaseId.projectId)throw new We(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new We(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new ut(T6(i))}function GT(t,e){return k6(t.databaseId,e)}function Mte(t){const e=_6(t);return e.length===4?li.emptyPath():T6(e)}function sP(t){return new li(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function T6(t){return Ri(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Bte(t,e){let i;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:_t()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,c){return l.C?(Ri(c===void 0||typeof c=="string"),Mn.fromBase64String(c||"")):(Ri(c===void 0||c instanceof Uint8Array),Mn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(l){const c=l.code===void 0?Ie.UNKNOWN:v6(l.code);return new We(c,l.message||"")}(a);i=new A6(n,r,o,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=Ok(t,n.document.name),o=Wm(n.document.updateTime),a=new fs({mapValue:{fields:n.document.fields}}),s=Pn.newFoundDocument(r,o,a),l=n.targetIds||[],c=n.removedTargetIds||[];i=new Hv(l,c,s.key,s)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=Ok(t,n.document),o=n.readTime?Wm(n.readTime):Kt.min(),a=Pn.newNoDocument(r,o),s=n.removedTargetIds||[];i=new Hv([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=Ok(t,n.document),o=n.removedTargetIds||[];i=new Hv([],o,r,null)}else{if(!("filter"in e))return _t();{e.filter;const n=e.filter;n.targetId;const r=n.count||0,o=new Cte(r),a=n.targetId;i=new w6(a,o)}}return i}function Fte(t,e){return{documents:[GT(t,e.path)]}}function Nte(t,e){const i={structuredQuery:{}},n=e.path;e.collectionGroup!==null?(i.parent=GT(t,n),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=GT(t,n.popLast()),i.structuredQuery.from=[{collectionId:n.lastSegment()}]);const r=function(s){if(s.length===0)return;const l=s.map(c=>function(u){if(u.op==="=="){if(Q4(u.value))return{unaryFilter:{field:rd(u.field),op:"IS_NAN"}};if($4(u.value))return{unaryFilter:{field:rd(u.field),op:"IS_NULL"}}}else if(u.op==="!="){if(Q4(u.value))return{unaryFilter:{field:rd(u.field),op:"IS_NOT_NAN"}};if($4(u.value))return{unaryFilter:{field:rd(u.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rd(u.field),op:Hte(u.op),value:u.value}}}(c));return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);r&&(i.structuredQuery.where=r);const o=function(s){if(s.length!==0)return s.map(l=>function(c){return{field:rd(c.field),direction:Gte(c.dir)}}(l))}(e.orderBy);o&&(i.structuredQuery.orderBy=o);const a=function(s,l){return s.C||ap(l)?l:{value:l}}(t,e.limit);return a!==null&&(i.structuredQuery.limit=a),e.startAt&&(i.structuredQuery.startAt=lP(e.startAt)),e.endAt&&(i.structuredQuery.endAt=lP(e.endAt)),i}function jte(t){let e=Mte(t.parent);const i=t.structuredQuery,n=i.from?i.from.length:0;let r=null;if(n>0){Ri(n===1);const u=i.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];i.where&&(o=S6(i.where));let a=[];i.orderBy&&(a=i.orderBy.map(u=>function(f){return new Nd(_d(f.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(u)));let s=null;i.limit&&(s=function(u){let f;return f=typeof u=="object"?u.value:u,ap(f)?null:f}(i.limit));let l=null;i.startAt&&(l=cP(i.startAt));let c=null;return i.endAt&&(c=cP(i.endAt)),yte(e,r,a,o,s,"F",l,c)}function Ute(t,e){const i=function(n,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _t()}}(0,e.purpose);return i==null?null:{"goog-listen-tags":i}}function S6(t){return t?t.unaryFilter!==void 0?[Wte(t)]:t.fieldFilter!==void 0?[Yte(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>S6(e)).reduce((e,i)=>e.concat(i)):_t():[]}function lP(t){return{before:t.before,values:t.position}}function cP(t){const e=!!t.before,i=t.values||[];return new Ym(i,e)}function Gte(t){return Lte[t]}function Hte(t){return Ote[t]}function rd(t){return{fieldPath:t.canonicalString()}}function _d(t){return go.fromServerFormat(t.fieldPath)}function Yte(t){return ir.create(_d(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(t.fieldFilter.op),t.fieldFilter.value)}function Wte(t){switch(t.unaryFilter.op){case"IS_NAN":const e=_d(t.unaryFilter.field);return ir.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=_d(t.unaryFilter.field);return ir.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=_d(t.unaryFilter.field);return ir.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=_d(t.unaryFilter.field);return ir.create(r,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}function C6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}const Vte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $te{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new qe((n,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,r)},this.catchCallback=o=>{this.wrapFailure(i,o).next(n,r)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof qe?i:qe.resolve(i)}catch(i){return qe.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):qe.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):qe.reject(i)}static resolve(e){return new qe((i,n)=>{i(e)})}static reject(e){return new qe((i,n)=>{n(e)})}static waitFor(e){return new qe((i,n)=>{let r=0,o=0,a=!1;e.forEach(s=>{++r,s.next(()=>{++o,a&&o===r&&i()},l=>n(l))}),a=!0,o===r&&i()})}static or(e){let i=qe.resolve(!1);for(const n of e)i=i.next(r=>r?qe.resolve(r):n());return i}static forEach(e,i){const n=[];return e.forEach((r,o)=>{n.push(i.call(this,r,o))}),this.waitFor(n)}}function Kg(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(e,i,n,r){this.batchId=e,this.localWriteTime=i,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,i){const n=i.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&Ste(o,e,n[r])}}applyToLocalView(e){for(const i of this.baseMutations)i.key.isEqual(e.key)&&NT(i,e,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(e.key)&&NT(i,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(i=>{const n=e.get(i.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Kt.min())})}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),pi())}isEqual(e){return this.batchId===e.batchId&&jm(this.mutations,e.mutations,(i,n)=>Z4(i,n))&&jm(this.baseMutations,e.baseMutations,(i,n)=>Z4(i,n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,i,n,r,o=Kt.min(),a=Kt.min(),s=Mn.EMPTY_BYTE_STRING){this.target=e,this.targetId=i,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s}withSequenceNumber(e){return new Uc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,i){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{constructor(e){this.Gt=e}}function Kte(t){const e=jte({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?s6(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(){this.zt=new Jte}addToCollectionParentIndex(e,i){return this.zt.add(i),qe.resolve()}getCollectionParents(e,i){return qe.resolve(this.zt.getEntries(i))}}class Jte{constructor(){this.index={}}add(e){const i=e.lastSegment(),n=e.popLast(),r=this.index[i]||new vn(li.comparator),o=!r.has(n);return this.index[i]=r.add(n),o}has(e){const i=e.lastSegment(),n=e.popLast(),r=this.index[i];return r&&r.has(n)}getEntries(e){return(this.index[e]||new vn(li.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new af(0)}static re(){return new af(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(t){if(t.code!==Ie.FAILED_PRECONDITION||t.message!==Vte)throw t;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={}}get(e){const i=this.mapKeyFn(e),n=this.inner[i];if(n!==void 0){for(const[r,o]of n)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,i){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,i]);r.push([e,i])}else this.inner[n]=[[e,i]]}delete(e){const i=this.mapKeyFn(e),n=this.inner[i];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[i]:n.splice(r,1),!0;return!1}forEach(e){Qg(this.inner,(i,n)=>{for(const[r,o]of n)e(r,o)})}isEmpty(){return r6(this.inner)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{constructor(){this.changes=new Xg(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}getReadTime(e){const i=this.changes.get(e);return i?i.readTime:Kt.min()}addEntry(e,i){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:i})}removeEntry(e,i=null){this.assertNotApplied(),this.changes.set(e,{document:Pn.newInvalidDocument(e),readTime:i})}getEntry(e,i){this.assertNotApplied();const n=this.changes.get(i);return n!==void 0?qe.resolve(n.document):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,i,n){this.Je=e,this.An=i,this.Jt=n}Rn(e,i){return this.An.getAllMutationBatchesAffectingDocumentKey(e,i).next(n=>this.Pn(e,i,n))}Pn(e,i,n){return this.Je.getEntry(e,i).next(r=>{for(const o of n)o.applyToLocalView(r);return r})}bn(e,i){e.forEach((n,r)=>{for(const o of i)o.applyToLocalView(r)})}vn(e,i){return this.Je.getEntries(e,i).next(n=>this.Vn(e,n).next(()=>n))}Vn(e,i){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,i).next(n=>this.bn(i,n))}getDocumentsMatchingQuery(e,i,n){return function(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(i)?this.Sn(e,i.path):VC(i)?this.Dn(e,i,n):this.Cn(e,i,n)}Sn(e,i){return this.Rn(e,new ut(i)).next(n=>{let r=jT();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}Dn(e,i,n){const r=i.collectionGroup;let o=jT();return this.Jt.getCollectionParents(e,r).next(a=>qe.forEach(a,s=>{const l=function(c,u){return new Au(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(i,s.child(r));return this.Cn(e,l,n).next(c=>{c.forEach((u,f)=>{o=o.insert(u,f)})})}).next(()=>o))}Cn(e,i,n){let r,o;return this.Je.getDocumentsMatchingQuery(e,i,n).next(a=>(r=a,this.An.getAllMutationBatchesAffectingQuery(e,i))).next(a=>(o=a,this.Nn(e,o,r).next(s=>{r=s;for(const l of o)for(const c of l.mutations){const u=c.key;let f=r.get(u);f==null&&(f=Pn.newInvalidDocument(u),r=r.insert(u,f)),NT(c,f,l.localWriteTime),f.isFoundDocument()||(r=r.remove(u))}}))).next(()=>(r.forEach((a,s)=>{IA(i,s)||(r=r.remove(a))}),r))}Nn(e,i,n){let r=pi();for(const a of i)for(const s of a.mutations)s instanceof $C&&n.get(s.key)===null&&(r=r.add(s.key));let o=n;return this.Je.getEntries(e,r).next(a=>(a.forEach((s,l)=>{l.isFoundDocument()&&(o=o.insert(s,l))}),o))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,i,n,r){this.targetId=e,this.fromCache=i,this.kn=n,this.xn=r}static $n(e,i){let n=pi(),r=pi();for(const o of i.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new qC(e,i.fromCache,n,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eie{Fn(e){this.On=e}getDocumentsMatchingQuery(e,i,n,r){return function(o){return o.filters.length===0&&o.limit===null&&o.startAt==null&&o.endAt==null&&(o.explicitOrderBy.length===0||o.explicitOrderBy.length===1&&o.explicitOrderBy[0].field.isKeyField())}(i)||n.isEqual(Kt.min())?this.Mn(e,i):this.On.vn(e,r).next(o=>{const a=this.Ln(i,o);return(Uv(i)||Vy(i))&&this.Bn(i.limitType,a,r,n)?this.Mn(e,i):(H4()<=Vt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),MT(i)),this.On.getDocumentsMatchingQuery(e,i,n).next(s=>(a.forEach(l=>{s=s.insert(l.key,l)}),s)))})}Ln(e,i){let n=new vn(c6(e));return i.forEach((r,o)=>{IA(e,o)&&(n=n.add(o))}),n}Bn(e,i,n,r){if(n.size!==i.size)return!0;const o=e==="F"?i.last():i.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mn(e,i){return H4()<=Vt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",MT(i)),this.On.getDocumentsMatchingQuery(e,i,Kt.min())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tie{constructor(e,i,n,r){this.persistence=e,this.Un=i,this.k=r,this.qn=new or(ti),this.Kn=new Xg(o=>UC(o),GC),this.jn=Kt.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new E6(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.qn))}}function iie(t,e,i,n){return new tie(t,e,i,n)}async function z6(t,e){const i=Nt(t);let n=i.An,r=i.Wn;const o=await i.persistence.runTransaction("Handle user change","readonly",a=>{let s;return i.An.getAllMutationBatches(a).next(l=>(s=l,n=i.persistence.getMutationQueue(e),r=new E6(i.Qn,n,i.persistence.getIndexManager()),n.getAllMutationBatches(a))).next(l=>{const c=[],u=[];let f=pi();for(const h of s){c.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}for(const h of l){u.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}return r.vn(a,f).next(h=>({Gn:h,removedBatchIds:c,addedBatchIds:u}))})});return i.An=n,i.Wn=r,i.Un.Fn(i.Wn),o}function I6(t){const e=Nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.He.getLastRemoteSnapshotVersion(i))}function nie(t,e){const i=Nt(t),n=e.snapshotVersion;let r=i.qn;return i.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=i.Qn.newChangeBuffer({trackRemovals:!0});r=i.qn;const s=[];e.targetChanges.forEach((c,u)=>{const f=r.get(u);if(!f)return;s.push(i.He.removeMatchingKeys(o,c.removedDocuments,u).next(()=>i.He.addMatchingKeys(o,c.addedDocuments,u)));const h=c.resumeToken;if(h.approximateByteSize()>0){const m=f.withResumeToken(h,n).withSequenceNumber(o.currentSequenceNumber);r=r.insert(u,m),function(b,w,g){return Ri(w.resumeToken.approximateByteSize()>0),b.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,m,c)&&s.push(i.He.updateTargetData(o,m))}});let l=lu();if(e.documentUpdates.forEach((c,u)=>{e.resolvedLimboDocuments.has(c)&&s.push(i.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(rie(o,a,e.documentUpdates,n,void 0).next(c=>{l=c})),!n.isEqual(Kt.min())){const c=i.He.getLastRemoteSnapshotVersion(o).next(u=>i.He.setTargetsMetadata(o,o.currentSequenceNumber,n));s.push(c)}return qe.waitFor(s).next(()=>a.apply(o)).next(()=>i.Wn.Vn(o,l)).next(()=>l)}).then(o=>(i.qn=r,o))}function rie(t,e,i,n,r){let o=pi();return i.forEach(a=>o=o.add(a)),e.getEntries(t,o).next(a=>{let s=lu();return i.forEach((l,c)=>{const u=a.get(l),f=(r==null?void 0:r.get(l))||n;c.isNoDocument()&&c.version.isEqual(Kt.min())?(e.removeEntry(l,f),s=s.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c,f),s=s.insert(l,c)):at("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),s})}function oie(t,e){const i=Nt(t);return i.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return i.He.getTargetData(n,e).next(o=>o?(r=o,qe.resolve(r)):i.He.allocateTargetId(n).next(a=>(r=new Uc(e,a,0,n.currentSequenceNumber),i.He.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=i.qn.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.qn=i.qn.insert(n.targetId,n),i.Kn.set(e,n.targetId)),n})}async function HT(t,e,i){const n=Nt(t),r=n.qn.get(e),o=i?"readwrite":"readwrite-primary";try{i||await n.persistence.runTransaction("Release target",o,a=>n.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!Kg(a))throw a;at("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.qn=n.qn.remove(e),n.Kn.delete(r.target)}function uP(t,e,i){const n=Nt(t);let r=Kt.min(),o=pi();return n.persistence.runTransaction("Execute query","readonly",a=>function(s,l,c){const u=Nt(s),f=u.Kn.get(c);return f!==void 0?qe.resolve(u.qn.get(f)):u.He.getTargetData(l,c)}(n,a,su(e)).next(s=>{if(s)return r=s.lastLimboFreeSnapshotVersion,n.He.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>n.Un.getDocumentsMatchingQuery(a,e,i?r:Kt.min(),i?o:pi())).next(s=>({documents:s,zn:o})))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aie{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,i){return qe.resolve(this.Xn.get(i))}saveBundleMetadata(e,i){var n;return this.Xn.set(i.id,{id:(n=i).id,version:n.version,createTime:Wm(n.createTime)}),qe.resolve()}getNamedQuery(e,i){return qe.resolve(this.Zn.get(i))}saveNamedQuery(e,i){return this.Zn.set(i.name,function(n){return{name:n.name,query:Kte(n.bundledQuery),readTime:Wm(n.readTime)}}(i)),qe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.ts=new vn(Ki.es),this.ns=new vn(Ki.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,i){const n=new Ki(e,i);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,i){e.forEach(n=>this.addReference(n,i))}removeReference(e,i){this.os(new Ki(e,i))}cs(e,i){e.forEach(n=>this.removeReference(n,i))}us(e){const i=new ut(new li([])),n=new Ki(i,e),r=new Ki(i,e+1),o=[];return this.ns.forEachInRange([n,r],a=>{this.os(a),o.push(a.key)}),o}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const i=new ut(new li([])),n=new Ki(i,e),r=new Ki(i,e+1);let o=pi();return this.ns.forEachInRange([n,r],a=>{o=o.add(a.key)}),o}containsKey(e){const i=new Ki(e,0),n=this.ts.firstAfterOrEqual(i);return n!==null&&e.isEqual(n.key)}}class Ki{constructor(e,i){this.key=e,this.fs=i}static es(e,i){return ut.comparator(e.key,i.key)||ti(e.fs,i.fs)}static ss(e,i){return ti(e.fs,i.fs)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sie{constructor(e,i){this.Jt=e,this.referenceDelegate=i,this.An=[],this.ds=1,this.ws=new vn(Ki.es)}checkEmpty(e){return qe.resolve(this.An.length===0)}addMutationBatch(e,i,n,r){const o=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const a=new Qte(o,i,n,r);this.An.push(a);for(const s of r)this.ws=this.ws.add(new Ki(s.key,o)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast());return qe.resolve(a)}lookupMutationBatch(e,i){return qe.resolve(this._s(i))}getNextMutationBatchAfterBatchId(e,i){const n=i+1,r=this.gs(n),o=r<0?0:r;return qe.resolve(this.An.length>o?this.An[o]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(this.An.length===0?-1:this.ds-1)}getAllMutationBatches(e){return qe.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const n=new Ki(i,0),r=new Ki(i,Number.POSITIVE_INFINITY),o=[];return this.ws.forEachInRange([n,r],a=>{const s=this._s(a.fs);o.push(s)}),qe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,i){let n=new vn(ti);return i.forEach(r=>{const o=new Ki(r,0),a=new Ki(r,Number.POSITIVE_INFINITY);this.ws.forEachInRange([o,a],s=>{n=n.add(s.fs)})}),qe.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,i){const n=i.path,r=n.length+1;let o=n;ut.isDocumentKey(o)||(o=o.child(""));const a=new Ki(new ut(o),0);let s=new vn(ti);return this.ws.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===r&&(s=s.add(l.fs)),!0)},a),qe.resolve(this.ys(s))}ys(e){const i=[];return e.forEach(n=>{const r=this._s(n);r!==null&&i.push(r)}),i}removeMutationBatch(e,i){Ri(this.ps(i.batchId,"removed")===0),this.An.shift();let n=this.ws;return qe.forEach(i.mutations,r=>{const o=new Ki(r.key,i.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ws=n})}ee(e){}containsKey(e,i){const n=new Ki(i,0),r=this.ws.firstAfterOrEqual(n);return qe.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(e){return this.An.length,qe.resolve()}ps(e,i){return this.gs(e)}gs(e){return this.An.length===0?0:e-this.An[0].batchId}_s(e){const i=this.gs(e);return i<0||i>=this.An.length?null:this.An[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lie{constructor(e,i){this.Jt=e,this.Ts=i,this.docs=new or(ut.comparator),this.size=0}addEntry(e,i,n){const r=i.key,o=this.docs.get(r),a=o?o.size:0,s=this.Ts(i);return this.docs=this.docs.insert(r,{document:i.clone(),size:s,readTime:n}),this.size+=s-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const n=this.docs.get(i);return qe.resolve(n?n.document.clone():Pn.newInvalidDocument(i))}getEntries(e,i){let n=lu();return i.forEach(r=>{const o=this.docs.get(r);n=n.insert(r,o?o.document.clone():Pn.newInvalidDocument(r))}),qe.resolve(n)}getDocumentsMatchingQuery(e,i,n){let r=lu();const o=new ut(i.path.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:s,value:{document:l,readTime:c}}=a.getNext();if(!i.path.isPrefixOf(s.path))break;c.compareTo(n)<=0||IA(i,l)&&(r=r.insert(l.key,l.clone()))}return qe.resolve(r)}Es(e,i){return qe.forEach(this.docs,n=>i(n))}newChangeBuffer(e){return new cie(this)}getSize(e){return qe.resolve(this.size)}}class cie extends Zte{constructor(e){super(),this.De=e}applyChanges(e){const i=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?i.push(this.De.addEntry(e,r.document,this.getReadTime(n))):this.De.removeEntry(n)}),qe.waitFor(i)}getFromCache(e,i){return this.De.getEntry(e,i)}getAllFromCache(e,i){return this.De.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{constructor(e){this.persistence=e,this.Is=new Xg(i=>UC(i),GC),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.As=0,this.Rs=new KC,this.targetCount=0,this.Ps=af.ie()}forEachTarget(e,i){return this.Is.forEach((n,r)=>i(r)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,i,n){return n&&(this.lastRemoteSnapshotVersion=n),i>this.As&&(this.As=i),qe.resolve()}ce(e){this.Is.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ps=new af(i),this.highestTargetId=i),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,i){return this.ce(i),this.targetCount+=1,qe.resolve()}updateTargetData(e,i){return this.ce(i),qe.resolve()}removeTargetData(e,i){return this.Is.delete(i.target),this.Rs.us(i.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,i,n){let r=0;const o=[];return this.Is.forEach((a,s)=>{s.sequenceNumber<=i&&n.get(s.targetId)===null&&(this.Is.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),qe.waitFor(o).next(()=>r)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,i){const n=this.Is.get(i)||null;return qe.resolve(n)}addMatchingKeys(e,i,n){return this.Rs.rs(i,n),qe.resolve()}removeMatchingKeys(e,i,n){this.Rs.cs(i,n);const r=this.persistence.referenceDelegate,o=[];return r&&i.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),qe.waitFor(o)}removeMatchingKeysForTargetId(e,i){return this.Rs.us(i),qe.resolve()}getMatchingKeysForTargetId(e,i){const n=this.Rs.ls(i);return qe.resolve(n)}containsKey(e,i){return qe.resolve(this.Rs.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class die{constructor(e,i){this.bs={},this.Be=new BC(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new uie(this),this.Jt=new Xte,this.Je=function(n,r){return new lie(n,r)}(this.Jt,n=>this.referenceDelegate.vs(n)),this.k=new qte(i),this.Ye=new aie(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let i=this.bs[e.toKey()];return i||(i=new sie(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,i,n){at("MemoryPersistence","Starting transaction:",e);const r=new fie(this.Be.next());return this.referenceDelegate.Vs(),n(r).next(o=>this.referenceDelegate.Ss(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ds(e,i){return qe.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,i)))}}class fie extends $te{constructor(e){super(),this.currentSequenceNumber=e}}class XC{constructor(e){this.persistence=e,this.Cs=new KC,this.Ns=null}static ks(e){return new XC(e)}get xs(){if(this.Ns)return this.Ns;throw _t()}addReference(e,i,n){return this.Cs.addReference(n,i),this.xs.delete(n.toString()),qe.resolve()}removeReference(e,i,n){return this.Cs.removeReference(n,i),this.xs.add(n.toString()),qe.resolve()}markPotentiallyOrphaned(e,i){return this.xs.add(i.toString()),qe.resolve()}removeTarget(e,i){this.Cs.us(i.targetId).forEach(r=>this.xs.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,i.targetId).next(r=>{r.forEach(o=>this.xs.add(o.toString()))}).next(()=>n.removeTargetData(e,i))}Vs(){this.Ns=new Set}Ss(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.xs,n=>{const r=ut.fromPath(n);return this.$s(e,r).next(o=>{o||i.removeEntry(r)})}).next(()=>(this.Ns=null,i.apply(e)))}updateLimboDocument(e,i){return this.$s(e,i).next(n=>{n?this.xs.delete(i.toString()):this.xs.add(i.toString())})}vs(e){return 0}$s(e,i){return qe.or([()=>qe.resolve(this.Cs.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ds(e,i)])}}class dP{constructor(){this.activeTargetIds=y6()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pie{constructor(){this.pi=new dP,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,n){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,i,n){this.Ti[e]=i}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new dP,Promise.resolve()}handleUserChange(e,i,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hie{Ei(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bie extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http";this.Mi=i+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,i,n,r,o){const a=this.Ui(e,i);at("RestConnection","Sending: ",a,n);const s={};return this.qi(s,r,o),this.Ki(e,a,s,n).then(l=>(at("RestConnection","Received: ",l),l),l=>{throw Y4("RestConnection",`${e} failed with error: `,l,"url: ",a,"request:",n),l})}ji(e,i,n,r,o){return this.Bi(e,i,n,r,o)}qi(e,i,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+op,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,o)=>e[o]=r),n&&n.headers.forEach((r,o)=>e[o]=r)}Ui(e,i){const n=mie[e];return`${this.Mi}/v1/${i}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,i,n,r){return new Promise((o,a)=>{const s=new Kee;s.listenOnce($ee.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case Rk.NO_ERROR:const c=s.getResponseJson();at("Connection","XHR received:",JSON.stringify(c)),o(c);break;case Rk.TIMEOUT:at("Connection",'RPC "'+e+'" timed out'),a(new We(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case Rk.HTTP_ERROR:const u=s.getStatus();if(at("Connection",'RPC "'+e+'" failed with status:',u,"response text:",s.getResponseText()),u>0){const f=s.getResponseJson().error;if(f&&f.status&&f.message){const h=function(m){const b=m.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(b)>=0?b:Ie.UNKNOWN}(f.status);a(new We(h,f.message))}else a(new We(Ie.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new We(Ie.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{at("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(r);s.send(i,"POST",l,n,15)})}Qi(e,i,n){const r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Wee(),a=Vee(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new qee({})),this.qi(s.initMessageHeaders,i,n),qJ()||XJ()||JJ()||ZJ()||eZ()||KJ()||(s.httpHeadersOverwriteParam="$httpHeaders");const l=r.join("");at("Connection","Creating WebChannel: "+l,s);const c=o.createWebChannel(l,s);let u=!1,f=!1;const h=new gie({Vi:b=>{f?at("Connection","Not sending because WebChannel is closed:",b):(u||(at("Connection","Opening WebChannel transport."),c.open(),u=!0),at("Connection","WebChannel sending:",b),c.send(b))},Si:()=>c.close()}),m=(b,w,g)=>{b.listen(w,A=>{try{g(A)}catch(x){setTimeout(()=>{throw x},0)}})};return m(c,tv.EventType.OPEN,()=>{f||at("Connection","WebChannel transport opened.")}),m(c,tv.EventType.CLOSE,()=>{f||(f=!0,at("Connection","WebChannel transport closed"),h.Fi())}),m(c,tv.EventType.ERROR,b=>{f||(f=!0,Y4("Connection","WebChannel transport errored:",b),h.Fi(new We(Ie.UNAVAILABLE,"The operation could not be completed")))}),m(c,tv.EventType.MESSAGE,b=>{var w;if(!f){const g=b.data[0];Ri(!!g);const A=g,x=A.error||((w=A[0])===null||w===void 0?void 0:w.error);if(x){at("Connection","WebChannel received error:",x);const T=x.status;let C=function(L){const B=Oi[L];if(B!==void 0)return v6(B)}(T),z=x.message;C===void 0&&(C=Ie.INTERNAL,z="Unknown error status: "+T+" with message "+x.message),f=!0,h.Fi(new We(C,z)),c.close()}else at("Connection","WebChannel received:",g),h.Oi(g)}}),m(a,Qee.STAT_EVENT,b=>{b.stat===U4.PROXY?at("Connection","Detected buffering proxy"):b.stat===U4.NOPROXY&&at("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function Dk(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t){return new Dte(t,!0)}class P6{constructor(e,i,n=1e3,r=1.5,o=6e4){this.Oe=e,this.timerId=i,this.Wi=n,this.Gi=r,this.zi=o,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const i=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,i-n);r>0&&at("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${i} ms, last attempt: ${n} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){this.Ji!==null&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){this.Ji!==null&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vie{constructor(e,i,n,r,o,a,s,l){this.Oe=e,this.nr=n,this.sr=r,this.ir=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new P6(e,i)}hr(){return this.state===1||this.state===5||this.lr()}lr(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&this.ar===null&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(e,i){this.yr(),this.pr(),this.ur.cancel(),this.rr++,e!==4?this.ur.reset():i&&i.code===Ie.RESOURCE_EXHAUSTED?(zl(i.toString()),zl("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):i&&i.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(i)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),i=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.rr===i&&this.Ir(n,r)},n=>{e(()=>{const r=new We(Ie.UNKNOWN,"Fetching auth token failed: "+n.message);return this.Ar(r)})})}Ir(e,i){const n=this.Er(this.rr);this.stream=this.Rr(e,i),this.stream.Di(()=>{n(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(r=>{n(()=>this.Ar(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}dr(){this.state=5,this.ur.Zi(async()=>{this.state=0,this.start()})}Ar(e){return at("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return i=>{this.Oe.enqueueAndForget(()=>this.rr===e?i():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yie extends vie{constructor(e,i,n,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,n,r,a),this.k=o}Rr(e,i){return this.ir.Qi("Listen",e,i)}onMessage(e){this.ur.reset();const i=Bte(this.k,e),n=function(r){if(!("targetChange"in r))return Kt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Kt.min():o.readTime?Wm(o.readTime):Kt.min()}(e);return this.listener.Pr(i,n)}br(e){const i={};i.database=sP(this.k),i.addTarget=function(r,o){let a;const s=o.target;return a=DT(s)?{documents:Fte(r,s)}:{query:Nte(r,s)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?a.resumeToken=x6(r,o.resumeToken):o.snapshotVersion.compareTo(Kt.min())>0&&(a.readTime=UT(r,o.snapshotVersion.toTimestamp())),a}(this.k,e);const n=Ute(this.k,e);n&&(i.labels=n),this.gr(i)}vr(e){const i={};i.database=sP(this.k),i.removeTarget=e,this.gr(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wie extends class{}{constructor(e,i,n,r){super(),this.authCredentials=e,this.appCheckCredentials=i,this.ir=n,this.k=r,this.$r=!1}Fr(){if(this.$r)throw new We(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,i,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.ir.Bi(e,i,n,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new We(Ie.UNKNOWN,r.toString())})}ji(e,i,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.ir.ji(e,i,n,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new We(Ie.UNKNOWN,r.toString())})}terminate(){this.$r=!0}}class Aie{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){this.Or===0&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){this.state==="Online"?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,e==="Online"&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(zl(i),this.Lr=!1):at("OnlineStateTracker",i)}jr(){this.Mr!==null&&(this.Mr.cancel(),this.Mr=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xie{constructor(e,i,n,r,o){this.localStore=e,this.datastore=i,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=o,this.Hr.Ei(a=>{n.enqueueAndForget(async()=>{Zg(this)&&(at("RemoteStore","Restarting streams for network reachability change."),await async function(s){const l=Nt(s);l.Gr.add(4),await Jg(l),l.Jr.set("Unknown"),l.Gr.delete(4),await OA(l)}(this))})}),this.Jr=new Aie(n,r)}}async function OA(t){if(Zg(t))for(const e of t.zr)await e(!0)}async function Jg(t){for(const e of t.zr)await e(!1)}function R6(t,e){const i=Nt(t);i.Wr.has(e.targetId)||(i.Wr.set(e.targetId,e),eE(i)?ZC(i):sp(i).lr()&&JC(i,e))}function L6(t,e){const i=Nt(t),n=sp(i);i.Wr.delete(e),n.lr()&&O6(i,e),i.Wr.size===0&&(n.lr()?n._r():Zg(i)&&i.Jr.set("Unknown"))}function JC(t,e){t.Yr.X(e.targetId),sp(t).br(e)}function O6(t,e){t.Yr.X(e),sp(t).vr(e)}function ZC(t){t.Yr=new Rte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Wr.get(e)||null}),sp(t).start(),t.Jr.Br()}function eE(t){return Zg(t)&&!sp(t).hr()&&t.Wr.size>0}function Zg(t){return Nt(t).Gr.size===0}function D6(t){t.Yr=void 0}async function kie(t){t.Wr.forEach((e,i)=>{JC(t,e)})}async function _ie(t,e){D6(t),eE(t)?(t.Jr.Kr(e),ZC(t)):t.Jr.set("Unknown")}async function Tie(t,e,i){if(t.Jr.set("Online"),e instanceof A6&&e.state===2&&e.cause)try{await async function(n,r){const o=r.cause;for(const a of r.targetIds)n.Wr.has(a)&&(await n.remoteSyncer.rejectListen(a,o),n.Wr.delete(a),n.Yr.removeTarget(a))}(t,e)}catch(n){at("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await pP(t,n)}else if(e instanceof Hv?t.Yr.ot(e):e instanceof w6?t.Yr.dt(e):t.Yr.ut(e),!i.isEqual(Kt.min()))try{const n=await I6(t.localStore);i.compareTo(n)>=0&&await function(r,o){const a=r.Yr.gt(o);return a.targetChanges.forEach((s,l)=>{if(s.resumeToken.approximateByteSize()>0){const c=r.Wr.get(l);c&&r.Wr.set(l,c.withResumeToken(s.resumeToken,o))}}),a.targetMismatches.forEach(s=>{const l=r.Wr.get(s);if(!l)return;r.Wr.set(s,l.withResumeToken(Mn.EMPTY_BYTE_STRING,l.snapshotVersion)),O6(r,s);const c=new Uc(l.target,s,1,l.sequenceNumber);JC(r,c)}),r.remoteSyncer.applyRemoteEvent(a)}(t,i)}catch(n){at("RemoteStore","Failed to raise snapshot:",n),await pP(t,n)}}async function pP(t,e,i){if(!Kg(e))throw e;t.Gr.add(1),await Jg(t),t.Jr.set("Offline"),i||(i=()=>I6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{at("RemoteStore","Retrying IndexedDB access"),await i(),t.Gr.delete(1),await OA(t)})}async function Sie(t,e){const i=Nt(t);e?(i.Gr.delete(2),await OA(i)):e||(i.Gr.add(2),await Jg(i),i.Jr.set("Unknown"))}function sp(t){return t.Xr||(t.Xr=function(e,i,n){const r=Nt(e);return r.Fr(),new yie(i,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(t.datastore,t.asyncQueue,{Di:kie.bind(null,t),Ni:_ie.bind(null,t),Pr:Tie.bind(null,t)}),t.zr.push(async e=>{e?(t.Xr.wr(),eE(t)?ZC(t):t.Jr.set("Unknown")):(await t.Xr.stop(),D6(t))})),t.Xr}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,i,n,r,o){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Al,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,i,n,r,o){const a=Date.now()+n,s=new tE(e,i,a,r,o);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M6(t,e){if(zl("AsyncQueue",`${e}: ${t}`),Kg(t))return new We(Ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.comparator=e?(i,n)=>e(i,n)||ut.comparator(i.key,n.key):(i,n)=>ut.comparator(i.key,n.key),this.keyedMap=jT(),this.sortedSet=new or(this.comparator)}static emptySet(e){return new jd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,n)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof jd)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;i.hasNext();){const r=i.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const n=new jd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=i,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.eo=new or(ut.comparator)}track(e){const i=e.doc.key,n=this.eo.get(i);n?e.type!==0&&n.type===3?this.eo=this.eo.insert(i,e):e.type===3&&n.type!==1?this.eo=this.eo.insert(i,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.eo=this.eo.insert(i,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.eo=this.eo.insert(i,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.eo=this.eo.remove(i):e.type===1&&n.type===2?this.eo=this.eo.insert(i,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.eo=this.eo.insert(i,{type:2,doc:e.doc}):_t():this.eo=this.eo.insert(i,e)}no(){const e=[];return this.eo.inorderTraversal((i,n)=>{e.push(n)}),e}}class sf{constructor(e,i,n,r,o,a,s,l){this.query=e,this.docs=i,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l}static fromInitialDocuments(e,i,n,r){const o=[];return i.forEach(a=>{o.push({type:0,doc:a})}),new sf(e,i,jd.emptySet(i),o,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zA(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,n=e.docChanges;if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==n[r].type||!i[r].doc.isEqual(n[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cie{constructor(){this.so=void 0,this.listeners=[]}}class Eie{constructor(){this.queries=new Xg(e=>l6(e),zA),this.onlineState="Unknown",this.io=new Set}}async function B6(t,e){const i=Nt(t),n=e.query;let r=!1,o=i.queries.get(n);if(o||(r=!0,o=new Cie),r)try{o.so=await i.onListen(n)}catch(a){const s=M6(a,`Initialization of query '${MT(e.query)}' failed`);return void e.onError(s)}i.queries.set(n,o),o.listeners.push(e),e.ro(i.onlineState),o.so&&e.oo(o.so)&&iE(i)}async function F6(t,e){const i=Nt(t),n=e.query;let r=!1;const o=i.queries.get(n);if(o){const a=o.listeners.indexOf(e);a>=0&&(o.listeners.splice(a,1),r=o.listeners.length===0)}if(r)return i.queries.delete(n),i.onUnlisten(n)}function zie(t,e){const i=Nt(t);let n=!1;for(const r of e){const o=r.query,a=i.queries.get(o);if(a){for(const s of a.listeners)s.oo(r)&&(n=!0);a.so=r}}n&&iE(i)}function Iie(t,e,i){const n=Nt(t),r=n.queries.get(e);if(r)for(const o of r.listeners)o.onError(i);n.queries.delete(e)}function iE(t){t.io.forEach(e=>{e.next()})}class N6{constructor(e,i,n){this.query=e,this.ao=i,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const n=[];for(const r of e.docChanges)r.type!==3&&n.push(r);e=new sf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let i=!1;return this.co?this.ho(e)&&(this.ao.next(e),i=!0):this.lo(e,this.onlineState)&&(this.fo(e),i=!0),this.uo=e,i}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let i=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),i=!0),i}lo(e,i){if(!e.fromCache)return!0;const n=i!=="Offline";return(!this.options.wo||!n)&&(!e.docs.isEmpty()||i==="Offline")}ho(e){if(e.docChanges.length>0)return!0;const i=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}fo(e){e=sf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.key=e}}class U6{constructor(e){this.key=e}}class Pie{constructor(e,i){this.query=e,this.To=i,this.Eo=null,this.current=!1,this.Io=pi(),this.mutatedKeys=pi(),this.Ao=c6(e),this.Ro=new jd(this.Ao)}get Po(){return this.To}bo(e,i){const n=i?i.vo:new hP,r=i?i.Ro:this.Ro;let o=i?i.mutatedKeys:this.mutatedKeys,a=r,s=!1;const l=Uv(this.query)&&r.size===this.query.limit?r.last():null,c=Vy(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,f)=>{const h=r.get(u),m=IA(this.query,f)?f:null,b=!!h&&this.mutatedKeys.has(h.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let g=!1;h&&m?h.data.isEqual(m.data)?b!==w&&(n.track({type:3,doc:m}),g=!0):this.Vo(h,m)||(n.track({type:2,doc:m}),g=!0,(l&&this.Ao(m,l)>0||c&&this.Ao(m,c)<0)&&(s=!0)):!h&&m?(n.track({type:0,doc:m}),g=!0):h&&!m&&(n.track({type:1,doc:h}),g=!0,(l||c)&&(s=!0)),g&&(m?(a=a.add(m),o=w?o.add(u):o.delete(u)):(a=a.delete(u),o=o.delete(u)))}),Uv(this.query)||Vy(this.query))for(;a.size>this.query.limit;){const u=Uv(this.query)?a.last():a.first();a=a.delete(u.key),o=o.delete(u.key),n.track({type:1,doc:u})}return{Ro:a,vo:n,Bn:s,mutatedKeys:o}}Vo(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,n){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const o=e.vo.no();o.sort((c,u)=>function(f,h){const m=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return m(f)-m(h)}(c.type,u.type)||this.Ao(c.doc,u.doc)),this.So(n);const a=i?this.Do():[],s=this.Io.size===0&&this.current?1:0,l=s!==this.Eo;return this.Eo=s,o.length!==0||l?{snapshot:new sf(this.query,e.Ro,r,o,e.mutatedKeys,s===0,l,!1),Co:a}:{Co:a}}ro(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new hP,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(i=>this.To=this.To.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.To=this.To.delete(i)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=pi(),this.Ro.forEach(n=>{this.No(n.key)&&(this.Io=this.Io.add(n.key))});const i=[];return e.forEach(n=>{this.Io.has(n)||i.push(new U6(n))}),this.Io.forEach(n=>{e.has(n)||i.push(new j6(n))}),i}ko(e){this.To=e.zn,this.Io=pi();const i=this.bo(e.documents);return this.applyChanges(i,!0)}xo(){return sf.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,this.Eo===0)}}class Rie{constructor(e,i,n){this.query=e,this.targetId=i,this.view=n}}class Lie{constructor(e){this.key=e,this.$o=!1}}class Oie{constructor(e,i,n,r,o,a){this.localStore=e,this.remoteStore=i,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Fo={},this.Oo=new Xg(s=>l6(s),zA),this.Mo=new Map,this.Lo=new Set,this.Bo=new or(ut.comparator),this.Uo=new Map,this.qo=new KC,this.Ko={},this.jo=new Map,this.Qo=af.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return this.Wo===!0}}async function Die(t,e){const i=Gie(t);let n,r;const o=i.Oo.get(e);if(o)n=o.targetId,i.sharedClientState.addLocalQueryTarget(n),r=o.view.xo();else{const a=await oie(i.localStore,su(e)),s=i.sharedClientState.addLocalQueryTarget(a.targetId);n=a.targetId,r=await Mie(i,e,n,s==="current"),i.isPrimaryClient&&R6(i.remoteStore,a)}return r}async function Mie(t,e,i,n){t.Go=(u,f,h)=>async function(m,b,w,g){let A=b.view.bo(w);A.Bn&&(A=await uP(m.localStore,b.query,!1).then(({documents:C})=>b.view.bo(C,A)));const x=g&&g.targetChanges.get(b.targetId),T=b.view.applyChanges(A,m.isPrimaryClient,x);return gP(m,b.targetId,T.Co),T.snapshot}(t,u,f,h);const r=await uP(t.localStore,e,!0),o=new Pie(e,r.zn),a=o.bo(r.documents),s=qg.createSynthesizedTargetChangeForCurrentChange(i,n&&t.onlineState!=="Offline"),l=o.applyChanges(a,t.isPrimaryClient,s);gP(t,i,l.Co);const c=new Rie(e,i,o);return t.Oo.set(e,c),t.Mo.has(i)?t.Mo.get(i).push(e):t.Mo.set(i,[e]),l.snapshot}async function Bie(t,e){const i=Nt(t),n=i.Oo.get(e),r=i.Mo.get(n.targetId);if(r.length>1)return i.Mo.set(n.targetId,r.filter(o=>!zA(o,e))),void i.Oo.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(n.targetId),i.sharedClientState.isActiveQueryTarget(n.targetId)||await HT(i.localStore,n.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(n.targetId),L6(i.remoteStore,n.targetId),WT(i,n.targetId)}).catch(QC)):(WT(i,n.targetId),await HT(i.localStore,n.targetId,!0))}async function G6(t,e){const i=Nt(t);try{const n=await nie(i.localStore,e);e.targetChanges.forEach((r,o)=>{const a=i.Uo.get(o);a&&(Ri(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.$o=!0:r.modifiedDocuments.size>0?Ri(a.$o):r.removedDocuments.size>0&&(Ri(a.$o),a.$o=!1))}),await Y6(i,n,e)}catch(n){await QC(n)}}function mP(t,e,i){const n=Nt(t);if(n.isPrimaryClient&&i===0||!n.isPrimaryClient&&i===1){const r=[];n.Oo.forEach((o,a)=>{const s=a.view.ro(e);s.snapshot&&r.push(s.snapshot)}),function(o,a){const s=Nt(o);s.onlineState=a;let l=!1;s.queries.forEach((c,u)=>{for(const f of u.listeners)f.ro(a)&&(l=!0)}),l&&iE(s)}(n.eventManager,e),r.length&&n.Fo.Pr(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Fie(t,e,i){const n=Nt(t);n.sharedClientState.updateQueryState(e,"rejected",i);const r=n.Uo.get(e),o=r&&r.key;if(o){let a=new or(ut.comparator);a=a.insert(o,Pn.newNoDocument(o,Kt.min()));const s=pi().add(o),l=new RA(Kt.min(),new Map,new vn(ti),a,s);await G6(n,l),n.Bo=n.Bo.remove(o),n.Uo.delete(e),nE(n)}else await HT(n.localStore,e,!1).then(()=>WT(n,e,i)).catch(QC)}function WT(t,e,i=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Mo.get(e))t.Oo.delete(n),i&&t.Fo.zo(n,i);t.Mo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach(n=>{t.qo.containsKey(n)||H6(t,n)})}function H6(t,e){t.Lo.delete(e.path.canonicalString());const i=t.Bo.get(e);i!==null&&(L6(t.remoteStore,i),t.Bo=t.Bo.remove(e),t.Uo.delete(i),nE(t))}function gP(t,e,i){for(const n of i)n instanceof j6?(t.qo.addReference(n.key,e),Nie(t,n)):n instanceof U6?(at("SyncEngine","Document no longer in limbo: "+n.key),t.qo.removeReference(n.key,e),t.qo.containsKey(n.key)||H6(t,n.key)):_t()}function Nie(t,e){const i=e.key,n=i.path.canonicalString();t.Bo.get(i)||t.Lo.has(n)||(at("SyncEngine","New document in limbo: "+i),t.Lo.add(n),nE(t))}function nE(t){for(;t.Lo.size>0&&t.Bo.size<t.maxConcurrentLimboResolutions;){const e=t.Lo.values().next().value;t.Lo.delete(e);const i=new ut(li.fromString(e)),n=t.Qo.next();t.Uo.set(n,new Lie(i)),t.Bo=t.Bo.insert(i,n),R6(t.remoteStore,new Uc(su(HC(i.path)),n,2,BC.I))}}async function Y6(t,e,i){const n=Nt(t),r=[],o=[],a=[];n.Oo.isEmpty()||(n.Oo.forEach((s,l)=>{a.push(n.Go(l,e,i).then(c=>{if(c){n.isPrimaryClient&&n.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),r.push(c);const u=qC.$n(l.targetId,c);o.push(u)}}))}),await Promise.all(a),n.Fo.Pr(r),await async function(s,l){const c=Nt(s);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>qe.forEach(l,f=>qe.forEach(f.kn,h=>c.persistence.referenceDelegate.addReference(u,f.targetId,h)).next(()=>qe.forEach(f.xn,h=>c.persistence.referenceDelegate.removeReference(u,f.targetId,h)))))}catch(u){if(!Kg(u))throw u;at("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const f=u.targetId;if(!u.fromCache){const h=c.qn.get(f),m=h.snapshotVersion,b=h.withLastLimboFreeSnapshotVersion(m);c.qn=c.qn.insert(f,b)}}}(n.localStore,o))}async function jie(t,e){const i=Nt(t);if(!i.currentUser.isEqual(e)){at("SyncEngine","User change. New user:",e.toKey());const n=await z6(i.localStore,e);i.currentUser=e,function(r,o){r.jo.forEach(a=>{a.forEach(s=>{s.reject(new We(Ie.CANCELLED,o))})}),r.jo.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Y6(i,n.Gn)}}function Uie(t,e){const i=Nt(t),n=i.Uo.get(e);if(n&&n.$o)return pi().add(n.key);{let r=pi();const o=i.Mo.get(e);if(!o)return r;for(const a of o){const s=i.Oo.get(a);r=r.unionWith(s.view.Po)}return r}}function Gie(t){const e=Nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=G6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fie.bind(null,e),e.Fo.Pr=zie.bind(null,e.eventManager),e.Fo.zo=Iie.bind(null,e.eventManager),e}class Hie{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=LA(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return iie(this.persistence,new eie,e.initialUser,this.k)}Yo(e){return new die(XC.ks,this.k)}Jo(e){return new pie}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Yie{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>mP(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=jie.bind(null,this.syncEngine),await Sie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Eie}createDatastore(e){const i=LA(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new bie(r));var r;return function(o,a,s,l){return new wie(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,n,i)}createRemoteStore(e){return i=this.localStore,n=this.datastore,r=e.asyncQueue,o=s=>mP(this.syncEngine,s,0),a=fP.bt()?new fP:new hie,new xie(i,n,r,o,a);var i,n,r,o,a}createSyncEngine(e,i){return function(n,r,o,a,s,l,c){const u=new Oie(n,r,o,a,s,l);return c&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return async function(e){const i=Nt(e);at("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),await Jg(i),i.Hr.shutdown(),i.Jr.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{constructor(e,i,n,r){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=n,this.databaseInfo=r,this.user=br.UNAUTHENTICATED,this.clientId=n6.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async o=>{at("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,()=>Promise.resolve())}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new We(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Al;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const n=M6(i,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Vie(t,e){t.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const i=await t.getConfiguration();await e.initialize(i);let n=i.initialUser;t.setCredentialChangeListener(async r=>{n.isEqual(r)||(await z6(e.localStore,r),n=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function $ie(t,e){t.asyncQueue.verifyOperationInProgress();const i=await Qie(t);at("FirestoreClient","Initializing OnlineComponentProvider");const n=await t.getConfiguration();await e.initialize(i,n),t.setCredentialChangeListener(r=>async function(o,a){const s=Nt(o);s.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const l=Zg(s);s.Gr.add(3),await Jg(s),l&&s.Jr.set("Unknown"),await s.remoteSyncer.handleCredentialChange(a),s.Gr.delete(3),await OA(s)}(e.remoteStore,r)),t.onlineComponents=e}async function Qie(t){return t.offlineComponents||(at("FirestoreClient","Using default OfflineComponentProvider"),await Vie(t,new Hie)),t.offlineComponents}async function qie(t){return t.onlineComponents||(at("FirestoreClient","Using default OnlineComponentProvider"),await $ie(t,new Yie)),t.onlineComponents}async function V6(t){const e=await qie(t),i=e.eventManager;return i.onListen=Die.bind(null,e.syncEngine),i.onUnlisten=Bie.bind(null,e.syncEngine),i}function Kie(t,e,i={}){const n=new Al;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,a,s,l){const c=new W6({next:f=>{o.enqueueAndForget(()=>F6(r,u));const h=f.docs.has(a);!h&&f.fromCache?l.reject(new We(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&s&&s.source==="server"?l.reject(new We(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),u=new N6(HC(a.path),c,{includeMetadataChanges:!0,wo:!0});return B6(r,u)}(await V6(t),t.asyncQueue,e,i,n)),n.promise}function Xie(t,e,i={}){const n=new Al;return t.asyncQueue.enqueueAndForget(async()=>function(r,o,a,s,l){const c=new W6({next:f=>{o.enqueueAndForget(()=>F6(r,u)),f.fromCache&&s.source==="server"?l.reject(new We(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),u=new N6(a,c,{includeMetadataChanges:!0,wo:!0});return B6(r,u)}(await V6(t),t.asyncQueue,e,i,n)),n.promise}class Jie{constructor(e,i,n,r,o,a,s,l){this.databaseId=e,this.appId=i,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.useFetchStreams=l}}class Vm{constructor(e,i){this.projectId=e,this.database=i||"(default)"}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Vm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t,e,i){if(!i)throw new We(Ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Zie(t,e,i,n){if(e===!0&&n===!0)throw new We(Ie.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}function vP(t){if(!ut.isDocumentKey(t))throw new We(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yP(t){if(ut.isDocumentKey(t))throw new We(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DA(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_t()}function qy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new We(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=DA(t);throw new We(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}function ene(t,e){if(e<=0)throw new We(Ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){var i;if(e.host===void 0){if(e.ssl!==void 0)throw new We(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new We(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Zie("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,i,n){this._authCredentials=i,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wP({}),this._settingsFrozen=!1,e instanceof Vm?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new We(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vm(r.options.projectId)}(e))}get app(){if(!this._app)throw new We(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new We(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wP(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Jee;switch(i.type){case"gapi":const n=i.client;return Ri(!(typeof n!="object"||n===null||!n.auth||!n.auth.getAuthHeaderValueForFirstParty)),new tte(n,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new We(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=bP.get(e);i&&(at("ComponentProvider","Removing Datastore"),bP.delete(e),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,i,n){this.converter=i,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}}class ql{constructor(e,i,n){this.converter=i,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ql(this.firestore,e,this._query)}}class xl extends ql{constructor(e,i,n){super(e,i,HC(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new ut(e))}withConverter(e){return new xl(this.firestore,e,this._path)}}function tne(t,e,...i){if(t=Wo(t),$6("collection","path",e),t instanceof rE){const n=li.fromString(e,...i);return yP(n),new xl(t,null,n)}{if(!(t instanceof St||t instanceof xl))throw new We(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(li.fromString(e,...i));return yP(n),new xl(t.firestore,null,n)}}function Vi(t,e,...i){if(t=Wo(t),arguments.length===1&&(e=n6.A()),$6("doc","path",e),t instanceof rE){const n=li.fromString(e,...i);return vP(n),new St(t,null,new ut(n))}{if(!(t instanceof St||t instanceof xl))throw new We(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(li.fromString(e,...i));return vP(n),new St(t.firestore,t instanceof xl?t.converter:null,new ut(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new P6(this,"async_queue_retry"),this.Ra=()=>{const i=Dk();i&&at("AsyncQueue","Visibility state changed to "+i.visibilityState),this.ur.er()};const e=Dk();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const i=Dk();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const i=new Al;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}async va(){if(this.ga.length!==0){try{await this.ga[0](),this.ga.shift(),this.ur.reset()}catch(e){if(!Kg(e))throw e;at("AsyncQueue","Operation failed with retryable error: "+e)}this.ga.length>0&&this.ur.Zi(()=>this.va())}}ba(e){const i=this.ma.then(()=>(this.Ea=!0,e().catch(n=>{this.Ta=n,this.Ea=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(n);throw zl("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.Ea=!1,n))));return this.ma=i,i}enqueueAfterDelay(e,i,n){this.Pa(),this.Aa.indexOf(e)>-1&&(i=0);const r=tE.createAndSchedule(this,e,i,n,o=>this.Va(o));return this.pa.push(r),r}Pa(){this.Ta&&_t()}verifyOperationInProgress(){}async Sa(){let e;do e=this.ma,await e;while(e!==this.ma)}Da(e){for(const i of this.pa)if(i.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((i,n)=>i.targetTimeMs-n.targetTimeMs);for(const i of this.pa)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const i=this.pa.indexOf(e);this.pa.splice(i,1)}}class oE extends rE{constructor(e,i,n){super(e,i,n),this.type="firestore",this._queue=new ine,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||q6(this),this._firestoreClient.terminate()}}function nne(t,e){const i=mA(t,"firestore");if(i.isInitialized()){const n=i.getImmediate(),r=i.getOptions();if(Py(r,e))return n;throw new We(Ie.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new We(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return i.initialize({options:e})}function rne(t=dC()){return mA(t,"firestore").getImmediate()}function Q6(t){return t._firestoreClient||q6(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function q6(t){var e;const i=t._freezeSettings(),n=function(r,o,a,s){return new Jie(r,o,a,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Wie(t._authCredentials,t._appCheckCredentials,t._queue,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new We(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new go(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lf(Mn.fromBase64String(e))}catch(i){throw new We(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new lf(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new We(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new We(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ti(this._lat,e._lat)||ti(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const one=/^__.*__$/;function J6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class sE{constructor(e,i,n,r,o,a){this.settings=e,this.databaseId=i,this.k=n,this.ignoreUndefinedProperties=r,o===void 0&&this.ka(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new sE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var i;const n=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}La(e){var i;const n=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return VT(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(e.length===0)throw this.Ua("Document fields must not be empty");if(J6(this.xa)&&one.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class ane{constructor(e,i,n){this.databaseId=e,this.ignoreUndefinedProperties=i,this.k=n||LA(e)}ja(e,i,n,r=!1){return new sE({xa:e,methodName:i,Ka:n,path:go.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Z6(t){const e=t._freezeSettings(),i=LA(t._databaseId);return new ane(t._databaseId,!!e.ignoreUndefinedProperties,i)}function eF(t,e,i,n=!1){return lE(i,t.ja(n?4:3,e))}function lE(t,e){if(tF(t=Wo(t)))return lne("Unsupported field value:",e,t),sne(t,e);if(t instanceof X6)return function(i,n){if(!J6(n.xa))throw n.Ua(`${i._methodName}() can only be used with update() and set()`);if(!n.path)throw n.Ua(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(n);r&&n.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oa&&e.xa!==4)throw e.Ua("Nested arrays are not supported");return function(i,n){const r=[];let o=0;for(const a of i){let s=lE(a,n.Ba(o));s==null&&(s={nullValue:"NULL_VALUE"}),r.push(s),o++}return{arrayValue:{values:r}}}(t,e)}return function(i,n){if((i=Wo(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Ate(n.k,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=nr.fromDate(i);return{timestampValue:UT(n.k,r)}}if(i instanceof nr){const r=new nr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:UT(n.k,r)}}if(i instanceof aE)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof lf)return{bytesValue:x6(n.k,i._byteString)};if(i instanceof St){const r=n.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw n.Ua(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:k6(i.firestore._databaseId||n.databaseId,i._key.path)}}throw n.Ua(`Unsupported field value: ${DA(i)}`)}(t,e)}function sne(t,e){const i={};return r6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qg(t,(n,r)=>{const o=lE(r,e.Fa(n));o!=null&&(i[n]=o)}),{mapValue:{fields:i}}}function tF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nr||t instanceof aE||t instanceof lf||t instanceof St||t instanceof X6)}function lne(t,e,i){if(!tF(i)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(i)){const n=DA(i);throw n==="an object"?e.Ua(t+" a custom object"):e.Ua(t+" "+n)}}const cne=new RegExp("[~\\*/\\[\\]]");function une(t,e,i){if(e.search(cne)>=0)throw VT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new K6(...e.split("."))._internalPath}catch{throw VT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}function VT(t,e,i,n,r){const o=n&&!n.isEmpty(),a=r!==void 0;let s=`Function ${e}() called with invalid data`;i&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${n}`),a&&(l+=` in document ${r}`),l+=")"),new We(Ie.INVALID_ARGUMENT,s+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,i,n,r,o){this._firestore=e,this._userDataWriter=i,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(MA("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class dne extends cE{data(){return super.data()}}function MA(t,e){return typeof e=="string"?une(t,e):e instanceof K6?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iF extends cE{constructor(e,i,n,r,o,a){super(e,i,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Yv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const n=this._document.data.field(MA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,i.serverTimestamps)}}}class Yv extends iF{data(e={}){return super.data(e)}}class fne{constructor(e,i,n,r){this._firestore=e,this._userDataWriter=i,this._snapshot=r,this.metadata=new jh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(n=>{e.call(i,new Yv(this._firestore,this._userDataWriter,n.key,n,new jh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new We(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(n,r){if(n._snapshot.oldDocs.isEmpty()){let o=0;return n._snapshot.docChanges.map(a=>({type:"added",doc:new Yv(n._firestore,n._userDataWriter,a.doc.key,a.doc,new jh(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter),oldIndex:-1,newIndex:o++}))}{let o=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const s=new Yv(n._firestore,n._userDataWriter,a.doc.key,a.doc,new jh(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:pne(a.type),doc:s,oldIndex:l,newIndex:c}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function pne(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hne(t){if(Vy(t)&&t.explicitOrderBy.length===0)throw new We(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BA{}function mne(t,...e){for(const i of e)t=i._apply(t);return t}class gne extends BA{constructor(e,i,n){super(),this.Ga=e,this.za=i,this.Ha=n,this.type="where"}_apply(e){const i=Z6(e.firestore),n=function(r,o,a,s,l,c,u){let f;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new We(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on FieldPath.documentId().`);if(c==="in"||c==="not-in"){xP(u,c);const m=[];for(const b of u)m.push(AP(s,r,b));f={arrayValue:{values:m}}}else f=AP(s,r,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||xP(u,c),f=eF(a,o,u,c==="in"||c==="not-in");const h=ir.create(l,c,f);return function(m,b){if(b.V()){const g=WC(m);if(g!==null&&!g.isEqual(b.field))throw new We(Ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${g.toString()}' and '${b.field.toString()}'`);const A=YC(m);A!==null&&nF(m,b.field,A)}const w=function(g,A){for(const x of g.filters)if(A.indexOf(x.op)>=0)return x.op;return null}(m,function(g){switch(g){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(b.op));if(w!==null)throw w===b.op?new We(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${b.op.toString()}' filter.`):new We(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${b.op.toString()}' filters with '${w.toString()}' filters.`)}(r,h),h}(e._query,"where",i,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new ql(e.firestore,e.converter,function(r,o){const a=r.filters.concat([o]);return new Au(r.path,r.collectionGroup,r.explicitOrderBy.slice(),a,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function ki(t,e,i){const n=e,r=MA("where",t);return new gne(r,n,i)}class bne extends BA{constructor(e,i){super(),this.Ga=e,this.Ja=i,this.type="orderBy"}_apply(e){const i=function(n,r,o){if(n.startAt!==null)throw new We(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(n.endAt!==null)throw new We(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Nd(r,o);return function(s,l){if(YC(s)===null){const c=WC(s);c!==null&&nF(s,c,l.field)}}(n,a),a}(e._query,this.Ga,this.Ja);return new ql(e.firestore,e.converter,function(n,r){const o=n.explicitOrderBy.concat([r]);return new Au(n.path,n.collectionGroup,o,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}(e._query,i))}}function Rn(t,e="asc"){const i=e,n=MA("orderBy",t);return new bne(n,i)}class vne extends BA{constructor(e,i,n){super(),this.type=e,this.Ya=i,this.Xa=n}_apply(e){return new ql(e.firestore,e.converter,s6(e._query,this.Ya,this.Xa))}}function cu(t){return ene("limit",t),new vne("limit",t,"F")}class yne extends BA{constructor(e,i,n){super(),this.type=e,this.Za=i,this.tc=n}_apply(e){const i=wne(e,this.type,this.Za,this.tc);return new ql(e.firestore,e.converter,function(n,r){return new Au(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,r,n.endAt)}(e._query,i))}}function uE(...t){return new yne("startAfter",t,!1)}function wne(t,e,i,n){if(i[0]=Wo(i[0]),i[0]instanceof cE)return function(r,o,a,s,l){if(!s)throw new We(Ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const u of of(r))if(u.field.isKeyField())c.push(Yy(o,s.key));else{const f=s.data.field(u.field);if(FC(f))throw new We(Ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const h=u.field.canonicalString();throw new We(Ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}c.push(f)}return new Ym(c,l)}(t._query,t.firestore._databaseId,e,i[0]._document,n);{const r=Z6(t.firestore);return function(o,a,s,l,c,u){const f=o.explicitOrderBy;if(c.length>f.length)throw new We(Ie.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let m=0;m<c.length;m++){const b=c[m];if(f[m].field.isKeyField()){if(typeof b!="string")throw new We(Ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof b}`);if(!VC(o)&&b.indexOf("/")!==-1)throw new We(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${l}() must be a plain document ID, but '${b}' contains a slash.`);const w=o.path.child(li.fromString(b));if(!ut.isDocumentKey(w))throw new We(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${l}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const g=new ut(w);h.push(Yy(a,g))}else{const w=eF(s,l,b);h.push(w)}}return new Ym(h,u)}(t._query,t.firestore._databaseId,r,e,i,n)}}function AP(t,e,i){if(typeof(i=Wo(i))=="string"){if(i==="")throw new We(Ie.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!VC(e)&&i.indexOf("/")!==-1)throw new We(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const n=e.path.child(li.fromString(i));if(!ut.isDocumentKey(n))throw new We(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Yy(t,new ut(n))}if(i instanceof St)return Yy(t,i._key);throw new We(Ie.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${DA(i)}.`)}function xP(t,e){if(!Array.isArray(t)||t.length===0)throw new We(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new We(Ie.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function nF(t,e,i){if(!i.isEqual(e))throw new We(Ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ane{convertValue(e,i="none"){switch(au(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(nf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw _t()}}convertObject(e,i){const n={};return Qg(e.fields,(r,o)=>{n[r]=this.convertValue(o,i)}),n}convertGeoPoint(e){return new aE(Di(e.latitude),Di(e.longitude))}convertArray(e,i){return(e.values||[]).map(n=>this.convertValue(n,i))}convertServerTimestamp(e,i){switch(i){case"previous":const n=o6(e);return n==null?null:this.convertValue(n,i);case"estimate":return this.convertTimestamp(Gm(e));default:return null}}convertTimestamp(e){const i=Il(e);return new nr(i.seconds,i.nanos)}convertDocumentKey(e,i){const n=li.fromString(e);Ri(C6(n));const r=new Vm(n.get(1),n.get(3)),o=new ut(n.popFirst(5));return r.isEqual(i)||zl(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t){t=qy(t,St);const e=qy(t.firestore,oE);return Kie(Q6(e),t._key).then(i=>kne(e,t,i))}class rF extends Ane{constructor(e){super(),this.firestore=e}convertBytes(e){return new lf(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,i)}}function xne(t){t=qy(t,ql);const e=qy(t.firestore,oE),i=Q6(e),n=new rF(e);return hne(t._query),Xie(i,t._query).then(r=>new fne(e,n,t,r))}function kne(t,e,i){const n=i.docs.get(e._key),r=new rF(t);return new iF(t,r,e._key,n,new jh(i.hasPendingWrites,i.fromCache),e.converter)}(function(t,e=!0){(function(i){op=i})(iB),Fg(new tp("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),o=new oE(r,new Zee(i.getProvider("auth-internal")),new nte(i.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:e},n),o._setSettings(n),o},"PUBLIC")),wa(G4,"3.4.1",t),wa(G4,"3.4.1","esm2017")})();var _ne="firebase",Tne="9.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wa(_ne,Tne,"app");class Mk{constructor(e,i){this.data=e,this.error=i}}class Sne{constructor(e,i){this.data=e,this.error=i}}class fE extends Error{constructor(e){super(`No documents found from querying ${e}`),this.name="NoDocumentsError",Object.setPrototypeOf(this,new.target.prototype)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF="firebasestorage.googleapis.com",aF="storageBucket",Cne=2*60*1e3,Ene=10*60*1e3;class ln extends Bg{constructor(e,i){super(Bk(e),`Firebase Storage: ${i} (${Bk(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ln.prototype)}_codeEquals(e){return Bk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function Bk(t){return"storage/"+t}function sF(){const t="An unknown error occurred, please check the error payload for server response.";return new ln("unknown",t)}function zne(t){return new ln("object-not-found","Object '"+t+"' does not exist.")}function Ine(t){return new ln("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Pne(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ln("unauthenticated",t)}function Rne(){return new ln("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Lne(t){return new ln("unauthorized","User does not have permission to access '"+t+"'.")}function One(){return new ln("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Dne(){return new ln("canceled","User canceled the upload/download.")}function Mne(t){return new ln("invalid-url","Invalid URL '"+t+"'.")}function Bne(t){return new ln("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function Fne(){return new ln("no-default-bucket","No default bucket found. Did you set the '"+aF+"' property when initializing the app?")}function Nne(){return new ln("no-download-url","The given file does not have any download URLs.")}function $T(t){return new ln("invalid-argument",t)}function lF(){return new ln("app-deleted","The Firebase app was deleted.")}function jne(t){return new ln("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Th(t){throw new ln("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let n;try{n=Qr.makeFromUrl(e,i)}catch{return new Qr(e,"")}if(n.path==="")return n;throw Bne(e)}static makeFromUrl(e,i){let n=null;const r="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+r+a,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",f=i.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${u}/b/${r}/o${h}`,"i"),b={bucket:1,path:3},w=i===oF?"(?:storage.googleapis.com|storage.cloud.google.com)":i,g="([^?#]*)",A=new RegExp(`^https?://${w}/${r}/${g}`,"i"),T=[{regex:s,indices:l,postModify:o},{regex:m,indices:b,postModify:c},{regex:A,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<T.length;C++){const z=T[C],L=z.regex.exec(e);if(L){const B=L[z.indices.bucket];let O=L[z.indices.path];O||(O=""),n=new Qr(B,O),z.postModify(n);break}}if(n==null)throw Mne(e);return n}}class Une{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gne(t,e,i){let n=1,r=null,o=null,a=!1,s=0;function l(){return s===2}let c=!1;function u(...g){c||(c=!0,e.apply(null,g))}function f(g){r=setTimeout(()=>{r=null,t(m,l())},g)}function h(){o&&clearTimeout(o)}function m(g,...A){if(c){h();return}if(g){h(),u.call(null,g,...A);return}if(l()||a){h(),u.call(null,g,...A);return}n<64&&(n*=2);let T;s===1?(s=2,T=0):T=(n+Math.random())*1e3,f(T)}let b=!1;function w(g){b||(b=!0,h(),!c&&(r!==null?(g||(s=2),clearTimeout(r),f(0)):g||(s=1)))}return f(0),o=setTimeout(()=>{a=!0,w(!0)},i),w}function Hne(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yne(t){return t!==void 0}function Wne(t){return typeof t=="object"&&!Array.isArray(t)}function cF(t){return typeof t=="string"||t instanceof String}function kP(t,e,i,n){if(n<e)throw $T(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>i)throw $T(`Invalid value for '${t}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t,e,i){let n=e;return i==null&&(n=`https://${e}`),`${i}://${n}/v0${t}`}function dF(t){const e=encodeURIComponent;let i="?";for(const n in t)if(t.hasOwnProperty(n)){const r=e(n)+"="+e(t[n]);i=i+r+"&"}return i=i.slice(0,-1),i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gc||(Gc={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(e,i,n,r,o,a,s,l,c,u,f){this.url_=e,this.method_=i,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,m)=>{this.resolve_=h,this.reject_=m,this.start_()})}start_(){const e=(n,r)=>{if(r){n(!1,new nv(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===Gc.NO_ERROR,l=o.getStatus();if(!s||this.isRetryStatusCode_(l)){const u=o.getErrorCode()===Gc.ABORT;n(!1,new nv(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new nv(c,o))})},i=(n,r)=>{const o=this.resolve_,a=this.reject_,s=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());Yne(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=sF();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(r.canceled){const l=this.appDelete_?lF():Dne();a(l)}else{const l=One();a(l)}};this.canceled_?i(!1,new nv(!1,null,!0)):this.backoffId_=Gne(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Hne(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const i=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,o=this.additionalRetryCodes_.indexOf(e)!==-1;return i||r||o}}class nv{constructor(e,i,n){this.wasSuccessCode=e,this.connection=i,this.canceled=!!n}}function $ne(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Qne(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function qne(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Kne(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Xne(t,e,i,n,r,o){const a=dF(t.urlParams),s=t.url+a,l=Object.assign({},t.headers);return qne(l,e),$ne(l,i),Qne(l,o),Kne(l,n),new Vne(s,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){let e;try{e=JSON.parse(t)}catch{return null}return Wne(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jne(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Zne(t,e){const i=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?i:t+"/"+i}function pF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ere(t,e){return e}class Wn{constructor(e,i,n,r){this.server=e,this.local=i||e,this.writable=!!n,this.xform=r||ere}}let rv=null;function tre(t){return!cF(t)||t.length<2?t:pF(t)}function ire(){if(rv)return rv;const t=[];t.push(new Wn("bucket")),t.push(new Wn("generation")),t.push(new Wn("metageneration")),t.push(new Wn("name","fullPath",!0));function e(o,a){return tre(a)}const i=new Wn("name");i.xform=e,t.push(i);function n(o,a){return a!==void 0?Number(a):a}const r=new Wn("size");return r.xform=n,t.push(r),t.push(new Wn("timeCreated")),t.push(new Wn("updated")),t.push(new Wn("md5Hash",null,!0)),t.push(new Wn("cacheControl",null,!0)),t.push(new Wn("contentDisposition",null,!0)),t.push(new Wn("contentEncoding",null,!0)),t.push(new Wn("contentLanguage",null,!0)),t.push(new Wn("contentType",null,!0)),t.push(new Wn("metadata","customMetadata",!0)),rv=t,rv}function nre(t,e){function i(){const n=t.bucket,r=t.fullPath,o=new Qr(n,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:i})}function rre(t,e,i){const n={};n.type="file";const r=i.length;for(let o=0;o<r;o++){const a=i[o];n[a.local]=a.xform(n,e[a.server])}return nre(n,t),n}function ore(t,e,i){const n=fF(e);return n===null?null:rre(t,n,i)}function are(t,e,i,n){const r=fF(e);if(r===null||!cF(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(c=>{const u=t.bucket,f=t.fullPath,h="/b/"+a(u)+"/o/"+a(f),m=uF(h,i,n),b=dF({alt:"media",token:c});return m+b})[0]}class sre{constructor(e,i,n,r){this.url=e,this.method=i,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lre(t){if(!t)throw sF()}function cre(t,e){function i(n,r){const o=ore(t,r,e);return lre(o!==null),are(o,r,t.host,t._protocol)}return i}function ure(t){function e(i,n){let r;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?r=Rne():r=Pne():i.getStatus()===402?r=Ine(t.bucket):i.getStatus()===403?r=Lne(t.path):r=n,r.serverResponse=n.serverResponse,r}return e}function dre(t){const e=ure(t);function i(n,r){let o=e(n,r);return n.getStatus()===404&&(o=zne(t.path)),o.serverResponse=r.serverResponse,o}return i}function fre(t,e,i){const n=e.fullServerUrl(),r=uF(n,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,s=new sre(r,o,cre(t,i),a);return s.errorHandler=dre(e),s}class pre{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,n,r){if(this.sent_)throw Th("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Th("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Th("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Th("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Th("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class hre extends pre{initXhr(){this.xhr_.responseType="text"}}function mre(){return new hre}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,i){this._service=e,i instanceof Qr?this._location=i:this._location=Qr.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new uu(e,i)}get root(){const e=new Qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pF(this._location.path)}get storage(){return this._service}get parent(){const e=Jne(this._location.path);if(e===null)return null;const i=new Qr(this._location.bucket,e);return new uu(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw jne(e)}}function gre(t){t._throwIfRoot("getDownloadURL");const e=fre(t.storage,t._location,ire());return t.storage.makeRequestWithTokens(e,mre).then(i=>{if(i===null)throw Nne();return i})}function bre(t,e){const i=Zne(t._location.path,e),n=new Qr(t._location.bucket,i);return new uu(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vre(t){return/^[A-Za-z]+:\/\//.test(t)}function yre(t,e){return new uu(t,e)}function hF(t,e){if(t instanceof pE){const i=t;if(i._bucket==null)throw Fne();const n=new uu(i,i._bucket);return e!=null?hF(n,e):n}else return e!==void 0?bre(t,e):t}function wre(t,e){if(e&&vre(e)){if(t instanceof pE)return yre(t,e);throw $T("To use ref(service, url), the first argument must be a Storage instance.")}else return hF(t,e)}function _P(t,e){const i=e==null?void 0:e[aF];return i==null?null:Qr.makeFromBucketSpec(i,t)}class pE{constructor(e,i,n,r,o){this.app=e,this._authProvider=i,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=oF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Cne,this._maxUploadRetryTime=Ene,this._requests=new Set,r!=null?this._bucket=Qr.makeFromBucketSpec(r,this._host):this._bucket=_P(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qr.makeFromBucketSpec(this._url,e):this._bucket=_P(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uu(this,e)}_makeRequest(e,i,n,r){if(this._deleted)return new Une(lF());{const o=Xne(e,this._appId,n,r,i,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,i){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,n,r).getPromise()}}const TP="@firebase/storage",SP="0.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="storage";function Are(t){return t=Wo(t),gre(t)}function xre(t,e){return t=Wo(t),wre(t,e)}function kre(t=dC(),e){return t=Wo(t),mA(t,mF).getImmediate({identifier:e})}function _re(t,{instanceIdentifier:e}){const i=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new pE(i,n,r,e,iB)}function Tre(){Fg(new tp(mF,_re,"PUBLIC").setMultipleInstances(!0)),wa(TP,SP,""),wa(TP,SP,"esm2017")}Tre();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sre="type.googleapis.com/google.protobuf.Int64Value",Cre="type.googleapis.com/google.protobuf.UInt64Value";function gF(t,e){const i={};for(const n in t)t.hasOwnProperty(n)&&(i[n]=e(t[n]));return i}function QT(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>QT(e));if(typeof t=="function"||typeof t=="object")return gF(t,e=>QT(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Ky(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case Sre:case Cre:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Ky(e)):typeof t=="function"||typeof t=="object"?gF(t,e=>Ky(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ud extends Bg{constructor(e,i,n){super(`${hE}/${e}`,i||""),this.details=n}}function Ere(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function zre(t,e){let i=Ere(t),n=i,r;try{const o=e&&e.error;if(o){const a=o.status;if(typeof a=="string"){if(!CP[a])return new Ud("internal","internal");i=CP[a],n=a}const s=o.message;typeof s=="string"&&(n=s),r=o.details,r!==void 0&&(r=Ky(r))}}catch{}return i==="ok"?null:new Ud(i,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ire{constructor(e,i,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||i.get().then(r=>this.messaging=r,()=>{}),this.appCheck||n.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(!!this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(){if(this.appCheck){const e=await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(){const e=await this.getAuthToken(),i=await this.getMessagingToken(),n=await this.getAppCheckToken();return{authToken:e,messagingToken:i,appCheckToken:n}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="us-central1";function Pre(t){let e=null;return{promise:new Promise((i,n)=>{e=setTimeout(()=>{n(new Ud("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Rre{constructor(e,i,n,r,o=qT,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new Ire(i,n,r),this.cancelAllRequests=new Promise(s=>{this.deleteService=()=>Promise.resolve(s())});try{const s=new URL(o);this.customDomain=s.origin,this.region=qT}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const i=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${i}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${i}.cloudfunctions.net/${e}`}}function Lre(t,e,i){return n=>Dre(t,e,n,i||{})}async function Ore(t,e,i,n){i["Content-Type"]="application/json";let r;try{r=await n(t,{method:"POST",body:JSON.stringify(e),headers:i})}catch{return{status:0,json:null}}let o=null;try{o=await r.json()}catch{}return{status:r.status,json:o}}async function Dre(t,e,i,n){const r=t._url(e);i=QT(i);const o={data:i},a={},s=await t.contextProvider.getContext();s.authToken&&(a.Authorization="Bearer "+s.authToken),s.messagingToken&&(a["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=s.appCheckToken);const l=n.timeout||7e4,c=Pre(l),u=await Promise.race([Ore(r,o,a,t.fetchImpl),c.promise,t.cancelAllRequests]);if(c.cancel(),!u)throw new Ud("cancelled","Firebase Functions instance was deleted.");const f=zre(u.status,u.json);if(f)throw f;if(!u.json)throw new Ud("internal","Response is not valid JSON object.");let h=u.json.data;if(typeof h=="undefined"&&(h=u.json.result),typeof h=="undefined")throw new Ud("internal","Response is missing data field.");return{data:Ky(h)}}const EP="@firebase/functions",zP="0.7.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mre="auth-internal",Bre="app-check-internal",Fre="messaging-internal";function Nre(t,e){const i=(n,{instanceIdentifier:r})=>{const o=n.getProvider("app").getImmediate(),a=n.getProvider(Mre),s=n.getProvider(Fre),l=n.getProvider(Bre);return new Rre(o,a,s,l,r,t)};Fg(new tp(hE,i,"PUBLIC").setMultipleInstances(!0)),wa(EP,zP,e),wa(EP,zP,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jre(t=dC(),e=qT){return mA(Wo(t),hE).getImmediate({identifier:e})}function Ure(t,e,i){return Lre(Wo(t),e,i)}Nre(fetch.bind(self));var Ce=(t=>(t.Body="body",t.Event="event",t.EventMinutesItem="event_minutes_item",t.EventMinutesItemFile="event_minutes_item_file",t.File="file",t.IndexedEventGram="indexed_event_gram",t.Matter="matter",t.MatterFile="matter_file",t.MatterSponsor="matter_sponsor",t.MatterStatus="matter_status",t.MinutesItem="minutes_item",t.Person="person",t.Role="role",t.Seat="seat",t.Session="session",t.Transcript="transcript",t.TranscriptJSON="transcript_json",t.Vote="vote",t))(Ce||{}),At=(t=>(t.EventBodyRef="body_ref",t.EventHoverThumbnailRef="hover_thumbnail_ref",t.EventStaticThumbnailRef="static_thumbnail_ref",t.EventMinutesItemEventRef="event_ref",t.EventMinutesItemMinutesItemRef="minutes_item_ref",t.EventMinutesItemFileEventMinutesItemRef="event_minutes_item_ref",t.IndexedEventGramEventRef="event_ref",t.MatterFileMatterRef="matter_ref",t.MatterStatusEventMinutesItemRef="event_minutes_item_ref",t.MatterStatusMatterRef="matter_ref",t.MatterSponsorMatterRef="matter_ref",t.MatterSponsorPersonRef="person_ref",t.MinutesItemMatterRef="matter_ref",t.PersonPictureRef="picture_ref",t.RoleBodyRef="body_ref",t.RolePersonRef="person_ref",t.RoleSeatRef="seat_ref",t.SeatImageRef="image_ref",t.SessionEventRef="event_ref",t.TranscriptFileRef="file_ref",t.TranscriptSessionRef="session_ref",t.VoteEventMinutesItemRef="event_minutes_item_ref",t.VoteEventRef="event_ref",t.VoteMatterRef="matter_ref",t.VotePersonRef="person_ref",t))(At||{});function IP(t){switch(t){case"body_ref":return"body";case"hover_thumbnail_ref":return"file";case"static_thumbnail_ref":return"file";case"event_ref":return"event";case"minutes_item_ref":return"minutes_item";case"event_minutes_item_ref":return"event_minutes_item";case"event_ref":return"event";case"matter_ref":return"matter";case"event_minutes_item_ref":return"event_minutes_item";case"matter_ref":return"matter";case"matter_ref":return"matter";case"person_ref":return"person";case"matter_ref":return"matter";case"picture_ref":return"file";case"body_ref":return"body";case"person_ref":return"person";case"seat_ref":return"seat";case"image_ref":return"file";case"event_ref":return"event";case"file_ref":return"file";case"session_ref":return"session";case"event_minutes_item_ref":return"minutes_item";case"event_ref":return"event";case"matter_ref":return"matter";case"person_ref":return"person";default:return}}class Ii{constructor(e,i,n){this.collectionName=e,this.refName=i,this.cascade=n}}class tn{constructor(e){this.toPopulate=e}}function Ca(t){return t instanceof Error?t:typeof t=="string"?new Error(t):new Error(String(t))}class Mt{constructor(e,i){const n=HZ(e);nne(n,i),Mt.db=rne(),Mt.functions=jre(n)}static getInstance(e,i){return Mt.instance||(Mt.instance=new Mt(e,i)),Mt.instance}static getDb(){return Mt.db}collateDocumentData(e,i,n){return Promise.all(e).then(r=>(r.forEach((o,a)=>{n.data&&(n.data[i[a]]=o.data)}),Promise.resolve(n))).catch(r=>(n.error=r,Promise.resolve(n)))}getFunction(e){return Ure(Mt.functions,e)}async getDocument(e,i,n){const r=Vi(Mt.db,i,e),o=new Mk;return dE(r).then(a=>{if(!a.exists())return Promise.reject(new Error(`Document ${e} does not exist in Collection ${i}.`));const s=a.data();if(!s)return Promise.reject(new Error("No data on docSnap."));if(s.id=a.id,o.data=s,n&&n.toPopulate){const l=[],c=[];return n.toPopulate.filter(u=>s[u.refName]).forEach(u=>{const f=s[u.refName].id,h=IP(u.refName);f&&h&&(l.push(this.getDocument(f,h,u.cascade)),c.push(u.refName))}),this.collateDocumentData(l,c,o)}else return Promise.resolve(o)}).catch(a=>(a.message=`_getDocument_${a.message}`,o.error=a,Promise.resolve(o)))}async getDocuments(e,i,n){const r=tne(Mt.db,e),o=mne(r,...i),a=new Sne;try{const s=await xne(o);if(s.empty)throw new fE(e);const l=[];if(s.forEach(c=>{const u=c.data();if(!u)return Promise.reject(new Error("No data on docSnap."));u.id=c.id,l.push(u)}),n&&n.toPopulate){const c=[];for(const h of l){const m=[],b=[],w=new Mk;w.data=h,n.toPopulate.filter(g=>h[g.refName]).forEach(g=>{const A=h[g.refName].id,x=IP(g.refName);A&&x&&(m.push(this.getDocument(A,x,g.cascade)),b.push(g.refName))}),c.push(this.collateDocumentData(m,b,w))}const f=(await Promise.all(c)).map(({data:h})=>h);return a.data=f,Promise.resolve(a)}else return a.data=l,Promise.resolve(a)}catch(s){return a.error=Ca(s),Promise.resolve(a)}}async downloadJson(e){const i=new Mk;try{const n=await this.getDownloadUrl(e),r=await fetch(n).then(o=>o.json());if(!r)throw new Error(`No JSON found for uri: ${e}`);i.data=r}catch(n){const r=Ca(n);i.error=r}finally{return Promise.resolve(i)}}async getDownloadUrl(e){const i=kre(),n=xre(i,e);return await Are(n)}}function Gre(t){switch(t){case Ce.Body:return["id","is_active","start_datetime","name"];case Ce.Event:return["id","body_ref","event_datetime"];case Ce.EventMinutesItem:return["id","event_ref","index","minutes_item_ref"];case Ce.EventMinutesItemFile:return["id","event_minutes_item_ref","name","uri"];case Ce.File:return["id","name","uri"];case Ce.IndexedEventGram:return["id","context_span","datetime_weighted_value","event_ref","stemmed_gram","unstemmed_gram","value"];case Ce.Matter:return["id","matter_type","name","title"];case Ce.MatterFile:return["id","matter_ref","name","uri"];case Ce.MatterSponsor:return["id","matter_ref","person_ref"];case Ce.MatterStatus:return["id","matter_ref","status","update_datetime"];case Ce.MinutesItem:return["id","name"];case Ce.Person:return["id","is_active","name","router_string"];case Ce.Role:return["id","start_datetime","title","person_ref","seat_ref"];case Ce.Seat:return["id","name"];case Ce.Session:return["id","event_ref","session_datetime","session_index","video_uri"];case Ce.Transcript:return["id","confidence","created","generator","file_ref","session_ref"];case Ce.TranscriptJSON:return["confidence","generator","created_datetime","sentences"];case Ce.Vote:return["id","event_minutes_item_ref","event_ref","matter_ref","person_ref","decision"]}}function PP(t,e){try{const n=Gre(e).filter(r=>!t.hasOwnProperty(r));if(n.length>0)throw new Error(`Missing properties: ${JSON.stringify(n)}`);return}catch(i){return i instanceof Error?(i.message=`validateResponseData_${i.message}`,i):new Error("validateResponseData_somehow threw a incorrectly-typed error")}}class Bn{constructor(e,i){this.networkService=Mt.getInstance(i.options,i.settings),this.modelName=e;const n=e.split("_").map(r=>r[0].toUpperCase()+r.slice(1)).join("");this.serviceName=`${n}Service`}async createModel(e,i,n){try{const{data:r,error:o}=await e;if(o)throw o;if(!r)throw new Error(`No ${this.modelName} found.`);const a=PP(r,this.modelName);if(a)throw a;return Promise.resolve(new i(r))}catch(r){const o=Ca(r);return o.message=`${this.serviceName}_${n}_${o.message}`,Promise.reject(o)}}async createModels(e,i,n){try{const{data:r,error:o}=await e;if(o){if(o instanceof fE)return Promise.resolve([]);throw o}if(!r||r.length===0)throw new Error(`No ${this.modelName}s found.`);const a=r.map(s=>{const l=PP(s,this.modelName);if(l)throw l;return new i(s)});return Promise.resolve(a)}catch(r){const o=Ca(r);return o.message=`${this.serviceName}_${n}_${o.message}`,Promise.reject(o)}}}var bi=(t=>(t.lt="<",t.lteq="<=",t.eq="==",t.gt=">",t.gteq=">=",t.not_eq="!=",t.array_contains="array-contains",t.array_contains_any="array-contains-any",t.in="in",t.not_in="not-in",t))(bi||{}),Zi=(t=>(t.asc="asc",t.desc="desc",t))(Zi||{});const mE=10;function Ea(t){return new Date(t.seconds*1e3)}class Xy{constructor(e){this.id=e.id,this.is_active=e.is_active,this.start_datetime=Ea(e.start_datetime),this.name=e.name,e.description&&(this.description=e.description),e.end_datetime&&(this.end_datetime=Ea(e.end_datetime)),e.external_source_id&&(this.external_source_id=e.external_source_id)}}class bF extends Bn{constructor(e){super(Ce.Body,e)}async getBodiesByName(e){const i=this.networkService.getDocuments(Ce.Body,[ki("name",bi.eq,e)]);return this.createModels(i,Xy,`getBodyByName(${e})`)}async getAllBodies(){const e=this.networkService.getDocuments(Ce.Body,[Rn("name")]);return this.createModels(e,Xy,"getAllBodies()")}}var fa=function(e,i){if(typeof e=="function"){e(i);return}e!==null&&typeof e=="object"&&(e.current=i)},KT=function(e){return e!==null&&typeof e=="object"&&e.hasOwnProperty("current")},Hre=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.prevNode=null,n}var i=e.prototype;return i.componentDidMount=function(){var r=_l.exports.findDOMNode(this);this.prevNode=r,fa(this.props.innerRef,r)},i.componentDidUpdate=function(r){var o=_l.exports.findDOMNode(this);this.prevNode!==o&&(this.prevNode=o,fa(this.props.innerRef,o)),r.innerRef!==this.props.innerRef&&fa(this.props.innerRef,o)},i.componentWillUnmount=function(){fa(this.props.innerRef,null),delete this.prevNode},i.render=function(){var r=this.props.children;return r},e}(Y.exports.Component),Yre=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.currentNode=null,n.handleRefOverride=function(s){var l=n.props,c=l.children,u=l.innerRef;fa(c.ref,s),fa(u,s),n.currentNode=s},n}var i=e.prototype;return i.componentDidUpdate=function(r){r.innerRef!==this.props.innerRef&&fa(this.props.innerRef,this.currentNode)},i.componentWillUnmount=function(){delete this.currentNode},i.render=function(){var r=this.props.children;return Y.exports.cloneElement(r,{ref:this.handleRefOverride})},e}(Y.exports.Component),eo=function(e){var i=e.children,n=e.innerRef,r=yu(e,["children","innerRef"]),o=Y.exports.Children.only(i),a=QS.exports.isForwardRef(o)?Yre:Hre,s=o&&r&&Object.keys(r).length>0?Y.exports.cloneElement(o,r):o;return Y.exports.createElement(a,{innerRef:n},s)},Wre=Array.isArray,Ni=Wre,Vre=typeof global=="object"&&global&&global.Object===Object&&global,vF=Vre,$re=typeof self=="object"&&self&&self.Object===Object&&self,Qre=vF||$re||Function("return this")(),Fs=Qre,qre=Fs.Symbol,za=qre,yF=Object.prototype,Kre=yF.hasOwnProperty,Xre=yF.toString,Sh=za?za.toStringTag:void 0;function Jre(t){var e=Kre.call(t,Sh),i=t[Sh];try{t[Sh]=void 0;var n=!0}catch{}var r=Xre.call(t);return n&&(e?t[Sh]=i:delete t[Sh]),r}var Zre=Object.prototype,eoe=Zre.toString;function toe(t){return eoe.call(t)}var ioe="[object Null]",noe="[object Undefined]",RP=za?za.toStringTag:void 0;function Ma(t){return t==null?t===void 0?noe:ioe:RP&&RP in Object(t)?Jre(t):toe(t)}function Vo(t){return t!=null&&typeof t=="object"}var roe="[object Symbol]";function FA(t){return typeof t=="symbol"||Vo(t)&&Ma(t)==roe}var ooe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aoe=/^\w*$/;function gE(t,e){if(Ni(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||FA(t)?!0:aoe.test(t)||!ooe.test(t)||e!=null&&t in Object(e)}function Pl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var soe="[object AsyncFunction]",loe="[object Function]",coe="[object GeneratorFunction]",uoe="[object Proxy]";function cf(t){if(!Pl(t))return!1;var e=Ma(t);return e==loe||e==coe||e==soe||e==uoe}var doe=Fs["__core-js_shared__"],Fk=doe,LP=function(){var t=/[^.]+$/.exec(Fk&&Fk.keys&&Fk.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function foe(t){return!!LP&&LP in t}var poe=Function.prototype,hoe=poe.toString;function xu(t){if(t!=null){try{return hoe.call(t)}catch{}try{return t+""}catch{}}return""}var moe=/[\\^$.*+?()[\]{}|]/g,goe=/^\[object .+?Constructor\]$/,boe=Function.prototype,voe=Object.prototype,yoe=boe.toString,woe=voe.hasOwnProperty,Aoe=RegExp("^"+yoe.call(woe).replace(moe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xoe(t){if(!Pl(t)||foe(t))return!1;var e=cf(t)?Aoe:goe;return e.test(xu(t))}function koe(t,e){return t==null?void 0:t[e]}function ku(t,e){var i=koe(t,e);return xoe(i)?i:void 0}var _oe=ku(Object,"create"),$m=_oe;function Toe(){this.__data__=$m?$m(null):{},this.size=0}function Soe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Coe="__lodash_hash_undefined__",Eoe=Object.prototype,zoe=Eoe.hasOwnProperty;function Ioe(t){var e=this.__data__;if($m){var i=e[t];return i===Coe?void 0:i}return zoe.call(e,t)?e[t]:void 0}var Poe=Object.prototype,Roe=Poe.hasOwnProperty;function Loe(t){var e=this.__data__;return $m?e[t]!==void 0:Roe.call(e,t)}var Ooe="__lodash_hash_undefined__";function Doe(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=$m&&e===void 0?Ooe:e,this}function du(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}du.prototype.clear=Toe;du.prototype.delete=Soe;du.prototype.get=Ioe;du.prototype.has=Loe;du.prototype.set=Doe;function Moe(){this.__data__=[],this.size=0}function NA(t,e){return t===e||t!==t&&e!==e}function jA(t,e){for(var i=t.length;i--;)if(NA(t[i][0],e))return i;return-1}var Boe=Array.prototype,Foe=Boe.splice;function Noe(t){var e=this.__data__,i=jA(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():Foe.call(e,i,1),--this.size,!0}function joe(t){var e=this.__data__,i=jA(e,t);return i<0?void 0:e[i][1]}function Uoe(t){return jA(this.__data__,t)>-1}function Goe(t,e){var i=this.__data__,n=jA(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}function Ns(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Ns.prototype.clear=Moe;Ns.prototype.delete=Noe;Ns.prototype.get=joe;Ns.prototype.has=Uoe;Ns.prototype.set=Goe;var Hoe=ku(Fs,"Map"),Qm=Hoe;function Yoe(){this.size=0,this.__data__={hash:new du,map:new(Qm||Ns),string:new du}}function Woe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function UA(t,e){var i=t.__data__;return Woe(e)?i[typeof e=="string"?"string":"hash"]:i.map}function Voe(t){var e=UA(this,t).delete(t);return this.size-=e?1:0,e}function $oe(t){return UA(this,t).get(t)}function Qoe(t){return UA(this,t).has(t)}function qoe(t,e){var i=UA(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}function js(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}js.prototype.clear=Yoe;js.prototype.delete=Voe;js.prototype.get=$oe;js.prototype.has=Qoe;js.prototype.set=qoe;var Koe="Expected a function";function GA(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Koe);var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var a=t.apply(this,n);return i.cache=o.set(r,a)||o,a};return i.cache=new(GA.Cache||js),i}GA.Cache=js;var Xoe=500;function Joe(t){var e=GA(t,function(n){return i.size===Xoe&&i.clear(),n}),i=e.cache;return e}var Zoe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eae=/\\(\\)?/g,tae=Joe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Zoe,function(i,n,r,o){e.push(r?o.replace(eae,"$1"):n||i)}),e}),iae=tae;function HA(t,e){for(var i=-1,n=t==null?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}var nae=1/0,OP=za?za.prototype:void 0,DP=OP?OP.toString:void 0;function wF(t){if(typeof t=="string")return t;if(Ni(t))return HA(t,wF)+"";if(FA(t))return DP?DP.call(t):"";var e=t+"";return e=="0"&&1/t==-nae?"-0":e}function eb(t){return t==null?"":wF(t)}function tb(t,e){return Ni(t)?t:gE(t,e)?[t]:iae(eb(t))}var rae="[object Arguments]";function MP(t){return Vo(t)&&Ma(t)==rae}var AF=Object.prototype,oae=AF.hasOwnProperty,aae=AF.propertyIsEnumerable,sae=MP(function(){return arguments}())?MP:function(t){return Vo(t)&&oae.call(t,"callee")&&!aae.call(t,"callee")},YA=sae,lae=9007199254740991,cae=/^(?:0|[1-9]\d*)$/;function WA(t,e){var i=typeof t;return e=e==null?lae:e,!!e&&(i=="number"||i!="symbol"&&cae.test(t))&&t>-1&&t%1==0&&t<e}var uae=9007199254740991;function bE(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uae}var dae=1/0;function lp(t){if(typeof t=="string"||FA(t))return t;var e=t+"";return e=="0"&&1/t==-dae?"-0":e}function fae(t,e,i){e=tb(e,t);for(var n=-1,r=e.length,o=!1;++n<r;){var a=lp(e[n]);if(!(o=t!=null&&i(t,a)))break;t=t[a]}return o||++n!=r?o:(r=t==null?0:t.length,!!r&&bE(r)&&WA(a,r)&&(Ni(t)||YA(t)))}function xF(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function pae(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function VA(t,e){e=tb(e,t);for(var i=0,n=e.length;t!=null&&i<n;)t=t[lp(e[i++])];return i&&i==n?t:void 0}function vE(t,e,i){var n=-1,r=t.length;e<0&&(e=-e>r?0:r+e),i=i>r?r:i,i<0&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var o=Array(r);++n<r;)o[n]=t[n+e];return o}function hae(t,e){return e.length<2?t:VA(t,vE(e,0,-1))}function mae(t,e,i){e=tb(e,t),t=hae(t,e);var n=t==null?t:t[lp(pae(e))];return n==null?void 0:xF(n,t,i)}function ib(t){return t}var BP=Math.max;function kF(t,e,i){return e=BP(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=BP(n.length-e,0),a=Array(o);++r<o;)a[r]=n[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=n[r];return s[e]=i(a),xF(t,this,s)}}function _F(t){return function(){return t}}var gae=function(){try{var t=ku(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Jy=gae,bae=Jy?function(t,e){return Jy(t,"toString",{configurable:!0,enumerable:!1,value:_F(e),writable:!0})}:ib,vae=bae,yae=800,wae=16,Aae=Date.now;function xae(t){var e=0,i=0;return function(){var n=Aae(),r=wae-(n-i);if(i=n,r>0){if(++e>=yae)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var kae=xae(vae),TF=kae;function $A(t,e){return TF(kF(t,e,ib),t+"")}var _ae=$A(mae),Ue=_ae;function oe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QA(t){return t===void 0}var Tae=/\s/;function Sae(t){for(var e=t.length;e--&&Tae.test(t.charAt(e)););return e}var Cae=/^\s+/;function Eae(t){return t&&t.slice(0,Sae(t)+1).replace(Cae,"")}var FP=0/0,zae=/^[-+]0x[0-9a-f]+$/i,Iae=/^0b[01]+$/i,Pae=/^0o[0-7]+$/i,Rae=parseInt;function SF(t){if(typeof t=="number")return t;if(FA(t))return FP;if(Pl(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Pl(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Eae(t);var i=Iae.test(t);return i||Pae.test(t)?Rae(t.slice(2),i?2:8):zae.test(t)?FP:+t}var NP=1/0,Lae=17976931348623157e292;function XT(t){if(!t)return t===0?t:0;if(t=SF(t),t===NP||t===-NP){var e=t<0?-1:1;return e*Lae}return t===t?t:0}function yE(t){var e=XT(t),i=e%1;return e===e?i?e-i:e:0}function CF(t,e){for(var i=-1,n=t==null?0:t.length,r=0,o=[];++i<n;){var a=t[i];e(a,i,t)&&(o[r++]=a)}return o}function Oae(t){return function(e,i,n){for(var r=-1,o=Object(e),a=n(e),s=a.length;s--;){var l=a[t?s:++r];if(i(o[l],l,o)===!1)break}return e}}var Dae=Oae(),Mae=Dae;function Bae(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function Fae(){return!1}var EF=typeof ys=="object"&&ys&&!ys.nodeType&&ys,jP=EF&&typeof ws=="object"&&ws&&!ws.nodeType&&ws,Nae=jP&&jP.exports===EF,UP=Nae?Fs.Buffer:void 0,jae=UP?UP.isBuffer:void 0,Uae=jae||Fae,Zy=Uae,Gae="[object Arguments]",Hae="[object Array]",Yae="[object Boolean]",Wae="[object Date]",Vae="[object Error]",$ae="[object Function]",Qae="[object Map]",qae="[object Number]",Kae="[object Object]",Xae="[object RegExp]",Jae="[object Set]",Zae="[object String]",ese="[object WeakMap]",tse="[object ArrayBuffer]",ise="[object DataView]",nse="[object Float32Array]",rse="[object Float64Array]",ose="[object Int8Array]",ase="[object Int16Array]",sse="[object Int32Array]",lse="[object Uint8Array]",cse="[object Uint8ClampedArray]",use="[object Uint16Array]",dse="[object Uint32Array]",oi={};oi[nse]=oi[rse]=oi[ose]=oi[ase]=oi[sse]=oi[lse]=oi[cse]=oi[use]=oi[dse]=!0;oi[Gae]=oi[Hae]=oi[tse]=oi[Yae]=oi[ise]=oi[Wae]=oi[Vae]=oi[$ae]=oi[Qae]=oi[qae]=oi[Kae]=oi[Xae]=oi[Jae]=oi[Zae]=oi[ese]=!1;function fse(t){return Vo(t)&&bE(t.length)&&!!oi[Ma(t)]}function zF(t){return function(e){return t(e)}}var IF=typeof ys=="object"&&ys&&!ys.nodeType&&ys,cm=IF&&typeof ws=="object"&&ws&&!ws.nodeType&&ws,pse=cm&&cm.exports===IF,Nk=pse&&vF.process,hse=function(){try{var t=cm&&cm.require&&cm.require("util").types;return t||Nk&&Nk.binding&&Nk.binding("util")}catch{}}(),GP=hse,HP=GP&&GP.isTypedArray,mse=HP?zF(HP):fse,wE=mse,gse=Object.prototype,bse=gse.hasOwnProperty;function vse(t,e){var i=Ni(t),n=!i&&YA(t),r=!i&&!n&&Zy(t),o=!i&&!n&&!r&&wE(t),a=i||n||r||o,s=a?Bae(t.length,String):[],l=s.length;for(var c in t)(e||bse.call(t,c))&&!(a&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||WA(c,l)))&&s.push(c);return s}var yse=Object.prototype;function PF(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||yse;return t===i}function RF(t,e){return function(i){return t(e(i))}}var wse=RF(Object.keys,Object),Ase=wse,xse=Object.prototype,kse=xse.hasOwnProperty;function AE(t){if(!PF(t))return Ase(t);var e=[];for(var i in Object(t))kse.call(t,i)&&i!="constructor"&&e.push(i);return e}function Us(t){return t!=null&&bE(t.length)&&!cf(t)}function cp(t){return Us(t)?vse(t):AE(t)}function LF(t,e){return t&&Mae(t,e,cp)}function _se(t,e){return function(i,n){if(i==null)return i;if(!Us(i))return t(i,n);for(var r=i.length,o=e?r:-1,a=Object(i);(e?o--:++o<r)&&n(a[o],o,a)!==!1;);return i}}var Tse=_se(LF),up=Tse;function Sse(t,e){var i=[];return up(t,function(n,r,o){e(n,r,o)&&i.push(n)}),i}function Cse(){this.__data__=new Ns,this.size=0}function Ese(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function zse(t){return this.__data__.get(t)}function Ise(t){return this.__data__.has(t)}var Pse=200;function Rse(t,e){var i=this.__data__;if(i instanceof Ns){var n=i.__data__;if(!Qm||n.length<Pse-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new js(n)}return i.set(t,e),this.size=i.size,this}function xs(t){var e=this.__data__=new Ns(t);this.size=e.size}xs.prototype.clear=Cse;xs.prototype.delete=Ese;xs.prototype.get=zse;xs.prototype.has=Ise;xs.prototype.set=Rse;var Lse="__lodash_hash_undefined__";function Ose(t){return this.__data__.set(t,Lse),this}function Dse(t){return this.__data__.has(t)}function uf(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new js;++e<i;)this.add(t[e])}uf.prototype.add=uf.prototype.push=Ose;uf.prototype.has=Dse;function OF(t,e){for(var i=-1,n=t==null?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}function xE(t,e){return t.has(e)}var Mse=1,Bse=2;function DF(t,e,i,n,r,o){var a=i&Mse,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,m=i&Bse?new uf:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var b=t[f],w=e[f];if(n)var g=a?n(w,b,f,e,t,o):n(b,w,f,t,e,o);if(g!==void 0){if(g)continue;h=!1;break}if(m){if(!OF(e,function(A,x){if(!xE(m,x)&&(b===A||r(b,A,i,n,o)))return m.push(x)})){h=!1;break}}else if(!(b===w||r(b,w,i,n,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var Fse=Fs.Uint8Array,YP=Fse;function Nse(t){var e=-1,i=Array(t.size);return t.forEach(function(n,r){i[++e]=[r,n]}),i}function kE(t){var e=-1,i=Array(t.size);return t.forEach(function(n){i[++e]=n}),i}var jse=1,Use=2,Gse="[object Boolean]",Hse="[object Date]",Yse="[object Error]",Wse="[object Map]",Vse="[object Number]",$se="[object RegExp]",Qse="[object Set]",qse="[object String]",Kse="[object Symbol]",Xse="[object ArrayBuffer]",Jse="[object DataView]",WP=za?za.prototype:void 0,jk=WP?WP.valueOf:void 0;function Zse(t,e,i,n,r,o,a){switch(i){case Jse:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Xse:return!(t.byteLength!=e.byteLength||!o(new YP(t),new YP(e)));case Gse:case Hse:case Vse:return NA(+t,+e);case Yse:return t.name==e.name&&t.message==e.message;case $se:case qse:return t==e+"";case Wse:var s=Nse;case Qse:var l=n&jse;if(s||(s=kE),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;n|=Use,a.set(t,e);var u=DF(s(t),s(e),n,r,o,a);return a.delete(t),u;case Kse:if(jk)return jk.call(t)==jk.call(e)}return!1}function MF(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}function ele(t,e,i){var n=e(t);return Ni(t)?n:MF(n,i(t))}function tle(){return[]}var ile=Object.prototype,nle=ile.propertyIsEnumerable,VP=Object.getOwnPropertySymbols,rle=VP?function(t){return t==null?[]:(t=Object(t),CF(VP(t),function(e){return nle.call(t,e)}))}:tle,ole=rle;function $P(t){return ele(t,cp,ole)}var ale=1,sle=Object.prototype,lle=sle.hasOwnProperty;function cle(t,e,i,n,r,o){var a=i&ale,s=$P(t),l=s.length,c=$P(e),u=c.length;if(l!=u&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:lle.call(e,h)))return!1}var m=o.get(t),b=o.get(e);if(m&&b)return m==e&&b==t;var w=!0;o.set(t,e),o.set(e,t);for(var g=a;++f<l;){h=s[f];var A=t[h],x=e[h];if(n)var T=a?n(x,A,h,e,t,o):n(A,x,h,t,e,o);if(!(T===void 0?A===x||r(A,x,i,n,o):T)){w=!1;break}g||(g=h=="constructor")}if(w&&!g){var C=t.constructor,z=e.constructor;C!=z&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof z=="function"&&z instanceof z)&&(w=!1)}return o.delete(t),o.delete(e),w}var ule=ku(Fs,"DataView"),JT=ule,dle=ku(Fs,"Promise"),ZT=dle,fle=ku(Fs,"Set"),Gd=fle,ple=ku(Fs,"WeakMap"),e2=ple,QP="[object Map]",hle="[object Object]",qP="[object Promise]",KP="[object Set]",XP="[object WeakMap]",JP="[object DataView]",mle=xu(JT),gle=xu(Qm),ble=xu(ZT),vle=xu(Gd),yle=xu(e2),wc=Ma;(JT&&wc(new JT(new ArrayBuffer(1)))!=JP||Qm&&wc(new Qm)!=QP||ZT&&wc(ZT.resolve())!=qP||Gd&&wc(new Gd)!=KP||e2&&wc(new e2)!=XP)&&(wc=function(t){var e=Ma(t),i=e==hle?t.constructor:void 0,n=i?xu(i):"";if(n)switch(n){case mle:return JP;case gle:return QP;case ble:return qP;case vle:return KP;case yle:return XP}return e});var ew=wc,wle=1,ZP="[object Arguments]",eR="[object Array]",ov="[object Object]",Ale=Object.prototype,tR=Ale.hasOwnProperty;function xle(t,e,i,n,r,o){var a=Ni(t),s=Ni(e),l=a?eR:ew(t),c=s?eR:ew(e);l=l==ZP?ov:l,c=c==ZP?ov:c;var u=l==ov,f=c==ov,h=l==c;if(h&&Zy(t)){if(!Zy(e))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new xs),a||wE(t)?DF(t,e,i,n,r,o):Zse(t,e,l,i,n,r,o);if(!(i&wle)){var m=u&&tR.call(t,"__wrapped__"),b=f&&tR.call(e,"__wrapped__");if(m||b){var w=m?t.value():t,g=b?e.value():e;return o||(o=new xs),r(w,g,i,n,o)}}return h?(o||(o=new xs),cle(t,e,i,n,r,o)):!1}function qA(t,e,i,n,r){return t===e?!0:t==null||e==null||!Vo(t)&&!Vo(e)?t!==t&&e!==e:xle(t,e,i,n,qA,r)}var kle=1,_le=2;function Tle(t,e,i,n){var r=i.length,o=r,a=!n;if(t==null)return!o;for(t=Object(t);r--;){var s=i[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){s=i[r];var l=s[0],c=t[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new xs;if(n)var h=n(c,u,l,t,e,f);if(!(h===void 0?qA(u,c,kle|_le,n,f):h))return!1}}return!0}function BF(t){return t===t&&!Pl(t)}function Sle(t){for(var e=cp(t),i=e.length;i--;){var n=e[i],r=t[n];e[i]=[n,r,BF(r)]}return e}function FF(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}}function Cle(t){var e=Sle(t);return e.length==1&&e[0][2]?FF(e[0][0],e[0][1]):function(i){return i===t||Tle(i,t,e)}}function Aa(t,e,i){var n=t==null?void 0:VA(t,e);return n===void 0?i:n}function Ele(t,e){return t!=null&&e in Object(t)}function NF(t,e){return t!=null&&fae(t,e,Ele)}var zle=1,Ile=2;function Ple(t,e){return gE(t)&&BF(e)?FF(lp(t),e):function(i){var n=Aa(i,t);return n===void 0&&n===e?NF(i,t):qA(e,n,zle|Ile)}}function jF(t){return function(e){return e==null?void 0:e[t]}}function Rle(t){return function(e){return VA(e,t)}}function Lle(t){return gE(t)?jF(lp(t)):Rle(t)}function _u(t){return typeof t=="function"?t:t==null?ib:typeof t=="object"?Ni(t)?Ple(t[0],t[1]):Cle(t):Lle(t)}function iR(t,e){var i=Ni(t)?CF:Sse;return i(t,_u(e))}var Ole="[object Map]",Dle="[object Set]",Mle=Object.prototype,Ble=Mle.hasOwnProperty;function Uh(t){if(t==null)return!0;if(Us(t)&&(Ni(t)||typeof t=="string"||typeof t.splice=="function"||Zy(t)||wE(t)||YA(t)))return!t.length;var e=ew(t);if(e==Ole||e==Dle)return!t.size;if(PF(t))return!AE(t).length;for(var i in t)if(Ble.call(t,i))return!1;return!0}function UF(t,e,i,n){for(var r=t.length,o=i+(n?1:-1);n?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function Fle(t){return t!==t}function Nle(t,e,i){for(var n=i-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}function GF(t,e,i){return e===e?Nle(t,e,i):UF(t,Fle,i)}function HF(t,e){var i=t==null?0:t.length;return!!i&&GF(t,e,0)>-1}function YF(t,e,i){for(var n=-1,r=t==null?0:t.length;++n<r;)if(i(e,t[n]))return!0;return!1}function tw(t){return Vo(t)&&Us(t)}function jle(t,e){for(var i=-1,n=t==null?0:t.length;++i<n&&e(t[i],i,t)!==!1;);return t}function Ule(t){return typeof t=="function"?t:ib}function Gle(t,e){var i=Ni(t)?jle:up;return i(t,Ule(e))}var Hle=function(e){return"default"+(e[0].toUpperCase()+e.slice(1))},Yle=function(e,i,n,r){r===void 0&&(r=!1);var o=i[e];if(o!==void 0)return o;if(r){var a=i[Hle(e)];if(a!==void 0)return a;if(n){var s=n[e];if(s!==void 0)return s}}if(e==="checked")return!1;if(e==="value")return i.multiple?[]:""},dp=function(t){ge(e,t);function e(){for(var i,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];i=t.call.apply(t,[this].concat(r))||this;var a=i.constructor,s=a.autoControlledProps,l=a.getAutoControlledStateFromProps,c=Ue(oe(i),"getInitialAutoControlledState",i.props)||{},u=s.reduce(function(f,h){return f[h]=Yle(h,i.props,c,!0),f},{});return i.state=he({},c,u,{autoControlledProps:s,getAutoControlledStateFromProps:l}),i}return e.getDerivedStateFromProps=function(n,r){var o=r.autoControlledProps,a=r.getAutoControlledStateFromProps,s=o.reduce(function(c,u){var f=!QA(n[u]);return f&&(c[u]=n[u]),c},{});if(a){var l=a(n,he({},r,s),r);return he({},s,l)}return s},e.getAutoControlledStateFromProps=function(){return null},e}(ye.Component);function Wle(t){return function(e,i,n){var r=Object(e);if(!Us(e)){var o=_u(i);e=cp(e),i=function(s){return o(r[s],s,r)}}var a=t(e,i,n);return a>-1?r[o?e[a]:a]:void 0}}var Vle=Math.max;function t2(t,e,i){var n=t==null?0:t.length;if(!n)return-1;var r=i==null?0:yE(i);return r<0&&(r=Vle(n+r,0)),UF(t,_u(e),r)}var $le=Wle(t2),WF=$le;function Qle(t,e){var i;return up(t,function(n,r,o){return i=e(n,r,o),!i}),!!i}function VF(t,e,i){if(!Pl(i))return!1;var n=typeof e;return(n=="number"?Us(i)&&WA(e,i.length):n=="string"&&e in i)?NA(i[e],t):!1}function um(t,e,i){var n=Ni(t)?OF:Qle;return i&&VF(t,e,i)&&(e=void 0),n(t,_u(e))}var qle=function(e,i){return um(Y.exports.Children.toArray(e),{type:i})},gt=function(e){return e==null||Array.isArray(e)&&e.length===0},Kle={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function nR(t){var e=typeof t;return e==="string"||e==="number"?Kle[t]||t:""}var te=function(e,i){return e&&i},xr=function(e,i){return e&&e!==!0&&e+" "+i},_i=function(e,i){return e&&(e===!0?i:e+" "+i)},iw=function(e,i){return!e||e===!0?null:e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map(function(n){return n.replace("-"," ")+" "+i}).join(" ")},KA=function(e){return e==="justified"?"justified":xr(e,"aligned")},nb=function(e){return xr(e,"aligned")},Wr=function(e,i,n){if(i===void 0&&(i=""),n===void 0&&(n=!1),n&&e==="equal")return"equal width";var r=typeof e;return(r==="string"||r==="number")&&i?nR(e)+" "+i:nR(e)},Xle=200;function $F(t,e,i,n){var r=-1,o=HF,a=!0,s=t.length,l=[],c=e.length;if(!s)return l;i&&(e=HA(e,zF(i))),n?(o=YF,a=!1):e.length>=Xle&&(o=xE,a=!1,e=new uf(e));e:for(;++r<s;){var u=t[r],f=i==null?u:i(u);if(u=n||u!==0?u:0,a&&f===f){for(var h=c;h--;)if(e[h]===f)continue e;l.push(u)}else o(e,f,n)||l.push(u)}return l}var rR=za?za.isConcatSpreadable:void 0;function Jle(t){return Ni(t)||YA(t)||!!(rR&&t&&t[rR])}function XA(t,e,i,n,r){var o=-1,a=t.length;for(i||(i=Jle),r||(r=[]);++o<a;){var s=t[o];e>0&&i(s)?e>1?XA(s,e-1,i,n,r):MF(r,s):n||(r[r.length]=s)}return r}var Zle=$A(function(t,e){return tw(t)?$F(t,XA(e,1,tw,!0)):[]}),oR=Zle;function ece(t,e,i){var n=t.length;return i=i===void 0?n:i,!e&&i>=n?t:vE(t,e,i)}function tce(t){return t.split("")}var ice="\\ud800-\\udfff",nce="\\u0300-\\u036f",rce="\\ufe20-\\ufe2f",oce="\\u20d0-\\u20ff",ace=nce+rce+oce,sce="\\ufe0e\\ufe0f",lce="\\u200d",cce=RegExp("["+lce+ice+ace+sce+"]");function _E(t){return cce.test(t)}var QF="\\ud800-\\udfff",uce="\\u0300-\\u036f",dce="\\ufe20-\\ufe2f",fce="\\u20d0-\\u20ff",pce=uce+dce+fce,hce="\\ufe0e\\ufe0f",mce="["+QF+"]",i2="["+pce+"]",n2="\\ud83c[\\udffb-\\udfff]",gce="(?:"+i2+"|"+n2+")",qF="[^"+QF+"]",KF="(?:\\ud83c[\\udde6-\\uddff]){2}",XF="[\\ud800-\\udbff][\\udc00-\\udfff]",bce="\\u200d",JF=gce+"?",ZF="["+hce+"]?",vce="(?:"+bce+"(?:"+[qF,KF,XF].join("|")+")"+ZF+JF+")*",yce=ZF+JF+vce,wce="(?:"+[qF+i2+"?",i2,KF,XF,mce].join("|")+")",Ace=RegExp(n2+"(?="+n2+")|"+wce+yce,"g");function xce(t){return t.match(Ace)||[]}function kce(t){return _E(t)?xce(t):tce(t)}function _ce(t,e,i){e=="__proto__"&&Jy?Jy(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}var Tce=Object.prototype,Sce=Tce.hasOwnProperty;function Cce(t,e,i){var n=t[e];(!(Sce.call(t,e)&&NA(n,i))||i===void 0&&!(e in t))&&_ce(t,e,i)}function eN(t,e,i,n){if(!Pl(t))return t;e=tb(e,t);for(var r=-1,o=e.length,a=o-1,s=t;s!=null&&++r<o;){var l=lp(e[r]),c=i;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(r!=a){var u=s[l];c=n?n(u,l,s):void 0,c===void 0&&(c=Pl(u)?u:WA(e[r+1])?[]:{})}Cce(s,l,c),s=s[l]}return t}function Ece(t,e,i){for(var n=-1,r=e.length,o={};++n<r;){var a=e[n],s=VA(t,a);i(s,a)&&eN(o,tb(a,t),s)}return o}function zce(t,e){return Ece(t,e,function(i,n){return NF(t,n)})}function Ice(t){var e=t==null?0:t.length;return e?XA(t,1):[]}function Pce(t){return TF(kF(t,void 0,Ice),t+"")}var Rce=Pce(function(t,e){return t==null?{}:zce(t,e)}),TE=Rce,Lce=RF(Object.getPrototypeOf,Object),Oce=Lce,Dce="[object Object]",Mce=Function.prototype,Bce=Object.prototype,tN=Mce.toString,Fce=Bce.hasOwnProperty,Nce=tN.call(Object);function iN(t){if(!Vo(t)||Ma(t)!=Dce)return!1;var e=Oce(t);if(e===null)return!0;var i=Fce.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&tN.call(i)==Nce}function Ot(t){return t==null}function jce(t,e){var i=-1,n=Us(t)?Array(t.length):[];return up(t,function(r,o,a){n[++i]=e(r,o,a)}),n}function ks(t,e){var i=Ni(t)?HA:jce;return i(t,_u(e))}var SE={exports:{}},nw={},nN={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window!="undefined"&&window.document&&window.document.createElement),i={canUseDOM:e,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=i:window.ExecutionEnvironment=i})()})(nN);Object.defineProperty(nw,"__esModule",{value:!0});var aR=nN.exports,Uce=Y.exports;function rN(t){return(rN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function rb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sR(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ob(t,e,i){return e&&sR(t.prototype,e),i&&sR(t,i),t}function vo(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aN(t,e)}function oN(t){return(oN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function aN(t,e){return(aN=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i})(t,e)}function Hce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yce(t,e){return!e||typeof e!="object"&&typeof e!="function"?Hce(t):e}var sN=function(){function t(e){rb(this,t),vo(this,"handlers",void 0),this.handlers=e.slice(0)}return ob(t,[{key:"addHandlers",value:function(e){for(var i=this.handlers.slice(0),n=e.length,r=0;r<n;r+=1)i.push(e[r]);return new t(i)}},{key:"dispatchEvent",value:function(e,i){var n=this.handlers.length-1;if(i){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var o=n;o>=0;o-=1)this.handlers[o].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(e){for(var i=[],n=this.handlers.length,r=0;r<n;r+=1){var o=this.handlers[r];e.indexOf(o)===-1&&i.push(o)}return new t(i)}}]),t}();function lR(t){var e=new Map;return t.forEach(function(i,n){e.set(n,i)}),e}function cR(t){return Array.isArray(t)?t:[t]}var Wce=function(t){return t!==null&&rN(t)==="object"&&t.hasOwnProperty("current")};function uR(t){return t==="document"?document:t==="window"?window:Wce(t)?t.current||document:t||document}var r2=function(){function t(e,i){rb(this,t),vo(this,"handlerSets",void 0),vo(this,"poolName",void 0),this.handlerSets=i,this.poolName=e}return ob(t,[{key:"addHandlers",value:function(e,i){var n=lR(this.handlerSets);if(n.has(e)){var r=n.get(e);n.set(e,r.addHandlers(i))}else n.set(e,new sN(i));return new t(this.poolName,n)}},{key:"dispatchEvent",value:function(e,i){var n=this.handlerSets.get(e),r=this.poolName==="default";n&&n.dispatchEvent(i,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var i=this.handlerSets.get(e);return!!i&&i.hasHandlers()}},{key:"removeHandlers",value:function(e,i){var n=lR(this.handlerSets);if(!n.has(e))return new t(this.poolName,n);var r=n.get(e).removeHandlers(i);return r.hasHandlers()?n.set(e,r):n.delete(e),new t(this.poolName,n)}}]),t}();vo(r2,"createByType",function(t,e,i){var n=new Map;return n.set(e,new sN(i)),new r2(t,n)});var Vce=function(){function t(e){var i=this;rb(this,t),vo(this,"handlers",new Map),vo(this,"pools",new Map),vo(this,"target",void 0),vo(this,"createEmitter",function(n){return function(r){i.pools.forEach(function(o){o.dispatchEvent(n,r)})}}),this.target=e}return ob(t,[{key:"addHandlers",value:function(e,i,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(i,n))}else this.pools.set(e,r2.createByType(e,i,n));this.handlers.has(i)||this.addTargetHandler(i)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,i,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(i,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var o=!1;this.pools.forEach(function(a){return o=o||a.hasHandlers(i)}),o||this.removeTargetHandler(i)}}},{key:"addTargetHandler",value:function(e){var i=this.createEmitter(e);this.handlers.set(e,i),this.target.addEventListener(e,i,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),t}(),$ce=function(){function t(){var e=this;rb(this,t),vo(this,"targets",new Map),vo(this,"getTarget",function(i){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=uR(i);if(e.targets.has(r))return e.targets.get(r);if(!n)return null;var o=new Vce(r);return e.targets.set(r,o),o}),vo(this,"removeTarget",function(i){e.targets.delete(uR(i))})}return ob(t,[{key:"sub",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(aR.canUseDOM){var r=n.target,o=r===void 0?document:r,a=n.pool,s=a===void 0?"default":a;this.getTarget(o).addHandlers(s,e,cR(i))}}},{key:"unsub",value:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(aR.canUseDOM){var r=n.target,o=r===void 0?document:r,a=n.pool,s=a===void 0?"default":a,l=this.getTarget(o,!1);l&&(l.removeHandlers(s,e,cR(i)),l.hasHandlers()||this.removeTarget(o))}}}]),t}(),o2=new $ce,Uk=function(t){function e(){return rb(this,e),Yce(this,oN(e).apply(this,arguments))}return Gce(e,Uce.PureComponent),ob(e,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(i){this.unsubscribe(i),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(i){var n=i.name,r=i.on,o=i.pool,a=i.target;o2.sub(n,r,{pool:o,target:a})}},{key:"unsubscribe",value:function(i){var n=i.name,r=i.on,o=i.pool,a=i.target;o2.unsub(n,r,{pool:o,target:a})}},{key:"render",value:function(){return null}}]),e}();vo(Uk,"defaultProps",{pool:"default",target:"document"}),Uk.propTypes={},nw.instance=o2,nw.default=Uk;var CE;CE=nw;SE.exports=CE.default;var Gh=SE.exports.instance=CE.instance,ps=SE.exports;function lN(){}var Qce=1/0,qce=Gd&&1/kE(new Gd([,-0]))[1]==Qce?function(t){return new Gd(t)}:lN,Kce=qce,Xce=200;function cN(t,e,i){var n=-1,r=HF,o=t.length,a=!0,s=[],l=s;if(i)a=!1,r=YF;else if(o>=Xce){var c=e?null:Kce(t);if(c)return kE(c);a=!1,r=xE,l=new uf}else l=e?[]:s;e:for(;++n<o;){var u=t[n],f=e?e(u):u;if(u=i||u!==0?u:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(u)}else r(l,f,i)||(l!==s&&l.push(f),s.push(u))}return s}function Jce(t){return t&&t.length?cN(t):[]}var Zce="[object Number]";function eue(t){return typeof t=="number"||Vo(t)&&Ma(t)==Zce}var tue="[object String]";function EE(t){return typeof t=="string"||!Ni(t)&&Vo(t)&&Ma(t)==tue}var iue="[object Boolean]";function nue(t){return t===!0||t===!1||Vo(t)&&Ma(t)==iue}function uN(t){var e,i,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(i=uN(t[e]))&&(n&&(n+=" "),n+=i);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Qe(){for(var t=0,e,i,n="";t<arguments.length;)(e=arguments[t++])&&(i=uN(e))&&(n&&(n+=" "),n+=i);return n}function a2(t,e,i,n){if(n===void 0&&(n={}),typeof t!="function"&&typeof t!="string")throw new Error("createShorthand() Component must be a string or function.");if(Ot(i)||nue(i))return null;var r=EE(i),o=eue(i),a=cf(i),s=Y.exports.isValidElement(i),l=iN(i),c=r||o||Ni(i);if(!a&&!s&&!l&&!c)return null;var u=n,f=u.defaultProps,h=f===void 0?{}:f,m=s&&i.props||l&&i||c&&e(i),b=n,w=b.overrideProps,g=w===void 0?{}:w;g=cf(g)?g(he({},h,m)):g;var A=he({},h,m,g);if(h.className||g.className||m.className){var x=Qe(h.className,g.className,m.className);A.className=Jce(x.split(" ")).join(" ")}if((h.style||g.style||m.style)&&(A.style=he({},h.style,m.style,g.style)),Ot(A.key)){var T=A.childKey,C=n,z=C.autoGenerateKey,L=z===void 0?!0:z;Ot(T)?L&&(r||o)&&(A.key=i):(A.key=typeof T=="function"?T(A):T,delete A.childKey)}if(s)return Y.exports.cloneElement(i,A);if(typeof A.children=="function")return A.children(t,he({},A,{children:void 0}));if(c||l)return Y.exports.createElement(t,A);if(a)return i(t,A,A.children)}function ci(t,e){if(typeof t!="function"&&typeof t!="string")throw new Error("createShorthandFactory() Component must be a string or function.");return function(i,n){return a2(t,e,i,n)}}var rue=ci("div",function(t){return{children:t}}),oue=ci("input",function(t){return{type:t}}),s2=ci("label",function(t){return{children:t}}),aue=function(e,i){var n=e.handledProps,r=n===void 0?[]:n;return Object.keys(i).reduce(function(o,a){return a==="childKey"||r.indexOf(a)===-1&&(o[a]=i[a]),o},{})},it=aue;function rt(t,e,i){var n=t.defaultProps,r=n===void 0?{}:n;if(e.as&&e.as!==r.as)return e.as;if(i){var o=i();if(o)return o}return e.href?"a":r.as||"div"}function sue(t,e){return HA(e,function(i){return t[i]})}function lue(t){return t==null?[]:sue(t,cp(t))}var cue=Math.max;function pa(t,e,i,n){t=Us(t)?t:lue(t),i=i&&!n?yE(i):0;var r=t.length;return i<0&&(i=cue(r+i,0)),EE(t)?i<=r&&t.indexOf(e,i)>-1:!!r&&GF(t,e,i)>-1}var dN=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],uue=["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],due=[].concat(dN,uue),fue=["alt","height","src","srcSet","width","loading"],zE=function(e,i){i===void 0&&(i={});var n=i,r=n.htmlProps,o=r===void 0?due:r,a=n.includeAria,s=a===void 0?!0:a,l={},c={};return Gle(e,function(u,f){var h=s&&(/^aria-.*$/.test(f)||f==="role"),m=pa(o,f)||h?l:c;m[f]=u}),[l,c]},pue=typeof document=="object"&&document!==null,hue=typeof window=="object"&&window!==null&&window.self===window,mue=function t(){return Ot(t.override)?pue&&hue:t.override},Hc=mue,gue=Math.max,bue=Math.min;function vue(t,e,i){return t>=bue(e,i)&&t<gue(e,i)}function dR(t,e,i){return e=XT(e),i===void 0?(i=e,e=0):i=XT(i),t=SF(t),vue(t,e,i)}function yue(t){return t&&t.length?t[0]:void 0}var wue=function(e,i){if(um([i,e],Ot))return!1;if(i.target&&(Ue(i.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return Ue(i.target,"removeAttribute","data-suir-click-target"),e.contains(i.target);var n=i.clientX,r=i.clientY;if(um([n,r],Ot))return!1;var o=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!o||!o.length)return!1;var a=yue(o),s=a.top,l=a.bottom,c=a.left,u=a.right;return um([s,l,c,u],Ot)?!1:dR(r,s,l+.001)&&dR(n,c,u+.001)},Yc=wue;function Aue(t,e){return qA(t,e)}var xue=Hc()?ye.useLayoutEffect:ye.useEffect,fR=xue,kue=/\s+/;function _ue(t){var e=[];return t?(t.forEach(function(i){if(typeof i.current=="string"){var n=i.current.split(kue);n.forEach(function(r){e.push(r)})}}),e.filter(function(i,n,r){return i.length>0&&r.indexOf(i)===n})):[]}function Tue(t,e){return[e.filter(function(i){return t.indexOf(i)===-1}),t.filter(function(i){return e.indexOf(i)===-1})]}var pR=new Map,Gk=function(e,i){var n=_ue(i),r=Tue(pR.get(e)||[],n),o=r[0],a=r[1];e&&(o.forEach(function(s){return e.classList.add(s)}),a.forEach(function(s){return e.classList.remove(s)})),pR.set(e,n)},Sue=function(){var e=this;this.add=function(i,n){if(e.nodes.has(i)){var r=e.nodes.get(i);r.add(n);return}var o=new Set;o.add(n),e.nodes.set(i,o)},this.del=function(i,n){if(!!e.nodes.has(i)){var r=e.nodes.get(i);if(r.size===1){e.nodes.delete(i);return}r.delete(n)}},this.emit=function(i,n){n(i,e.nodes.get(i))},this.nodes=new Map},Ch=new Sue;function Cue(t,e){var i=ye.useRef(),n=ye.useRef(!1);fR(function(){if(i.current=e,n.current){var r=KT(t)?t.current:t;Ch.emit(r,Gk)}n.current=!0},[e]),fR(function(){var r=KT(t)?t.current:t;return Ch.add(r,i),Ch.emit(r,Gk),function(){Ch.del(r,i),Ch.emit(r,Gk)}},[t])}var Eue=$A(function(t,e){return tw(t)?$F(t,e):[]}),zue=Eue;function df(t){var e=t.children,i=t.className,n=t.content,r=t.size,o=Qe(r,"icons",i),a=it(df,t),s=rt(df,t);return ye.createElement(s,he({},a,{className:o}),gt(e)?n:e)}df.handledProps=["as","children","className","content","size"];df.propTypes={};df.defaultProps={as:"i"};var fu=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleClick=function(s){var l=n.props.disabled;if(l){s.preventDefault();return}Ue(n.props,"onClick",s,n.props)},n}var i=e.prototype;return i.getIconAriaOptions=function(){var r={},o=this.props,a=o["aria-label"],s=o["aria-hidden"];return Ot(a)?r["aria-hidden"]="true":r["aria-label"]=a,Ot(s)||(r["aria-hidden"]=s),r},i.render=function(){var r=this.props,o=r.bordered,a=r.circular,s=r.className,l=r.color,c=r.corner,u=r.disabled,f=r.fitted,h=r.flipped,m=r.inverted,b=r.link,w=r.loading,g=r.name,A=r.rotated,x=r.size,T=Qe(l,g,x,te(o,"bordered"),te(a,"circular"),te(u,"disabled"),te(f,"fitted"),te(m,"inverted"),te(b,"link"),te(w,"loading"),_i(c,"corner"),xr(h,"flipped"),xr(A,"rotated"),"icon",s),C=it(e,this.props),z=rt(e,this.props),L=this.getIconAriaOptions();return P(z,{...C,...L,className:T,onClick:this.handleClick})},e}(Y.exports.PureComponent);fu.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"];fu.propTypes={};fu.defaultProps={as:"i"};fu.Group=df;fu.create=ci(fu,function(t){return{name:t}});var Ia=fu,hR=function(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"},rw={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"};for(var av=0;av<24;av+=1)rw[112+av]="F"+(av+1);for(var Hk=0;Hk<26;Hk+=1){var Yk=Hk+65;rw[Yk]=[String.fromCharCode(Yk+32),String.fromCharCode(Yk)]}var Ne={codes:rw,getCode:function(e){return hR(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var i=hR(e);if(i&&e.key)return e.key;var n=rw[i?e.keyCode||e.which:e];return Array.isArray(n)&&(i?n=n[e.shiftKey?1:0]:n=n[0]),n},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};Ne.Spacebar=Ne[" "];Ne.Digit0=Ne[0];Ne.Digit1=Ne[1];Ne.Digit2=Ne[2];Ne.Digit3=Ne[3];Ne.Digit4=Ne[4];Ne.Digit5=Ne[5];Ne.Digit6=Ne[6];Ne.Digit7=Ne[7];Ne.Digit8=Ne[8];Ne.Digit9=Ne[9];Ne.Tilde=Ne["~"];Ne.GraveAccent=Ne["`"];Ne.ExclamationPoint=Ne["!"];Ne.AtSign=Ne["@"];Ne.PoundSign=Ne["#"];Ne.PercentSign=Ne["%"];Ne.Caret=Ne["^"];Ne.Ampersand=Ne["&"];Ne.PlusSign=Ne["+"];Ne.MinusSign=Ne["-"];Ne.EqualsSign=Ne["="];Ne.DivisionSign=Ne["/"];Ne.MultiplicationSign=Ne["*"];Ne.Comma=Ne[","];Ne.Decimal=Ne["."];Ne.Colon=Ne[":"];Ne.Semicolon=Ne[";"];Ne.Pipe=Ne["|"];Ne.BackSlash=Ne["\\"];Ne.QuestionMark=Ne["?"];Ne.SingleQuote=Ne["'"];Ne.DoubleQuote=Ne['"'];Ne.LeftCurlyBrace=Ne["{"];Ne.RightCurlyBrace=Ne["}"];Ne.LeftParenthesis=Ne["("];Ne.RightParenthesis=Ne[")"];Ne.LeftAngleBracket=Ne["<"];Ne.RightAngleBracket=Ne[">"];Ne.LeftSquareBracket=Ne["["];Ne.RightSquareBracket=Ne["]"];var qi=Ne,IE=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleRef=function(s){fa(n.props.innerRef,s)},n}var i=e.prototype;return i.componentDidMount=function(){Ue(this.props,"onMount",null,this.props)},i.componentWillUnmount=function(){Ue(this.props,"onUnmount",null,this.props)},i.render=function(){if(!Hc())return null;var r=this.props,o=r.children,a=r.mountNode,s=a===void 0?document.body:a;return _l.exports.createPortal(P(eo,{innerRef:this.handleRef,children:o}),s)},e}(Y.exports.Component);IE.handledProps=["children","innerRef","mountNode","onMount","onUnmount"];IE.propTypes={};var fN=IE,fp=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.contentRef=ye.createRef(),n.triggerRef=ye.createRef(),n.latestDocumentMouseDownEvent=null,n.handleDocumentMouseDown=function(s){n.latestDocumentMouseDownEvent=s},n.handleDocumentClick=function(s){var l=n.props.closeOnDocumentClick,c=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!(!n.contentRef.current||Yc(n.triggerRef.current,s)||c&&Yc(n.contentRef.current,c)||Yc(n.contentRef.current,s))&&l&&n.close(s)},n.handleEscape=function(s){!n.props.closeOnEscape||qi.getCode(s)===qi.Escape&&n.close(s)},n.handlePortalMouseLeave=function(s){var l=n.props,c=l.closeOnPortalMouseLeave,u=l.mouseLeaveDelay;!c||s.target===n.contentRef.current&&(n.mouseLeaveTimer=n.closeWithTimeout(s,u))},n.handlePortalMouseEnter=function(){var s=n.props.closeOnPortalMouseLeave;!s||clearTimeout(n.mouseLeaveTimer)},n.handleTriggerBlur=function(s){for(var l=n.props,c=l.trigger,u=l.closeOnTriggerBlur,f=arguments.length,h=new Array(f>1?f-1:0),m=1;m<f;m++)h[m-1]=arguments[m];Ue.apply(void 0,[c,"props.onBlur",s].concat(h));var b=s.relatedTarget||document.activeElement,w=Ue(n.contentRef.current,"contains",b);!u||w||n.close(s)},n.handleTriggerClick=function(s){for(var l=n.props,c=l.trigger,u=l.closeOnTriggerClick,f=l.openOnTriggerClick,h=n.state.open,m=arguments.length,b=new Array(m>1?m-1:0),w=1;w<m;w++)b[w-1]=arguments[w];Ue.apply(void 0,[c,"props.onClick",s].concat(b)),h&&u?n.close(s):!h&&f&&n.open(s)},n.handleTriggerFocus=function(s){for(var l=n.props,c=l.trigger,u=l.openOnTriggerFocus,f=arguments.length,h=new Array(f>1?f-1:0),m=1;m<f;m++)h[m-1]=arguments[m];Ue.apply(void 0,[c,"props.onFocus",s].concat(h)),u&&n.open(s)},n.handleTriggerMouseLeave=function(s){clearTimeout(n.mouseEnterTimer);for(var l=n.props,c=l.trigger,u=l.closeOnTriggerMouseLeave,f=l.mouseLeaveDelay,h=arguments.length,m=new Array(h>1?h-1:0),b=1;b<h;b++)m[b-1]=arguments[b];Ue.apply(void 0,[c,"props.onMouseLeave",s].concat(m)),u&&(n.mouseLeaveTimer=n.closeWithTimeout(s,f))},n.handleTriggerMouseEnter=function(s){clearTimeout(n.mouseLeaveTimer);for(var l=n.props,c=l.trigger,u=l.mouseEnterDelay,f=l.openOnTriggerMouseEnter,h=arguments.length,m=new Array(h>1?h-1:0),b=1;b<h;b++)m[b-1]=arguments[b];Ue.apply(void 0,[c,"props.onMouseEnter",s].concat(m)),f&&(n.mouseEnterTimer=n.openWithTimeout(s,u))},n.open=function(s){Ue(n.props,"onOpen",s,he({},n.props,{open:!0})),n.setState({open:!0})},n.openWithTimeout=function(s,l){var c=he({},s);return setTimeout(function(){return n.open(c)},l||0)},n.close=function(s){n.setState({open:!1}),Ue(n.props,"onClose",s,he({},n.props,{open:!1}))},n.closeWithTimeout=function(s,l){var c=he({},s);return setTimeout(function(){return n.close(c)},l||0)},n.handleMount=function(){Ue(n.props,"onMount",null,n.props)},n.handleUnmount=function(){Ue(n.props,"onUnmount",null,n.props)},n.handleTriggerRef=function(s){n.triggerRef.current=s,fa(n.props.triggerRef,s)},n}var i=e.prototype;return i.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},i.render=function(){var r=this.props,o=r.children,a=r.eventPool,s=r.mountNode,l=r.trigger,c=this.state.open;return ye.createElement(ye.Fragment,null,c&&ye.createElement(ye.Fragment,null,ye.createElement(fN,{innerRef:this.contentRef,mountNode:s,onMount:this.handleMount,onUnmount:this.handleUnmount},o),ye.createElement(ps,{name:"mouseleave",on:this.handlePortalMouseLeave,pool:a,target:this.contentRef}),ye.createElement(ps,{name:"mouseenter",on:this.handlePortalMouseEnter,pool:a,target:this.contentRef}),ye.createElement(ps,{name:"mousedown",on:this.handleDocumentMouseDown,pool:a}),ye.createElement(ps,{name:"click",on:this.handleDocumentClick,pool:a}),ye.createElement(ps,{name:"keydown",on:this.handleEscape,pool:a})),l&&ye.createElement(eo,{innerRef:this.handleTriggerRef},ye.cloneElement(l,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},e}(dp);fp.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"];fp.propTypes={};fp.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0};fp.autoControlledProps=["open"];fp.Inner=fN;var Hd=fp;function qm(t){var e=t.blurring,i=t.className,n=t.children,r=t.content,o=t.dimmed,a=Qe(te(e,"blurring"),te(o,"dimmed"),"dimmable",i),s=it(qm,t),l=rt(qm,t);return ye.createElement(l,he({},s,{className:a}),gt(n)?r:n)}qm.handledProps=["as","blurring","children","className","content","dimmed"];qm.propTypes={};var Km=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.containerRef=Y.exports.createRef(),n.contentRef=Y.exports.createRef(),n.handleClick=function(s){var l=n.contentRef.current;Ue(n.props,"onClick",s,n.props),!(l&&l!==s.target&&Yc(l,s))&&Ue(n.props,"onClickOutside",s,n.props)},n}var i=e.prototype;return i.componentDidMount=function(){var r=this.props.active;this.toggleStyles(r)},i.componentDidUpdate=function(r){var o=this.props.active,a=r.active;a!==o&&this.toggleStyles(o)},i.toggleStyles=function(r){var o=this.containerRef.current;!o||!o.style||(r?o.style.setProperty("display","flex","important"):o.style.removeProperty("display"))},i.render=function(){var r=this.props,o=r.active,a=r.children,s=r.className,l=r.content,c=r.disabled,u=r.inverted,f=r.page,h=r.simple,m=r.verticalAlign,b=Qe("ui",te(o,"active transition visible"),te(c,"disabled"),te(u,"inverted"),te(f,"page"),te(h,"simple"),nb(m),"dimmer",s),w=it(e,this.props),g=rt(e,this.props),A=gt(a)?l:a;return P(eo,{innerRef:this.containerRef,children:P(g,{...w,className:b,onClick:this.handleClick,children:A&&P("div",{className:"content",ref:this.contentRef,children:A})})})},e}(Y.exports.Component);Km.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"];Km.propTypes={};var pu=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handlePortalMount=function(){!Hc()||(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},n.handlePortalUnmount=function(){!Hc()||(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},n}var i=e.prototype;return i.render=function(){var r=this.props,o=r.active,a=r.page,s=it(e,this.props);return a?P(Hd,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:o,openOnTriggerClick:!1,children:P(Km,{...s,active:o,page:a})}):P(Km,{...s,active:o,page:a})},e}(Y.exports.Component);pu.handledProps=["active","page"];pu.propTypes={};pu.Dimmable=qm;pu.Inner=Km;pu.create=ci(pu,function(t){return{content:t}});function Xm(t){var e=t.children,i=t.className,n=t.content,r=t.size,o=Qe("ui",r,i,"images"),a=it(Xm,t),s=rt(Xm,t);return ye.createElement(s,he({},a,{className:o}),gt(e)?n:e)}Xm.handledProps=["as","children","className","content","size"];Xm.propTypes={};function $o(t){var e=t.avatar,i=t.bordered,n=t.centered,r=t.children,o=t.circular,a=t.className,s=t.content,l=t.dimmer,c=t.disabled,u=t.floated,f=t.fluid,h=t.hidden,m=t.href,b=t.inline,w=t.label,g=t.rounded,A=t.size,x=t.spaced,T=t.verticalAlign,C=t.wrapped,z=t.ui,L=Qe(te(z,"ui"),A,te(e,"avatar"),te(i,"bordered"),te(o,"circular"),te(n,"centered"),te(c,"disabled"),te(f,"fluid"),te(h,"hidden"),te(b,"inline"),te(g,"rounded"),_i(x,"spaced"),xr(u,"floated"),nb(T),"image",a),B=it($o,t),O=zE(B,{htmlProps:fue}),F=O[0],H=O[1],K=rt($o,t,function(){if(!Ot(l)||!Ot(w)||!Ot(C)||!gt(r))return"div"});return gt(r)?gt(s)?K==="img"?ye.createElement(K,he({},H,F,{className:L})):ye.createElement(K,he({},H,{className:L,href:m}),pu.create(l,{autoGenerateKey:!1}),ko.create(w,{autoGenerateKey:!1}),ye.createElement("img",F)):ye.createElement(K,he({},B,{className:L}),s):ye.createElement(K,he({},B,{className:L}),r)}$o.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"];$o.Group=Xm;$o.propTypes={};$o.defaultProps={as:"img",ui:!0};$o.create=ci($o,function(t){return{src:t}});function Rl(t){var e=t.children,i=t.className,n=t.content,r=Qe("detail",i),o=it(Rl,t),a=rt(Rl,t);return ye.createElement(a,he({},o,{className:r}),gt(e)?n:e)}Rl.handledProps=["as","children","className","content"];Rl.propTypes={};Rl.create=ci(Rl,function(t){return{content:t}});function Jm(t){var e=t.children,i=t.circular,n=t.className,r=t.color,o=t.content,a=t.size,s=t.tag,l=Qe("ui",r,a,te(i,"circular"),te(s,"tag"),"labels",n),c=it(Jm,t),u=rt(Jm,t);return ye.createElement(u,he({},c,{className:l}),gt(e)?o:e)}Jm.handledProps=["as","children","circular","className","color","content","size","tag"];Jm.propTypes={};var ko=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleClick=function(s){var l=n.props.onClick;l&&l(s,n.props)},n.handleIconOverrides=function(s){return{onClick:function(c){Ue(s,"onClick",c),Ue(n.props,"onRemove",c,n.props)}}},n}var i=e.prototype;return i.render=function(){var r=this.props,o=r.active,a=r.attached,s=r.basic,l=r.children,c=r.circular,u=r.className,f=r.color,h=r.content,m=r.corner,b=r.detail,w=r.empty,g=r.floating,A=r.horizontal,x=r.icon,T=r.image,C=r.onRemove,z=r.pointing,L=r.prompt,B=r.removeIcon,O=r.ribbon,F=r.size,H=r.tag,K=z===!0&&"pointing"||(z==="left"||z==="right")&&z+" pointing"||(z==="above"||z==="below")&&"pointing "+z,fe=Qe("ui",f,K,F,te(o,"active"),te(s,"basic"),te(c,"circular"),te(w,"empty"),te(g,"floating"),te(A,"horizontal"),te(T===!0,"image"),te(L,"prompt"),te(H,"tag"),_i(m,"corner"),_i(O,"ribbon"),xr(a,"attached"),"label",u),Ae=it(e,this.props),Se=rt(e,this.props);if(!gt(l))return P(Se,{...Ae,className:fe,onClick:this.handleClick,children:l});var ke=QA(B)?"delete":B;return le(Se,{className:fe,onClick:this.handleClick,...Ae,children:[Ia.create(x,{autoGenerateKey:!1}),typeof T!="boolean"&&$o.create(T,{autoGenerateKey:!1}),h,Rl.create(b,{autoGenerateKey:!1}),C&&Ia.create(ke,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides})]})},e}(Y.exports.Component);ko.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"];ko.propTypes={};ko.Detail=Rl;ko.Group=Jm;ko.create=ci(ko,function(t){return{content:t}});function Zm(t){var e=t.children,i=t.className,n=t.content,r=t.hidden,o=t.visible,a=Qe(te(o,"visible"),te(r,"hidden"),"content",i),s=it(Zm,t),l=rt(Zm,t);return ye.createElement(l,he({},s,{className:a}),gt(e)?n:e)}Zm.handledProps=["as","children","className","content","hidden","visible"];Zm.propTypes={};function eg(t){var e=t.attached,i=t.basic,n=t.buttons,r=t.children,o=t.className,a=t.color,s=t.compact,l=t.content,c=t.floated,u=t.fluid,f=t.icon,h=t.inverted,m=t.labeled,b=t.negative,w=t.positive,g=t.primary,A=t.secondary,x=t.size,T=t.toggle,C=t.vertical,z=t.widths,L=Qe("ui",a,x,te(i,"basic"),te(s,"compact"),te(u,"fluid"),te(f,"icon"),te(h,"inverted"),te(m,"labeled"),te(b,"negative"),te(w,"positive"),te(g,"primary"),te(A,"secondary"),te(T,"toggle"),te(C,"vertical"),_i(e,"attached"),xr(c,"floated"),Wr(z),"buttons",o),B=it(eg,t),O=rt(eg,t);return Ot(n)?ye.createElement(O,he({},B,{className:L}),gt(r)?l:r):ye.createElement(O,he({},B,{className:L}),ks(n,function(F){return JA.create(F)}))}eg.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"];eg.propTypes={};function tg(t){var e=t.className,i=t.text,n=Qe("or",e),r=it(tg,t),o=rt(tg,t);return ye.createElement(o,he({},r,{className:n,"data-text":i}))}tg.handledProps=["as","className","text"];tg.propTypes={};var Es=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.ref=Y.exports.createRef(),n.computeElementType=function(){var s=n.props,l=s.attached,c=s.label;if(!Ot(l)||!Ot(c))return"div"},n.computeTabIndex=function(s){var l=n.props,c=l.disabled,u=l.tabIndex;if(!Ot(u))return u;if(c)return-1;if(s==="div")return 0},n.focus=function(){return Ue(n.ref.current,"focus")},n.handleClick=function(s){var l=n.props.disabled;if(l){s.preventDefault();return}Ue(n.props,"onClick",s,n.props)},n.hasIconClass=function(){var s=n.props,l=s.labelPosition,c=s.children,u=s.content,f=s.icon;return f===!0?!0:f&&(l||gt(c)&&Ot(u))},n}var i=e.prototype;return i.computeButtonAriaRole=function(r){var o=this.props.role;if(!Ot(o))return o;if(r!=="button")return"button"},i.render=function(){var r=this.props,o=r.active,a=r.animated,s=r.attached,l=r.basic,c=r.children,u=r.circular,f=r.className,h=r.color,m=r.compact,b=r.content,w=r.disabled,g=r.floated,A=r.fluid,x=r.icon,T=r.inverted,C=r.label,z=r.labelPosition,L=r.loading,B=r.negative,O=r.positive,F=r.primary,H=r.secondary,K=r.size,fe=r.toggle,Ae=Qe(h,K,te(o,"active"),te(l,"basic"),te(u,"circular"),te(m,"compact"),te(A,"fluid"),te(this.hasIconClass(),"icon"),te(T,"inverted"),te(L,"loading"),te(B,"negative"),te(O,"positive"),te(F,"primary"),te(H,"secondary"),te(fe,"toggle"),_i(a,"animated"),_i(s,"attached")),Se=Qe(_i(z||!!C,"labeled")),ke=Qe(te(w,"disabled"),xr(g,"floated")),Oe=it(e,this.props),Fe=rt(e,this.props,this.computeElementType),Ve=this.computeTabIndex(Fe);if(!Ot(C)){var Le=Qe("ui",Ae,"button",f),Me=Qe("ui",Se,"button",f,ke),ce=ko.create(C,{defaultProps:{basic:!0,pointing:z==="left"?"right":"left"},autoGenerateKey:!1});return le(Fe,{...Oe,className:Me,onClick:this.handleClick,children:[z==="left"&&ce,P(eo,{innerRef:this.ref,children:le("button",{className:Le,"aria-pressed":fe?!!o:void 0,disabled:w,tabIndex:Ve,children:[Ia.create(x,{autoGenerateKey:!1})," ",b]})}),(z==="right"||!z)&&ce]})}var Z=Qe("ui",Ae,ke,Se,"button",f),de=!gt(c),ie=this.computeButtonAriaRole(Fe);return P(eo,{innerRef:this.ref,children:le(Fe,{...Oe,className:Z,"aria-pressed":fe?!!o:void 0,disabled:w&&Fe==="button"||void 0,onClick:this.handleClick,role:ie,tabIndex:Ve,children:[de&&c,!de&&Ia.create(x,{autoGenerateKey:!1}),!de&&b]})})},e}(Y.exports.Component);Es.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle"];Es.propTypes={};Es.defaultProps={as:"button"};Es.Content=Zm;Es.Group=eg;Es.Or=tg;Es.create=ci(Es,function(t){return{content:t}});var JA=Es;function pN(t,e,i,n){var r=-1,o=t==null?0:t.length;for(n&&o&&(i=t[++r]);++r<o;)i=e(i,t[r],r,t);return i}function Iue(t,e,i,n,r){return r(t,function(o,a,s){i=n?(n=!1,o):e(i,o,a,s)}),i}function PE(t,e,i){var n=Ni(t)?pN:Iue,r=arguments.length<3;return n(t,_u(e),i,r,up)}var dm=function(e,i,n,r){var o=n?n.call(r,e,i):void 0;if(o!==void 0)return!!o;if(e===i)return!0;if(typeof e!="object"||!e||typeof i!="object"||!i)return!1;var a=Object.keys(e),s=Object.keys(i);if(a.length!==s.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(i),c=0;c<a.length;c++){var u=a[c];if(!l(u))return!1;var f=e[u],h=i[u];if(o=n?n.call(r,f,h,u):void 0,o===!1||o===void 0&&f!==h)return!1}return!0},ff=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleButtonOverrides=function(s){return{onClick:function(c,u){Ue(s,"onClick",c,u),Ue(n.props,"onActionClick",c,u)}}},n}var i=e.prototype;return i.render=function(){var r=this,o=this.props,a=o.actions,s=o.children,l=o.className,c=o.content,u=Qe("actions",l),f=it(e,this.props),h=rt(e,this.props);return gt(s)?gt(c)?P(h,{...f,className:u,children:ks(a,function(m){return JA.create(m,{overrideProps:r.handleButtonOverrides})})}):P(h,{...f,className:u,children:c}):P(h,{...f,className:u,children:s})},e}(Y.exports.Component);ff.handledProps=["actions","as","children","className","content","onActionClick"];ff.propTypes={};ff.create=ci(ff,function(t){return{actions:t}});function Ll(t){var e=t.children,i=t.className,n=t.content,r=t.image,o=t.scrolling,a=Qe(i,te(r,"image"),te(o,"scrolling"),"content"),s=it(Ll,t),l=rt(Ll,t);return ye.createElement(l,he({},s,{className:a}),gt(e)?n:e)}Ll.handledProps=["as","children","className","content","image","scrolling"];Ll.propTypes={};Ll.create=ci(Ll,function(t){return{content:t}});function ig(t){var e=t.children,i=t.className,n=t.content,r=Qe("description",i),o=it(ig,t),a=rt(ig,t);return ye.createElement(a,he({},o,{className:r}),gt(e)?n:e)}ig.handledProps=["as","children","className","content"];ig.propTypes={};function Ol(t){var e=t.blurring,i=t.children,n=t.className,r=t.centered,o=t.content,a=t.inverted,s=t.mountNode,l=t.scrolling,c=ye.useRef(),u=Qe("ui",te(a,"inverted"),te(!r,"top aligned"),"page modals dimmer transition visible active",n),f=Qe("dimmable dimmed",te(e,"blurring"),te(l,"scrolling")),h=it(Ol,t),m=rt(Ol,t);return Cue(s,f),ye.useEffect(function(){c.current&&c.current.style&&c.current.style.setProperty("display","flex","important")},[]),ye.createElement(eo,{innerRef:c},ye.createElement(m,he({},h,{className:u}),gt(i)?o:i))}Ol.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"];Ol.propTypes={};Ol.create=ci(Ol,function(t){return{content:t}});function Dl(t){var e=t.children,i=t.className,n=t.content,r=Qe("header",i),o=it(Dl,t),a=rt(Dl,t);return ye.createElement(a,he({},o,{className:r}),gt(e)?n:e)}Dl.handledProps=["as","children","className","content"];Dl.propTypes={};Dl.create=ci(Dl,function(t){return{content:t}});var mR=0,Pue=50,Rue=function(e){var i=e.height+mR,n=e.height+mR,r=window.innerHeight,o=r/2,a=-(n/2),s=Pue,l=o+a;return l+i+s<r},Lue=function(e,i,n){var r=i&&e?-(n.height/2):0,o=-(n.width/2);return{marginLeft:o,marginTop:r}},Oue=function(){return!window.ActiveXObject&&"ActiveXObject"in window},Ba=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.legacy=Hc()&&Oue(),n.ref=Y.exports.createRef(),n.dimmerRef=Y.exports.createRef(),n.latestDocumentMouseDownEvent=null,n.getMountNode=function(){return Hc()?n.props.mountNode||document.body:null},n.handleActionsOverrides=function(s){return{onActionClick:function(c,u){Ue(s,"onActionClick",c,u),Ue(n.props,"onActionClick",c,n.props),n.handleClose(c)}}},n.handleClose=function(s){n.setState({open:!1}),Ue(n.props,"onClose",s,he({},n.props,{open:!1}))},n.handleDocumentMouseDown=function(s){n.latestDocumentMouseDownEvent=s},n.handleDocumentClick=function(s){var l=n.props.closeOnDimmerClick,c=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!(!l||Yc(n.ref.current,c)||Yc(n.ref.current,s))&&(n.setState({open:!1}),Ue(n.props,"onClose",s,he({},n.props,{open:!1})))},n.handleIconOverrides=function(s){return{onClick:function(c){Ue(s,"onClick",c),n.handleClose(c)}}},n.handleOpen=function(s){Ue(n.props,"onOpen",s,he({},n.props,{open:!0})),n.setState({open:!0})},n.handlePortalMount=function(s){var l=n.props.eventPool;n.setState({scrolling:!1}),n.setPositionAndClassNames(),Gh.sub("mousedown",n.handleDocumentMouseDown,{pool:l,target:n.dimmerRef.current}),Gh.sub("click",n.handleDocumentClick,{pool:l,target:n.dimmerRef.current}),Ue(n.props,"onMount",s,n.props)},n.handlePortalUnmount=function(s){var l=n.props.eventPool;cancelAnimationFrame(n.animationRequestId),Gh.unsub("mousedown",n.handleDocumentMouseDown,{pool:l,target:n.dimmerRef.current}),Gh.unsub("click",n.handleDocumentClick,{pool:l,target:n.dimmerRef.current}),Ue(n.props,"onUnmount",s,n.props)},n.setPositionAndClassNames=function(){var s=n.props.centered,l,c={};if(n.ref.current){var u=n.ref.current.getBoundingClientRect(),f=Rue(u);l=!f;var h=n.legacy?Lue(f,s,u):{};dm(n.state.legacyStyles,h)||(c.legacyStyles=h),n.state.scrolling!==l&&(c.scrolling=l)}Uh(c)||n.setState(c),n.animationRequestId=requestAnimationFrame(n.setPositionAndClassNames)},n.renderContent=function(s){var l=n.props,c=l.actions,u=l.basic,f=l.children,h=l.className,m=l.closeIcon,b=l.content,w=l.header,g=l.size,A=l.style,x=n.state,T=x.legacyStyles,C=x.scrolling,z=Qe("ui",g,te(u,"basic"),te(n.legacy,"legacy"),te(C,"scrolling"),"modal transition visible active",h),L=rt(e,n.props),B=m===!0?"close":m,O=Ia.create(B,{overrideProps:n.handleIconOverrides});return P(eo,{innerRef:n.ref,children:le(L,{...s,className:z,style:he({},T,A),children:[O,gt(f)?le(Ir,{children:[Dl.create(w,{autoGenerateKey:!1}),Ll.create(b,{autoGenerateKey:!1}),ff.create(c,{overrideProps:n.handleActionsOverrides})]}):f]})})},n}var i=e.prototype;return i.componentWillUnmount=function(){this.handlePortalUnmount()},i.render=function(){var r=this.props,o=r.centered,a=r.closeOnDocumentClick,s=r.dimmer,l=r.eventPool,c=r.trigger,u=this.state,f=u.open,h=u.scrolling,m=this.getMountNode();if(!Hc())return Y.exports.isValidElement(c)?c:null;var b=it(e,this.props),w=Hd.handledProps,g=PE(b,function(x,T,C){return pa(w,C)||(x[C]=T),x},{}),A=TE(b,w);return P(Hd,{closeOnDocumentClick:a,...A,trigger:c,eventPool:l,mountNode:m,open:f,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,children:P(eo,{innerRef:this.dimmerRef,children:Ol.create(iN(s)?s:{},{autoGenerateKey:!1,defaultProps:{blurring:s==="blurring",inverted:s==="inverted"},overrideProps:{children:this.renderContent(g),centered:o,mountNode:m,scrolling:h}})})})},e}(dp);Ba.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"];Ba.propTypes={};Ba.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"};Ba.autoControlledProps=["open"];Ba.Actions=ff;Ba.Content=Ll;Ba.Description=ig;Ba.Dimmer=Ol;Ba.Header=Dl;var pf=Ba;function ng(t){var e=t.children,i=t.className,n=t.content,r=Qe("header",i),o=it(ng,t),a=rt(ng,t);return ye.createElement(a,he({},o,{className:r}),gt(e)?n:e)}ng.handledProps=["as","children","className","content"];ng.propTypes={};function Due(t){return function(e){return t==null?void 0:t[e]}}var Mue={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Bue=Due(Mue),Fue=Bue,Nue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jue="\\u0300-\\u036f",Uue="\\ufe20-\\ufe2f",Gue="\\u20d0-\\u20ff",Hue=jue+Uue+Gue,Yue="["+Hue+"]",Wue=RegExp(Yue,"g");function l2(t){return t=eb(t),t&&t.replace(Nue,Fue).replace(Wue,"")}var Vue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function $ue(t){return t.match(Vue)||[]}var Que=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function que(t){return Que.test(t)}var hN="\\ud800-\\udfff",Kue="\\u0300-\\u036f",Xue="\\ufe20-\\ufe2f",Jue="\\u20d0-\\u20ff",Zue=Kue+Xue+Jue,mN="\\u2700-\\u27bf",gN="a-z\\xdf-\\xf6\\xf8-\\xff",ede="\\xac\\xb1\\xd7\\xf7",tde="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ide="\\u2000-\\u206f",nde=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bN="A-Z\\xc0-\\xd6\\xd8-\\xde",rde="\\ufe0e\\ufe0f",vN=ede+tde+ide+nde,yN="['\u2019]",gR="["+vN+"]",ode="["+Zue+"]",wN="\\d+",ade="["+mN+"]",AN="["+gN+"]",xN="[^"+hN+vN+wN+mN+gN+bN+"]",sde="\\ud83c[\\udffb-\\udfff]",lde="(?:"+ode+"|"+sde+")",cde="[^"+hN+"]",kN="(?:\\ud83c[\\udde6-\\uddff]){2}",_N="[\\ud800-\\udbff][\\udc00-\\udfff]",md="["+bN+"]",ude="\\u200d",bR="(?:"+AN+"|"+xN+")",dde="(?:"+md+"|"+xN+")",vR="(?:"+yN+"(?:d|ll|m|re|s|t|ve))?",yR="(?:"+yN+"(?:D|LL|M|RE|S|T|VE))?",TN=lde+"?",SN="["+rde+"]?",fde="(?:"+ude+"(?:"+[cde,kN,_N].join("|")+")"+SN+TN+")*",pde="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hde="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",mde=SN+TN+fde,gde="(?:"+[ade,kN,_N].join("|")+")"+mde,bde=RegExp([md+"?"+AN+"+"+vR+"(?="+[gR,md,"$"].join("|")+")",dde+"+"+yR+"(?="+[gR,md+bR,"$"].join("|")+")",md+"?"+bR+"+"+vR,md+"+"+yR,hde,pde,wN,gde].join("|"),"g");function vde(t){return t.match(bde)||[]}function yde(t,e,i){return t=eb(t),e=i?void 0:e,e===void 0?que(t)?vde(t):$ue(t):t.match(e)||[]}var wde="['\u2019]",Ade=RegExp(wde,"g");function xde(t){return function(e){return pN(yde(l2(e).replace(Ade,"")),t,"")}}function kde(t){return function(e){e=eb(e);var i=_E(e)?kce(e):void 0,n=i?i[0]:e.charAt(0),r=i?ece(i,1).join(""):e.slice(1);return n[t]()+r}}var _de=kde("toUpperCase"),Tde=_de,Sde=xde(function(t,e,i){return t+(i?" ":"")+Tde(e)}),Cde=Sde,hf=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleClick=function(s){var l=n.props.disabled;l||Ue(n.props,"onClick",s,n.props)},n}var i=e.prototype;return i.render=function(){var r=this.props,o=r.active,a=r.children,s=r.className,l=r.color,c=r.content,u=r.disabled,f=r.fitted,h=r.header,m=r.icon,b=r.link,w=r.name,g=r.onClick,A=r.position,x=Qe(l,A,te(o,"active"),te(u,"disabled"),te(m===!0||m&&!(w||c),"icon"),te(h,"header"),te(b,"link"),_i(f,"fitted"),"item",s),T=rt(e,this.props,function(){if(g)return"a"}),C=it(e,this.props);return gt(a)?le(T,{...C,className:x,onClick:this.handleClick,children:[Ia.create(m,{autoGenerateKey:!1}),gt(c)?Cde(w):c]}):P(T,{...C,className:x,onClick:this.handleClick,children:a})},e}(Y.exports.Component);hf.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"];hf.propTypes={};hf.create=ci(hf,function(t){return{content:t,name:t}});function rg(t){var e=t.children,i=t.className,n=t.content,r=t.position,o=Qe(r,"menu",i),a=it(rg,t),s=rt(rg,t);return ye.createElement(s,he({},a,{className:o}),gt(e)?n:e)}rg.handledProps=["as","children","className","content","position"];rg.propTypes={};var zs=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleItemOverrides=function(s){return{onClick:function(c,u){var f=u.index;n.setState({activeIndex:f}),Ue(s,"onClick",c,u),Ue(n.props,"onItemClick",c,u)}}},n}var i=e.prototype;return i.renderItems=function(){var r=this,o=this.props.items,a=this.state.activeIndex;return ks(o,function(s,l){return hf.create(s,{defaultProps:{active:parseInt(a,10)===l,index:l},overrideProps:r.handleItemOverrides})})},i.render=function(){var r=this.props,o=r.attached,a=r.borderless,s=r.children,l=r.className,c=r.color,u=r.compact,f=r.fixed,h=r.floated,m=r.fluid,b=r.icon,w=r.inverted,g=r.pagination,A=r.pointing,x=r.secondary,T=r.size,C=r.stackable,z=r.tabular,L=r.text,B=r.vertical,O=r.widths,F=Qe("ui",c,T,te(a,"borderless"),te(u,"compact"),te(m,"fluid"),te(w,"inverted"),te(g,"pagination"),te(A,"pointing"),te(x,"secondary"),te(C,"stackable"),te(L,"text"),te(B,"vertical"),_i(o,"attached"),_i(h,"floated"),_i(b,"icon"),_i(z,"tabular"),xr(f,"fixed"),Wr(O,"item"),l,"menu"),H=it(e,this.props),K=rt(e,this.props);return ye.createElement(K,he({},H,{className:F}),gt(s)?this.renderItems():s)},e}(dp);zs.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"];zs.propTypes={};zs.autoControlledProps=["activeIndex"];zs.Header=ng;zs.Item=hf;zs.Menu=rg;zs.create=ci(zs,function(t){return{items:t}});var Ede=zs;function zde(t,e,i){return t==null?t:eN(t,e,i)}var Tu=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.inputRef=Y.exports.createRef(),n.labelRef=Y.exports.createRef(),n.canToggle=function(){var s=n.props,l=s.disabled,c=s.radio,u=s.readOnly,f=n.state.checked;return!l&&!u&&!(c&&f)},n.computeTabIndex=function(){var s=n.props,l=s.disabled,c=s.tabIndex;return Ot(c)?l?-1:0:c},n.handleClick=function(s){var l=n.props.id,c=n.state,u=c.checked,f=c.indeterminate,h=Ue(n.inputRef.current,"contains",s.target),m=Ue(n.labelRef.current,"contains",s.target),b=!m&&!h,w=!Ot(l),g=m&&w;g||Ue(n.props,"onClick",s,he({},n.props,{checked:!u,indeterminate:!!f})),n.isClickFromMouse&&(n.isClickFromMouse=!1,m&&!w&&n.handleChange(s),b&&n.handleChange(s),m&&w&&s.stopPropagation())},n.handleChange=function(s){var l=n.state.checked;!n.canToggle()||(Ue(n.props,"onChange",s,he({},n.props,{checked:!l,indeterminate:!1})),n.setState({checked:!l,indeterminate:!1}))},n.handleMouseDown=function(s){var l=n.state,c=l.checked,u=l.indeterminate;Ue(n.props,"onMouseDown",s,he({},n.props,{checked:!!c,indeterminate:!!u})),s.defaultPrevented||Ue(n.inputRef.current,"focus"),s.preventDefault()},n.handleMouseUp=function(s){var l=n.state,c=l.checked,u=l.indeterminate;n.isClickFromMouse=!0,Ue(n.props,"onMouseUp",s,he({},n.props,{checked:!!c,indeterminate:!!u}))},n.setIndeterminate=function(){var s=n.state.indeterminate;zde(n.inputRef,"current.indeterminate",!!s)},n}var i=e.prototype;return i.componentDidMount=function(){this.setIndeterminate()},i.componentDidUpdate=function(){this.setIndeterminate()},i.render=function(){var r=this.props,o=r.className,a=r.disabled,s=r.label,l=r.id,c=r.name,u=r.radio,f=r.readOnly,h=r.slider,m=r.toggle,b=r.type,w=r.value,g=this.state,A=g.checked,x=g.indeterminate,T=Qe("ui",te(A,"checked"),te(a,"disabled"),te(x,"indeterminate"),te(Ot(s),"fitted"),te(u,"radio"),te(f,"read-only"),te(h,"slider"),te(m,"toggle"),"checkbox",o),C=it(e,this.props),z=rt(e,this.props),L=zE(C,{htmlProps:dN}),B=L[0],O=L[1],F=s2(s,{defaultProps:{htmlFor:l},autoGenerateKey:!1})||P("label",{htmlFor:l});return le(z,{...O,className:T,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,children:[P(eo,{innerRef:this.inputRef,children:P("input",{...B,checked:A,className:"hidden",disabled:a,id:l,name:c,readOnly:!0,tabIndex:this.computeTabIndex(),type:b,value:w})}),P(eo,{innerRef:this.labelRef,children:F})]})},e}(dp);Tu.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"];Tu.propTypes={};Tu.defaultProps={type:"checkbox"};Tu.autoControlledProps=["checked","indeterminate"];function Ml(t){var e=t.slider,i=t.toggle,n=t.type,r=it(Ml,t),o=!(e||i)||void 0;return ye.createElement(Tu,he({},r,{type:n,radio:o,slider:e,toggle:i}))}Ml.handledProps=["slider","toggle","type"];Ml.propTypes={};Ml.defaultProps={type:"radio"};function Ide(t){for(var e=-1,i=t==null?0:t.length,n=0,r=[];++e<i;){var o=t[e];o&&(r[n++]=o)}return r}function Pde(t,e){for(var i=-1,n=t==null?0:t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function Rde(t,e){var i=!0;return up(t,function(n,r,o){return i=!!e(n,r,o),i}),i}function Lde(t,e,i){var n=Ni(t)?Pde:Rde;return i&&VF(t,e,i)&&(e=void 0),n(t,_u(e))}function Ode(t,e,i){var n=t==null?0:t.length;return n?(e=i||e===void 0?1:yE(e),e=n-e,vE(t,0,e<0?0:e)):[]}var Dde=jF("length"),Mde=Dde,CN="\\ud800-\\udfff",Bde="\\u0300-\\u036f",Fde="\\ufe20-\\ufe2f",Nde="\\u20d0-\\u20ff",jde=Bde+Fde+Nde,Ude="\\ufe0e\\ufe0f",Gde="["+CN+"]",c2="["+jde+"]",u2="\\ud83c[\\udffb-\\udfff]",Hde="(?:"+c2+"|"+u2+")",EN="[^"+CN+"]",zN="(?:\\ud83c[\\udde6-\\uddff]){2}",IN="[\\ud800-\\udbff][\\udc00-\\udfff]",Yde="\\u200d",PN=Hde+"?",RN="["+Ude+"]?",Wde="(?:"+Yde+"(?:"+[EN,zN,IN].join("|")+")"+RN+PN+")*",Vde=RN+PN+Wde,$de="(?:"+[EN+c2+"?",c2,zN,IN,Gde].join("|")+")",wR=RegExp(u2+"(?="+u2+")|"+$de+Vde,"g");function Qde(t){for(var e=wR.lastIndex=0;wR.test(t);)++e;return e}function qde(t){return _E(t)?Qde(t):Mde(t)}var Kde="[object Map]",Xde="[object Set]";function Jde(t){if(t==null)return 0;if(Us(t))return EE(t)?qde(t):t.length;var e=ew(t);return e==Kde||e==Xde?t.size:AE(t).length}var Zde=$A(function(t){return cN(XA(t,1,tw,!0))}),AR=Zde,mf=function(t){ge(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.render=function(){var r=this.props,o=r.className,a=r.name,s=Qe(a,"flag",o),l=it(e,this.props),c=rt(e,this.props);return P(c,{...l,className:s})},e}(Y.exports.PureComponent);mf.handledProps=["as","className","name"];mf.propTypes={};mf.defaultProps={as:"i"};mf.create=ci(mf,function(t){return{name:t}});var LN=mf;function og(t){var e=t.className,i=Qe("divider",e),n=it(og,t),r=rt(og,t);return ye.createElement(r,he({},n,{className:i}))}og.handledProps=["as","className"];og.propTypes={};var ag=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleClick=function(s){Ue(n.props,"onClick",s,n.props)},n}var i=e.prototype;return i.render=function(){var r=this.props,o=r.active,a=r.children,s=r.className,l=r.content,c=r.disabled,u=r.description,f=r.flag,h=r.icon,m=r.image,b=r.label,w=r.selected,g=r.text,A=Qe(te(o,"active"),te(c,"disabled"),te(w,"selected"),"item",s),x=Ot(h)?qle(a,"DropdownMenu")&&"dropdown":h,T=it(e,this.props),C=rt(e,this.props),z={role:"option","aria-disabled":c,"aria-checked":o,"aria-selected":w};if(!gt(a))return P(C,{...T,...z,className:A,onClick:this.handleClick,children:a});var L=LN.create(f,{autoGenerateKey:!1}),B=Ia.create(x,{autoGenerateKey:!1}),O=$o.create(m,{autoGenerateKey:!1}),F=ko.create(b,{autoGenerateKey:!1}),H=a2("span",function(fe){return{children:fe}},u,{defaultProps:{className:"description"},autoGenerateKey:!1}),K=a2("span",function(fe){return{children:fe}},gt(l)?g:l,{defaultProps:{className:"text"},autoGenerateKey:!1});return le(C,{...T,...z,className:A,onClick:this.handleClick,children:[O,B,L,F,H,K]})},e}(Y.exports.Component);ag.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"];ag.propTypes={};ag.create=ci(ag,function(t){return t});var ON=ag;function Bl(t){var e=t.children,i=t.className,n=t.content,r=t.icon,o=Qe("header",i),a=it(Bl,t),s=rt(Bl,t);return gt(e)?ye.createElement(s,he({},a,{className:o}),Ia.create(r,{autoGenerateKey:!1}),n):ye.createElement(s,he({},a,{className:o}),e)}Bl.handledProps=["as","children","className","content","icon"];Bl.propTypes={};Bl.create=ci(Bl,function(t){return{content:t}});function gf(t){var e=t.children,i=t.className,n=t.content,r=t.direction,o=t.open,a=t.scrolling,s=Qe(r,te(o,"visible"),te(a,"scrolling"),"menu transition",i),l=it(gf,t),c=rt(gf,t);return ye.createElement(c,he({},l,{className:s}),gt(e)?n:e)}gf.handledProps=["as","children","className","content","direction","open","scrolling"];gf.propTypes={};var bf=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleChange=function(s){var l=Aa(s,"target.value");Ue(n.props,"onChange",s,he({},n.props,{value:l}))},n}var i=e.prototype;return i.render=function(){var r=this.props,o=r.autoComplete,a=r.className,s=r.tabIndex,l=r.type,c=r.value,u=Qe("search",a),f=it(e,this.props);return P("input",{...f,"aria-autocomplete":"list",autoComplete:o,className:u,onChange:this.handleChange,tabIndex:s,type:l,value:c})},e}(Y.exports.Component);bf.handledProps=["as","autoComplete","className","tabIndex","type","value"];bf.propTypes={};bf.defaultProps={autoComplete:"off",type:"text"};bf.create=ci(bf,function(t){return{type:t}});var DN=bf;function Fl(t){var e=t.children,i=t.className,n=t.content,r=Qe("divider",i),o=it(Fl,t),a=rt(Fl,t);return ye.createElement(a,he({"aria-atomic":!0,"aria-live":"polite",role:"alert"},o,{className:r}),gt(e)?n:e)}Fl.handledProps=["as","children","className","content"];Fl.propTypes={};Fl.create=ci(Fl,function(t){return{content:t}});var MN=/[\\^$.*+?()[\]{}|]/g,efe=RegExp(MN.source);function tfe(t){return t=eb(t),t&&efe.test(t)?t.replace(MN,"\\$&"):t}function Td(t){var e=t.additionLabel,i=t.additionPosition,n=t.allowAdditions,r=t.deburr,o=t.multiple,a=t.options,s=t.search,l=t.searchQuery,c=t.value,u=a;if(o&&(u=iR(u,function(w){return!pa(c,w.value)})),s&&l)if(cf(s))u=s(u,l);else{var f=r?l2(l):l,h=new RegExp(tfe(f),"i");u=iR(u,function(w){return h.test(r?l2(w.text):w.text)})}if(n&&s&&l&&!um(u,{text:l})){var m=ye.isValidElement(e)?ye.cloneElement(e,{key:"addition-label"}):e||"",b={key:"addition",text:[m,ye.createElement("b",{key:"addition-query"},l)],value:l,className:"addition","data-additional":!0};i==="top"?u.unshift(b):u.push(b)}return u}Td.handledProps=[];function xR(t){var e=t.additionLabel,i=t.additionPosition,n=t.allowAdditions,r=t.deburr,o=t.multiple,a=t.options,s=t.search,l=t.searchQuery,c=t.selectedIndex,u=t.value,f=Td({value:u,options:a,searchQuery:l,additionLabel:e,additionPosition:i,allowAdditions:n,deburr:r,multiple:o,search:s}),h=PE(f,function(g,A,x){return A.disabled||g.push(x),g},[]),m;if(!c||c<0){var b=h[0];m=o?b:t2(f,["value",u])||h[0]}else if(o)m=WF(h,function(g){return g>=c}),c>=f.length-1&&(m=h[h.length-1]);else{var w=t2(f,["value",u]);m=pa(h,w)?w:void 0}return(!m||m<0)&&(m=h[0]),m}var kR=function(e,i){return Ot(e)?i:e},_R=function(e){return e&&e.map(function(i){return TE(i,["key","value"])})};function BN(t){var e=t.flag,i=t.image,n=t.text;return cf(n)?n:{content:le(Ir,{children:[LN.create(e),$o.create(i),n]})}}var Fn=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.searchRef=Y.exports.createRef(),n.sizerRef=Y.exports.createRef(),n.ref=Y.exports.createRef(),n.handleChange=function(s,l){Ue(n.props,"onChange",s,he({},n.props,{value:l}))},n.closeOnChange=function(s){var l=n.props,c=l.closeOnChange,u=l.multiple,f=QA(c)?!u:c;f&&n.close(s,lN)},n.closeOnEscape=function(s){!n.props.closeOnEscape||qi.getCode(s)===qi.Escape&&(s.preventDefault(),n.close(s))},n.moveSelectionOnKeyDown=function(s){var l,c=n.props,u=c.multiple,f=c.selectOnNavigation,h=n.state.open;if(!!h){var m=(l={},l[qi.ArrowDown]=1,l[qi.ArrowUp]=-1,l),b=m[qi.getCode(s)];if(b!==void 0){s.preventDefault();var w=n.getSelectedIndexAfterMove(b);!u&&f&&n.makeSelectedItemActive(s,w),n.setState({selectedIndex:w})}}},n.openOnSpace=function(s){var l,c,u,f=n.state.focus&&!n.state.open&&qi.getCode(s)===qi.Spacebar,h=((l=s.target)==null?void 0:l.tagName)!=="INPUT"&&((c=s.target)==null?void 0:c.tagName)!=="TEXTAREA"&&((u=s.target)==null?void 0:u.isContentEditable)!==!0;f&&(h&&s.preventDefault(),n.open(s))},n.openOnArrow=function(s){var l=n.state,c=l.focus,u=l.open;if(c&&!u){var f=qi.getCode(s);(f===qi.ArrowDown||f===qi.ArrowUp)&&(s.preventDefault(),n.open(s))}},n.makeSelectedItemActive=function(s,l){var c=n.state,u=c.open,f=c.value,h=n.props.multiple,m=n.getSelectedItem(l),b=Aa(m,"value");if(Ot(b)||!u)return f;var w=h?AR(f,[b]):b,g=h?!!oR(w,f).length:w!==f;return g&&(n.setState({value:w}),n.handleChange(s,w),m["data-additional"]&&Ue(n.props,"onAddItem",s,he({},n.props,{value:b}))),f},n.selectItemOnEnter=function(s){var l=n.props.search,c=n.state,u=c.open,f=c.selectedIndex;if(!!u){var h=qi.getCode(s)===qi.Enter||!l&&qi.getCode(s)===qi.Spacebar;if(!!h){s.preventDefault();var m=Jde(Td({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search}));if(!(l&&m===0)){var b=n.makeSelectedItemActive(s,f);n.setState({selectedIndex:xR({additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search,selectedIndex:f,value:b,options:n.props.options,searchQuery:""})}),n.closeOnChange(s),n.clearSearchQuery(),l&&Ue(n.searchRef.current,"focus")}}}},n.removeItemOnBackspace=function(s){var l=n.props,c=l.multiple,u=l.search,f=n.state,h=f.searchQuery,m=f.value;if(qi.getCode(s)===qi.Backspace&&!(h||!u||!c||Uh(m))){s.preventDefault();var b=Ode(m);n.setState({value:b}),n.handleChange(s,b)}},n.closeOnDocumentClick=function(s){!n.props.closeOnBlur||n.ref.current&&Yc(n.ref.current,s)||n.close()},n.handleMouseDown=function(s){n.isMouseDown=!0,Ue(n.props,"onMouseDown",s,n.props),document.addEventListener("mouseup",n.handleDocumentMouseUp)},n.handleDocumentMouseUp=function(){n.isMouseDown=!1,document.removeEventListener("mouseup",n.handleDocumentMouseUp)},n.handleClick=function(s){var l=n.props,c=l.minCharacters,u=l.search,f=n.state,h=f.open,m=f.searchQuery;if(Ue(n.props,"onClick",s,n.props),s.stopPropagation(),!u)return n.toggle(s);if(h){Ue(n.searchRef.current,"focus");return}if(m.length>=c||c===1){n.open(s);return}Ue(n.searchRef.current,"focus")},n.handleIconClick=function(s){var l=n.props.clearable,c=n.hasValue();Ue(n.props,"onClick",s,n.props),s.stopPropagation(),l&&c?n.clearValue(s):n.toggle(s)},n.handleItemClick=function(s,l){var c=n.props,u=c.multiple,f=c.search,h=n.state.value,m=l.value;if(s.stopPropagation(),(u||l.disabled)&&s.nativeEvent.stopImmediatePropagation(),!l.disabled){var b=l["data-additional"],w=u?AR(n.state.value,[m]):m,g=u?!!oR(w,h).length:w!==h;g&&(n.setState({value:w}),n.handleChange(s,w)),n.clearSearchQuery(),Ue(f?n.searchRef.current:n.ref.current,"focus"),n.closeOnChange(s),b&&Ue(n.props,"onAddItem",s,he({},n.props,{value:m}))}},n.handleFocus=function(s){var l=n.state.focus;l||(Ue(n.props,"onFocus",s,n.props),n.setState({focus:!0}))},n.handleBlur=function(s){var l=Aa(s,"currentTarget");if(!(l&&l.contains(document.activeElement))){var c=n.props,u=c.closeOnBlur,f=c.multiple,h=c.selectOnBlur;n.isMouseDown||(Ue(n.props,"onBlur",s,n.props),h&&!f&&(n.makeSelectedItemActive(s,n.state.selectedIndex),u&&n.close()),n.setState({focus:!1}),n.clearSearchQuery())}},n.handleSearchChange=function(s,l){var c=l.value;s.stopPropagation();var u=n.props.minCharacters,f=n.state.open,h=c;if(Ue(n.props,"onSearchChange",s,he({},n.props,{searchQuery:h})),n.setState({searchQuery:h,selectedIndex:0}),!f&&h.length>=u){n.open();return}f&&u!==1&&h.length<u&&n.close()},n.handleKeyDown=function(s){n.moveSelectionOnKeyDown(s),n.openOnArrow(s),n.openOnSpace(s),n.selectItemOnEnter(s),Ue(n.props,"onKeyDown",s)},n.getSelectedItem=function(s){var l=Td({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search});return Aa(l,"["+s+"]")},n.getItemByValue=function(s){var l=n.props.options;return WF(l,{value:s})},n.getDropdownAriaOptions=function(){var s=n.props,l=s.loading,c=s.disabled,u=s.search,f=s.multiple,h=n.state.open,m={role:u?"combobox":"listbox","aria-busy":l,"aria-disabled":c,"aria-expanded":!!h};return m.role==="listbox"&&(m["aria-multiselectable"]=f),m},n.clearSearchQuery=function(){var s=n.state.searchQuery;s===void 0||s===""||n.setState({searchQuery:""})},n.handleLabelClick=function(s,l){s.stopPropagation(),n.setState({selectedLabel:l.value}),Ue(n.props,"onLabelClick",s,l)},n.handleLabelRemove=function(s,l){s.stopPropagation();var c=n.state.value,u=zue(c,l.value);n.setState({value:u}),n.handleChange(s,u)},n.getSelectedIndexAfterMove=function(s,l){l===void 0&&(l=n.state.selectedIndex);var c=Td({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search});if(!(c===void 0||Lde(c,"disabled"))){var u=c.length-1,f=n.props.wrapSelection,h=l+s;return!f&&(h>u||h<0)?h=l:h>u?h=0:h<0&&(h=u),c[h].disabled?n.getSelectedIndexAfterMove(s,h):h}},n.handleIconOverrides=function(s){var l=n.props.clearable,c=Qe(l&&n.hasValue()&&"clear",s.className);return{className:c,onClick:function(f){Ue(s,"onClick",f,s),n.handleIconClick(f)}}},n.clearValue=function(s){var l=n.props.multiple,c=l?[]:"";n.setState({value:c}),n.handleChange(s,c)},n.computeSearchInputTabIndex=function(){var s=n.props,l=s.disabled,c=s.tabIndex;return Ot(c)?l?-1:0:c},n.computeSearchInputWidth=function(){var s=n.state.searchQuery;if(n.sizerRef.current&&s){n.sizerRef.current.style.display="inline",n.sizerRef.current.textContent=s;var l=Math.ceil(n.sizerRef.current.getBoundingClientRect().width);return n.sizerRef.current.style.removeProperty("display"),l}},n.computeTabIndex=function(){var s=n.props,l=s.disabled,c=s.search,u=s.tabIndex;if(!c)return l?-1:Ot(u)?0:u},n.handleSearchInputOverrides=function(s){return{onChange:function(c,u){Ue(s,"onChange",c,u),n.handleSearchChange(c,u)}}},n.hasValue=function(){var s=n.props.multiple,l=n.state.value;return s?!Uh(l):!Ot(l)&&l!==""},n.scrollSelectedItemIntoView=function(){if(!!n.ref.current){var s=n.ref.current.querySelector(".menu.visible");if(!!s){var l=s.querySelector(".item.selected");if(!!l){var c=l.offsetTop<s.scrollTop,u=l.offsetTop+l.clientHeight>s.scrollTop+s.clientHeight;c?s.scrollTop=l.offsetTop:u&&(s.scrollTop=l.offsetTop+l.clientHeight-s.clientHeight)}}}},n.setOpenDirection=function(){if(!!n.ref.current){var s=n.ref.current.querySelector(".menu.visible");if(!!s){var l=n.ref.current.getBoundingClientRect(),c=s.clientHeight,u=document.documentElement.clientHeight-l.top-l.height-c,f=l.top-c,h=u<0&&f>u;!h!=!n.state.upward&&n.setState({upward:h})}}},n.open=function(s,l){s===void 0&&(s=null),l===void 0&&(l=!0);var c=n.props,u=c.disabled,f=c.search;u||(f&&Ue(n.searchRef.current,"focus"),Ue(n.props,"onOpen",s,n.props),l&&n.setState({open:!0}),n.scrollSelectedItemIntoView())},n.close=function(s,l){l===void 0&&(l=n.handleClose),n.state.open&&(Ue(n.props,"onClose",s,n.props),n.setState({open:!1},l))},n.handleClose=function(){var s=document.activeElement===n.searchRef.current;!s&&n.ref.current&&n.ref.current.blur();var l=document.activeElement===n.ref.current,c=s||l;n.setState({focus:c})},n.toggle=function(s){return n.state.open?n.close(s):n.open(s)},n.renderText=function(){var s=n.props,l=s.multiple,c=s.placeholder,u=s.search,f=s.text,h=n.state,m=h.searchQuery,b=h.selectedIndex,w=h.value,g=h.open,A=n.hasValue(),x=Qe(c&&!A&&"default","text",u&&m&&"filtered"),T=c,C;return f?T=f:g&&!l?C=n.getSelectedItem(b):A&&(C=n.getItemByValue(w)),Fl.create(C?BN(C):T,{defaultProps:{className:x}})},n.renderSearchInput=function(){var s=n.props,l=s.search,c=s.searchInput,u=n.state.searchQuery;return l&&P(eo,{innerRef:n.searchRef,children:DN.create(c,{defaultProps:{style:{width:n.computeSearchInputWidth()},tabIndex:n.computeSearchInputTabIndex(),value:u},overrideProps:n.handleSearchInputOverrides})})},n.renderSearchSizer=function(){var s=n.props,l=s.search,c=s.multiple;return l&&c&&P("span",{className:"sizer",ref:n.sizerRef})},n.renderLabels=function(){var s=n.props,l=s.multiple,c=s.renderLabel,u=n.state,f=u.selectedLabel,h=u.value;if(!(!l||Uh(h))){var m=ks(h,n.getItemByValue);return ks(Ide(m),function(b,w){var g={active:b.value===f,as:"a",key:kR(b.key,b.value),onClick:n.handleLabelClick,onRemove:n.handleLabelRemove,value:b.value};return ko.create(c(b,w,g),{defaultProps:g})})}},n.renderOptions=function(){var s=n.props,l=s.lazyLoad,c=s.multiple,u=s.search,f=s.noResultsMessage,h=n.state,m=h.open,b=h.selectedIndex,w=h.value;if(l&&!m)return null;var g=Td({value:n.state.value,options:n.props.options,searchQuery:n.state.searchQuery,additionLabel:n.props.additionLabel,additionPosition:n.props.additionPosition,allowAdditions:n.props.allowAdditions,deburr:n.props.deburr,multiple:n.props.multiple,search:n.props.search});if(f!==null&&u&&Uh(g))return P("div",{className:"message",children:f});var A=c?function(x){return pa(w,x)}:function(x){return x===w};return ks(g,function(x,T){return ON.create(he({active:A(x.value),onClick:n.handleItemClick,selected:b===T},x,{key:kR(x.key,x.value),style:he({},x.style,{pointerEvents:"all"})}))})},n.renderMenu=function(){var s=n.props,l=s.children,c=s.direction,u=s.header,f=n.state.open,h=n.getDropdownMenuAriaOptions();if(!gt(l)){var m=Y.exports.Children.only(l),b=Qe(c,te(f,"visible"),m.props.className);return Y.exports.cloneElement(m,he({className:b},h))}return le(gf,{...h,direction:c,open:f,children:[Bl.create(u,{autoGenerateKey:!1}),n.renderOptions()]})},n}var i=e.prototype;return i.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},e.getAutoControlledStateFromProps=function(r,o,a){var s={__options:r.options,__value:o.value},l=!dm(a.__value,o.value)||!Aue(_R(r.options),_R(a.__options));return l&&(s.selectedIndex=xR({additionLabel:r.additionLabel,additionPosition:r.additionPosition,allowAdditions:r.allowAdditions,deburr:r.deburr,multiple:r.multiple,search:r.search,selectedIndex:o.selectedIndex,value:o.value,options:r.options,searchQuery:o.searchQuery})),s},i.componentDidMount=function(){var r=this.state.open;r&&this.open(null,!1)},i.shouldComponentUpdate=function(r,o){return!dm(r,this.props)||!dm(o,this.state)},i.componentDidUpdate=function(r,o){var a=this.props,s=a.closeOnBlur,l=a.minCharacters,c=a.openOnFocus,u=a.search;if(!o.focus&&this.state.focus){if(!this.isMouseDown){var f=!u||u&&l===1&&!this.state.open;c&&f&&this.open()}}else o.focus&&!this.state.focus&&!this.isMouseDown&&s&&this.close();!o.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):o.open&&this.state.open,o.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},i.getDropdownMenuAriaOptions=function(){var r=this.props,o=r.search,a=r.multiple,s={};return o&&(s["aria-multiselectable"]=a,s.role="listbox"),s},i.render=function(){var r=this.props,o=r.basic,a=r.button,s=r.className,l=r.compact,c=r.disabled,u=r.error,f=r.fluid,h=r.floating,m=r.icon,b=r.inline,w=r.item,g=r.labeled,A=r.loading,x=r.multiple,T=r.pointing,C=r.search,z=r.selection,L=r.scrolling,B=r.simple,O=r.trigger,F=this.state,H=F.focus,K=F.open,fe=F.upward,Ae=Qe("ui",te(K,"active visible"),te(c,"disabled"),te(u,"error"),te(A,"loading"),te(o,"basic"),te(a,"button"),te(l,"compact"),te(f,"fluid"),te(h,"floating"),te(b,"inline"),te(g,"labeled"),te(w,"item"),te(x,"multiple"),te(C,"search"),te(z,"selection"),te(B,"simple"),te(L,"scrolling"),te(fe,"upward"),_i(T,"pointing"),"dropdown",s),Se=it(e,this.props),ke=rt(e,this.props),Oe=this.getDropdownAriaOptions(ke,this.props);return P(eo,{innerRef:this.ref,children:le(ke,{...Se,...Oe,className:Ae,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex(),children:[this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),O||this.renderText(),Ia.create(m,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),K&&P(ps,{name:"keydown",on:this.closeOnEscape}),K&&P(ps,{name:"click",on:this.closeOnDocumentClick}),H&&P(ps,{name:"keydown",on:this.removeItemOnBackspace})]})})},e}(dp);Fn.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"];Fn.propTypes={};Fn.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:BN,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0};Fn.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"];Fn.Divider=og;Fn.Header=Bl;Fn.Item=ON;Fn.Menu=gf;Fn.SearchInput=DN;Fn.Text=Fl;function Su(t){return ye.createElement(Fn,he({},t,{selection:!0}))}Su.handledProps=["options"];Su.propTypes={};Su.Divider=Fn.Divider;Su.Header=Fn.Header;Su.Item=Fn.Item;Su.Menu=Fn.Menu;var ZA=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.ref=Y.exports.createRef(),n.focus=function(){return n.ref.current.focus()},n.handleChange=function(s){var l=Aa(s,"target.value");Ue(n.props,"onChange",s,he({},n.props,{value:l}))},n.handleInput=function(s){var l=Aa(s,"target.value");Ue(n.props,"onInput",s,he({},n.props,{value:l}))},n}var i=e.prototype;return i.render=function(){var r=this.props,o=r.rows,a=r.value,s=it(e,this.props),l=rt(e,this.props);return P(eo,{innerRef:this.ref,children:P(l,{...s,onChange:this.handleChange,onInput:this.handleInput,rows:o,value:a})})},e}(Y.exports.Component);ZA.handledProps=["as","onChange","onInput","rows","value"];ZA.propTypes={};ZA.defaultProps={as:"textarea",rows:3};var ife=ZA;function _o(t){var e=t.children,i=t.className,n=t.content,r=t.control,o=t.disabled,a=t.error,s=t.inline,l=t.label,c=t.required,u=t.type,f=t.width,h=t.id,m=Qe(te(o,"disabled"),te(a,"error"),te(s,"inline"),te(c,"required"),Wr(f,"wide"),"field",i),b=it(_o,t),w=rt(_o,t),g=Aa(a,"pointing","above"),A=ko.create(a,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:g,id:h?h+"-error-message":void 0,role:"alert","aria-atomic":!0}}),x=(g==="below"||g==="right")&&A,T=(g==="above"||g==="left")&&A;if(Ot(r))return Ot(l)?P(w,{...b,className:m,id:h,children:gt(e)?n:e}):le(w,{...b,className:m,id:h,children:[x,s2(l,{autoGenerateKey:!1}),T]});var C=h&&a?h+"-error-message":null,z={"aria-describedby":C,"aria-invalid":a?!0:void 0},L=he({},b,{content:n,children:e,disabled:o,required:c,type:u,id:h});return r==="input"&&(u==="checkbox"||u==="radio")?P(w,{className:m,children:le("label",{children:[x,Y.exports.createElement(r,he({},z,L))," ",l,T]})}):r===Tu||r===Ml?le(w,{className:m,children:[x,Y.exports.createElement(r,he({},z,L,{label:l})),T]}):le(w,{className:m,children:[s2(l,{defaultProps:{htmlFor:h},autoGenerateKey:!1}),x,Y.exports.createElement(r,he({},z,L)),T]})}_o.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"];_o.propTypes={};function vf(t){var e=t.control,i=it(vf,t),n=rt(vf,t);return ye.createElement(n,he({},i,{control:e}))}vf.handledProps=["as","control"];vf.propTypes={};vf.defaultProps={as:_o,control:JA};function yf(t){var e=t.control,i=it(yf,t),n=rt(yf,t);return ye.createElement(n,he({},i,{control:e}))}yf.handledProps=["as","control"];yf.propTypes={};yf.defaultProps={as:_o,control:Tu};function wf(t){var e=t.control,i=it(wf,t),n=rt(wf,t);return ye.createElement(n,he({},i,{control:e}))}wf.handledProps=["as","control"];wf.propTypes={};wf.defaultProps={as:_o,control:Fn};function sg(t){var e=t.children,i=t.className,n=t.grouped,r=t.inline,o=t.unstackable,a=t.widths,s=Qe(te(n,"grouped"),te(r,"inline"),te(o,"unstackable"),Wr(a,null,!0),"fields",i),l=it(sg,t),c=rt(sg,t);return ye.createElement(c,he({},l,{className:s}),e)}sg.handledProps=["as","children","className","grouped","inline","unstackable","widths"];sg.propTypes={};var Af=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.inputRef=Y.exports.createRef(),n.computeIcon=function(){var s=n.props,l=s.loading,c=s.icon;if(!Ot(c))return c;if(l)return"spinner"},n.computeTabIndex=function(){var s=n.props,l=s.disabled,c=s.tabIndex;if(!Ot(c))return c;if(l)return-1},n.focus=function(){return n.inputRef.current.focus()},n.select=function(){return n.inputRef.current.select()},n.handleChange=function(s){var l=Aa(s,"target.value");Ue(n.props,"onChange",s,he({},n.props,{value:l}))},n.handleChildOverrides=function(s,l){return he({},l,s.props,{ref:function(u){fa(s.ref,u),n.inputRef.current=u}})},n.partitionProps=function(){var s=n.props,l=s.disabled,c=s.type,u=n.computeTabIndex(),f=it(e,n.props),h=zE(f),m=h[0],b=h[1];return[he({},m,{disabled:l,type:c,tabIndex:u,onChange:n.handleChange,ref:n.inputRef}),b]},n}var i=e.prototype;return i.render=function(){var r=this,o=this.props,a=o.action,s=o.actionPosition,l=o.children,c=o.className,u=o.disabled,f=o.error,h=o.fluid,m=o.focus,b=o.icon,w=o.iconPosition,g=o.input,A=o.inverted,x=o.label,T=o.labelPosition,C=o.loading,z=o.size,L=o.transparent,B=o.type,O=Qe("ui",z,te(u,"disabled"),te(f,"error"),te(h,"fluid"),te(m,"focus"),te(A,"inverted"),te(C,"loading"),te(L,"transparent"),xr(s,"action")||te(a,"action"),xr(w,"icon")||te(b||C,"icon"),xr(T,"labeled")||te(x,"labeled"),"input",c),F=rt(e,this.props),H=this.partitionProps(),K=H[0],fe=H[1];if(!gt(l)){var Ae=ks(Y.exports.Children.toArray(l),function(Oe){return Oe.type!=="input"?Oe:Y.exports.cloneElement(Oe,r.handleChildOverrides(Oe,K))});return P(F,{...fe,className:O,children:Ae})}var Se=JA.create(a,{autoGenerateKey:!1}),ke=ko.create(x,{defaultProps:{className:Qe("label",pa(T,"corner")&&T)},autoGenerateKey:!1});return le(F,{...fe,className:O,children:[s==="left"&&Se,T!=="right"&&ke,oue(g||B,{defaultProps:K,autoGenerateKey:!1}),Ia.create(this.computeIcon(),{autoGenerateKey:!1}),s!=="left"&&Se,T==="right"&&ke]})},e}(Y.exports.Component);Af.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"];Af.propTypes={};Af.defaultProps={type:"text"};Af.create=ci(Af,function(t){return{type:t}});var nfe=Af;function xf(t){var e=t.control,i=it(xf,t),n=rt(xf,t);return ye.createElement(n,he({},i,{control:e}))}xf.handledProps=["as","control"];xf.propTypes={};xf.defaultProps={as:_o,control:nfe};function kf(t){var e=t.control,i=it(kf,t),n=rt(kf,t);return ye.createElement(n,he({},i,{control:e}))}kf.handledProps=["as","control"];kf.propTypes={};kf.defaultProps={as:_o,control:Ml};function _f(t){var e=t.control,i=t.options,n=it(_f,t),r=rt(_f,t);return ye.createElement(r,he({},n,{control:e,options:i}))}_f.handledProps=["as","control","options"];_f.propTypes={};_f.defaultProps={as:_o,control:Su};function Tf(t){var e=t.control,i=it(Tf,t),n=rt(Tf,t);return ye.createElement(n,he({},i,{control:e}))}Tf.handledProps=["as","control"];Tf.propTypes={};Tf.defaultProps={as:_o,control:ife};var ro=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleSubmit=function(s){var l=n.props.action;typeof l!="string"&&Ue(s,"preventDefault");for(var c=arguments.length,u=new Array(c>1?c-1:0),f=1;f<c;f++)u[f-1]=arguments[f];Ue.apply(void 0,[n.props,"onSubmit",s,n.props].concat(u))},n}var i=e.prototype;return i.render=function(){var r=this.props,o=r.action,a=r.children,s=r.className,l=r.error,c=r.inverted,u=r.loading,f=r.reply,h=r.size,m=r.success,b=r.unstackable,w=r.warning,g=r.widths,A=Qe("ui",h,te(l,"error"),te(c,"inverted"),te(u,"loading"),te(f,"reply"),te(m,"success"),te(b,"unstackable"),te(w,"warning"),Wr(g,null,!0),"form",s),x=it(e,this.props),T=rt(e,this.props);return P(T,{...x,action:o,className:A,onSubmit:this.handleSubmit,children:a})},e}(Y.exports.Component);ro.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"];ro.propTypes={};ro.defaultProps={as:"form"};ro.Field=_o;ro.Button=vf;ro.Checkbox=yf;ro.Dropdown=wf;ro.Group=sg;ro.Input=xf;ro.Radio=kf;ro.Select=_f;ro.TextArea=Tf;var sv=ro;function xa(t){var e=t.children,i=t.className,n=t.computer,r=t.color,o=t.floated,a=t.largeScreen,s=t.mobile,l=t.only,c=t.stretched,u=t.tablet,f=t.textAlign,h=t.verticalAlign,m=t.widescreen,b=t.width,w=Qe(r,te(c,"stretched"),iw(l,"only"),KA(f),xr(o,"floated"),nb(h),Wr(n,"wide computer"),Wr(a,"wide large screen"),Wr(s,"wide mobile"),Wr(u,"wide tablet"),Wr(m,"wide widescreen"),Wr(b,"wide"),"column",i),g=it(xa,t),A=rt(xa,t);return ye.createElement(A,he({},g,{className:w}),e)}xa.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"];xa.propTypes={};xa.create=ci(xa,function(t){return{children:t}});function lg(t){var e=t.centered,i=t.children,n=t.className,r=t.color,o=t.columns,a=t.divided,s=t.only,l=t.reversed,c=t.stretched,u=t.textAlign,f=t.verticalAlign,h=Qe(r,te(e,"centered"),te(a,"divided"),te(c,"stretched"),iw(s,"only"),iw(l,"reversed"),KA(u),nb(f),Wr(o,"column",!0),"row",n),m=it(lg,t),b=rt(lg,t);return ye.createElement(b,he({},m,{className:h}),i)}lg.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"];lg.propTypes={};function hu(t){var e=t.celled,i=t.centered,n=t.children,r=t.className,o=t.columns,a=t.container,s=t.divided,l=t.doubling,c=t.inverted,u=t.padded,f=t.relaxed,h=t.reversed,m=t.stackable,b=t.stretched,w=t.textAlign,g=t.verticalAlign,A=Qe("ui",te(i,"centered"),te(a,"container"),te(l,"doubling"),te(c,"inverted"),te(m,"stackable"),te(b,"stretched"),_i(e,"celled"),_i(s,"divided"),_i(u,"padded"),_i(f,"relaxed"),iw(h,"reversed"),KA(w),nb(g),Wr(o,"column",!0),"grid",r),x=it(hu,t),T=rt(hu,t);return ye.createElement(T,he({},x,{className:A}),n)}hu.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"];hu.Column=xa;hu.Row=lg;hu.propTypes={};function Pa(t){var e=t.active,i=t.children,n=t.className,r=t.content,o=t.disabled,a=t.indeterminate,s=t.inline,l=t.inverted,c=t.size,u=Qe("ui",c,te(e,"active"),te(o,"disabled"),te(a,"indeterminate"),te(l,"inverted"),te(i||r,"text"),_i(s,"inline"),"loader",n),f=it(Pa,t),h=rt(Pa,t);return ye.createElement(h,he({},f,{className:u}),gt(i)?r:i)}Pa.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"];Pa.propTypes={};function cg(t){var e=t.children,i=t.className,n=t.compact,r=t.content,o=t.horizontal,a=t.piled,s=t.raised,l=t.size,c=t.stacked,u=Qe("ui",l,te(n,"compact"),te(o,"horizontal"),te(a,"piled"),te(s,"raised"),te(c,"stacked"),"segments",i),f=it(cg,t),h=rt(cg,t);return ye.createElement(h,he({},f,{className:u}),gt(e)?r:e)}cg.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"];cg.propTypes={};function ug(t){var e=t.children,i=t.className,n=t.content,r=Qe("inline",i),o=it(ug,t),a=rt(ug,t);return ye.createElement(a,he({},o,{className:r}),gt(e)?n:e)}ug.handledProps=["as","children","className","content"];ug.propTypes={};function Nl(t){var e=t.attached,i=t.basic,n=t.children,r=t.circular,o=t.className,a=t.clearing,s=t.color,l=t.compact,c=t.content,u=t.disabled,f=t.floated,h=t.inverted,m=t.loading,b=t.placeholder,w=t.padded,g=t.piled,A=t.raised,x=t.secondary,T=t.size,C=t.stacked,z=t.tertiary,L=t.textAlign,B=t.vertical,O=Qe("ui",s,T,te(i,"basic"),te(r,"circular"),te(a,"clearing"),te(l,"compact"),te(u,"disabled"),te(h,"inverted"),te(m,"loading"),te(b,"placeholder"),te(g,"piled"),te(A,"raised"),te(x,"secondary"),te(C,"stacked"),te(z,"tertiary"),te(B,"vertical"),_i(e,"attached"),_i(w,"padded"),KA(L),xr(f,"floated"),"segment",o),F=it(Nl,t),H=rt(Nl,t);return ye.createElement(H,he({},F,{className:O}),gt(n)?c:n)}Nl.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"];Nl.Group=cg;Nl.Inline=ug;Nl.propTypes={};var rfe=Y.exports.createContext();Y.exports.createContext();var ofe=function(e){return Array.isArray(e)?e[0]:e},afe=function(e){if(typeof e=="function"){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},sfe=function(e,i){if(typeof e=="function")return afe(e,i);e!=null&&(e.current=i)},TR=function(e){return e.reduce(function(i,n){var r=n[0],o=n[1];return i[r]=o,i},{})},SR=typeof window!="undefined"&&window.document&&window.document.createElement?Y.exports.useLayoutEffect:Y.exports.useEffect,kr="top",To="bottom",So="right",_r="left",RE="auto",ab=[kr,To,So,_r],Sf="start",dg="end",lfe="clippingParents",FN="viewport",Eh="popper",cfe="reference",CR=ab.reduce(function(t,e){return t.concat([e+"-"+Sf,e+"-"+dg])},[]),NN=[].concat(ab,[RE]).reduce(function(t,e){return t.concat([e,e+"-"+Sf,e+"-"+dg])},[]),ufe="beforeRead",dfe="read",ffe="afterRead",pfe="beforeMain",hfe="main",mfe="afterMain",gfe="beforeWrite",bfe="write",vfe="afterWrite",yfe=[ufe,dfe,ffe,pfe,hfe,mfe,gfe,bfe,vfe];function Ra(t){return t?(t.nodeName||"").toLowerCase():null}function Xo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Cf(t){var e=Xo(t).Element;return t instanceof e||t instanceof Element}function wo(t){var e=Xo(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function jN(t){if(typeof ShadowRoot=="undefined")return!1;var e=Xo(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function wfe(t){var e=t.state;Object.keys(e.elements).forEach(function(i){var n=e.styles[i]||{},r=e.attributes[i]||{},o=e.elements[i];!wo(o)||!Ra(o)||(Object.assign(o.style,n),Object.keys(r).forEach(function(a){var s=r[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function Afe(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(n){var r=e.elements[n],o=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:i[n]),s=a.reduce(function(l,c){return l[c]="",l},{});!wo(r)||!Ra(r)||(Object.assign(r.style,s),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var xfe={name:"applyStyles",enabled:!0,phase:"write",fn:wfe,effect:Afe,requires:["computeStyles"]};function ka(t){return t.split("-")[0]}var Wc=Math.max,ow=Math.min,Ef=Math.round;function zf(t,e){e===void 0&&(e=!1);var i=t.getBoundingClientRect(),n=1,r=1;if(wo(t)&&e){var o=t.offsetHeight,a=t.offsetWidth;a>0&&(n=Ef(i.width)/a||1),o>0&&(r=Ef(i.height)/o||1)}return{width:i.width/n,height:i.height/r,top:i.top/r,right:i.right/n,bottom:i.bottom/r,left:i.left/n,x:i.left/n,y:i.top/r}}function LE(t){var e=zf(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function UN(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&jN(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function La(t){return Xo(t).getComputedStyle(t)}function kfe(t){return["table","td","th"].indexOf(Ra(t))>=0}function Kl(t){return((Cf(t)?t.ownerDocument:t.document)||window.document).documentElement}function ex(t){return Ra(t)==="html"?t:t.assignedSlot||t.parentNode||(jN(t)?t.host:null)||Kl(t)}function ER(t){return!wo(t)||La(t).position==="fixed"?null:t.offsetParent}function _fe(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&wo(t)){var n=La(t);if(n.position==="fixed")return null}for(var r=ex(t);wo(r)&&["html","body"].indexOf(Ra(r))<0;){var o=La(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function sb(t){for(var e=Xo(t),i=ER(t);i&&kfe(i)&&La(i).position==="static";)i=ER(i);return i&&(Ra(i)==="html"||Ra(i)==="body"&&La(i).position==="static")?e:i||_fe(t)||e}function OE(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function fm(t,e,i){return Wc(t,ow(e,i))}function Tfe(t,e,i){var n=fm(t,e,i);return n>i?i:n}function GN(){return{top:0,right:0,bottom:0,left:0}}function HN(t){return Object.assign({},GN(),t)}function YN(t,e){return e.reduce(function(i,n){return i[n]=t,i},{})}var Sfe=function(e,i){return e=typeof e=="function"?e(Object.assign({},i.rects,{placement:i.placement})):e,HN(typeof e!="number"?e:YN(e,ab))};function Cfe(t){var e,i=t.state,n=t.name,r=t.options,o=i.elements.arrow,a=i.modifiersData.popperOffsets,s=ka(i.placement),l=OE(s),c=[_r,So].indexOf(s)>=0,u=c?"height":"width";if(!(!o||!a)){var f=Sfe(r.padding,i),h=LE(o),m=l==="y"?kr:_r,b=l==="y"?To:So,w=i.rects.reference[u]+i.rects.reference[l]-a[l]-i.rects.popper[u],g=a[l]-i.rects.reference[l],A=sb(o),x=A?l==="y"?A.clientHeight||0:A.clientWidth||0:0,T=w/2-g/2,C=f[m],z=x-h[u]-f[b],L=x/2-h[u]/2+T,B=fm(C,L,z),O=l;i.modifiersData[n]=(e={},e[O]=B,e.centerOffset=B-L,e)}}function Efe(t){var e=t.state,i=t.options,n=i.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!UN(e.elements.popper,r)||(e.elements.arrow=r))}var zfe={name:"arrow",enabled:!0,phase:"main",fn:Cfe,effect:Efe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function If(t){return t.split("-")[1]}var Ife={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Pfe(t){var e=t.x,i=t.y,n=window,r=n.devicePixelRatio||1;return{x:Ef(e*r)/r||0,y:Ef(i*r)/r||0}}function zR(t){var e,i=t.popper,n=t.popperRect,r=t.placement,o=t.variation,a=t.offsets,s=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=u===!0?Pfe(a):typeof u=="function"?u(a):a,m=h.x,b=m===void 0?0:m,w=h.y,g=w===void 0?0:w,A=a.hasOwnProperty("x"),x=a.hasOwnProperty("y"),T=_r,C=kr,z=window;if(c){var L=sb(i),B="clientHeight",O="clientWidth";if(L===Xo(i)&&(L=Kl(i),La(L).position!=="static"&&s==="absolute"&&(B="scrollHeight",O="scrollWidth")),L=L,r===kr||(r===_r||r===So)&&o===dg){C=To;var F=f&&z.visualViewport?z.visualViewport.height:L[B];g-=F-n.height,g*=l?1:-1}if(r===_r||(r===kr||r===To)&&o===dg){T=So;var H=f&&z.visualViewport?z.visualViewport.width:L[O];b-=H-n.width,b*=l?1:-1}}var K=Object.assign({position:s},c&&Ife);if(l){var fe;return Object.assign({},K,(fe={},fe[C]=x?"0":"",fe[T]=A?"0":"",fe.transform=(z.devicePixelRatio||1)<=1?"translate("+b+"px, "+g+"px)":"translate3d("+b+"px, "+g+"px, 0)",fe))}return Object.assign({},K,(e={},e[C]=x?g+"px":"",e[T]=A?b+"px":"",e.transform="",e))}function Rfe(t){var e=t.state,i=t.options,n=i.gpuAcceleration,r=n===void 0?!0:n,o=i.adaptive,a=o===void 0?!0:o,s=i.roundOffsets,l=s===void 0?!0:s,c={placement:ka(e.placement),variation:If(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,zR(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,zR(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Lfe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Rfe,data:{}},lv={passive:!0};function Ofe(t){var e=t.state,i=t.instance,n=t.options,r=n.scroll,o=r===void 0?!0:r,a=n.resize,s=a===void 0?!0:a,l=Xo(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",i.update,lv)}),s&&l.addEventListener("resize",i.update,lv),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",i.update,lv)}),s&&l.removeEventListener("resize",i.update,lv)}}var Dfe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ofe,data:{}},Mfe={left:"right",right:"left",bottom:"top",top:"bottom"};function Wv(t){return t.replace(/left|right|bottom|top/g,function(e){return Mfe[e]})}var Bfe={start:"end",end:"start"};function IR(t){return t.replace(/start|end/g,function(e){return Bfe[e]})}function DE(t){var e=Xo(t),i=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:i,scrollTop:n}}function ME(t){return zf(Kl(t)).left+DE(t).scrollLeft}function Ffe(t){var e=Xo(t),i=Kl(t),n=e.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,s=0;return n&&(r=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=n.offsetLeft,s=n.offsetTop)),{width:r,height:o,x:a+ME(t),y:s}}function Nfe(t){var e,i=Kl(t),n=DE(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=Wc(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Wc(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-n.scrollLeft+ME(t),l=-n.scrollTop;return La(r||i).direction==="rtl"&&(s+=Wc(i.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function BE(t){var e=La(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function WN(t){return["html","body","#document"].indexOf(Ra(t))>=0?t.ownerDocument.body:wo(t)&&BE(t)?t:WN(ex(t))}function pm(t,e){var i;e===void 0&&(e=[]);var n=WN(t),r=n===((i=t.ownerDocument)==null?void 0:i.body),o=Xo(n),a=r?[o].concat(o.visualViewport||[],BE(n)?n:[]):n,s=e.concat(a);return r?s:s.concat(pm(ex(a)))}function d2(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function jfe(t){var e=zf(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function PR(t,e){return e===FN?d2(Ffe(t)):Cf(e)?jfe(e):d2(Nfe(Kl(t)))}function Ufe(t){var e=pm(ex(t)),i=["absolute","fixed"].indexOf(La(t).position)>=0,n=i&&wo(t)?sb(t):t;return Cf(n)?e.filter(function(r){return Cf(r)&&UN(r,n)&&Ra(r)!=="body"&&(i?La(r).position!=="static":!0)}):[]}function Gfe(t,e,i){var n=e==="clippingParents"?Ufe(t):[].concat(e),r=[].concat(n,[i]),o=r[0],a=r.reduce(function(s,l){var c=PR(t,l);return s.top=Wc(c.top,s.top),s.right=ow(c.right,s.right),s.bottom=ow(c.bottom,s.bottom),s.left=Wc(c.left,s.left),s},PR(t,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function VN(t){var e=t.reference,i=t.element,n=t.placement,r=n?ka(n):null,o=n?If(n):null,a=e.x+e.width/2-i.width/2,s=e.y+e.height/2-i.height/2,l;switch(r){case kr:l={x:a,y:e.y-i.height};break;case To:l={x:a,y:e.y+e.height};break;case So:l={x:e.x+e.width,y:s};break;case _r:l={x:e.x-i.width,y:s};break;default:l={x:e.x,y:e.y}}var c=r?OE(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case Sf:l[c]=l[c]-(e[u]/2-i[u]/2);break;case dg:l[c]=l[c]+(e[u]/2-i[u]/2);break}}return l}function fg(t,e){e===void 0&&(e={});var i=e,n=i.placement,r=n===void 0?t.placement:n,o=i.boundary,a=o===void 0?lfe:o,s=i.rootBoundary,l=s===void 0?FN:s,c=i.elementContext,u=c===void 0?Eh:c,f=i.altBoundary,h=f===void 0?!1:f,m=i.padding,b=m===void 0?0:m,w=HN(typeof b!="number"?b:YN(b,ab)),g=u===Eh?cfe:Eh,A=t.rects.popper,x=t.elements[h?g:u],T=Gfe(Cf(x)?x:x.contextElement||Kl(t.elements.popper),a,l),C=zf(t.elements.reference),z=VN({reference:C,element:A,strategy:"absolute",placement:r}),L=d2(Object.assign({},A,z)),B=u===Eh?L:C,O={top:T.top-B.top+w.top,bottom:B.bottom-T.bottom+w.bottom,left:T.left-B.left+w.left,right:B.right-T.right+w.right},F=t.modifiersData.offset;if(u===Eh&&F){var H=F[r];Object.keys(O).forEach(function(K){var fe=[So,To].indexOf(K)>=0?1:-1,Ae=[kr,To].indexOf(K)>=0?"y":"x";O[K]+=H[Ae]*fe})}return O}function Hfe(t,e){e===void 0&&(e={});var i=e,n=i.placement,r=i.boundary,o=i.rootBoundary,a=i.padding,s=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?NN:l,u=If(n),f=u?s?CR:CR.filter(function(b){return If(b)===u}):ab,h=f.filter(function(b){return c.indexOf(b)>=0});h.length===0&&(h=f);var m=h.reduce(function(b,w){return b[w]=fg(t,{placement:w,boundary:r,rootBoundary:o,padding:a})[ka(w)],b},{});return Object.keys(m).sort(function(b,w){return m[b]-m[w]})}function Yfe(t){if(ka(t)===RE)return[];var e=Wv(t);return[IR(t),e,IR(e)]}function Wfe(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var r=i.mainAxis,o=r===void 0?!0:r,a=i.altAxis,s=a===void 0?!0:a,l=i.fallbackPlacements,c=i.padding,u=i.boundary,f=i.rootBoundary,h=i.altBoundary,m=i.flipVariations,b=m===void 0?!0:m,w=i.allowedAutoPlacements,g=e.options.placement,A=ka(g),x=A===g,T=l||(x||!b?[Wv(g)]:Yfe(g)),C=[g].concat(T).reduce(function(ie,se){return ie.concat(ka(se)===RE?Hfe(e,{placement:se,boundary:u,rootBoundary:f,padding:c,flipVariations:b,allowedAutoPlacements:w}):se)},[]),z=e.rects.reference,L=e.rects.popper,B=new Map,O=!0,F=C[0],H=0;H<C.length;H++){var K=C[H],fe=ka(K),Ae=If(K)===Sf,Se=[kr,To].indexOf(fe)>=0,ke=Se?"width":"height",Oe=fg(e,{placement:K,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),Fe=Se?Ae?So:_r:Ae?To:kr;z[ke]>L[ke]&&(Fe=Wv(Fe));var Ve=Wv(Fe),Le=[];if(o&&Le.push(Oe[fe]<=0),s&&Le.push(Oe[Fe]<=0,Oe[Ve]<=0),Le.every(function(ie){return ie})){F=K,O=!1;break}B.set(K,Le)}if(O)for(var Me=b?3:1,ce=function(se){var pe=C.find(function(xe){var we=B.get(xe);if(we)return we.slice(0,se).every(function(Pe){return Pe})});if(pe)return F=pe,"break"},Z=Me;Z>0;Z--){var de=ce(Z);if(de==="break")break}e.placement!==F&&(e.modifiersData[n]._skip=!0,e.placement=F,e.reset=!0)}}var Vfe={name:"flip",enabled:!0,phase:"main",fn:Wfe,requiresIfExists:["offset"],data:{_skip:!1}};function RR(t,e,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function LR(t){return[kr,So,To,_r].some(function(e){return t[e]>=0})}function $fe(t){var e=t.state,i=t.name,n=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=fg(e,{elementContext:"reference"}),s=fg(e,{altBoundary:!0}),l=RR(a,n),c=RR(s,r,o),u=LR(l),f=LR(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}var Qfe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$fe};function qfe(t,e,i){var n=ka(t),r=[_r,kr].indexOf(n)>=0?-1:1,o=typeof i=="function"?i(Object.assign({},e,{placement:t})):i,a=o[0],s=o[1];return a=a||0,s=(s||0)*r,[_r,So].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function Kfe(t){var e=t.state,i=t.options,n=t.name,r=i.offset,o=r===void 0?[0,0]:r,a=NN.reduce(function(u,f){return u[f]=qfe(f,e.rects,o),u},{}),s=a[e.placement],l=s.x,c=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=a}var Xfe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kfe};function Jfe(t){var e=t.state,i=t.name;e.modifiersData[i]=VN({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Zfe={name:"popperOffsets",enabled:!0,phase:"read",fn:Jfe,data:{}};function epe(t){return t==="x"?"y":"x"}function tpe(t){var e=t.state,i=t.options,n=t.name,r=i.mainAxis,o=r===void 0?!0:r,a=i.altAxis,s=a===void 0?!1:a,l=i.boundary,c=i.rootBoundary,u=i.altBoundary,f=i.padding,h=i.tether,m=h===void 0?!0:h,b=i.tetherOffset,w=b===void 0?0:b,g=fg(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),A=ka(e.placement),x=If(e.placement),T=!x,C=OE(A),z=epe(C),L=e.modifiersData.popperOffsets,B=e.rects.reference,O=e.rects.popper,F=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,H=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),K=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,fe={x:0,y:0};if(!!L){if(o){var Ae,Se=C==="y"?kr:_r,ke=C==="y"?To:So,Oe=C==="y"?"height":"width",Fe=L[C],Ve=Fe+g[Se],Le=Fe-g[ke],Me=m?-O[Oe]/2:0,ce=x===Sf?B[Oe]:O[Oe],Z=x===Sf?-O[Oe]:-B[Oe],de=e.elements.arrow,ie=m&&de?LE(de):{width:0,height:0},se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:GN(),pe=se[Se],xe=se[ke],we=fm(0,B[Oe],ie[Oe]),Pe=T?B[Oe]/2-Me-we-pe-H.mainAxis:ce-we-pe-H.mainAxis,Ye=T?-B[Oe]/2+Me+we+xe+H.mainAxis:Z+we+xe+H.mainAxis,$e=e.elements.arrow&&sb(e.elements.arrow),nt=$e?C==="y"?$e.clientTop||0:$e.clientLeft||0:0,Zt=(Ae=K==null?void 0:K[C])!=null?Ae:0,Lt=Fe+Pe-Zt-nt,Or=Fe+Ye-Zt,Ct=fm(m?ow(Ve,Lt):Ve,Fe,m?Wc(Le,Or):Le);L[C]=Ct,fe[C]=Ct-Fe}if(s){var cn,Ze=C==="x"?kr:_r,Na=C==="x"?To:So,vi=L[z],hi=z==="y"?"height":"width",ao=vi+g[Ze],so=vi-g[Na],ja=[kr,_r].indexOf(A)!==-1,Eo=(cn=K==null?void 0:K[z])!=null?cn:0,Zl=ja?ao:vi-B[hi]-O[hi]-Eo+H.altAxis,zo=ja?vi+B[hi]+O[hi]-Eo-H.altAxis:so,bt=m&&ja?Tfe(Zl,vi,zo):fm(m?Zl:ao,vi,m?zo:so);L[z]=bt,fe[z]=bt-vi}e.modifiersData[n]=fe}}var ipe={name:"preventOverflow",enabled:!0,phase:"main",fn:tpe,requiresIfExists:["offset"]};function npe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function rpe(t){return t===Xo(t)||!wo(t)?DE(t):npe(t)}function ope(t){var e=t.getBoundingClientRect(),i=Ef(e.width)/t.offsetWidth||1,n=Ef(e.height)/t.offsetHeight||1;return i!==1||n!==1}function ape(t,e,i){i===void 0&&(i=!1);var n=wo(e),r=wo(e)&&ope(e),o=Kl(e),a=zf(t,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&((Ra(e)!=="body"||BE(o))&&(s=rpe(e)),wo(e)?(l=zf(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=ME(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function spe(t){var e=new Map,i=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function r(o){i.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!i.has(s)){var l=e.get(s);l&&r(l)}}),n.push(o)}return t.forEach(function(o){i.has(o.name)||r(o)}),n}function lpe(t){var e=spe(t);return yfe.reduce(function(i,n){return i.concat(e.filter(function(r){return r.phase===n}))},[])}function cpe(t){var e;return function(){return e||(e=new Promise(function(i){Promise.resolve().then(function(){e=void 0,i(t())})})),e}}function upe(t){var e=t.reduce(function(i,n){var r=i[n.name];return i[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,i},{});return Object.keys(e).map(function(i){return e[i]})}var OR={placement:"bottom",modifiers:[],strategy:"absolute"};function DR(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function dpe(t){t===void 0&&(t={});var e=t,i=e.defaultModifiers,n=i===void 0?[]:i,r=e.defaultOptions,o=r===void 0?OR:r;return function(s,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},OR,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],h=!1,m={state:u,setOptions:function(A){var x=typeof A=="function"?A(u.options):A;w(),u.options=Object.assign({},o,u.options,x),u.scrollParents={reference:Cf(s)?pm(s):s.contextElement?pm(s.contextElement):[],popper:pm(l)};var T=lpe(upe([].concat(n,u.options.modifiers)));return u.orderedModifiers=T.filter(function(C){return C.enabled}),b(),m.update()},forceUpdate:function(){if(!h){var A=u.elements,x=A.reference,T=A.popper;if(!!DR(x,T)){u.rects={reference:ape(x,sb(T),u.options.strategy==="fixed"),popper:LE(T)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(H){return u.modifiersData[H.name]=Object.assign({},H.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var z=u.orderedModifiers[C],L=z.fn,B=z.options,O=B===void 0?{}:B,F=z.name;typeof L=="function"&&(u=L({state:u,options:O,name:F,instance:m})||u)}}}},update:cpe(function(){return new Promise(function(g){m.forceUpdate(),g(u)})}),destroy:function(){w(),h=!0}};if(!DR(s,l))return m;m.setOptions(c).then(function(g){!h&&c.onFirstUpdate&&c.onFirstUpdate(g)});function b(){u.orderedModifiers.forEach(function(g){var A=g.name,x=g.options,T=x===void 0?{}:x,C=g.effect;if(typeof C=="function"){var z=C({state:u,name:A,instance:m,options:T}),L=function(){};f.push(z||L)}})}function w(){f.forEach(function(g){return g()}),f=[]}return m}}var fpe=[Dfe,Zfe,Lfe,xfe,Xfe,Vfe,ipe,zfe,Qfe],ppe=dpe({defaultModifiers:fpe}),hpe=typeof Element!="undefined",mpe=typeof Map=="function",gpe=typeof Set=="function",bpe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Vv(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var i,n,r;if(Array.isArray(t)){if(i=t.length,i!=e.length)return!1;for(n=i;n--!==0;)if(!Vv(t[n],e[n]))return!1;return!0}var o;if(mpe&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(n=o.next()).done;)if(!e.has(n.value[0]))return!1;for(o=t.entries();!(n=o.next()).done;)if(!Vv(n.value[1],e.get(n.value[0])))return!1;return!0}if(gpe&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(n=o.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(bpe&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(i=t.length,i!=e.length)return!1;for(n=i;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(r=Object.keys(t),i=r.length,i!==Object.keys(e).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[n]))return!1;if(hpe&&t instanceof Element)return!1;for(n=i;n--!==0;)if(!((r[n]==="_owner"||r[n]==="__v"||r[n]==="__o")&&t.$$typeof)&&!Vv(t[r[n]],e[r[n]]))return!1;return!0}return t!==t&&e!==e}var vpe=function(e,i){try{return Vv(e,i)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},ype=[],wpe=function(e,i,n){n===void 0&&(n={});var r=Y.exports.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||ype},a=Y.exports.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=a[0],l=a[1],c=Y.exports.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(m){var b=m.state,w=Object.keys(b.elements);l({styles:TR(w.map(function(g){return[g,b.styles[g]||{}]})),attributes:TR(w.map(function(g){return[g,b.attributes[g]]}))})},requires:["computeStyles"]}},[]),u=Y.exports.useMemo(function(){var h={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[c,{name:"applyStyles",enabled:!1}])};return vpe(r.current,h)?r.current||h:(r.current=h,h)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,c]),f=Y.exports.useRef();return SR(function(){f.current&&f.current.setOptions(u)},[u]),SR(function(){if(!(e==null||i==null)){var h=n.createPopper||ppe,m=h(e,i,u);return f.current=m,function(){m.destroy(),f.current=null}}},[e,i,n.createPopper]),{state:f.current?f.current.state:null,styles:s.styles,attributes:s.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}},Ape=function(){},xpe=function(){return Promise.resolve(null)},kpe=[];function _pe(t){var e=t.placement,i=e===void 0?"bottom":e,n=t.strategy,r=n===void 0?"absolute":n,o=t.modifiers,a=o===void 0?kpe:o,s=t.referenceElement,l=t.onFirstUpdate,c=t.innerRef,u=t.children,f=Y.exports.useContext(rfe),h=Y.exports.useState(null),m=h[0],b=h[1],w=Y.exports.useState(null),g=w[0],A=w[1];Y.exports.useEffect(function(){sfe(c,m)},[c,m]);var x=Y.exports.useMemo(function(){return{placement:i,strategy:r,onFirstUpdate:l,modifiers:[].concat(a,[{name:"arrow",enabled:g!=null,options:{element:g}}])}},[i,r,l,a,g]),T=wpe(s||f,m,x),C=T.state,z=T.styles,L=T.forceUpdate,B=T.update,O=Y.exports.useMemo(function(){return{ref:b,style:z.popper,placement:C?C.placement:i,hasPopperEscaped:C&&C.modifiersData.hide?C.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:C&&C.modifiersData.hide?C.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:z.arrow,ref:A},forceUpdate:L||Ape,update:B||xpe}},[b,A,i,C,z,B,L]);return ofe(u)(O)}function Tpe(t,e,i,n){return LF(t,function(r,o,a){e(n,i(r),o,a)}),n}function Spe(t,e){return function(i,n){return Tpe(i,t,e(n),{})}}var Cpe=Object.prototype,Epe=Cpe.toString,zpe=Spe(function(t,e,i){e!=null&&typeof e.toString!="function"&&(e=Epe.call(e)),t[e]=i},_F(ib)),Ipe=zpe,FE={"top center":"top","top left":"top-start","top right":"top-end","bottom center":"bottom","bottom left":"bottom-start","bottom right":"bottom-end","right center":"right","left center":"left"};cp(FE);var Ppe=Ipe(FE);function MR(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ji(t,e,i){return e&&MR(t.prototype,e),i&&MR(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}var Rpe=function(){function t(i){this.ref=i}var e=t.prototype;return e.getBoundingClientRect=function(){return Ue(this.ref.current,"getBoundingClientRect")||{}},ji(t,[{key:"clientWidth",get:function(){return this.getBoundingClientRect().width}},{key:"clientHeight",get:function(){return this.getBoundingClientRect().height}},{key:"parentNode",get:function(){return this.ref.current?this.ref.current.parentNode:void 0}}]),t}(),Lpe=GA(function(t){return new Rpe(KT(t)?t:{current:t})}),Ope=Lpe;function jl(t){var e=t.children,i=t.className,n=t.content,r=Qe("content",i),o=it(jl,t),a=rt(jl,t);return ye.createElement(a,he({},o,{className:r}),gt(e)?n:e)}jl.handledProps=["as","children","className","content"];jl.propTypes={};jl.create=ci(jl,function(t){return{children:t}});function Ul(t){var e=t.children,i=t.className,n=t.content,r=Qe("header",i),o=it(Ul,t),a=rt(Ul,t);return ye.createElement(a,he({},o,{className:r}),gt(e)?n:e)}Ul.handledProps=["as","children","className","content"];Ul.propTypes={};Ul.create=ci(Ul,function(t){return{children:t}});var Is=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.state={},n.open=!1,n.zIndexWasSynced=!1,n.triggerRef=ye.createRef(),n.getPortalProps=function(){var s={},l=n.props,c=l.on,u=l.hoverable,f=Ni(c)?c:[c];return u&&(s.closeOnPortalMouseLeave=!0,s.mouseLeaveDelay=300),pa(f,"hover")&&(s.openOnTriggerClick=!1,s.closeOnTriggerClick=!1,s.openOnTriggerMouseEnter=!0,s.closeOnTriggerMouseLeave=!0,s.mouseLeaveDelay=70,s.mouseEnterDelay=50),pa(f,"click")&&(s.openOnTriggerClick=!0,s.closeOnTriggerClick=!0,s.closeOnDocumentClick=!0),pa(f,"focus")&&(s.openOnTriggerFocus=!0,s.closeOnTriggerBlur=!0),s},n.hideOnScroll=function(s){n.setState({closed:!0}),Gh.unsub("scroll",n.hideOnScroll,{target:window}),n.timeoutId=setTimeout(function(){n.setState({closed:!1})},50),n.handleClose(s)},n.handleClose=function(s){Ue(n.props,"onClose",s,he({},n.props,{open:!1}))},n.handleOpen=function(s){Ue(n.props,"onOpen",s,he({},n.props,{open:!0}))},n.handlePortalMount=function(s){Ue(n.props,"onMount",s,n.props)},n.handlePortalUnmount=function(s){n.positionUpdate=null,Ue(n.props,"onUnmount",s,n.props)},n.renderContent=function(s){var l=s.placement,c=s.ref,u=s.update,f=s.style,h=n.props,m=h.basic,b=h.children,w=h.className,g=h.content,A=h.hideOnScroll,x=h.flowing,T=h.header,C=h.inverted,z=h.popper,L=h.size,B=h.style,O=h.wide,F=n.state.contentRestProps;n.positionUpdate=u;var H=Qe("ui",Ppe[l],L,_i(O,"wide"),te(m,"basic"),te(x,"flowing"),te(C,"inverted"),"popup transition visible",w),K=rt(e,n.props),fe=he({left:"auto",right:"auto",position:"initial"},B),Ae=le(K,{...F,className:H,style:fe,children:[gt(b)?le(Ir,{children:[Ul.create(T,{autoGenerateKey:!1}),jl.create(g,{autoGenerateKey:!1})]}):b,A&&P(ps,{on:n.hideOnScroll,name:"scroll",target:"window"})]});return rue(z||{},{overrideProps:{children:Ae,ref:c,style:he({display:"flex"},f)}})},n}e.getDerivedStateFromProps=function(r,o){if(o.closed||o.disabled)return{};var a=it(e,r),s=PE(a,function(c,u,f){return pa(Hd.handledProps,f)||(c[f]=u),c},{}),l=TE(a,Hd.handledProps);return{contentRestProps:s,portalRestProps:l}};var i=e.prototype;return i.componentDidUpdate=function(r){var o=dm(this.props.popperDependencies,r.popperDependencies);o||this.handleUpdate()},i.componentWillUnmount=function(){clearTimeout(this.timeoutId)},i.handleUpdate=function(){this.positionUpdate&&this.positionUpdate()},i.render=function(){var r=this,o=this.props,a=o.context,s=o.disabled,l=o.eventsEnabled,c=o.offset,u=o.pinned,f=o.popper,h=o.popperModifiers,m=o.position,b=o.positionFixed,w=o.trigger,g=this.state,A=g.closed,x=g.portalRestProps;if(A||s)return w;var T=[{name:"arrow",enabled:!1},{name:"eventListeners",options:{scroll:!!l,resize:!!l}},{name:"flip",enabled:!u},{name:"preventOverflow",enabled:!!c},{name:"offset",enabled:!!c,options:{offset:c}}].concat(h,[{name:"syncZIndex",enabled:!0,phase:"beforeRead",fn:function(B){var O,F=B.state;if(!r.zIndexWasSynced){var H=f==null||(O=f.style)==null?void 0:O.zIndex;QA(H)&&(F.elements.popper.style.zIndex=window.getComputedStyle(F.elements.popper.firstChild).zIndex),r.zIndexWasSynced=!0}},effect:function(){return function(){r.zIndexWasSynced=!1}}}]),C=Ope(Ot(a)?this.triggerRef:a),z=he({},this.getPortalProps(),x);return P(Hd,{...z,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount,trigger:w,triggerRef:this.triggerRef,children:P(_pe,{modifiers:T,placement:FE[m],strategy:b?"fixed":null,referenceElement:C,children:this.renderContent})})},e}(Y.exports.Component);Is.handledProps=["as","basic","children","className","content","context","disabled","eventsEnabled","flowing","header","hideOnScroll","hoverable","inverted","offset","on","onClose","onMount","onOpen","onUnmount","pinned","popper","popperDependencies","popperModifiers","position","positionFixed","size","style","trigger","wide"];Is.propTypes={};Is.defaultProps={disabled:!1,eventsEnabled:!0,on:["click","hover"],pinned:!1,popperModifiers:[],position:"top left"};Is.Content=jl;Is.Header=Ul;function Ps(t){var e=t.active,i=t.children,n=t.className,r=t.content,o=t.loading,a=Qe(te(e,"active"),te(o,"loading"),"tab",n),s=it(Ps,t),l=rt(Ps,t),c={};return l===Nl&&(c.attached="bottom"),ye.createElement(l,he({},c,s,{className:a}),gt(i)?r:i)}Ps.handledProps=["active","as","children","className","content","loading"];Ps.defaultProps={as:Nl,active:!0};Ps.propTypes={};Ps.create=ci(Ps,function(t){return{content:t}});var pp=function(t){ge(e,t);function e(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,n.handleItemClick=function(s,l){var c=l.index;Ue(n.props,"onTabChange",s,he({},n.props,{activeIndex:c})),n.setState({activeIndex:c})},n}var i=e.prototype;return i.getInitialAutoControlledState=function(){return{activeIndex:0}},i.renderItems=function(){var r=this.props,o=r.panes,a=r.renderActiveOnly,s=this.state.activeIndex;return a?Ue(Aa(o,"["+s+"]"),"render",this.props):ks(o,function(l,c){var u=l.pane;return Ps.create(u,{overrideProps:{active:c===s}})})},i.renderMenu=function(){var r=this.props,o=r.menu,a=r.panes,s=r.menuPosition,l=this.state.activeIndex;return o.tabular===!0&&s==="right"&&(o.tabular="right"),Ede.create(o,{autoGenerateKey:!1,overrideProps:{items:ks(a,"menuItem"),onItemClick:this.handleItemClick,activeIndex:l}})},i.renderVertical=function(r){var o=this.props,a=o.grid,s=o.menuPosition,l=a.paneWidth,c=a.tabWidth,u=yu(a,["paneWidth","tabWidth"]),f=s||r.props.tabular==="right"&&"right"||"left";return ye.createElement(hu,u,f==="left"&&xa.create({width:c,children:r},{autoGenerateKey:!1}),xa.create({width:l,children:this.renderItems(),stretched:!0},{autoGenerateKey:!1}),f==="right"&&xa.create({width:c,children:r},{autoGenerateKey:!1}))},i.render=function(){var r=this.renderMenu(),o=it(e,this.props),a=rt(e,this.props);return r.props.vertical?ye.createElement(a,o,this.renderVertical(r)):ye.createElement(a,o,r.props.attached!=="bottom"&&r,this.renderItems(),r.props.attached==="bottom"&&r)},e}(dp);pp.handledProps=["activeIndex","as","defaultActiveIndex","grid","menu","menuPosition","onTabChange","panes","renderActiveOnly"];pp.propTypes={};pp.autoControlledProps=["activeIndex"];pp.defaultProps={grid:{paneWidth:12,tabWidth:4},menu:{attached:!0,tabular:!0},renderActiveOnly:!0};pp.Pane=Ps;var Dpe=pp;const $N=({error:t})=>{const e=tC(),i=t?t.toString():"";return le("div",{children:[P("h1",{className:"mzp-u-title-sm",children:"Sorry, we can\u2019t find that page."}),P("p",{children:i}),P("button",{className:"mzp-c-button mzp-t-secondary mzp-t-md",onClick:()=>e.goBack(),children:"Back"})]})},hp=({isLoading:t,children:e,error:i})=>t?P(Pa,{active:!0,size:"massive"}):i?P($N,{error:i}):P(Ir,{children:e}),Fo={isLoading:!1,error:null,hasFetchRequest:!0};var aw=(t=>(t.FETCH_INIT="FETCH_INIT",t.FETCH_SUCCESS="FETCH_SUCCESS",t.FETCH_FAILURE="FETCH_FAILURE",t.FETCH="FETCH",t))(aw||{});const Mpe=()=>(t,e)=>{switch(e.type){case"FETCH_INIT":return{...t,isLoading:!0,error:null};case"FETCH_SUCCESS":return{...t,isLoading:!1,data:e.payload,hasFetchRequest:!1};case"FETCH_FAILURE":return{...t,isLoading:!1,error:e.payload,hasFetchRequest:!1};case"FETCH":return{...t,hasFetchRequest:!0};default:return t}};function pn(t,e){const i=Mpe(),[n,r]=Y.exports.useReducer(i,t);return Y.exports.useEffect(()=>{let o=!1;const a=async()=>{try{r({type:"FETCH_INIT"});const s=await e();o||r({type:"FETCH_SUCCESS",payload:s})}catch(s){if(!o){const l=Ca(s);r({type:"FETCH_FAILURE",payload:l})}}};return n.hasFetchRequest&&a(),()=>{o=!0}},[n.hasFetchRequest,e]),{state:n,dispatch:r}}var Vc={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var i,n="4.17.21",r=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",f=1,h=2,m=4,b=1,w=2,g=1,A=2,x=4,T=8,C=16,z=32,L=64,B=128,O=256,F=512,H=30,K="...",fe=800,Ae=16,Se=1,ke=2,Oe=3,Fe=1/0,Ve=9007199254740991,Le=17976931348623157e292,Me=0/0,ce=4294967295,Z=ce-1,de=ce>>>1,ie=[["ary",B],["bind",g],["bindKey",A],["curry",T],["curryRight",C],["flip",F],["partial",z],["partialRight",L],["rearg",O]],se="[object Arguments]",pe="[object Array]",xe="[object AsyncFunction]",we="[object Boolean]",Pe="[object Date]",Ye="[object DOMException]",$e="[object Error]",nt="[object Function]",Zt="[object GeneratorFunction]",Lt="[object Map]",Or="[object Number]",Ct="[object Null]",cn="[object Object]",Ze="[object Promise]",Na="[object Proxy]",vi="[object RegExp]",hi="[object Set]",ao="[object String]",so="[object Symbol]",ja="[object Undefined]",Eo="[object WeakMap]",Zl="[object WeakSet]",zo="[object ArrayBuffer]",bt="[object DataView]",_p="[object Float32Array]",Tp="[object Float64Array]",Sp="[object Int8Array]",Cp="[object Int16Array]",Ep="[object Int32Array]",Ys="[object Uint8Array]",zp="[object Uint8ClampedArray]",Ip="[object Uint16Array]",Pp="[object Uint32Array]",Ex=/\b__p \+= '';/g,Dr=/\b(__p \+=) '' \+/g,Tb=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sb=/&(?:amp|lt|gt|quot|#39);/g,Cb=/[&<>"']/g,zx=RegExp(Sb.source),Ix=RegExp(Cb.source),Px=/<%-([\s\S]+?)%>/g,ec=/<%([\s\S]+?)%>/g,xn=/<%=([\s\S]+?)%>/g,Rx=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lx=/^\w*$/,Pu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mr=/[\\^$.*+?()[\]{}|]/g,Ru=RegExp(Mr.source),Gt=/^\s+/,Ox=/\s/,Lu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ou=/\{\n\/\* \[wrapped with (.+)\] \*/,Dx=/,? & /,Ua=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ri=/[()=,{}\[\]\/\s]/,Du=/\\(\\)?/g,Gi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Eb=/\w*$/,Mx=/^[-+]0x[0-9a-f]+$/i,zb=/^0b[01]+$/i,Rp=/^\[object .+?Constructor\]$/,Ib=/^0o[0-7]+$/i,Pb=/^(?:0|[1-9]\d*)$/,Rb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ga=/($^)/,Bx=/['\n\r\u2028\u2029\\]/g,Ha="\\ud800-\\udfff",Lb="\\u0300-\\u036f",Mu="\\ufe20-\\ufe2f",Fx="\\u20d0-\\u20ff",Ob=Lb+Mu+Fx,tc="\\u2700-\\u27bf",Ws="a-z\\xdf-\\xf6\\xf8-\\xff",Bu="\\xac\\xb1\\xd7\\xf7",Vs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Lp="\\u2000-\\u206f",Db=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fu="A-Z\\xc0-\\xd6\\xd8-\\xde",lo="\\ufe0e\\ufe0f",Mb=Bu+Vs+Lp+Db,$s="['\u2019]",Bb="["+Ha+"]",Op="["+Mb+"]",ic="["+Ob+"]",Fb="\\d+",Nu="["+tc+"]",Qs="["+Ws+"]",Dp="[^"+Ha+Mb+Fb+tc+Ws+Fu+"]",Mp="\\ud83c[\\udffb-\\udfff]",Nx="(?:"+ic+"|"+Mp+")",Bp="[^"+Ha+"]",Fp="(?:\\ud83c[\\udde6-\\uddff]){2}",Np="[\\ud800-\\udbff][\\udc00-\\udfff]",Ya="["+Fu+"]",Nb="\\u200d",jb="(?:"+Qs+"|"+Dp+")",jx="(?:"+Ya+"|"+Dp+")",Ub="(?:"+$s+"(?:d|ll|m|re|s|t|ve))?",Gb="(?:"+$s+"(?:D|LL|M|RE|S|T|VE))?",Hb=Nx+"?",nc="["+lo+"]?",ju="(?:"+Nb+"(?:"+[Bp,Fp,Np].join("|")+")"+nc+Hb+")*",Ux="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gx="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Uu=nc+Hb+ju,Hx="(?:"+[Nu,Fp,Np].join("|")+")"+Uu,jp="(?:"+[Bp+ic+"?",ic,Fp,Np,Bb].join("|")+")",Yx=RegExp($s,"g"),Wx=RegExp(ic,"g"),Up=RegExp(Mp+"(?="+Mp+")|"+jp+Uu,"g"),rc=RegExp([Ya+"?"+Qs+"+"+Ub+"(?="+[Op,Ya,"$"].join("|")+")",jx+"+"+Gb+"(?="+[Op,Ya+jb,"$"].join("|")+")",Ya+"?"+jb+"+"+Ub,Ya+"+"+Gb,Gx,Ux,Fb,Hx].join("|"),"g"),qs=RegExp("["+Nb+Ha+Ob+lo+"]"),Gu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vx=-1,ei={};ei[_p]=ei[Tp]=ei[Sp]=ei[Cp]=ei[Ep]=ei[Ys]=ei[zp]=ei[Ip]=ei[Pp]=!0,ei[se]=ei[pe]=ei[zo]=ei[we]=ei[bt]=ei[Pe]=ei[$e]=ei[nt]=ei[Lt]=ei[Or]=ei[cn]=ei[vi]=ei[hi]=ei[ao]=ei[Eo]=!1;var $t={};$t[se]=$t[pe]=$t[zo]=$t[bt]=$t[we]=$t[Pe]=$t[_p]=$t[Tp]=$t[Sp]=$t[Cp]=$t[Ep]=$t[Lt]=$t[Or]=$t[cn]=$t[vi]=$t[hi]=$t[ao]=$t[so]=$t[Ys]=$t[zp]=$t[Ip]=$t[Pp]=!0,$t[$e]=$t[nt]=$t[Eo]=!1;var Gp={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},$x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Qx={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},qx={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hu=parseFloat,Kx=parseInt,Zo=typeof Bo=="object"&&Bo&&Bo.Object===Object&&Bo,Xx=typeof self=="object"&&self&&self.Object===Object&&self,Hi=Zo||Xx||Function("return this")(),Qt=e&&!e.nodeType&&e,ea=Qt&&!0&&t&&!t.nodeType&&t,Yb=ea&&ea.exports===Qt,Yu=Yb&&Zo.process,lr=function(){try{var V=ea&&ea.require&&ea.require("util").types;return V||Yu&&Yu.binding&&Yu.binding("util")}catch{}}(),Hp=lr&&lr.isArrayBuffer,Wb=lr&&lr.isDate,Yp=lr&&lr.isMap,Vb=lr&&lr.isRegExp,Wp=lr&&lr.isSet,$b=lr&&lr.isTypedArray;function Un(V,ue,ae){switch(ae.length){case 0:return V.call(ue);case 1:return V.call(ue,ae[0]);case 2:return V.call(ue,ae[0],ae[1]);case 3:return V.call(ue,ae[0],ae[1],ae[2])}return V.apply(ue,ae)}function Jx(V,ue,ae,Ge){for(var dt=-1,It=V==null?0:V.length;++dt<It;){var yi=V[dt];ue(Ge,yi,ae(yi),V)}return Ge}function cr(V,ue){for(var ae=-1,Ge=V==null?0:V.length;++ae<Ge&&ue(V[ae],ae,V)!==!1;);return V}function Zx(V,ue){for(var ae=V==null?0:V.length;ae--&&ue(V[ae],ae,V)!==!1;);return V}function Qb(V,ue){for(var ae=-1,Ge=V==null?0:V.length;++ae<Ge;)if(!ue(V[ae],ae,V))return!1;return!0}function ta(V,ue){for(var ae=-1,Ge=V==null?0:V.length,dt=0,It=[];++ae<Ge;){var yi=V[ae];ue(yi,ae,V)&&(It[dt++]=yi)}return It}function Wu(V,ue){var ae=V==null?0:V.length;return!!ae&&Io(V,ue,0)>-1}function Vp(V,ue,ae){for(var Ge=-1,dt=V==null?0:V.length;++Ge<dt;)if(ae(ue,V[Ge]))return!0;return!1}function jt(V,ue){for(var ae=-1,Ge=V==null?0:V.length,dt=Array(Ge);++ae<Ge;)dt[ae]=ue(V[ae],ae,V);return dt}function ur(V,ue){for(var ae=-1,Ge=ue.length,dt=V.length;++ae<Ge;)V[dt+ae]=ue[ae];return V}function Vu(V,ue,ae,Ge){var dt=-1,It=V==null?0:V.length;for(Ge&&It&&(ae=V[++dt]);++dt<It;)ae=ue(ae,V[dt],dt,V);return ae}function qb(V,ue,ae,Ge){var dt=V==null?0:V.length;for(Ge&&dt&&(ae=V[--dt]);dt--;)ae=ue(ae,V[dt],dt,V);return ae}function $u(V,ue){for(var ae=-1,Ge=V==null?0:V.length;++ae<Ge;)if(ue(V[ae],ae,V))return!0;return!1}var Kb=qp("length");function Xb(V){return V.split("")}function $p(V){return V.match(Ua)||[]}function Qp(V,ue,ae){var Ge;return ae(V,function(dt,It,yi){if(ue(dt,It,yi))return Ge=It,!1}),Ge}function oc(V,ue,ae,Ge){for(var dt=V.length,It=ae+(Ge?1:-1);Ge?It--:++It<dt;)if(ue(V[It],It,V))return It;return-1}function Io(V,ue,ae){return ue===ue?I(V,ue,ae):oc(V,Jb,ae)}function Qu(V,ue,ae,Ge){for(var dt=ae-1,It=V.length;++dt<It;)if(Ge(V[dt],ue))return dt;return-1}function Jb(V){return V!==V}function Zb(V,ue){var ae=V==null?0:V.length;return ae?Jp(V,ue)/ae:Me}function qp(V){return function(ue){return ue==null?i:ue[V]}}function Kp(V){return function(ue){return V==null?i:V[ue]}}function e0(V,ue,ae,Ge,dt){return dt(V,function(It,yi,Ht){ae=Ge?(Ge=!1,It):ue(ae,It,yi,Ht)}),ae}function Xp(V,ue){var ae=V.length;for(V.sort(ue);ae--;)V[ae]=V[ae].value;return V}function Jp(V,ue){for(var ae,Ge=-1,dt=V.length;++Ge<dt;){var It=ue(V[Ge]);It!==i&&(ae=ae===i?It:ae+It)}return ae}function Zp(V,ue){for(var ae=-1,Ge=Array(V);++ae<V;)Ge[ae]=ue(ae);return Ge}function Ks(V,ue){return jt(ue,function(ae){return[ae,V[ae]]})}function Dt(V){return V&&V.slice(0,q(V)+1).replace(Gt,"")}function Ti(V){return function(ue){return V(ue)}}function Yi(V,ue){return jt(ue,function(ae){return V[ae]})}function kn(V,ue){return V.has(ue)}function t0(V,ue){for(var ae=-1,Ge=V.length;++ae<Ge&&Io(ue,V[ae],0)>-1;);return ae}function eh(V,ue){for(var ae=V.length;ae--&&Io(ue,V[ae],0)>-1;);return ae}function e1(V,ue){for(var ae=V.length,Ge=0;ae--;)V[ae]===ue&&++Ge;return Ge}var t1=Kp(Gp),i1=Kp($x);function n1(V){return"\\"+qx[V]}function r1(V,ue){return V==null?i:V[ue]}function Xs(V){return qs.test(V)}function o1(V){return Gu.test(V)}function i0(V){for(var ue,ae=[];!(ue=V.next()).done;)ae.push(ue.value);return ae}function M(V){var ue=-1,ae=Array(V.size);return V.forEach(function(Ge,dt){ae[++ue]=[dt,Ge]}),ae}function y(V,ue){return function(ae){return V(ue(ae))}}function _(V,ue){for(var ae=-1,Ge=V.length,dt=0,It=[];++ae<Ge;){var yi=V[ae];(yi===ue||yi===u)&&(V[ae]=u,It[dt++]=ae)}return It}function k(V){var ue=-1,ae=Array(V.size);return V.forEach(function(Ge){ae[++ue]=Ge}),ae}function S(V){var ue=-1,ae=Array(V.size);return V.forEach(function(Ge){ae[++ue]=[Ge,Ge]}),ae}function I(V,ue,ae){for(var Ge=ae-1,dt=V.length;++Ge<dt;)if(V[Ge]===ue)return Ge;return-1}function R(V,ue,ae){for(var Ge=ae+1;Ge--;)if(V[Ge]===ue)return Ge;return Ge}function U(V){return Xs(V)?J(V):Kb(V)}function G(V){return Xs(V)?me(V):Xb(V)}function q(V){for(var ue=V.length;ue--&&Ox.test(V.charAt(ue)););return ue}var $=Kp(Qx);function J(V){for(var ue=Up.lastIndex=0;Up.test(V);)++ue;return ue}function me(V){return V.match(Up)||[]}function je(V){return V.match(rc)||[]}var Ke=function V(ue){ue=ue==null?Hi:Ee.defaults(Hi.Object(),ue,Ee.pick(Hi,Wa));var ae=ue.Array,Ge=ue.Date,dt=ue.Error,It=ue.Function,yi=ue.Math,Ht=ue.Object,ac=ue.RegExp,n0=ue.String,Pt=ue.TypeError,sc=ae.prototype,Va=It.prototype,qu=Ht.prototype,r0=ue["__core-js_shared__"],o0=Va.toString,qt=qu.hasOwnProperty,$9=0,nI=function(){var d=/[^.]+$/.exec(r0&&r0.keys&&r0.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),a0=qu.toString,Q9=o0.call(Ht),q9=Hi._,K9=ac("^"+o0.call(qt).replace(Mr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),s0=Yb?ue.Buffer:i,Js=ue.Symbol,l0=ue.Uint8Array,rI=s0?s0.allocUnsafe:i,c0=y(Ht.getPrototypeOf,Ht),oI=Ht.create,aI=qu.propertyIsEnumerable,u0=sc.splice,sI=Js?Js.isConcatSpreadable:i,th=Js?Js.iterator:i,lc=Js?Js.toStringTag:i,d0=function(){try{var d=pc(Ht,"defineProperty");return d({},"",{}),d}catch{}}(),X9=ue.clearTimeout!==Hi.clearTimeout&&ue.clearTimeout,J9=Ge&&Ge.now!==Hi.Date.now&&Ge.now,Z9=ue.setTimeout!==Hi.setTimeout&&ue.setTimeout,f0=yi.ceil,p0=yi.floor,a1=Ht.getOwnPropertySymbols,eG=s0?s0.isBuffer:i,lI=ue.isFinite,tG=sc.join,iG=y(Ht.keys,Ht),Wi=yi.max,_n=yi.min,nG=Ge.now,rG=ue.parseInt,cI=yi.random,oG=sc.reverse,s1=pc(ue,"DataView"),ih=pc(ue,"Map"),l1=pc(ue,"Promise"),Ku=pc(ue,"Set"),nh=pc(ue,"WeakMap"),rh=pc(Ht,"create"),h0=nh&&new nh,Xu={},aG=hc(s1),sG=hc(ih),lG=hc(l1),cG=hc(Ku),uG=hc(nh),m0=Js?Js.prototype:i,oh=m0?m0.valueOf:i,uI=m0?m0.toString:i;function N(d){if(wi(d)&&!ht(d)&&!(d instanceof Et)){if(d instanceof co)return d;if(qt.call(d,"__wrapped__"))return d5(d)}return new co(d)}var Ju=function(){function d(){}return function(p){if(!mi(p))return{};if(oI)return oI(p);d.prototype=p;var v=new d;return d.prototype=i,v}}();function g0(){}function co(d,p){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=i}N.templateSettings={escape:Px,evaluate:ec,interpolate:xn,variable:"",imports:{_:N}},N.prototype=g0.prototype,N.prototype.constructor=N,co.prototype=Ju(g0.prototype),co.prototype.constructor=co;function Et(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ce,this.__views__=[]}function dG(){var d=new Et(this.__wrapped__);return d.__actions__=dr(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=dr(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=dr(this.__views__),d}function fG(){if(this.__filtered__){var d=new Et(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function pG(){var d=this.__wrapped__.value(),p=this.__dir__,v=ht(d),E=p<0,D=v?d.length:0,j=TH(0,D,this.__views__),W=j.start,X=j.end,ne=X-W,be=E?X:W-1,ve=this.__iteratees__,Te=ve.length,He=0,et=_n(ne,this.__takeCount__);if(!v||!E&&D==ne&&et==ne)return OI(d,this.__actions__);var lt=[];e:for(;ne--&&He<et;){be+=p;for(var wt=-1,ct=d[be];++wt<Te;){var Tt=ve[wt],zt=Tt.iteratee,Nr=Tt.type,Yn=zt(ct);if(Nr==ke)ct=Yn;else if(!Yn){if(Nr==Se)continue e;break e}}lt[He++]=ct}return lt}Et.prototype=Ju(g0.prototype),Et.prototype.constructor=Et;function cc(d){var p=-1,v=d==null?0:d.length;for(this.clear();++p<v;){var E=d[p];this.set(E[0],E[1])}}function hG(){this.__data__=rh?rh(null):{},this.size=0}function mG(d){var p=this.has(d)&&delete this.__data__[d];return this.size-=p?1:0,p}function gG(d){var p=this.__data__;if(rh){var v=p[d];return v===l?i:v}return qt.call(p,d)?p[d]:i}function bG(d){var p=this.__data__;return rh?p[d]!==i:qt.call(p,d)}function vG(d,p){var v=this.__data__;return this.size+=this.has(d)?0:1,v[d]=rh&&p===i?l:p,this}cc.prototype.clear=hG,cc.prototype.delete=mG,cc.prototype.get=gG,cc.prototype.has=bG,cc.prototype.set=vG;function $a(d){var p=-1,v=d==null?0:d.length;for(this.clear();++p<v;){var E=d[p];this.set(E[0],E[1])}}function yG(){this.__data__=[],this.size=0}function wG(d){var p=this.__data__,v=b0(p,d);if(v<0)return!1;var E=p.length-1;return v==E?p.pop():u0.call(p,v,1),--this.size,!0}function AG(d){var p=this.__data__,v=b0(p,d);return v<0?i:p[v][1]}function xG(d){return b0(this.__data__,d)>-1}function kG(d,p){var v=this.__data__,E=b0(v,d);return E<0?(++this.size,v.push([d,p])):v[E][1]=p,this}$a.prototype.clear=yG,$a.prototype.delete=wG,$a.prototype.get=AG,$a.prototype.has=xG,$a.prototype.set=kG;function Qa(d){var p=-1,v=d==null?0:d.length;for(this.clear();++p<v;){var E=d[p];this.set(E[0],E[1])}}function _G(){this.size=0,this.__data__={hash:new cc,map:new(ih||$a),string:new cc}}function TG(d){var p=z0(this,d).delete(d);return this.size-=p?1:0,p}function SG(d){return z0(this,d).get(d)}function CG(d){return z0(this,d).has(d)}function EG(d,p){var v=z0(this,d),E=v.size;return v.set(d,p),this.size+=v.size==E?0:1,this}Qa.prototype.clear=_G,Qa.prototype.delete=TG,Qa.prototype.get=SG,Qa.prototype.has=CG,Qa.prototype.set=EG;function uc(d){var p=-1,v=d==null?0:d.length;for(this.__data__=new Qa;++p<v;)this.add(d[p])}function zG(d){return this.__data__.set(d,l),this}function IG(d){return this.__data__.has(d)}uc.prototype.add=uc.prototype.push=zG,uc.prototype.has=IG;function Po(d){var p=this.__data__=new $a(d);this.size=p.size}function PG(){this.__data__=new $a,this.size=0}function RG(d){var p=this.__data__,v=p.delete(d);return this.size=p.size,v}function LG(d){return this.__data__.get(d)}function OG(d){return this.__data__.has(d)}function DG(d,p){var v=this.__data__;if(v instanceof $a){var E=v.__data__;if(!ih||E.length<r-1)return E.push([d,p]),this.size=++v.size,this;v=this.__data__=new Qa(E)}return v.set(d,p),this.size=v.size,this}Po.prototype.clear=PG,Po.prototype.delete=RG,Po.prototype.get=LG,Po.prototype.has=OG,Po.prototype.set=DG;function dI(d,p){var v=ht(d),E=!v&&mc(d),D=!v&&!E&&nl(d),j=!v&&!E&&!D&&id(d),W=v||E||D||j,X=W?Zp(d.length,n0):[],ne=X.length;for(var be in d)(p||qt.call(d,be))&&!(W&&(be=="length"||D&&(be=="offset"||be=="parent")||j&&(be=="buffer"||be=="byteLength"||be=="byteOffset")||Ja(be,ne)))&&X.push(be);return X}function fI(d){var p=d.length;return p?d[y1(0,p-1)]:i}function MG(d,p){return I0(dr(d),dc(p,0,d.length))}function BG(d){return I0(dr(d))}function c1(d,p,v){(v!==i&&!Ro(d[p],v)||v===i&&!(p in d))&&qa(d,p,v)}function ah(d,p,v){var E=d[p];(!(qt.call(d,p)&&Ro(E,v))||v===i&&!(p in d))&&qa(d,p,v)}function b0(d,p){for(var v=d.length;v--;)if(Ro(d[v][0],p))return v;return-1}function FG(d,p,v,E){return Zs(d,function(D,j,W){p(E,D,v(D),W)}),E}function pI(d,p){return d&&na(p,Qi(p),d)}function NG(d,p){return d&&na(p,pr(p),d)}function qa(d,p,v){p=="__proto__"&&d0?d0(d,p,{configurable:!0,enumerable:!0,value:v,writable:!0}):d[p]=v}function u1(d,p){for(var v=-1,E=p.length,D=ae(E),j=d==null;++v<E;)D[v]=j?i:Y1(d,p[v]);return D}function dc(d,p,v){return d===d&&(v!==i&&(d=d<=v?d:v),p!==i&&(d=d>=p?d:p)),d}function uo(d,p,v,E,D,j){var W,X=p&f,ne=p&h,be=p&m;if(v&&(W=D?v(d,E,D,j):v(d)),W!==i)return W;if(!mi(d))return d;var ve=ht(d);if(ve){if(W=CH(d),!X)return dr(d,W)}else{var Te=Tn(d),He=Te==nt||Te==Zt;if(nl(d))return BI(d,X);if(Te==cn||Te==se||He&&!D){if(W=ne||He?{}:i5(d),!X)return ne?gH(d,NG(W,d)):mH(d,pI(W,d))}else{if(!$t[Te])return D?d:{};W=EH(d,Te,X)}}j||(j=new Po);var et=j.get(d);if(et)return et;j.set(d,W),P5(d)?d.forEach(function(ct){W.add(uo(ct,p,v,ct,d,j))}):z5(d)&&d.forEach(function(ct,Tt){W.set(Tt,uo(ct,p,v,Tt,d,j))});var lt=be?ne?I1:z1:ne?pr:Qi,wt=ve?i:lt(d);return cr(wt||d,function(ct,Tt){wt&&(Tt=ct,ct=d[Tt]),ah(W,Tt,uo(ct,p,v,Tt,d,j))}),W}function jG(d){var p=Qi(d);return function(v){return hI(v,d,p)}}function hI(d,p,v){var E=v.length;if(d==null)return!E;for(d=Ht(d);E--;){var D=v[E],j=p[D],W=d[D];if(W===i&&!(D in d)||!j(W))return!1}return!0}function mI(d,p,v){if(typeof d!="function")throw new Pt(a);return ph(function(){d.apply(i,v)},p)}function sh(d,p,v,E){var D=-1,j=Wu,W=!0,X=d.length,ne=[],be=p.length;if(!X)return ne;v&&(p=jt(p,Ti(v))),E?(j=Vp,W=!1):p.length>=r&&(j=kn,W=!1,p=new uc(p));e:for(;++D<X;){var ve=d[D],Te=v==null?ve:v(ve);if(ve=E||ve!==0?ve:0,W&&Te===Te){for(var He=be;He--;)if(p[He]===Te)continue e;ne.push(ve)}else j(p,Te,E)||ne.push(ve)}return ne}var Zs=GI(ia),gI=GI(f1,!0);function UG(d,p){var v=!0;return Zs(d,function(E,D,j){return v=!!p(E,D,j),v}),v}function v0(d,p,v){for(var E=-1,D=d.length;++E<D;){var j=d[E],W=p(j);if(W!=null&&(X===i?W===W&&!Fr(W):v(W,X)))var X=W,ne=j}return ne}function GG(d,p,v,E){var D=d.length;for(v=vt(v),v<0&&(v=-v>D?0:D+v),E=E===i||E>D?D:vt(E),E<0&&(E+=D),E=v>E?0:L5(E);v<E;)d[v++]=p;return d}function bI(d,p){var v=[];return Zs(d,function(E,D,j){p(E,D,j)&&v.push(E)}),v}function un(d,p,v,E,D){var j=-1,W=d.length;for(v||(v=IH),D||(D=[]);++j<W;){var X=d[j];p>0&&v(X)?p>1?un(X,p-1,v,E,D):ur(D,X):E||(D[D.length]=X)}return D}var d1=HI(),vI=HI(!0);function ia(d,p){return d&&d1(d,p,Qi)}function f1(d,p){return d&&vI(d,p,Qi)}function y0(d,p){return ta(p,function(v){return Za(d[v])})}function fc(d,p){p=tl(p,d);for(var v=0,E=p.length;d!=null&&v<E;)d=d[ra(p[v++])];return v&&v==E?d:i}function yI(d,p,v){var E=p(d);return ht(d)?E:ur(E,v(d))}function Gn(d){return d==null?d===i?ja:Ct:lc&&lc in Ht(d)?_H(d):BH(d)}function p1(d,p){return d>p}function HG(d,p){return d!=null&&qt.call(d,p)}function YG(d,p){return d!=null&&p in Ht(d)}function WG(d,p,v){return d>=_n(p,v)&&d<Wi(p,v)}function h1(d,p,v){for(var E=v?Vp:Wu,D=d[0].length,j=d.length,W=j,X=ae(j),ne=1/0,be=[];W--;){var ve=d[W];W&&p&&(ve=jt(ve,Ti(p))),ne=_n(ve.length,ne),X[W]=!v&&(p||D>=120&&ve.length>=120)?new uc(W&&ve):i}ve=d[0];var Te=-1,He=X[0];e:for(;++Te<D&&be.length<ne;){var et=ve[Te],lt=p?p(et):et;if(et=v||et!==0?et:0,!(He?kn(He,lt):E(be,lt,v))){for(W=j;--W;){var wt=X[W];if(!(wt?kn(wt,lt):E(d[W],lt,v)))continue e}He&&He.push(lt),be.push(et)}}return be}function VG(d,p,v,E){return ia(d,function(D,j,W){p(E,v(D),j,W)}),E}function lh(d,p,v){p=tl(p,d),d=a5(d,p);var E=d==null?d:d[ra(po(p))];return E==null?i:Un(E,d,v)}function wI(d){return wi(d)&&Gn(d)==se}function $G(d){return wi(d)&&Gn(d)==zo}function QG(d){return wi(d)&&Gn(d)==Pe}function ch(d,p,v,E,D){return d===p?!0:d==null||p==null||!wi(d)&&!wi(p)?d!==d&&p!==p:qG(d,p,v,E,ch,D)}function qG(d,p,v,E,D,j){var W=ht(d),X=ht(p),ne=W?pe:Tn(d),be=X?pe:Tn(p);ne=ne==se?cn:ne,be=be==se?cn:be;var ve=ne==cn,Te=be==cn,He=ne==be;if(He&&nl(d)){if(!nl(p))return!1;W=!0,ve=!1}if(He&&!ve)return j||(j=new Po),W||id(d)?ZI(d,p,v,E,D,j):xH(d,p,ne,v,E,D,j);if(!(v&b)){var et=ve&&qt.call(d,"__wrapped__"),lt=Te&&qt.call(p,"__wrapped__");if(et||lt){var wt=et?d.value():d,ct=lt?p.value():p;return j||(j=new Po),D(wt,ct,v,E,j)}}return He?(j||(j=new Po),kH(d,p,v,E,D,j)):!1}function KG(d){return wi(d)&&Tn(d)==Lt}function m1(d,p,v,E){var D=v.length,j=D,W=!E;if(d==null)return!j;for(d=Ht(d);D--;){var X=v[D];if(W&&X[2]?X[1]!==d[X[0]]:!(X[0]in d))return!1}for(;++D<j;){X=v[D];var ne=X[0],be=d[ne],ve=X[1];if(W&&X[2]){if(be===i&&!(ne in d))return!1}else{var Te=new Po;if(E)var He=E(be,ve,ne,d,p,Te);if(!(He===i?ch(ve,be,b|w,E,Te):He))return!1}}return!0}function AI(d){if(!mi(d)||RH(d))return!1;var p=Za(d)?K9:Rp;return p.test(hc(d))}function XG(d){return wi(d)&&Gn(d)==vi}function JG(d){return wi(d)&&Tn(d)==hi}function ZG(d){return wi(d)&&M0(d.length)&&!!ei[Gn(d)]}function xI(d){return typeof d=="function"?d:d==null?hr:typeof d=="object"?ht(d)?TI(d[0],d[1]):_I(d):Y5(d)}function g1(d){if(!fh(d))return iG(d);var p=[];for(var v in Ht(d))qt.call(d,v)&&v!="constructor"&&p.push(v);return p}function eH(d){if(!mi(d))return MH(d);var p=fh(d),v=[];for(var E in d)E=="constructor"&&(p||!qt.call(d,E))||v.push(E);return v}function b1(d,p){return d<p}function kI(d,p){var v=-1,E=fr(d)?ae(d.length):[];return Zs(d,function(D,j,W){E[++v]=p(D,j,W)}),E}function _I(d){var p=R1(d);return p.length==1&&p[0][2]?r5(p[0][0],p[0][1]):function(v){return v===d||m1(v,d,p)}}function TI(d,p){return O1(d)&&n5(p)?r5(ra(d),p):function(v){var E=Y1(v,d);return E===i&&E===p?W1(v,d):ch(p,E,b|w)}}function w0(d,p,v,E,D){d!==p&&d1(p,function(j,W){if(D||(D=new Po),mi(j))tH(d,p,W,v,w0,E,D);else{var X=E?E(M1(d,W),j,W+"",d,p,D):i;X===i&&(X=j),c1(d,W,X)}},pr)}function tH(d,p,v,E,D,j,W){var X=M1(d,v),ne=M1(p,v),be=W.get(ne);if(be){c1(d,v,be);return}var ve=j?j(X,ne,v+"",d,p,W):i,Te=ve===i;if(Te){var He=ht(ne),et=!He&&nl(ne),lt=!He&&!et&&id(ne);ve=ne,He||et||lt?ht(X)?ve=X:Si(X)?ve=dr(X):et?(Te=!1,ve=BI(ne,!0)):lt?(Te=!1,ve=FI(ne,!0)):ve=[]:hh(ne)||mc(ne)?(ve=X,mc(X)?ve=O5(X):(!mi(X)||Za(X))&&(ve=i5(ne))):Te=!1}Te&&(W.set(ne,ve),D(ve,ne,E,j,W),W.delete(ne)),c1(d,v,ve)}function SI(d,p){var v=d.length;if(!!v)return p+=p<0?v:0,Ja(p,v)?d[p]:i}function CI(d,p,v){p.length?p=jt(p,function(j){return ht(j)?function(W){return fc(W,j.length===1?j[0]:j)}:j}):p=[hr];var E=-1;p=jt(p,Ti(st()));var D=kI(d,function(j,W,X){var ne=jt(p,function(be){return be(j)});return{criteria:ne,index:++E,value:j}});return Xp(D,function(j,W){return hH(j,W,v)})}function iH(d,p){return EI(d,p,function(v,E){return W1(d,E)})}function EI(d,p,v){for(var E=-1,D=p.length,j={};++E<D;){var W=p[E],X=fc(d,W);v(X,W)&&uh(j,tl(W,d),X)}return j}function nH(d){return function(p){return fc(p,d)}}function v1(d,p,v,E){var D=E?Qu:Io,j=-1,W=p.length,X=d;for(d===p&&(p=dr(p)),v&&(X=jt(d,Ti(v)));++j<W;)for(var ne=0,be=p[j],ve=v?v(be):be;(ne=D(X,ve,ne,E))>-1;)X!==d&&u0.call(X,ne,1),u0.call(d,ne,1);return d}function zI(d,p){for(var v=d?p.length:0,E=v-1;v--;){var D=p[v];if(v==E||D!==j){var j=D;Ja(D)?u0.call(d,D,1):x1(d,D)}}return d}function y1(d,p){return d+p0(cI()*(p-d+1))}function rH(d,p,v,E){for(var D=-1,j=Wi(f0((p-d)/(v||1)),0),W=ae(j);j--;)W[E?j:++D]=d,d+=v;return W}function w1(d,p){var v="";if(!d||p<1||p>Ve)return v;do p%2&&(v+=d),p=p0(p/2),p&&(d+=d);while(p);return v}function xt(d,p){return B1(o5(d,p,hr),d+"")}function oH(d){return fI(nd(d))}function aH(d,p){var v=nd(d);return I0(v,dc(p,0,v.length))}function uh(d,p,v,E){if(!mi(d))return d;p=tl(p,d);for(var D=-1,j=p.length,W=j-1,X=d;X!=null&&++D<j;){var ne=ra(p[D]),be=v;if(ne==="__proto__"||ne==="constructor"||ne==="prototype")return d;if(D!=W){var ve=X[ne];be=E?E(ve,ne,X):i,be===i&&(be=mi(ve)?ve:Ja(p[D+1])?[]:{})}ah(X,ne,be),X=X[ne]}return d}var II=h0?function(d,p){return h0.set(d,p),d}:hr,sH=d0?function(d,p){return d0(d,"toString",{configurable:!0,enumerable:!1,value:$1(p),writable:!0})}:hr;function lH(d){return I0(nd(d))}function fo(d,p,v){var E=-1,D=d.length;p<0&&(p=-p>D?0:D+p),v=v>D?D:v,v<0&&(v+=D),D=p>v?0:v-p>>>0,p>>>=0;for(var j=ae(D);++E<D;)j[E]=d[E+p];return j}function cH(d,p){var v;return Zs(d,function(E,D,j){return v=p(E,D,j),!v}),!!v}function A0(d,p,v){var E=0,D=d==null?E:d.length;if(typeof p=="number"&&p===p&&D<=de){for(;E<D;){var j=E+D>>>1,W=d[j];W!==null&&!Fr(W)&&(v?W<=p:W<p)?E=j+1:D=j}return D}return A1(d,p,hr,v)}function A1(d,p,v,E){var D=0,j=d==null?0:d.length;if(j===0)return 0;p=v(p);for(var W=p!==p,X=p===null,ne=Fr(p),be=p===i;D<j;){var ve=p0((D+j)/2),Te=v(d[ve]),He=Te!==i,et=Te===null,lt=Te===Te,wt=Fr(Te);if(W)var ct=E||lt;else be?ct=lt&&(E||He):X?ct=lt&&He&&(E||!et):ne?ct=lt&&He&&!et&&(E||!wt):et||wt?ct=!1:ct=E?Te<=p:Te<p;ct?D=ve+1:j=ve}return _n(j,Z)}function PI(d,p){for(var v=-1,E=d.length,D=0,j=[];++v<E;){var W=d[v],X=p?p(W):W;if(!v||!Ro(X,ne)){var ne=X;j[D++]=W===0?0:W}}return j}function RI(d){return typeof d=="number"?d:Fr(d)?Me:+d}function Br(d){if(typeof d=="string")return d;if(ht(d))return jt(d,Br)+"";if(Fr(d))return uI?uI.call(d):"";var p=d+"";return p=="0"&&1/d==-Fe?"-0":p}function el(d,p,v){var E=-1,D=Wu,j=d.length,W=!0,X=[],ne=X;if(v)W=!1,D=Vp;else if(j>=r){var be=p?null:wH(d);if(be)return k(be);W=!1,D=kn,ne=new uc}else ne=p?[]:X;e:for(;++E<j;){var ve=d[E],Te=p?p(ve):ve;if(ve=v||ve!==0?ve:0,W&&Te===Te){for(var He=ne.length;He--;)if(ne[He]===Te)continue e;p&&ne.push(Te),X.push(ve)}else D(ne,Te,v)||(ne!==X&&ne.push(Te),X.push(ve))}return X}function x1(d,p){return p=tl(p,d),d=a5(d,p),d==null||delete d[ra(po(p))]}function LI(d,p,v,E){return uh(d,p,v(fc(d,p)),E)}function x0(d,p,v,E){for(var D=d.length,j=E?D:-1;(E?j--:++j<D)&&p(d[j],j,d););return v?fo(d,E?0:j,E?j+1:D):fo(d,E?j+1:0,E?D:j)}function OI(d,p){var v=d;return v instanceof Et&&(v=v.value()),Vu(p,function(E,D){return D.func.apply(D.thisArg,ur([E],D.args))},v)}function k1(d,p,v){var E=d.length;if(E<2)return E?el(d[0]):[];for(var D=-1,j=ae(E);++D<E;)for(var W=d[D],X=-1;++X<E;)X!=D&&(j[D]=sh(j[D]||W,d[X],p,v));return el(un(j,1),p,v)}function DI(d,p,v){for(var E=-1,D=d.length,j=p.length,W={};++E<D;){var X=E<j?p[E]:i;v(W,d[E],X)}return W}function _1(d){return Si(d)?d:[]}function T1(d){return typeof d=="function"?d:hr}function tl(d,p){return ht(d)?d:O1(d,p)?[d]:u5(Yt(d))}var uH=xt;function il(d,p,v){var E=d.length;return v=v===i?E:v,!p&&v>=E?d:fo(d,p,v)}var MI=X9||function(d){return Hi.clearTimeout(d)};function BI(d,p){if(p)return d.slice();var v=d.length,E=rI?rI(v):new d.constructor(v);return d.copy(E),E}function S1(d){var p=new d.constructor(d.byteLength);return new l0(p).set(new l0(d)),p}function dH(d,p){var v=p?S1(d.buffer):d.buffer;return new d.constructor(v,d.byteOffset,d.byteLength)}function fH(d){var p=new d.constructor(d.source,Eb.exec(d));return p.lastIndex=d.lastIndex,p}function pH(d){return oh?Ht(oh.call(d)):{}}function FI(d,p){var v=p?S1(d.buffer):d.buffer;return new d.constructor(v,d.byteOffset,d.length)}function NI(d,p){if(d!==p){var v=d!==i,E=d===null,D=d===d,j=Fr(d),W=p!==i,X=p===null,ne=p===p,be=Fr(p);if(!X&&!be&&!j&&d>p||j&&W&&ne&&!X&&!be||E&&W&&ne||!v&&ne||!D)return 1;if(!E&&!j&&!be&&d<p||be&&v&&D&&!E&&!j||X&&v&&D||!W&&D||!ne)return-1}return 0}function hH(d,p,v){for(var E=-1,D=d.criteria,j=p.criteria,W=D.length,X=v.length;++E<W;){var ne=NI(D[E],j[E]);if(ne){if(E>=X)return ne;var be=v[E];return ne*(be=="desc"?-1:1)}}return d.index-p.index}function jI(d,p,v,E){for(var D=-1,j=d.length,W=v.length,X=-1,ne=p.length,be=Wi(j-W,0),ve=ae(ne+be),Te=!E;++X<ne;)ve[X]=p[X];for(;++D<W;)(Te||D<j)&&(ve[v[D]]=d[D]);for(;be--;)ve[X++]=d[D++];return ve}function UI(d,p,v,E){for(var D=-1,j=d.length,W=-1,X=v.length,ne=-1,be=p.length,ve=Wi(j-X,0),Te=ae(ve+be),He=!E;++D<ve;)Te[D]=d[D];for(var et=D;++ne<be;)Te[et+ne]=p[ne];for(;++W<X;)(He||D<j)&&(Te[et+v[W]]=d[D++]);return Te}function dr(d,p){var v=-1,E=d.length;for(p||(p=ae(E));++v<E;)p[v]=d[v];return p}function na(d,p,v,E){var D=!v;v||(v={});for(var j=-1,W=p.length;++j<W;){var X=p[j],ne=E?E(v[X],d[X],X,v,d):i;ne===i&&(ne=d[X]),D?qa(v,X,ne):ah(v,X,ne)}return v}function mH(d,p){return na(d,L1(d),p)}function gH(d,p){return na(d,e5(d),p)}function k0(d,p){return function(v,E){var D=ht(v)?Jx:FG,j=p?p():{};return D(v,d,st(E,2),j)}}function Zu(d){return xt(function(p,v){var E=-1,D=v.length,j=D>1?v[D-1]:i,W=D>2?v[2]:i;for(j=d.length>3&&typeof j=="function"?(D--,j):i,W&&Hn(v[0],v[1],W)&&(j=D<3?i:j,D=1),p=Ht(p);++E<D;){var X=v[E];X&&d(p,X,E,j)}return p})}function GI(d,p){return function(v,E){if(v==null)return v;if(!fr(v))return d(v,E);for(var D=v.length,j=p?D:-1,W=Ht(v);(p?j--:++j<D)&&E(W[j],j,W)!==!1;);return v}}function HI(d){return function(p,v,E){for(var D=-1,j=Ht(p),W=E(p),X=W.length;X--;){var ne=W[d?X:++D];if(v(j[ne],ne,j)===!1)break}return p}}function bH(d,p,v){var E=p&g,D=dh(d);function j(){var W=this&&this!==Hi&&this instanceof j?D:d;return W.apply(E?v:this,arguments)}return j}function YI(d){return function(p){p=Yt(p);var v=Xs(p)?G(p):i,E=v?v[0]:p.charAt(0),D=v?il(v,1).join(""):p.slice(1);return E[d]()+D}}function ed(d){return function(p){return Vu(G5(U5(p).replace(Yx,"")),d,"")}}function dh(d){return function(){var p=arguments;switch(p.length){case 0:return new d;case 1:return new d(p[0]);case 2:return new d(p[0],p[1]);case 3:return new d(p[0],p[1],p[2]);case 4:return new d(p[0],p[1],p[2],p[3]);case 5:return new d(p[0],p[1],p[2],p[3],p[4]);case 6:return new d(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new d(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var v=Ju(d.prototype),E=d.apply(v,p);return mi(E)?E:v}}function vH(d,p,v){var E=dh(d);function D(){for(var j=arguments.length,W=ae(j),X=j,ne=td(D);X--;)W[X]=arguments[X];var be=j<3&&W[0]!==ne&&W[j-1]!==ne?[]:_(W,ne);if(j-=be.length,j<v)return qI(d,p,_0,D.placeholder,i,W,be,i,i,v-j);var ve=this&&this!==Hi&&this instanceof D?E:d;return Un(ve,this,W)}return D}function WI(d){return function(p,v,E){var D=Ht(p);if(!fr(p)){var j=st(v,3);p=Qi(p),v=function(X){return j(D[X],X,D)}}var W=d(p,v,E);return W>-1?D[j?p[W]:W]:i}}function VI(d){return Xa(function(p){var v=p.length,E=v,D=co.prototype.thru;for(d&&p.reverse();E--;){var j=p[E];if(typeof j!="function")throw new Pt(a);if(D&&!W&&E0(j)=="wrapper")var W=new co([],!0)}for(E=W?E:v;++E<v;){j=p[E];var X=E0(j),ne=X=="wrapper"?P1(j):i;ne&&D1(ne[0])&&ne[1]==(B|T|z|O)&&!ne[4].length&&ne[9]==1?W=W[E0(ne[0])].apply(W,ne[3]):W=j.length==1&&D1(j)?W[X]():W.thru(j)}return function(){var be=arguments,ve=be[0];if(W&&be.length==1&&ht(ve))return W.plant(ve).value();for(var Te=0,He=v?p[Te].apply(this,be):ve;++Te<v;)He=p[Te].call(this,He);return He}})}function _0(d,p,v,E,D,j,W,X,ne,be){var ve=p&B,Te=p&g,He=p&A,et=p&(T|C),lt=p&F,wt=He?i:dh(d);function ct(){for(var Tt=arguments.length,zt=ae(Tt),Nr=Tt;Nr--;)zt[Nr]=arguments[Nr];if(et)var Yn=td(ct),jr=e1(zt,Yn);if(E&&(zt=jI(zt,E,D,et)),j&&(zt=UI(zt,j,W,et)),Tt-=jr,et&&Tt<be){var Ci=_(zt,Yn);return qI(d,p,_0,ct.placeholder,v,zt,Ci,X,ne,be-Tt)}var Lo=Te?v:this,ts=He?Lo[d]:d;return Tt=zt.length,X?zt=FH(zt,X):lt&&Tt>1&&zt.reverse(),ve&&ne<Tt&&(zt.length=ne),this&&this!==Hi&&this instanceof ct&&(ts=wt||dh(ts)),ts.apply(Lo,zt)}return ct}function $I(d,p){return function(v,E){return VG(v,d,p(E),{})}}function T0(d,p){return function(v,E){var D;if(v===i&&E===i)return p;if(v!==i&&(D=v),E!==i){if(D===i)return E;typeof v=="string"||typeof E=="string"?(v=Br(v),E=Br(E)):(v=RI(v),E=RI(E)),D=d(v,E)}return D}}function C1(d){return Xa(function(p){return p=jt(p,Ti(st())),xt(function(v){var E=this;return d(p,function(D){return Un(D,E,v)})})})}function S0(d,p){p=p===i?" ":Br(p);var v=p.length;if(v<2)return v?w1(p,d):p;var E=w1(p,f0(d/U(p)));return Xs(p)?il(G(E),0,d).join(""):E.slice(0,d)}function yH(d,p,v,E){var D=p&g,j=dh(d);function W(){for(var X=-1,ne=arguments.length,be=-1,ve=E.length,Te=ae(ve+ne),He=this&&this!==Hi&&this instanceof W?j:d;++be<ve;)Te[be]=E[be];for(;ne--;)Te[be++]=arguments[++X];return Un(He,D?v:this,Te)}return W}function QI(d){return function(p,v,E){return E&&typeof E!="number"&&Hn(p,v,E)&&(v=E=i),p=es(p),v===i?(v=p,p=0):v=es(v),E=E===i?p<v?1:-1:es(E),rH(p,v,E,d)}}function C0(d){return function(p,v){return typeof p=="string"&&typeof v=="string"||(p=ho(p),v=ho(v)),d(p,v)}}function qI(d,p,v,E,D,j,W,X,ne,be){var ve=p&T,Te=ve?W:i,He=ve?i:W,et=ve?j:i,lt=ve?i:j;p|=ve?z:L,p&=~(ve?L:z),p&x||(p&=~(g|A));var wt=[d,p,D,et,Te,lt,He,X,ne,be],ct=v.apply(i,wt);return D1(d)&&s5(ct,wt),ct.placeholder=E,l5(ct,d,p)}function E1(d){var p=yi[d];return function(v,E){if(v=ho(v),E=E==null?0:_n(vt(E),292),E&&lI(v)){var D=(Yt(v)+"e").split("e"),j=p(D[0]+"e"+(+D[1]+E));return D=(Yt(j)+"e").split("e"),+(D[0]+"e"+(+D[1]-E))}return p(v)}}var wH=Ku&&1/k(new Ku([,-0]))[1]==Fe?function(d){return new Ku(d)}:K1;function KI(d){return function(p){var v=Tn(p);return v==Lt?M(p):v==hi?S(p):Ks(p,d(p))}}function Ka(d,p,v,E,D,j,W,X){var ne=p&A;if(!ne&&typeof d!="function")throw new Pt(a);var be=E?E.length:0;if(be||(p&=~(z|L),E=D=i),W=W===i?W:Wi(vt(W),0),X=X===i?X:vt(X),be-=D?D.length:0,p&L){var ve=E,Te=D;E=D=i}var He=ne?i:P1(d),et=[d,p,v,E,D,ve,Te,j,W,X];if(He&&DH(et,He),d=et[0],p=et[1],v=et[2],E=et[3],D=et[4],X=et[9]=et[9]===i?ne?0:d.length:Wi(et[9]-be,0),!X&&p&(T|C)&&(p&=~(T|C)),!p||p==g)var lt=bH(d,p,v);else p==T||p==C?lt=vH(d,p,X):(p==z||p==(g|z))&&!D.length?lt=yH(d,p,v,E):lt=_0.apply(i,et);var wt=He?II:s5;return l5(wt(lt,et),d,p)}function XI(d,p,v,E){return d===i||Ro(d,qu[v])&&!qt.call(E,v)?p:d}function JI(d,p,v,E,D,j){return mi(d)&&mi(p)&&(j.set(p,d),w0(d,p,i,JI,j),j.delete(p)),d}function AH(d){return hh(d)?i:d}function ZI(d,p,v,E,D,j){var W=v&b,X=d.length,ne=p.length;if(X!=ne&&!(W&&ne>X))return!1;var be=j.get(d),ve=j.get(p);if(be&&ve)return be==p&&ve==d;var Te=-1,He=!0,et=v&w?new uc:i;for(j.set(d,p),j.set(p,d);++Te<X;){var lt=d[Te],wt=p[Te];if(E)var ct=W?E(wt,lt,Te,p,d,j):E(lt,wt,Te,d,p,j);if(ct!==i){if(ct)continue;He=!1;break}if(et){if(!$u(p,function(Tt,zt){if(!kn(et,zt)&&(lt===Tt||D(lt,Tt,v,E,j)))return et.push(zt)})){He=!1;break}}else if(!(lt===wt||D(lt,wt,v,E,j))){He=!1;break}}return j.delete(d),j.delete(p),He}function xH(d,p,v,E,D,j,W){switch(v){case bt:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case zo:return!(d.byteLength!=p.byteLength||!j(new l0(d),new l0(p)));case we:case Pe:case Or:return Ro(+d,+p);case $e:return d.name==p.name&&d.message==p.message;case vi:case ao:return d==p+"";case Lt:var X=M;case hi:var ne=E&b;if(X||(X=k),d.size!=p.size&&!ne)return!1;var be=W.get(d);if(be)return be==p;E|=w,W.set(d,p);var ve=ZI(X(d),X(p),E,D,j,W);return W.delete(d),ve;case so:if(oh)return oh.call(d)==oh.call(p)}return!1}function kH(d,p,v,E,D,j){var W=v&b,X=z1(d),ne=X.length,be=z1(p),ve=be.length;if(ne!=ve&&!W)return!1;for(var Te=ne;Te--;){var He=X[Te];if(!(W?He in p:qt.call(p,He)))return!1}var et=j.get(d),lt=j.get(p);if(et&&lt)return et==p&&lt==d;var wt=!0;j.set(d,p),j.set(p,d);for(var ct=W;++Te<ne;){He=X[Te];var Tt=d[He],zt=p[He];if(E)var Nr=W?E(zt,Tt,He,p,d,j):E(Tt,zt,He,d,p,j);if(!(Nr===i?Tt===zt||D(Tt,zt,v,E,j):Nr)){wt=!1;break}ct||(ct=He=="constructor")}if(wt&&!ct){var Yn=d.constructor,jr=p.constructor;Yn!=jr&&"constructor"in d&&"constructor"in p&&!(typeof Yn=="function"&&Yn instanceof Yn&&typeof jr=="function"&&jr instanceof jr)&&(wt=!1)}return j.delete(d),j.delete(p),wt}function Xa(d){return B1(o5(d,i,h5),d+"")}function z1(d){return yI(d,Qi,L1)}function I1(d){return yI(d,pr,e5)}var P1=h0?function(d){return h0.get(d)}:K1;function E0(d){for(var p=d.name+"",v=Xu[p],E=qt.call(Xu,p)?v.length:0;E--;){var D=v[E],j=D.func;if(j==null||j==d)return D.name}return p}function td(d){var p=qt.call(N,"placeholder")?N:d;return p.placeholder}function st(){var d=N.iteratee||Q1;return d=d===Q1?xI:d,arguments.length?d(arguments[0],arguments[1]):d}function z0(d,p){var v=d.__data__;return PH(p)?v[typeof p=="string"?"string":"hash"]:v.map}function R1(d){for(var p=Qi(d),v=p.length;v--;){var E=p[v],D=d[E];p[v]=[E,D,n5(D)]}return p}function pc(d,p){var v=r1(d,p);return AI(v)?v:i}function _H(d){var p=qt.call(d,lc),v=d[lc];try{d[lc]=i;var E=!0}catch{}var D=a0.call(d);return E&&(p?d[lc]=v:delete d[lc]),D}var L1=a1?function(d){return d==null?[]:(d=Ht(d),ta(a1(d),function(p){return aI.call(d,p)}))}:X1,e5=a1?function(d){for(var p=[];d;)ur(p,L1(d)),d=c0(d);return p}:X1,Tn=Gn;(s1&&Tn(new s1(new ArrayBuffer(1)))!=bt||ih&&Tn(new ih)!=Lt||l1&&Tn(l1.resolve())!=Ze||Ku&&Tn(new Ku)!=hi||nh&&Tn(new nh)!=Eo)&&(Tn=function(d){var p=Gn(d),v=p==cn?d.constructor:i,E=v?hc(v):"";if(E)switch(E){case aG:return bt;case sG:return Lt;case lG:return Ze;case cG:return hi;case uG:return Eo}return p});function TH(d,p,v){for(var E=-1,D=v.length;++E<D;){var j=v[E],W=j.size;switch(j.type){case"drop":d+=W;break;case"dropRight":p-=W;break;case"take":p=_n(p,d+W);break;case"takeRight":d=Wi(d,p-W);break}}return{start:d,end:p}}function SH(d){var p=d.match(Ou);return p?p[1].split(Dx):[]}function t5(d,p,v){p=tl(p,d);for(var E=-1,D=p.length,j=!1;++E<D;){var W=ra(p[E]);if(!(j=d!=null&&v(d,W)))break;d=d[W]}return j||++E!=D?j:(D=d==null?0:d.length,!!D&&M0(D)&&Ja(W,D)&&(ht(d)||mc(d)))}function CH(d){var p=d.length,v=new d.constructor(p);return p&&typeof d[0]=="string"&&qt.call(d,"index")&&(v.index=d.index,v.input=d.input),v}function i5(d){return typeof d.constructor=="function"&&!fh(d)?Ju(c0(d)):{}}function EH(d,p,v){var E=d.constructor;switch(p){case zo:return S1(d);case we:case Pe:return new E(+d);case bt:return dH(d,v);case _p:case Tp:case Sp:case Cp:case Ep:case Ys:case zp:case Ip:case Pp:return FI(d,v);case Lt:return new E;case Or:case ao:return new E(d);case vi:return fH(d);case hi:return new E;case so:return pH(d)}}function zH(d,p){var v=p.length;if(!v)return d;var E=v-1;return p[E]=(v>1?"& ":"")+p[E],p=p.join(v>2?", ":" "),d.replace(Lu,`{
/* [wrapped with `+p+`] */
`)}function IH(d){return ht(d)||mc(d)||!!(sI&&d&&d[sI])}function Ja(d,p){var v=typeof d;return p=p==null?Ve:p,!!p&&(v=="number"||v!="symbol"&&Pb.test(d))&&d>-1&&d%1==0&&d<p}function Hn(d,p,v){if(!mi(v))return!1;var E=typeof p;return(E=="number"?fr(v)&&Ja(p,v.length):E=="string"&&p in v)?Ro(v[p],d):!1}function O1(d,p){if(ht(d))return!1;var v=typeof d;return v=="number"||v=="symbol"||v=="boolean"||d==null||Fr(d)?!0:Lx.test(d)||!Rx.test(d)||p!=null&&d in Ht(p)}function PH(d){var p=typeof d;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?d!=="__proto__":d===null}function D1(d){var p=E0(d),v=N[p];if(typeof v!="function"||!(p in Et.prototype))return!1;if(d===v)return!0;var E=P1(v);return!!E&&d===E[0]}function RH(d){return!!nI&&nI in d}var LH=r0?Za:J1;function fh(d){var p=d&&d.constructor,v=typeof p=="function"&&p.prototype||qu;return d===v}function n5(d){return d===d&&!mi(d)}function r5(d,p){return function(v){return v==null?!1:v[d]===p&&(p!==i||d in Ht(v))}}function OH(d){var p=O0(d,function(E){return v.size===c&&v.clear(),E}),v=p.cache;return p}function DH(d,p){var v=d[1],E=p[1],D=v|E,j=D<(g|A|B),W=E==B&&v==T||E==B&&v==O&&d[7].length<=p[8]||E==(B|O)&&p[7].length<=p[8]&&v==T;if(!(j||W))return d;E&g&&(d[2]=p[2],D|=v&g?0:x);var X=p[3];if(X){var ne=d[3];d[3]=ne?jI(ne,X,p[4]):X,d[4]=ne?_(d[3],u):p[4]}return X=p[5],X&&(ne=d[5],d[5]=ne?UI(ne,X,p[6]):X,d[6]=ne?_(d[5],u):p[6]),X=p[7],X&&(d[7]=X),E&B&&(d[8]=d[8]==null?p[8]:_n(d[8],p[8])),d[9]==null&&(d[9]=p[9]),d[0]=p[0],d[1]=D,d}function MH(d){var p=[];if(d!=null)for(var v in Ht(d))p.push(v);return p}function BH(d){return a0.call(d)}function o5(d,p,v){return p=Wi(p===i?d.length-1:p,0),function(){for(var E=arguments,D=-1,j=Wi(E.length-p,0),W=ae(j);++D<j;)W[D]=E[p+D];D=-1;for(var X=ae(p+1);++D<p;)X[D]=E[D];return X[p]=v(W),Un(d,this,X)}}function a5(d,p){return p.length<2?d:fc(d,fo(p,0,-1))}function FH(d,p){for(var v=d.length,E=_n(p.length,v),D=dr(d);E--;){var j=p[E];d[E]=Ja(j,v)?D[j]:i}return d}function M1(d,p){if(!(p==="constructor"&&typeof d[p]=="function")&&p!="__proto__")return d[p]}var s5=c5(II),ph=Z9||function(d,p){return Hi.setTimeout(d,p)},B1=c5(sH);function l5(d,p,v){var E=p+"";return B1(d,zH(E,NH(SH(E),v)))}function c5(d){var p=0,v=0;return function(){var E=nG(),D=Ae-(E-v);if(v=E,D>0){if(++p>=fe)return arguments[0]}else p=0;return d.apply(i,arguments)}}function I0(d,p){var v=-1,E=d.length,D=E-1;for(p=p===i?E:p;++v<p;){var j=y1(v,D),W=d[j];d[j]=d[v],d[v]=W}return d.length=p,d}var u5=OH(function(d){var p=[];return d.charCodeAt(0)===46&&p.push(""),d.replace(Pu,function(v,E,D,j){p.push(D?j.replace(Du,"$1"):E||v)}),p});function ra(d){if(typeof d=="string"||Fr(d))return d;var p=d+"";return p=="0"&&1/d==-Fe?"-0":p}function hc(d){if(d!=null){try{return o0.call(d)}catch{}try{return d+""}catch{}}return""}function NH(d,p){return cr(ie,function(v){var E="_."+v[0];p&v[1]&&!Wu(d,E)&&d.push(E)}),d.sort()}function d5(d){if(d instanceof Et)return d.clone();var p=new co(d.__wrapped__,d.__chain__);return p.__actions__=dr(d.__actions__),p.__index__=d.__index__,p.__values__=d.__values__,p}function jH(d,p,v){(v?Hn(d,p,v):p===i)?p=1:p=Wi(vt(p),0);var E=d==null?0:d.length;if(!E||p<1)return[];for(var D=0,j=0,W=ae(f0(E/p));D<E;)W[j++]=fo(d,D,D+=p);return W}function UH(d){for(var p=-1,v=d==null?0:d.length,E=0,D=[];++p<v;){var j=d[p];j&&(D[E++]=j)}return D}function GH(){var d=arguments.length;if(!d)return[];for(var p=ae(d-1),v=arguments[0],E=d;E--;)p[E-1]=arguments[E];return ur(ht(v)?dr(v):[v],un(p,1))}var HH=xt(function(d,p){return Si(d)?sh(d,un(p,1,Si,!0)):[]}),YH=xt(function(d,p){var v=po(p);return Si(v)&&(v=i),Si(d)?sh(d,un(p,1,Si,!0),st(v,2)):[]}),WH=xt(function(d,p){var v=po(p);return Si(v)&&(v=i),Si(d)?sh(d,un(p,1,Si,!0),i,v):[]});function VH(d,p,v){var E=d==null?0:d.length;return E?(p=v||p===i?1:vt(p),fo(d,p<0?0:p,E)):[]}function $H(d,p,v){var E=d==null?0:d.length;return E?(p=v||p===i?1:vt(p),p=E-p,fo(d,0,p<0?0:p)):[]}function QH(d,p){return d&&d.length?x0(d,st(p,3),!0,!0):[]}function qH(d,p){return d&&d.length?x0(d,st(p,3),!0):[]}function KH(d,p,v,E){var D=d==null?0:d.length;return D?(v&&typeof v!="number"&&Hn(d,p,v)&&(v=0,E=D),GG(d,p,v,E)):[]}function f5(d,p,v){var E=d==null?0:d.length;if(!E)return-1;var D=v==null?0:vt(v);return D<0&&(D=Wi(E+D,0)),oc(d,st(p,3),D)}function p5(d,p,v){var E=d==null?0:d.length;if(!E)return-1;var D=E-1;return v!==i&&(D=vt(v),D=v<0?Wi(E+D,0):_n(D,E-1)),oc(d,st(p,3),D,!0)}function h5(d){var p=d==null?0:d.length;return p?un(d,1):[]}function XH(d){var p=d==null?0:d.length;return p?un(d,Fe):[]}function JH(d,p){var v=d==null?0:d.length;return v?(p=p===i?1:vt(p),un(d,p)):[]}function ZH(d){for(var p=-1,v=d==null?0:d.length,E={};++p<v;){var D=d[p];E[D[0]]=D[1]}return E}function m5(d){return d&&d.length?d[0]:i}function eY(d,p,v){var E=d==null?0:d.length;if(!E)return-1;var D=v==null?0:vt(v);return D<0&&(D=Wi(E+D,0)),Io(d,p,D)}function tY(d){var p=d==null?0:d.length;return p?fo(d,0,-1):[]}var iY=xt(function(d){var p=jt(d,_1);return p.length&&p[0]===d[0]?h1(p):[]}),nY=xt(function(d){var p=po(d),v=jt(d,_1);return p===po(v)?p=i:v.pop(),v.length&&v[0]===d[0]?h1(v,st(p,2)):[]}),rY=xt(function(d){var p=po(d),v=jt(d,_1);return p=typeof p=="function"?p:i,p&&v.pop(),v.length&&v[0]===d[0]?h1(v,i,p):[]});function oY(d,p){return d==null?"":tG.call(d,p)}function po(d){var p=d==null?0:d.length;return p?d[p-1]:i}function aY(d,p,v){var E=d==null?0:d.length;if(!E)return-1;var D=E;return v!==i&&(D=vt(v),D=D<0?Wi(E+D,0):_n(D,E-1)),p===p?R(d,p,D):oc(d,Jb,D,!0)}function sY(d,p){return d&&d.length?SI(d,vt(p)):i}var lY=xt(g5);function g5(d,p){return d&&d.length&&p&&p.length?v1(d,p):d}function cY(d,p,v){return d&&d.length&&p&&p.length?v1(d,p,st(v,2)):d}function uY(d,p,v){return d&&d.length&&p&&p.length?v1(d,p,i,v):d}var dY=Xa(function(d,p){var v=d==null?0:d.length,E=u1(d,p);return zI(d,jt(p,function(D){return Ja(D,v)?+D:D}).sort(NI)),E});function fY(d,p){var v=[];if(!(d&&d.length))return v;var E=-1,D=[],j=d.length;for(p=st(p,3);++E<j;){var W=d[E];p(W,E,d)&&(v.push(W),D.push(E))}return zI(d,D),v}function F1(d){return d==null?d:oG.call(d)}function pY(d,p,v){var E=d==null?0:d.length;return E?(v&&typeof v!="number"&&Hn(d,p,v)?(p=0,v=E):(p=p==null?0:vt(p),v=v===i?E:vt(v)),fo(d,p,v)):[]}function hY(d,p){return A0(d,p)}function mY(d,p,v){return A1(d,p,st(v,2))}function gY(d,p){var v=d==null?0:d.length;if(v){var E=A0(d,p);if(E<v&&Ro(d[E],p))return E}return-1}function bY(d,p){return A0(d,p,!0)}function vY(d,p,v){return A1(d,p,st(v,2),!0)}function yY(d,p){var v=d==null?0:d.length;if(v){var E=A0(d,p,!0)-1;if(Ro(d[E],p))return E}return-1}function wY(d){return d&&d.length?PI(d):[]}function AY(d,p){return d&&d.length?PI(d,st(p,2)):[]}function xY(d){var p=d==null?0:d.length;return p?fo(d,1,p):[]}function kY(d,p,v){return d&&d.length?(p=v||p===i?1:vt(p),fo(d,0,p<0?0:p)):[]}function _Y(d,p,v){var E=d==null?0:d.length;return E?(p=v||p===i?1:vt(p),p=E-p,fo(d,p<0?0:p,E)):[]}function TY(d,p){return d&&d.length?x0(d,st(p,3),!1,!0):[]}function SY(d,p){return d&&d.length?x0(d,st(p,3)):[]}var CY=xt(function(d){return el(un(d,1,Si,!0))}),EY=xt(function(d){var p=po(d);return Si(p)&&(p=i),el(un(d,1,Si,!0),st(p,2))}),zY=xt(function(d){var p=po(d);return p=typeof p=="function"?p:i,el(un(d,1,Si,!0),i,p)});function IY(d){return d&&d.length?el(d):[]}function PY(d,p){return d&&d.length?el(d,st(p,2)):[]}function RY(d,p){return p=typeof p=="function"?p:i,d&&d.length?el(d,i,p):[]}function N1(d){if(!(d&&d.length))return[];var p=0;return d=ta(d,function(v){if(Si(v))return p=Wi(v.length,p),!0}),Zp(p,function(v){return jt(d,qp(v))})}function b5(d,p){if(!(d&&d.length))return[];var v=N1(d);return p==null?v:jt(v,function(E){return Un(p,i,E)})}var LY=xt(function(d,p){return Si(d)?sh(d,p):[]}),OY=xt(function(d){return k1(ta(d,Si))}),DY=xt(function(d){var p=po(d);return Si(p)&&(p=i),k1(ta(d,Si),st(p,2))}),MY=xt(function(d){var p=po(d);return p=typeof p=="function"?p:i,k1(ta(d,Si),i,p)}),BY=xt(N1);function FY(d,p){return DI(d||[],p||[],ah)}function NY(d,p){return DI(d||[],p||[],uh)}var jY=xt(function(d){var p=d.length,v=p>1?d[p-1]:i;return v=typeof v=="function"?(d.pop(),v):i,b5(d,v)});function v5(d){var p=N(d);return p.__chain__=!0,p}function UY(d,p){return p(d),d}function P0(d,p){return p(d)}var GY=Xa(function(d){var p=d.length,v=p?d[0]:0,E=this.__wrapped__,D=function(j){return u1(j,d)};return p>1||this.__actions__.length||!(E instanceof Et)||!Ja(v)?this.thru(D):(E=E.slice(v,+v+(p?1:0)),E.__actions__.push({func:P0,args:[D],thisArg:i}),new co(E,this.__chain__).thru(function(j){return p&&!j.length&&j.push(i),j}))});function HY(){return v5(this)}function YY(){return new co(this.value(),this.__chain__)}function WY(){this.__values__===i&&(this.__values__=R5(this.value()));var d=this.__index__>=this.__values__.length,p=d?i:this.__values__[this.__index__++];return{done:d,value:p}}function VY(){return this}function $Y(d){for(var p,v=this;v instanceof g0;){var E=d5(v);E.__index__=0,E.__values__=i,p?D.__wrapped__=E:p=E;var D=E;v=v.__wrapped__}return D.__wrapped__=d,p}function QY(){var d=this.__wrapped__;if(d instanceof Et){var p=d;return this.__actions__.length&&(p=new Et(this)),p=p.reverse(),p.__actions__.push({func:P0,args:[F1],thisArg:i}),new co(p,this.__chain__)}return this.thru(F1)}function qY(){return OI(this.__wrapped__,this.__actions__)}var KY=k0(function(d,p,v){qt.call(d,v)?++d[v]:qa(d,v,1)});function XY(d,p,v){var E=ht(d)?Qb:UG;return v&&Hn(d,p,v)&&(p=i),E(d,st(p,3))}function JY(d,p){var v=ht(d)?ta:bI;return v(d,st(p,3))}var ZY=WI(f5),eW=WI(p5);function tW(d,p){return un(R0(d,p),1)}function iW(d,p){return un(R0(d,p),Fe)}function nW(d,p,v){return v=v===i?1:vt(v),un(R0(d,p),v)}function y5(d,p){var v=ht(d)?cr:Zs;return v(d,st(p,3))}function w5(d,p){var v=ht(d)?Zx:gI;return v(d,st(p,3))}var rW=k0(function(d,p,v){qt.call(d,v)?d[v].push(p):qa(d,v,[p])});function oW(d,p,v,E){d=fr(d)?d:nd(d),v=v&&!E?vt(v):0;var D=d.length;return v<0&&(v=Wi(D+v,0)),B0(d)?v<=D&&d.indexOf(p,v)>-1:!!D&&Io(d,p,v)>-1}var aW=xt(function(d,p,v){var E=-1,D=typeof p=="function",j=fr(d)?ae(d.length):[];return Zs(d,function(W){j[++E]=D?Un(p,W,v):lh(W,p,v)}),j}),sW=k0(function(d,p,v){qa(d,v,p)});function R0(d,p){var v=ht(d)?jt:kI;return v(d,st(p,3))}function lW(d,p,v,E){return d==null?[]:(ht(p)||(p=p==null?[]:[p]),v=E?i:v,ht(v)||(v=v==null?[]:[v]),CI(d,p,v))}var cW=k0(function(d,p,v){d[v?0:1].push(p)},function(){return[[],[]]});function uW(d,p,v){var E=ht(d)?Vu:e0,D=arguments.length<3;return E(d,st(p,4),v,D,Zs)}function dW(d,p,v){var E=ht(d)?qb:e0,D=arguments.length<3;return E(d,st(p,4),v,D,gI)}function fW(d,p){var v=ht(d)?ta:bI;return v(d,D0(st(p,3)))}function pW(d){var p=ht(d)?fI:oH;return p(d)}function hW(d,p,v){(v?Hn(d,p,v):p===i)?p=1:p=vt(p);var E=ht(d)?MG:aH;return E(d,p)}function mW(d){var p=ht(d)?BG:lH;return p(d)}function gW(d){if(d==null)return 0;if(fr(d))return B0(d)?U(d):d.length;var p=Tn(d);return p==Lt||p==hi?d.size:g1(d).length}function bW(d,p,v){var E=ht(d)?$u:cH;return v&&Hn(d,p,v)&&(p=i),E(d,st(p,3))}var vW=xt(function(d,p){if(d==null)return[];var v=p.length;return v>1&&Hn(d,p[0],p[1])?p=[]:v>2&&Hn(p[0],p[1],p[2])&&(p=[p[0]]),CI(d,un(p,1),[])}),L0=J9||function(){return Hi.Date.now()};function yW(d,p){if(typeof p!="function")throw new Pt(a);return d=vt(d),function(){if(--d<1)return p.apply(this,arguments)}}function A5(d,p,v){return p=v?i:p,p=d&&p==null?d.length:p,Ka(d,B,i,i,i,i,p)}function x5(d,p){var v;if(typeof p!="function")throw new Pt(a);return d=vt(d),function(){return--d>0&&(v=p.apply(this,arguments)),d<=1&&(p=i),v}}var j1=xt(function(d,p,v){var E=g;if(v.length){var D=_(v,td(j1));E|=z}return Ka(d,E,p,v,D)}),k5=xt(function(d,p,v){var E=g|A;if(v.length){var D=_(v,td(k5));E|=z}return Ka(p,E,d,v,D)});function _5(d,p,v){p=v?i:p;var E=Ka(d,T,i,i,i,i,i,p);return E.placeholder=_5.placeholder,E}function T5(d,p,v){p=v?i:p;var E=Ka(d,C,i,i,i,i,i,p);return E.placeholder=T5.placeholder,E}function S5(d,p,v){var E,D,j,W,X,ne,be=0,ve=!1,Te=!1,He=!0;if(typeof d!="function")throw new Pt(a);p=ho(p)||0,mi(v)&&(ve=!!v.leading,Te="maxWait"in v,j=Te?Wi(ho(v.maxWait)||0,p):j,He="trailing"in v?!!v.trailing:He);function et(Ci){var Lo=E,ts=D;return E=D=i,be=Ci,W=d.apply(ts,Lo),W}function lt(Ci){return be=Ci,X=ph(Tt,p),ve?et(Ci):W}function wt(Ci){var Lo=Ci-ne,ts=Ci-be,W5=p-Lo;return Te?_n(W5,j-ts):W5}function ct(Ci){var Lo=Ci-ne,ts=Ci-be;return ne===i||Lo>=p||Lo<0||Te&&ts>=j}function Tt(){var Ci=L0();if(ct(Ci))return zt(Ci);X=ph(Tt,wt(Ci))}function zt(Ci){return X=i,He&&E?et(Ci):(E=D=i,W)}function Nr(){X!==i&&MI(X),be=0,E=ne=D=X=i}function Yn(){return X===i?W:zt(L0())}function jr(){var Ci=L0(),Lo=ct(Ci);if(E=arguments,D=this,ne=Ci,Lo){if(X===i)return lt(ne);if(Te)return MI(X),X=ph(Tt,p),et(ne)}return X===i&&(X=ph(Tt,p)),W}return jr.cancel=Nr,jr.flush=Yn,jr}var wW=xt(function(d,p){return mI(d,1,p)}),AW=xt(function(d,p,v){return mI(d,ho(p)||0,v)});function xW(d){return Ka(d,F)}function O0(d,p){if(typeof d!="function"||p!=null&&typeof p!="function")throw new Pt(a);var v=function(){var E=arguments,D=p?p.apply(this,E):E[0],j=v.cache;if(j.has(D))return j.get(D);var W=d.apply(this,E);return v.cache=j.set(D,W)||j,W};return v.cache=new(O0.Cache||Qa),v}O0.Cache=Qa;function D0(d){if(typeof d!="function")throw new Pt(a);return function(){var p=arguments;switch(p.length){case 0:return!d.call(this);case 1:return!d.call(this,p[0]);case 2:return!d.call(this,p[0],p[1]);case 3:return!d.call(this,p[0],p[1],p[2])}return!d.apply(this,p)}}function kW(d){return x5(2,d)}var _W=uH(function(d,p){p=p.length==1&&ht(p[0])?jt(p[0],Ti(st())):jt(un(p,1),Ti(st()));var v=p.length;return xt(function(E){for(var D=-1,j=_n(E.length,v);++D<j;)E[D]=p[D].call(this,E[D]);return Un(d,this,E)})}),U1=xt(function(d,p){var v=_(p,td(U1));return Ka(d,z,i,p,v)}),C5=xt(function(d,p){var v=_(p,td(C5));return Ka(d,L,i,p,v)}),TW=Xa(function(d,p){return Ka(d,O,i,i,i,p)});function SW(d,p){if(typeof d!="function")throw new Pt(a);return p=p===i?p:vt(p),xt(d,p)}function CW(d,p){if(typeof d!="function")throw new Pt(a);return p=p==null?0:Wi(vt(p),0),xt(function(v){var E=v[p],D=il(v,0,p);return E&&ur(D,E),Un(d,this,D)})}function EW(d,p,v){var E=!0,D=!0;if(typeof d!="function")throw new Pt(a);return mi(v)&&(E="leading"in v?!!v.leading:E,D="trailing"in v?!!v.trailing:D),S5(d,p,{leading:E,maxWait:p,trailing:D})}function zW(d){return A5(d,1)}function IW(d,p){return U1(T1(p),d)}function PW(){if(!arguments.length)return[];var d=arguments[0];return ht(d)?d:[d]}function RW(d){return uo(d,m)}function LW(d,p){return p=typeof p=="function"?p:i,uo(d,m,p)}function OW(d){return uo(d,f|m)}function DW(d,p){return p=typeof p=="function"?p:i,uo(d,f|m,p)}function MW(d,p){return p==null||hI(d,p,Qi(p))}function Ro(d,p){return d===p||d!==d&&p!==p}var BW=C0(p1),FW=C0(function(d,p){return d>=p}),mc=wI(function(){return arguments}())?wI:function(d){return wi(d)&&qt.call(d,"callee")&&!aI.call(d,"callee")},ht=ae.isArray,NW=Hp?Ti(Hp):$G;function fr(d){return d!=null&&M0(d.length)&&!Za(d)}function Si(d){return wi(d)&&fr(d)}function jW(d){return d===!0||d===!1||wi(d)&&Gn(d)==we}var nl=eG||J1,UW=Wb?Ti(Wb):QG;function GW(d){return wi(d)&&d.nodeType===1&&!hh(d)}function HW(d){if(d==null)return!0;if(fr(d)&&(ht(d)||typeof d=="string"||typeof d.splice=="function"||nl(d)||id(d)||mc(d)))return!d.length;var p=Tn(d);if(p==Lt||p==hi)return!d.size;if(fh(d))return!g1(d).length;for(var v in d)if(qt.call(d,v))return!1;return!0}function YW(d,p){return ch(d,p)}function WW(d,p,v){v=typeof v=="function"?v:i;var E=v?v(d,p):i;return E===i?ch(d,p,i,v):!!E}function G1(d){if(!wi(d))return!1;var p=Gn(d);return p==$e||p==Ye||typeof d.message=="string"&&typeof d.name=="string"&&!hh(d)}function VW(d){return typeof d=="number"&&lI(d)}function Za(d){if(!mi(d))return!1;var p=Gn(d);return p==nt||p==Zt||p==xe||p==Na}function E5(d){return typeof d=="number"&&d==vt(d)}function M0(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=Ve}function mi(d){var p=typeof d;return d!=null&&(p=="object"||p=="function")}function wi(d){return d!=null&&typeof d=="object"}var z5=Yp?Ti(Yp):KG;function $W(d,p){return d===p||m1(d,p,R1(p))}function QW(d,p,v){return v=typeof v=="function"?v:i,m1(d,p,R1(p),v)}function qW(d){return I5(d)&&d!=+d}function KW(d){if(LH(d))throw new dt(o);return AI(d)}function XW(d){return d===null}function JW(d){return d==null}function I5(d){return typeof d=="number"||wi(d)&&Gn(d)==Or}function hh(d){if(!wi(d)||Gn(d)!=cn)return!1;var p=c0(d);if(p===null)return!0;var v=qt.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&o0.call(v)==Q9}var H1=Vb?Ti(Vb):XG;function ZW(d){return E5(d)&&d>=-Ve&&d<=Ve}var P5=Wp?Ti(Wp):JG;function B0(d){return typeof d=="string"||!ht(d)&&wi(d)&&Gn(d)==ao}function Fr(d){return typeof d=="symbol"||wi(d)&&Gn(d)==so}var id=$b?Ti($b):ZG;function eV(d){return d===i}function tV(d){return wi(d)&&Tn(d)==Eo}function iV(d){return wi(d)&&Gn(d)==Zl}var nV=C0(b1),rV=C0(function(d,p){return d<=p});function R5(d){if(!d)return[];if(fr(d))return B0(d)?G(d):dr(d);if(th&&d[th])return i0(d[th]());var p=Tn(d),v=p==Lt?M:p==hi?k:nd;return v(d)}function es(d){if(!d)return d===0?d:0;if(d=ho(d),d===Fe||d===-Fe){var p=d<0?-1:1;return p*Le}return d===d?d:0}function vt(d){var p=es(d),v=p%1;return p===p?v?p-v:p:0}function L5(d){return d?dc(vt(d),0,ce):0}function ho(d){if(typeof d=="number")return d;if(Fr(d))return Me;if(mi(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=mi(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=Dt(d);var v=zb.test(d);return v||Ib.test(d)?Kx(d.slice(2),v?2:8):Mx.test(d)?Me:+d}function O5(d){return na(d,pr(d))}function oV(d){return d?dc(vt(d),-Ve,Ve):d===0?d:0}function Yt(d){return d==null?"":Br(d)}var aV=Zu(function(d,p){if(fh(p)||fr(p)){na(p,Qi(p),d);return}for(var v in p)qt.call(p,v)&&ah(d,v,p[v])}),D5=Zu(function(d,p){na(p,pr(p),d)}),F0=Zu(function(d,p,v,E){na(p,pr(p),d,E)}),sV=Zu(function(d,p,v,E){na(p,Qi(p),d,E)}),lV=Xa(u1);function cV(d,p){var v=Ju(d);return p==null?v:pI(v,p)}var uV=xt(function(d,p){d=Ht(d);var v=-1,E=p.length,D=E>2?p[2]:i;for(D&&Hn(p[0],p[1],D)&&(E=1);++v<E;)for(var j=p[v],W=pr(j),X=-1,ne=W.length;++X<ne;){var be=W[X],ve=d[be];(ve===i||Ro(ve,qu[be])&&!qt.call(d,be))&&(d[be]=j[be])}return d}),dV=xt(function(d){return d.push(i,JI),Un(M5,i,d)});function fV(d,p){return Qp(d,st(p,3),ia)}function pV(d,p){return Qp(d,st(p,3),f1)}function hV(d,p){return d==null?d:d1(d,st(p,3),pr)}function mV(d,p){return d==null?d:vI(d,st(p,3),pr)}function gV(d,p){return d&&ia(d,st(p,3))}function bV(d,p){return d&&f1(d,st(p,3))}function vV(d){return d==null?[]:y0(d,Qi(d))}function yV(d){return d==null?[]:y0(d,pr(d))}function Y1(d,p,v){var E=d==null?i:fc(d,p);return E===i?v:E}function wV(d,p){return d!=null&&t5(d,p,HG)}function W1(d,p){return d!=null&&t5(d,p,YG)}var AV=$I(function(d,p,v){p!=null&&typeof p.toString!="function"&&(p=a0.call(p)),d[p]=v},$1(hr)),xV=$I(function(d,p,v){p!=null&&typeof p.toString!="function"&&(p=a0.call(p)),qt.call(d,p)?d[p].push(v):d[p]=[v]},st),kV=xt(lh);function Qi(d){return fr(d)?dI(d):g1(d)}function pr(d){return fr(d)?dI(d,!0):eH(d)}function _V(d,p){var v={};return p=st(p,3),ia(d,function(E,D,j){qa(v,p(E,D,j),E)}),v}function TV(d,p){var v={};return p=st(p,3),ia(d,function(E,D,j){qa(v,D,p(E,D,j))}),v}var SV=Zu(function(d,p,v){w0(d,p,v)}),M5=Zu(function(d,p,v,E){w0(d,p,v,E)}),CV=Xa(function(d,p){var v={};if(d==null)return v;var E=!1;p=jt(p,function(j){return j=tl(j,d),E||(E=j.length>1),j}),na(d,I1(d),v),E&&(v=uo(v,f|h|m,AH));for(var D=p.length;D--;)x1(v,p[D]);return v});function EV(d,p){return B5(d,D0(st(p)))}var zV=Xa(function(d,p){return d==null?{}:iH(d,p)});function B5(d,p){if(d==null)return{};var v=jt(I1(d),function(E){return[E]});return p=st(p),EI(d,v,function(E,D){return p(E,D[0])})}function IV(d,p,v){p=tl(p,d);var E=-1,D=p.length;for(D||(D=1,d=i);++E<D;){var j=d==null?i:d[ra(p[E])];j===i&&(E=D,j=v),d=Za(j)?j.call(d):j}return d}function PV(d,p,v){return d==null?d:uh(d,p,v)}function RV(d,p,v,E){return E=typeof E=="function"?E:i,d==null?d:uh(d,p,v,E)}var F5=KI(Qi),N5=KI(pr);function LV(d,p,v){var E=ht(d),D=E||nl(d)||id(d);if(p=st(p,4),v==null){var j=d&&d.constructor;D?v=E?new j:[]:mi(d)?v=Za(j)?Ju(c0(d)):{}:v={}}return(D?cr:ia)(d,function(W,X,ne){return p(v,W,X,ne)}),v}function OV(d,p){return d==null?!0:x1(d,p)}function DV(d,p,v){return d==null?d:LI(d,p,T1(v))}function MV(d,p,v,E){return E=typeof E=="function"?E:i,d==null?d:LI(d,p,T1(v),E)}function nd(d){return d==null?[]:Yi(d,Qi(d))}function BV(d){return d==null?[]:Yi(d,pr(d))}function FV(d,p,v){return v===i&&(v=p,p=i),v!==i&&(v=ho(v),v=v===v?v:0),p!==i&&(p=ho(p),p=p===p?p:0),dc(ho(d),p,v)}function NV(d,p,v){return p=es(p),v===i?(v=p,p=0):v=es(v),d=ho(d),WG(d,p,v)}function jV(d,p,v){if(v&&typeof v!="boolean"&&Hn(d,p,v)&&(p=v=i),v===i&&(typeof p=="boolean"?(v=p,p=i):typeof d=="boolean"&&(v=d,d=i)),d===i&&p===i?(d=0,p=1):(d=es(d),p===i?(p=d,d=0):p=es(p)),d>p){var E=d;d=p,p=E}if(v||d%1||p%1){var D=cI();return _n(d+D*(p-d+Hu("1e-"+((D+"").length-1))),p)}return y1(d,p)}var UV=ed(function(d,p,v){return p=p.toLowerCase(),d+(v?j5(p):p)});function j5(d){return V1(Yt(d).toLowerCase())}function U5(d){return d=Yt(d),d&&d.replace(Rb,t1).replace(Wx,"")}function GV(d,p,v){d=Yt(d),p=Br(p);var E=d.length;v=v===i?E:dc(vt(v),0,E);var D=v;return v-=p.length,v>=0&&d.slice(v,D)==p}function HV(d){return d=Yt(d),d&&Ix.test(d)?d.replace(Cb,i1):d}function YV(d){return d=Yt(d),d&&Ru.test(d)?d.replace(Mr,"\\$&"):d}var WV=ed(function(d,p,v){return d+(v?"-":"")+p.toLowerCase()}),VV=ed(function(d,p,v){return d+(v?" ":"")+p.toLowerCase()}),$V=YI("toLowerCase");function QV(d,p,v){d=Yt(d),p=vt(p);var E=p?U(d):0;if(!p||E>=p)return d;var D=(p-E)/2;return S0(p0(D),v)+d+S0(f0(D),v)}function qV(d,p,v){d=Yt(d),p=vt(p);var E=p?U(d):0;return p&&E<p?d+S0(p-E,v):d}function KV(d,p,v){d=Yt(d),p=vt(p);var E=p?U(d):0;return p&&E<p?S0(p-E,v)+d:d}function XV(d,p,v){return v||p==null?p=0:p&&(p=+p),rG(Yt(d).replace(Gt,""),p||0)}function JV(d,p,v){return(v?Hn(d,p,v):p===i)?p=1:p=vt(p),w1(Yt(d),p)}function ZV(){var d=arguments,p=Yt(d[0]);return d.length<3?p:p.replace(d[1],d[2])}var e$=ed(function(d,p,v){return d+(v?"_":"")+p.toLowerCase()});function t$(d,p,v){return v&&typeof v!="number"&&Hn(d,p,v)&&(p=v=i),v=v===i?ce:v>>>0,v?(d=Yt(d),d&&(typeof p=="string"||p!=null&&!H1(p))&&(p=Br(p),!p&&Xs(d))?il(G(d),0,v):d.split(p,v)):[]}var i$=ed(function(d,p,v){return d+(v?" ":"")+V1(p)});function n$(d,p,v){return d=Yt(d),v=v==null?0:dc(vt(v),0,d.length),p=Br(p),d.slice(v,v+p.length)==p}function r$(d,p,v){var E=N.templateSettings;v&&Hn(d,p,v)&&(p=i),d=Yt(d),p=F0({},p,E,XI);var D=F0({},p.imports,E.imports,XI),j=Qi(D),W=Yi(D,j),X,ne,be=0,ve=p.interpolate||Ga,Te="__p += '",He=ac((p.escape||Ga).source+"|"+ve.source+"|"+(ve===xn?Gi:Ga).source+"|"+(p.evaluate||Ga).source+"|$","g"),et="//# sourceURL="+(qt.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vx+"]")+`
`;d.replace(He,function(ct,Tt,zt,Nr,Yn,jr){return zt||(zt=Nr),Te+=d.slice(be,jr).replace(Bx,n1),Tt&&(X=!0,Te+=`' +
__e(`+Tt+`) +
'`),Yn&&(ne=!0,Te+=`';
`+Yn+`;
__p += '`),zt&&(Te+=`' +
((__t = (`+zt+`)) == null ? '' : __t) +
'`),be=jr+ct.length,ct}),Te+=`';
`;var lt=qt.call(p,"variable")&&p.variable;if(!lt)Te=`with (obj) {
`+Te+`
}
`;else if(ri.test(lt))throw new dt(s);Te=(ne?Te.replace(Ex,""):Te).replace(Dr,"$1").replace(Tb,"$1;"),Te="function("+(lt||"obj")+`) {
`+(lt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(X?", __e = _.escape":"")+(ne?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Te+`return __p
}`;var wt=H5(function(){return It(j,et+"return "+Te).apply(i,W)});if(wt.source=Te,G1(wt))throw wt;return wt}function o$(d){return Yt(d).toLowerCase()}function a$(d){return Yt(d).toUpperCase()}function s$(d,p,v){if(d=Yt(d),d&&(v||p===i))return Dt(d);if(!d||!(p=Br(p)))return d;var E=G(d),D=G(p),j=t0(E,D),W=eh(E,D)+1;return il(E,j,W).join("")}function l$(d,p,v){if(d=Yt(d),d&&(v||p===i))return d.slice(0,q(d)+1);if(!d||!(p=Br(p)))return d;var E=G(d),D=eh(E,G(p))+1;return il(E,0,D).join("")}function c$(d,p,v){if(d=Yt(d),d&&(v||p===i))return d.replace(Gt,"");if(!d||!(p=Br(p)))return d;var E=G(d),D=t0(E,G(p));return il(E,D).join("")}function u$(d,p){var v=H,E=K;if(mi(p)){var D="separator"in p?p.separator:D;v="length"in p?vt(p.length):v,E="omission"in p?Br(p.omission):E}d=Yt(d);var j=d.length;if(Xs(d)){var W=G(d);j=W.length}if(v>=j)return d;var X=v-U(E);if(X<1)return E;var ne=W?il(W,0,X).join(""):d.slice(0,X);if(D===i)return ne+E;if(W&&(X+=ne.length-X),H1(D)){if(d.slice(X).search(D)){var be,ve=ne;for(D.global||(D=ac(D.source,Yt(Eb.exec(D))+"g")),D.lastIndex=0;be=D.exec(ve);)var Te=be.index;ne=ne.slice(0,Te===i?X:Te)}}else if(d.indexOf(Br(D),X)!=X){var He=ne.lastIndexOf(D);He>-1&&(ne=ne.slice(0,He))}return ne+E}function d$(d){return d=Yt(d),d&&zx.test(d)?d.replace(Sb,$):d}var f$=ed(function(d,p,v){return d+(v?" ":"")+p.toUpperCase()}),V1=YI("toUpperCase");function G5(d,p,v){return d=Yt(d),p=v?i:p,p===i?o1(d)?je(d):$p(d):d.match(p)||[]}var H5=xt(function(d,p){try{return Un(d,i,p)}catch(v){return G1(v)?v:new dt(v)}}),p$=Xa(function(d,p){return cr(p,function(v){v=ra(v),qa(d,v,j1(d[v],d))}),d});function h$(d){var p=d==null?0:d.length,v=st();return d=p?jt(d,function(E){if(typeof E[1]!="function")throw new Pt(a);return[v(E[0]),E[1]]}):[],xt(function(E){for(var D=-1;++D<p;){var j=d[D];if(Un(j[0],this,E))return Un(j[1],this,E)}})}function m$(d){return jG(uo(d,f))}function $1(d){return function(){return d}}function g$(d,p){return d==null||d!==d?p:d}var b$=VI(),v$=VI(!0);function hr(d){return d}function Q1(d){return xI(typeof d=="function"?d:uo(d,f))}function y$(d){return _I(uo(d,f))}function w$(d,p){return TI(d,uo(p,f))}var A$=xt(function(d,p){return function(v){return lh(v,d,p)}}),x$=xt(function(d,p){return function(v){return lh(d,v,p)}});function q1(d,p,v){var E=Qi(p),D=y0(p,E);v==null&&!(mi(p)&&(D.length||!E.length))&&(v=p,p=d,d=this,D=y0(p,Qi(p)));var j=!(mi(v)&&"chain"in v)||!!v.chain,W=Za(d);return cr(D,function(X){var ne=p[X];d[X]=ne,W&&(d.prototype[X]=function(){var be=this.__chain__;if(j||be){var ve=d(this.__wrapped__),Te=ve.__actions__=dr(this.__actions__);return Te.push({func:ne,args:arguments,thisArg:d}),ve.__chain__=be,ve}return ne.apply(d,ur([this.value()],arguments))})}),d}function k$(){return Hi._===this&&(Hi._=q9),this}function K1(){}function _$(d){return d=vt(d),xt(function(p){return SI(p,d)})}var T$=C1(jt),S$=C1(Qb),C$=C1($u);function Y5(d){return O1(d)?qp(ra(d)):nH(d)}function E$(d){return function(p){return d==null?i:fc(d,p)}}var z$=QI(),I$=QI(!0);function X1(){return[]}function J1(){return!1}function P$(){return{}}function R$(){return""}function L$(){return!0}function O$(d,p){if(d=vt(d),d<1||d>Ve)return[];var v=ce,E=_n(d,ce);p=st(p),d-=ce;for(var D=Zp(E,p);++v<d;)p(v);return D}function D$(d){return ht(d)?jt(d,ra):Fr(d)?[d]:dr(u5(Yt(d)))}function M$(d){var p=++$9;return Yt(d)+p}var B$=T0(function(d,p){return d+p},0),F$=E1("ceil"),N$=T0(function(d,p){return d/p},1),j$=E1("floor");function U$(d){return d&&d.length?v0(d,hr,p1):i}function G$(d,p){return d&&d.length?v0(d,st(p,2),p1):i}function H$(d){return Zb(d,hr)}function Y$(d,p){return Zb(d,st(p,2))}function W$(d){return d&&d.length?v0(d,hr,b1):i}function V$(d,p){return d&&d.length?v0(d,st(p,2),b1):i}var $$=T0(function(d,p){return d*p},1),Q$=E1("round"),q$=T0(function(d,p){return d-p},0);function K$(d){return d&&d.length?Jp(d,hr):0}function X$(d,p){return d&&d.length?Jp(d,st(p,2)):0}return N.after=yW,N.ary=A5,N.assign=aV,N.assignIn=D5,N.assignInWith=F0,N.assignWith=sV,N.at=lV,N.before=x5,N.bind=j1,N.bindAll=p$,N.bindKey=k5,N.castArray=PW,N.chain=v5,N.chunk=jH,N.compact=UH,N.concat=GH,N.cond=h$,N.conforms=m$,N.constant=$1,N.countBy=KY,N.create=cV,N.curry=_5,N.curryRight=T5,N.debounce=S5,N.defaults=uV,N.defaultsDeep=dV,N.defer=wW,N.delay=AW,N.difference=HH,N.differenceBy=YH,N.differenceWith=WH,N.drop=VH,N.dropRight=$H,N.dropRightWhile=QH,N.dropWhile=qH,N.fill=KH,N.filter=JY,N.flatMap=tW,N.flatMapDeep=iW,N.flatMapDepth=nW,N.flatten=h5,N.flattenDeep=XH,N.flattenDepth=JH,N.flip=xW,N.flow=b$,N.flowRight=v$,N.fromPairs=ZH,N.functions=vV,N.functionsIn=yV,N.groupBy=rW,N.initial=tY,N.intersection=iY,N.intersectionBy=nY,N.intersectionWith=rY,N.invert=AV,N.invertBy=xV,N.invokeMap=aW,N.iteratee=Q1,N.keyBy=sW,N.keys=Qi,N.keysIn=pr,N.map=R0,N.mapKeys=_V,N.mapValues=TV,N.matches=y$,N.matchesProperty=w$,N.memoize=O0,N.merge=SV,N.mergeWith=M5,N.method=A$,N.methodOf=x$,N.mixin=q1,N.negate=D0,N.nthArg=_$,N.omit=CV,N.omitBy=EV,N.once=kW,N.orderBy=lW,N.over=T$,N.overArgs=_W,N.overEvery=S$,N.overSome=C$,N.partial=U1,N.partialRight=C5,N.partition=cW,N.pick=zV,N.pickBy=B5,N.property=Y5,N.propertyOf=E$,N.pull=lY,N.pullAll=g5,N.pullAllBy=cY,N.pullAllWith=uY,N.pullAt=dY,N.range=z$,N.rangeRight=I$,N.rearg=TW,N.reject=fW,N.remove=fY,N.rest=SW,N.reverse=F1,N.sampleSize=hW,N.set=PV,N.setWith=RV,N.shuffle=mW,N.slice=pY,N.sortBy=vW,N.sortedUniq=wY,N.sortedUniqBy=AY,N.split=t$,N.spread=CW,N.tail=xY,N.take=kY,N.takeRight=_Y,N.takeRightWhile=TY,N.takeWhile=SY,N.tap=UY,N.throttle=EW,N.thru=P0,N.toArray=R5,N.toPairs=F5,N.toPairsIn=N5,N.toPath=D$,N.toPlainObject=O5,N.transform=LV,N.unary=zW,N.union=CY,N.unionBy=EY,N.unionWith=zY,N.uniq=IY,N.uniqBy=PY,N.uniqWith=RY,N.unset=OV,N.unzip=N1,N.unzipWith=b5,N.update=DV,N.updateWith=MV,N.values=nd,N.valuesIn=BV,N.without=LY,N.words=G5,N.wrap=IW,N.xor=OY,N.xorBy=DY,N.xorWith=MY,N.zip=BY,N.zipObject=FY,N.zipObjectDeep=NY,N.zipWith=jY,N.entries=F5,N.entriesIn=N5,N.extend=D5,N.extendWith=F0,q1(N,N),N.add=B$,N.attempt=H5,N.camelCase=UV,N.capitalize=j5,N.ceil=F$,N.clamp=FV,N.clone=RW,N.cloneDeep=OW,N.cloneDeepWith=DW,N.cloneWith=LW,N.conformsTo=MW,N.deburr=U5,N.defaultTo=g$,N.divide=N$,N.endsWith=GV,N.eq=Ro,N.escape=HV,N.escapeRegExp=YV,N.every=XY,N.find=ZY,N.findIndex=f5,N.findKey=fV,N.findLast=eW,N.findLastIndex=p5,N.findLastKey=pV,N.floor=j$,N.forEach=y5,N.forEachRight=w5,N.forIn=hV,N.forInRight=mV,N.forOwn=gV,N.forOwnRight=bV,N.get=Y1,N.gt=BW,N.gte=FW,N.has=wV,N.hasIn=W1,N.head=m5,N.identity=hr,N.includes=oW,N.indexOf=eY,N.inRange=NV,N.invoke=kV,N.isArguments=mc,N.isArray=ht,N.isArrayBuffer=NW,N.isArrayLike=fr,N.isArrayLikeObject=Si,N.isBoolean=jW,N.isBuffer=nl,N.isDate=UW,N.isElement=GW,N.isEmpty=HW,N.isEqual=YW,N.isEqualWith=WW,N.isError=G1,N.isFinite=VW,N.isFunction=Za,N.isInteger=E5,N.isLength=M0,N.isMap=z5,N.isMatch=$W,N.isMatchWith=QW,N.isNaN=qW,N.isNative=KW,N.isNil=JW,N.isNull=XW,N.isNumber=I5,N.isObject=mi,N.isObjectLike=wi,N.isPlainObject=hh,N.isRegExp=H1,N.isSafeInteger=ZW,N.isSet=P5,N.isString=B0,N.isSymbol=Fr,N.isTypedArray=id,N.isUndefined=eV,N.isWeakMap=tV,N.isWeakSet=iV,N.join=oY,N.kebabCase=WV,N.last=po,N.lastIndexOf=aY,N.lowerCase=VV,N.lowerFirst=$V,N.lt=nV,N.lte=rV,N.max=U$,N.maxBy=G$,N.mean=H$,N.meanBy=Y$,N.min=W$,N.minBy=V$,N.stubArray=X1,N.stubFalse=J1,N.stubObject=P$,N.stubString=R$,N.stubTrue=L$,N.multiply=$$,N.nth=sY,N.noConflict=k$,N.noop=K1,N.now=L0,N.pad=QV,N.padEnd=qV,N.padStart=KV,N.parseInt=XV,N.random=jV,N.reduce=uW,N.reduceRight=dW,N.repeat=JV,N.replace=ZV,N.result=IV,N.round=Q$,N.runInContext=V,N.sample=pW,N.size=gW,N.snakeCase=e$,N.some=bW,N.sortedIndex=hY,N.sortedIndexBy=mY,N.sortedIndexOf=gY,N.sortedLastIndex=bY,N.sortedLastIndexBy=vY,N.sortedLastIndexOf=yY,N.startCase=i$,N.startsWith=n$,N.subtract=q$,N.sum=K$,N.sumBy=X$,N.template=r$,N.times=O$,N.toFinite=es,N.toInteger=vt,N.toLength=L5,N.toLower=o$,N.toNumber=ho,N.toSafeInteger=oV,N.toString=Yt,N.toUpper=a$,N.trim=s$,N.trimEnd=l$,N.trimStart=c$,N.truncate=u$,N.unescape=d$,N.uniqueId=M$,N.upperCase=f$,N.upperFirst=V1,N.each=y5,N.eachRight=w5,N.first=m5,q1(N,function(){var d={};return ia(N,function(p,v){qt.call(N.prototype,v)||(d[v]=p)}),d}(),{chain:!1}),N.VERSION=n,cr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){N[d].placeholder=N}),cr(["drop","take"],function(d,p){Et.prototype[d]=function(v){v=v===i?1:Wi(vt(v),0);var E=this.__filtered__&&!p?new Et(this):this.clone();return E.__filtered__?E.__takeCount__=_n(v,E.__takeCount__):E.__views__.push({size:_n(v,ce),type:d+(E.__dir__<0?"Right":"")}),E},Et.prototype[d+"Right"]=function(v){return this.reverse()[d](v).reverse()}}),cr(["filter","map","takeWhile"],function(d,p){var v=p+1,E=v==Se||v==Oe;Et.prototype[d]=function(D){var j=this.clone();return j.__iteratees__.push({iteratee:st(D,3),type:v}),j.__filtered__=j.__filtered__||E,j}}),cr(["head","last"],function(d,p){var v="take"+(p?"Right":"");Et.prototype[d]=function(){return this[v](1).value()[0]}}),cr(["initial","tail"],function(d,p){var v="drop"+(p?"":"Right");Et.prototype[d]=function(){return this.__filtered__?new Et(this):this[v](1)}}),Et.prototype.compact=function(){return this.filter(hr)},Et.prototype.find=function(d){return this.filter(d).head()},Et.prototype.findLast=function(d){return this.reverse().find(d)},Et.prototype.invokeMap=xt(function(d,p){return typeof d=="function"?new Et(this):this.map(function(v){return lh(v,d,p)})}),Et.prototype.reject=function(d){return this.filter(D0(st(d)))},Et.prototype.slice=function(d,p){d=vt(d);var v=this;return v.__filtered__&&(d>0||p<0)?new Et(v):(d<0?v=v.takeRight(-d):d&&(v=v.drop(d)),p!==i&&(p=vt(p),v=p<0?v.dropRight(-p):v.take(p-d)),v)},Et.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},Et.prototype.toArray=function(){return this.take(ce)},ia(Et.prototype,function(d,p){var v=/^(?:filter|find|map|reject)|While$/.test(p),E=/^(?:head|last)$/.test(p),D=N[E?"take"+(p=="last"?"Right":""):p],j=E||/^find/.test(p);!D||(N.prototype[p]=function(){var W=this.__wrapped__,X=E?[1]:arguments,ne=W instanceof Et,be=X[0],ve=ne||ht(W),Te=function(Tt){var zt=D.apply(N,ur([Tt],X));return E&&He?zt[0]:zt};ve&&v&&typeof be=="function"&&be.length!=1&&(ne=ve=!1);var He=this.__chain__,et=!!this.__actions__.length,lt=j&&!He,wt=ne&&!et;if(!j&&ve){W=wt?W:new Et(this);var ct=d.apply(W,X);return ct.__actions__.push({func:P0,args:[Te],thisArg:i}),new co(ct,He)}return lt&&wt?d.apply(this,X):(ct=this.thru(Te),lt?E?ct.value()[0]:ct.value():ct)})}),cr(["pop","push","shift","sort","splice","unshift"],function(d){var p=sc[d],v=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",E=/^(?:pop|shift)$/.test(d);N.prototype[d]=function(){var D=arguments;if(E&&!this.__chain__){var j=this.value();return p.apply(ht(j)?j:[],D)}return this[v](function(W){return p.apply(ht(W)?W:[],D)})}}),ia(Et.prototype,function(d,p){var v=N[p];if(v){var E=v.name+"";qt.call(Xu,E)||(Xu[E]=[]),Xu[E].push({name:p,func:v})}}),Xu[_0(i,A).name]=[{name:"wrapper",func:i}],Et.prototype.clone=dG,Et.prototype.reverse=fG,Et.prototype.value=pG,N.prototype.at=GY,N.prototype.chain=HY,N.prototype.commit=YY,N.prototype.next=WY,N.prototype.plant=$Y,N.prototype.reverse=QY,N.prototype.toJSON=N.prototype.valueOf=N.prototype.value=qY,N.prototype.first=N.prototype.head,th&&(N.prototype[th]=VY),N},Ee=Ke();ea?((ea.exports=Ee)._=Ee,Qt._=Ee):Hi._=Ee}).call(Bo)})(Vc,Vc.exports);var Fa={exports:{}};(function(t,e){(function(i,n){t.exports=n(Y.exports)})(typeof self!="undefined"?self:Bo,function(i){return function(n){function r(a){if(o[a])return o[a].exports;var s=o[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var o={};return r.m=n,r.c=o,r.d=function(a,s,l){r.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:l})},r.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(s,"a",s),s},r.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},r.p="",r(r.s=7)}([function(n,r,o){var a=this&&this.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(r,"__esModule",{value:!0});var s=a(o(1)),l=a(o(8)),c=a(o(2)),u=o(10),f=a(o(3)),h=a(o(6)),m=function(z){return z.query||(0,f.default)(z)},b=function(z){if(!z)return null;var L=Object.keys(z);return L.length===0?null:L.reduce(function(B,O){return B[(0,c.default)(O)]=z[O],B},{})},w=function(){var z=s.default.useRef(!1);return s.default.useEffect(function(){z.current=!0},[]),z.current},g=function(z){var L=s.default.useContext(h.default),B=function(){return b(z)||b(L)||{}},O=s.default.useState(B),F=O[0],H=O[1];return s.default.useEffect(function(){var K=B();(0,u.shallowEqualObjects)(F,K)||H(K)},[z,L]),F},A=function(z){var L=function(){return m(z)},B=s.default.useState(L),O=B[0],F=B[1];return s.default.useEffect(function(){var H=L();O!==H&&F(H)},[z]),O},x=function(z,L){var B=function(){return(0,l.default)(z,L)},O=s.default.useState(B),F=O[0],H=O[1],K=w();return s.default.useEffect(function(){if(K){var fe=B();return H(fe),function(){fe&&fe.dispose()}}},[z,L]),F},T=function(z){var L=s.default.useState(z.matches),B=L[0],O=L[1];return s.default.useEffect(function(){var F=function(){O(z.matches)};return z.addListener(F),F(),function(){z.removeListener(F)}},[z]),B},C=function(z,L,B){var O=g(L),F=A(z);if(!F)throw new Error("Invalid or missing MediaQuery!");var H=x(F,O),K=T(H),fe=w();return s.default.useEffect(function(){fe&&B&&B(K)},[K]),s.default.useEffect(function(){return function(){H&&H.dispose()}},[]),K};r.default=C},function(n,r){n.exports=i},function(n,r,o){function a(f){return"-"+f.toLowerCase()}function s(f){if(u.hasOwnProperty(f))return u[f];var h=f.replace(l,a);return u[f]=c.test(h)?"-"+h:h}Object.defineProperty(r,"__esModule",{value:!0});var l=/[A-Z]/g,c=/^ms-/,u={};r.default=s},function(n,r,o){var a=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(r,"__esModule",{value:!0});var s=a(o(2)),l=a(o(11)),c=function(m){return"not ".concat(m)},u=function(m,b){var w=(0,s.default)(m);return typeof b=="number"&&(b="".concat(b,"px")),b===!0?w:b===!1?c(w):"(".concat(w,": ").concat(b,")")},f=function(m){return m.join(" and ")},h=function(m){var b=[];return Object.keys(l.default.all).forEach(function(w){var g=m[w];g!=null&&b.push(u(w,g))}),f(b)};r.default=h},function(n,r,o){n.exports=o(13)},function(n,r,o){n.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(n,r,o){var a=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(r,"__esModule",{value:!0});var s=a(o(1)),l=s.default.createContext({});r.default=l},function(n,r,o){var a=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(r,"__esModule",{value:!0}),r.Context=r.toQuery=r.useMediaQuery=r.default=void 0;var s=a(o(0));r.useMediaQuery=s.default;var l=a(o(17));r.default=l.default;var c=a(o(3));r.toQuery=c.default;var u=a(o(6));r.Context=u.default},function(n,r,o){function a(u,f,h){function m(T){x&&x.addListener(T)}function b(T){x&&x.removeListener(T)}function w(T){A.matches=T.matches,A.media=T.media}function g(){x&&x.removeListener(w)}var A=this;if(c&&!h){var x=c.call(window,u);this.matches=x.matches,this.media=x.media,x.addListener(w)}else this.matches=l(u,f),this.media=u;this.addListener=m,this.removeListener=b,this.dispose=g}function s(u,f,h){return new a(u,f,h)}var l=o(9).match,c=typeof window!="undefined"?window.matchMedia:null;n.exports=s},function(n,r,o){function a(g,A){return s(g).some(function(x){var T=x.inverse,C=x.type==="all"||A.type===x.type;if(C&&T||!C&&!T)return!1;var z=x.expressions.every(function(L){var B=L.feature,O=L.modifier,F=L.value,H=A[B];if(!H)return!1;switch(B){case"orientation":case"scan":return H.toLowerCase()===F.toLowerCase();case"width":case"height":case"device-width":case"device-height":F=u(F),H=u(H);break;case"resolution":F=c(F),H=c(H);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":F=l(F),H=l(H);break;case"grid":case"color":case"color-index":case"monochrome":F=parseInt(F,10)||1,H=parseInt(H,10)||0}switch(O){case"min":return H>=F;case"max":return H<=F;default:return H===F}});return z&&!T||!z&&T})}function s(g){return g.split(",").map(function(A){A=A.trim();var x=A.match(f),T=x[1],C=x[2],z=x[3]||"",L={};return L.inverse=!!T&&T.toLowerCase()==="not",L.type=C?C.toLowerCase():"all",z=z.match(/\([^\)]+\)/g)||[],L.expressions=z.map(function(B){var O=B.match(h),F=O[1].toLowerCase().match(m);return{modifier:F[1],feature:F[2],value:O[2]}}),L})}function l(g){var A,x=Number(g);return x||(A=g.match(/^(\d+)\s*\/\s*(\d+)$/),x=A[1]/A[2]),x}function c(g){var A=parseFloat(g);switch(String(g).match(w)[1]){case"dpcm":return A/2.54;case"dppx":return 96*A;default:return A}}function u(g){var A=parseFloat(g);switch(String(g).match(b)[1]){case"em":case"rem":return 16*A;case"cm":return 96*A/2.54;case"mm":return 96*A/2.54/10;case"in":return 96*A;case"pt":return 72*A;case"pc":return 72*A/12;default:return A}}r.match=a,r.parse=s;var f=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,h=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,m=/^(?:(min|max)-)?(.+)/,b=/(em|rem|px|cm|mm|in|pt|pc)?$/,w=/(dpi|dpcm|dppx)?$/},function(n,r,o){function a(l,c){if(l===c)return!0;if(!l||!c)return!1;var u=Object.keys(l),f=Object.keys(c),h=u.length;if(f.length!==h)return!1;for(var m=0;m<h;m++){var b=u[m];if(l[b]!==c[b]||!Object.prototype.hasOwnProperty.call(c,b))return!1}return!0}function s(l,c){if(l===c)return!0;if(!l||!c)return!1;var u=l.length;if(c.length!==u)return!1;for(var f=0;f<u;f++)if(l[f]!==c[f])return!1;return!0}Object.defineProperty(r,"__esModule",{value:!0}),o.d(r,"shallowEqualArrays",function(){return s}),o.d(r,"shallowEqualObjects",function(){return a})},function(n,r,o){var a=this&&this.__assign||function(){return a=Object.assign||function(g){for(var A,x=1,T=arguments.length;x<T;x++){A=arguments[x];for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(g[C]=A[C])}return g},a.apply(this,arguments)},s=this&&this.__rest||function(g,A){var x={};for(var T in g)Object.prototype.hasOwnProperty.call(g,T)&&A.indexOf(T)<0&&(x[T]=g[T]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,T=Object.getOwnPropertySymbols(g);C<T.length;C++)A.indexOf(T[C])<0&&Object.prototype.propertyIsEnumerable.call(g,T[C])&&(x[T[C]]=g[T[C]]);return x},l=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(r,"__esModule",{value:!0});var c=l(o(12)),u=c.default.oneOfType([c.default.string,c.default.number]),f={all:c.default.bool,grid:c.default.bool,aural:c.default.bool,braille:c.default.bool,handheld:c.default.bool,print:c.default.bool,projection:c.default.bool,screen:c.default.bool,tty:c.default.bool,tv:c.default.bool,embossed:c.default.bool},h={orientation:c.default.oneOf(["portrait","landscape"]),scan:c.default.oneOf(["progressive","interlace"]),aspectRatio:c.default.string,deviceAspectRatio:c.default.string,height:u,deviceHeight:u,width:u,deviceWidth:u,color:c.default.bool,colorIndex:c.default.bool,monochrome:c.default.bool,resolution:u,type:Object.keys(f)},m=s(h,["type"]),b=a({minAspectRatio:c.default.string,maxAspectRatio:c.default.string,minDeviceAspectRatio:c.default.string,maxDeviceAspectRatio:c.default.string,minHeight:u,maxHeight:u,minDeviceHeight:u,maxDeviceHeight:u,minWidth:u,maxWidth:u,minDeviceWidth:u,maxDeviceWidth:u,minColor:c.default.number,maxColor:c.default.number,minColorIndex:c.default.number,maxColorIndex:c.default.number,minMonochrome:c.default.number,maxMonochrome:c.default.number,minResolution:u,maxResolution:u},m),w=a(a({},f),b);r.default={all:w,types:f,matchers:h,features:b}},function(n,r,o){var a=o(4);n.exports=o(14)(a.isElement,!0)},function(n,r,o){(function(){function a(Ze){return typeof Ze=="string"||typeof Ze=="function"||Ze===O||Ze===Se||Ze===H||Ze===F||Ze===Oe||Ze===Fe||typeof Ze=="object"&&Ze!==null&&(Ze.$$typeof===Le||Ze.$$typeof===Ve||Ze.$$typeof===K||Ze.$$typeof===fe||Ze.$$typeof===ke||Ze.$$typeof===ce||Ze.$$typeof===Z||Ze.$$typeof===de||Ze.$$typeof===Me)}function s(Ze){if(typeof Ze=="object"&&Ze!==null){var Na=Ze.$$typeof;switch(Na){case L:var vi=Ze.type;switch(vi){case Ae:case Se:case O:case H:case F:case Oe:return vi;default:var hi=vi&&vi.$$typeof;switch(hi){case fe:case ke:case Le:case Ve:case K:return hi;default:return Na}}case B:return Na}}}function l(Ze){return cn||(cn=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),c(Ze)||s(Ze)===Ae}function c(Ze){return s(Ze)===Se}function u(Ze){return s(Ze)===fe}function f(Ze){return s(Ze)===K}function h(Ze){return typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===L}function m(Ze){return s(Ze)===ke}function b(Ze){return s(Ze)===O}function w(Ze){return s(Ze)===Le}function g(Ze){return s(Ze)===Ve}function A(Ze){return s(Ze)===B}function x(Ze){return s(Ze)===H}function T(Ze){return s(Ze)===F}function C(Ze){return s(Ze)===Oe}var z=typeof Symbol=="function"&&Symbol.for,L=z?Symbol.for("react.element"):60103,B=z?Symbol.for("react.portal"):60106,O=z?Symbol.for("react.fragment"):60107,F=z?Symbol.for("react.strict_mode"):60108,H=z?Symbol.for("react.profiler"):60114,K=z?Symbol.for("react.provider"):60109,fe=z?Symbol.for("react.context"):60110,Ae=z?Symbol.for("react.async_mode"):60111,Se=z?Symbol.for("react.concurrent_mode"):60111,ke=z?Symbol.for("react.forward_ref"):60112,Oe=z?Symbol.for("react.suspense"):60113,Fe=z?Symbol.for("react.suspense_list"):60120,Ve=z?Symbol.for("react.memo"):60115,Le=z?Symbol.for("react.lazy"):60116,Me=z?Symbol.for("react.block"):60121,ce=z?Symbol.for("react.fundamental"):60117,Z=z?Symbol.for("react.responder"):60118,de=z?Symbol.for("react.scope"):60119,ie=Ae,se=Se,pe=fe,xe=K,we=L,Pe=ke,Ye=O,$e=Le,nt=Ve,Zt=B,Lt=H,Or=F,Ct=Oe,cn=!1;r.AsyncMode=ie,r.ConcurrentMode=se,r.ContextConsumer=pe,r.ContextProvider=xe,r.Element=we,r.ForwardRef=Pe,r.Fragment=Ye,r.Lazy=$e,r.Memo=nt,r.Portal=Zt,r.Profiler=Lt,r.StrictMode=Or,r.Suspense=Ct,r.isAsyncMode=l,r.isConcurrentMode=c,r.isContextConsumer=u,r.isContextProvider=f,r.isElement=h,r.isForwardRef=m,r.isFragment=b,r.isLazy=w,r.isMemo=g,r.isPortal=A,r.isProfiler=x,r.isStrictMode=T,r.isSuspense=C,r.isValidElementType=a,r.typeOf=s})()},function(n,r,o){function a(){return null}var s=o(4),l=o(15),c=o(5),u=o(16),f=Function.call.bind(Object.prototype.hasOwnProperty),h=function(){};h=function(m){var b="Warning: "+m;typeof console!="undefined"&&console.error(b);try{throw new Error(b)}catch{}},n.exports=function(m,b){function w(ce){var Z=ce&&(Fe&&ce[Fe]||ce[Ve]);if(typeof Z=="function")return Z}function g(ce,Z){return ce===Z?ce!==0||1/ce==1/Z:ce!==ce&&Z!==Z}function A(ce){this.message=ce,this.stack=""}function x(ce){function Z(pe,xe,we,Pe,Ye,$e,nt){if(Pe=Pe||Le,$e=$e||we,nt!==c){if(b){var Zt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw Zt.name="Invariant Violation",Zt}if(typeof console!="undefined"){var Lt=Pe+":"+we;!de[Lt]&&ie<3&&(h("You are manually calling a React.PropTypes validation function for the `"+$e+"` prop on `"+Pe+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),de[Lt]=!0,ie++)}}return xe[we]==null?pe?new A(xe[we]===null?"The "+Ye+" `"+$e+"` is marked as required in `"+Pe+"`, but its value is `null`.":"The "+Ye+" `"+$e+"` is marked as required in `"+Pe+"`, but its value is `undefined`."):null:ce(xe,we,Pe,Ye,$e)}var de={},ie=0,se=Z.bind(null,!1);return se.isRequired=Z.bind(null,!0),se}function T(ce){function Z(de,ie,se,pe,xe,we){var Pe=de[ie];return Ae(Pe)!==ce?new A("Invalid "+pe+" `"+xe+"` of type `"+Se(Pe)+"` supplied to `"+se+"`, expected `"+ce+"`."):null}return x(Z)}function C(ce){function Z(de,ie,se,pe,xe){if(typeof ce!="function")return new A("Property `"+xe+"` of component `"+se+"` has invalid PropType notation inside arrayOf.");var we=de[ie];if(!Array.isArray(we))return new A("Invalid "+pe+" `"+xe+"` of type `"+Ae(we)+"` supplied to `"+se+"`, expected an array.");for(var Pe=0;Pe<we.length;Pe++){var Ye=ce(we,Pe,se,pe,xe+"["+Pe+"]",c);if(Ye instanceof Error)return Ye}return null}return x(Z)}function z(ce){function Z(de,ie,se,pe,xe){if(!(de[ie]instanceof ce)){var we=ce.name||Le;return new A("Invalid "+pe+" `"+xe+"` of type `"+Oe(de[ie])+"` supplied to `"+se+"`, expected instance of `"+we+"`.")}return null}return x(Z)}function L(ce){function Z(de,ie,se,pe,xe){for(var we=de[ie],Pe=0;Pe<ce.length;Pe++)if(g(we,ce[Pe]))return null;var Ye=JSON.stringify(ce,function($e,nt){return Se(nt)==="symbol"?String(nt):nt});return new A("Invalid "+pe+" `"+xe+"` of value `"+String(we)+"` supplied to `"+se+"`, expected one of "+Ye+".")}return Array.isArray(ce)?x(Z):(h(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),a)}function B(ce){function Z(de,ie,se,pe,xe){if(typeof ce!="function")return new A("Property `"+xe+"` of component `"+se+"` has invalid PropType notation inside objectOf.");var we=de[ie],Pe=Ae(we);if(Pe!=="object")return new A("Invalid "+pe+" `"+xe+"` of type `"+Pe+"` supplied to `"+se+"`, expected an object.");for(var Ye in we)if(f(we,Ye)){var $e=ce(we,Ye,se,pe,xe+"."+Ye,c);if($e instanceof Error)return $e}return null}return x(Z)}function O(ce){function Z(se,pe,xe,we,Pe){for(var Ye=0;Ye<ce.length;Ye++)if((0,ce[Ye])(se,pe,xe,we,Pe,c)==null)return null;return new A("Invalid "+we+" `"+Pe+"` supplied to `"+xe+"`.")}if(!Array.isArray(ce))return h("Invalid argument supplied to oneOfType, expected an instance of array."),a;for(var de=0;de<ce.length;de++){var ie=ce[de];if(typeof ie!="function")return h("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+ke(ie)+" at index "+de+"."),a}return x(Z)}function F(ce){function Z(de,ie,se,pe,xe){var we=de[ie],Pe=Ae(we);if(Pe!=="object")return new A("Invalid "+pe+" `"+xe+"` of type `"+Pe+"` supplied to `"+se+"`, expected `object`.");for(var Ye in ce){var $e=ce[Ye];if($e){var nt=$e(we,Ye,se,pe,xe+"."+Ye,c);if(nt)return nt}}return null}return x(Z)}function H(ce){function Z(de,ie,se,pe,xe){var we=de[ie],Pe=Ae(we);if(Pe!=="object")return new A("Invalid "+pe+" `"+xe+"` of type `"+Pe+"` supplied to `"+se+"`, expected `object`.");var Ye=l({},de[ie],ce);for(var $e in Ye){var nt=ce[$e];if(!nt)return new A("Invalid "+pe+" `"+xe+"` key `"+$e+"` supplied to `"+se+"`.\nBad object: "+JSON.stringify(de[ie],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(ce),null,"  "));var Zt=nt(we,$e,se,pe,xe+"."+$e,c);if(Zt)return Zt}return null}return x(Z)}function K(ce){switch(typeof ce){case"number":case"string":case"undefined":return!0;case"boolean":return!ce;case"object":if(Array.isArray(ce))return ce.every(K);if(ce===null||m(ce))return!0;var Z=w(ce);if(!Z)return!1;var de,ie=Z.call(ce);if(Z!==ce.entries){for(;!(de=ie.next()).done;)if(!K(de.value))return!1}else for(;!(de=ie.next()).done;){var se=de.value;if(se&&!K(se[1]))return!1}return!0;default:return!1}}function fe(ce,Z){return ce==="symbol"||!!Z&&(Z["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&Z instanceof Symbol)}function Ae(ce){var Z=typeof ce;return Array.isArray(ce)?"array":ce instanceof RegExp?"object":fe(Z,ce)?"symbol":Z}function Se(ce){if(ce==null)return""+ce;var Z=Ae(ce);if(Z==="object"){if(ce instanceof Date)return"date";if(ce instanceof RegExp)return"regexp"}return Z}function ke(ce){var Z=Se(ce);switch(Z){case"array":case"object":return"an "+Z;case"boolean":case"date":case"regexp":return"a "+Z;default:return Z}}function Oe(ce){return ce.constructor&&ce.constructor.name?ce.constructor.name:Le}var Fe=typeof Symbol=="function"&&Symbol.iterator,Ve="@@iterator",Le="<<anonymous>>",Me={array:T("array"),bool:T("boolean"),func:T("function"),number:T("number"),object:T("object"),string:T("string"),symbol:T("symbol"),any:function(){return x(a)}(),arrayOf:C,element:function(){function ce(Z,de,ie,se,pe){var xe=Z[de];return m(xe)?null:new A("Invalid "+se+" `"+pe+"` of type `"+Ae(xe)+"` supplied to `"+ie+"`, expected a single ReactElement.")}return x(ce)}(),elementType:function(){function ce(Z,de,ie,se,pe){var xe=Z[de];return s.isValidElementType(xe)?null:new A("Invalid "+se+" `"+pe+"` of type `"+Ae(xe)+"` supplied to `"+ie+"`, expected a single ReactElement type.")}return x(ce)}(),instanceOf:z,node:function(){function ce(Z,de,ie,se,pe){return K(Z[de])?null:new A("Invalid "+se+" `"+pe+"` supplied to `"+ie+"`, expected a ReactNode.")}return x(ce)}(),objectOf:B,oneOf:L,oneOfType:O,shape:F,exact:H};return A.prototype=Error.prototype,Me.checkPropTypes=u,Me.resetWarningCache=u.resetWarningCache,Me.PropTypes=Me,Me}},function(n,r,o){function a(u){if(u==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(u)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;n.exports=function(){try{if(!Object.assign)return!1;var u=new String("abc");if(u[5]="de",Object.getOwnPropertyNames(u)[0]==="5")return!1;for(var f={},h=0;h<10;h++)f["_"+String.fromCharCode(h)]=h;if(Object.getOwnPropertyNames(f).map(function(b){return f[b]}).join("")!=="0123456789")return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(b){m[b]=b}),Object.keys(Object.assign({},m)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(u,f){for(var h,m,b=a(u),w=1;w<arguments.length;w++){h=Object(arguments[w]);for(var g in h)l.call(h,g)&&(b[g]=h[g]);if(s){m=s(h);for(var A=0;A<m.length;A++)c.call(h,m[A])&&(b[m[A]]=h[m[A]])}}return b}},function(n,r,o){function a(f,h,m,b,w){for(var g in f)if(u(f,g)){var A;try{if(typeof f[g]!="function"){var x=Error((b||"React class")+": "+m+" type `"+g+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof f[g]+"`.");throw x.name="Invariant Violation",x}A=f[g](h,g,b,m,null,l)}catch(C){A=C}if(!A||A instanceof Error||s((b||"React class")+": type specification of "+m+" `"+g+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof A+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),A instanceof Error&&!(A.message in c)){c[A.message]=!0;var T=w?w():"";s("Failed "+m+" type: "+A.message+(T!=null?T:""))}}}var s=function(){},l=o(5),c={},u=Function.call.bind(Object.prototype.hasOwnProperty);s=function(f){var h="Warning: "+f;typeof console!="undefined"&&console.error(h);try{throw new Error(h)}catch{}},a.resetWarningCache=function(){c={}},n.exports=a},function(n,r,o){var a=this&&this.__rest||function(u,f){var h={};for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&f.indexOf(m)<0&&(h[m]=u[m]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,m=Object.getOwnPropertySymbols(u);b<m.length;b++)f.indexOf(m[b])<0&&Object.prototype.propertyIsEnumerable.call(u,m[b])&&(h[m[b]]=u[m[b]]);return h},s=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(r,"__esModule",{value:!0});var l=s(o(0)),c=function(u){var f=u.children,h=u.device,m=u.onChange,b=a(u,["children","device","onChange"]),w=(0,l.default)(b,h,m);return typeof f=="function"?f(w):w?f:null};r.default=c}])})})(Fa);var f2=(t=>(t.FAILURE="FAILURE",t.FETCH_CARDS="FETCH_CARDS",t.FETCH_CARDS_SUCCESS="FETCH_CARDS_SUCCESSS",t.SHOW_MORE_CARDS="SHOW_MORE_CARDS",t))(f2||{});const Bpe=()=>(t,e)=>{switch(e.type){case"FAILURE":return{...t,error:e.payload,fetchCards:!1};case"FETCH_CARDS":return{...t,error:null,fetchCards:!0};case"FETCH_CARDS_SUCCESSS":{const i=Math.min(t.batchSize,e.payload.length);return{...t,cards:e.payload,visibleCount:i,fetchCards:!1}}case"SHOW_MORE_CARDS":{const i=Math.min(t.batchSize+t.visibleCount,t.cards.length);return{...t,visibleCount:i}}default:return t}};function Fpe(t,e){const i=Bpe(),[n,r]=Y.exports.useReducer(i,t);return Y.exports.useEffect(()=>{let o=!1;const a=async()=>{try{const s=await e();o||r({type:"FETCH_CARDS_SUCCESSS",payload:s})}catch(s){if(!o){const l=Ca(s);r({type:"FAILURE",payload:l})}}};return n.fetchCards&&a(),()=>{o=!0}},[n.fetchCards,e,r]),[n,r]}var QN={};const Npe=["about","after","all","also","am","an","and","another","any","are","as","at","be","because","been","before","being","between","both","but","by","came","can","come","could","did","do","each","for","from","get","got","has","had","he","have","her","here","him","himself","his","how","if","in","into","is","it","like","make","many","me","might","more","most","much","must","my","never","now","of","on","only","or","other","our","out","over","said","same","should","since","some","still","such","take","than","that","the","their","them","then","there","these","they","this","those","through","to","too","under","up","very","was","way","we","well","were","what","where","which","while","who","with","would","you","your","a","i"];QN.words=Npe;const jpe=QN.words;var pg=function(t,e){if(e=e||jpe,typeof t!="object"||typeof e!="object")throw new Error("expected Arrays try: removeStopwords(Array[, Array])");return t.filter(function(i){return e.indexOf(i.toLowerCase())===-1})};NE(2);NE(3);function NE(t){if(typeof t!="number"||Number.isNaN(t)||t<1||t===Number.POSITIVE_INFINITY)throw new Error("`"+t+"` is not a valid argument for `n-gram`");return e;function e(i){var n=[],r,o;if(i==null||(o=i.slice?i:String(i),r=o.length-t+1,r<1))return n;for(;r--;)n[r]=o.slice(r,r+t);return n}}var BR={skis:"ski",idly:"idl",ugly:"ugli",only:"onli",news:"news",howe:"howe",bias:"bias"},FR={skies:"sky",dying:"die",lying:"lie",tying:"tie",early:"earli",atlas:"atlas",andes:"andes"},NR={gently:"gentl",singly:"singl",cosmos:"cosmos"},Upe={inning:0,outing:0,canning:0,herring:0,earring:0,proceed:0,exceed:0,succeed:0},jR=/[^aeiouy]*[aeiouy]+[^aeiouy](\w*)/,Gpe=/^[aeiouy][^aeiouy]$/,Hpe=/.*[^aeiouy][aeiouy][^aeiouywxY]$/;function qN(t){return t.length===2?Gpe.test(t):Hpe.test(t)}var Ype=/([aeiouy])y/g,Wpe=/[aeiouy]./;function Vpe(t,e){if(t.endsWith("at")||t.endsWith("bl")||t.endsWith("iz"))return t+"e";var i=t.charCodeAt(t.length-1);return i===t.charCodeAt(t.length-2)&&(i===98||i===100||i===102||i===103||i===109||i===110||i===112||i===114||i===116)?t.slice(0,-1):e===t.length&&qN(t)?t+"e":t}var $pe=/(ed|edly|ing|ingly)$/,Qpe=/[aeiouy]/;function qpe(t,e){if(t.endsWith("eedly"))return t.length-5>=e?t.slice(0,-3):t;if(t.endsWith("eed"))return t.length-3>=e?t.slice(0,-1):t;var i=$pe.exec(t);if(i){var n=t.slice(0,-i[0].length);if(t.length>1&&Qpe.test(n))return Vpe(n,e)}return t}function Kpe(t,e,i,n,r){if(t.endsWith(i)){if(t.length-i.length>=e){var o=t.slice(0,-i.length);if(r===null)return o+n;for(var a=0;a<r.length;a++){var s=r[a];if(o.endsWith(s))return o+n}}return t}return null}var KN=[["enci","ence",null],["anci","ance",null],["abli","able",null],["izer","ize",null],["ator","ate",null],["alli","al",null],["bli","ble",null],["ogi","og",["l"]],["li","",["c","d","e","g","h","k","m","n","r","t"]]],Xpe=[["ization","ize",null],["ational","ate",null],["fulness","ful",null],["ousness","ous",null],["iveness","ive",null],["tional","tion",null],["biliti","ble",null],["lessli","less",null],["entli","ent",null],["ation","ate",null],["alism","al",null],["aliti","al",null],["ousli","ous",null],["iviti","ive",null],["fulli","ful",null]].concat(KN);function Jpe(t,e){for(var i=t.length>6?Xpe:KN,n=0;n<i.length;n++){var r=i[n],o=Kpe(t,e,r[0],r[1],r[2]);if(o!==null)return o}return t}function Zpe(t,e,i,n,r,o){if(t.endsWith(n)){if(t.length-n.length>=e)if(o){if(t.length-n.length>=i)return t.slice(0,-n.length)+r}else return t.slice(0,-n.length)+r;return t}return null}var UR=[{a:"ational",b:"ate",c:!1},{a:"tional",b:"tion",c:!1},{a:"alize",b:"al",c:!1},{a:"icate",b:"ic",c:!1},{a:"iciti",b:"ic",c:!1},{a:"ative",b:"",c:!0},{a:"ical",b:"ic",c:!1},{a:"ness",b:"",c:!1},{a:"ful",b:"",c:!1}];function ehe(t,e,i){for(var n=0;n<UR.length;n++){var r=UR[n],o=Zpe(t,e,i,r.a,r.b,r.c);if(o!==null)return o}return t}var GR=["al","ance","ence","er","ic","able","ible","ant","ement","ment","ent","ism","ate","iti","ous","ive","ize"];function the(t,e){for(var i=0;i<GR.length;i++){var n=GR[i];if(t.endsWith(n))return t.length-n.length>=e?t.slice(0,-n.length):t}if(t.length-3>=e){var r=t.charCodeAt(t.length-4);if((r===115||r===116)&&t.endsWith("ion"))return t.slice(0,-3)}return t}var ihe=/Y/g;function sw(t){var e,i,n,r;if(t.length<3||(t.charCodeAt(0)===39&&(t=t.slice(1)),t==="sky"))return t;if(t.length<7){if(t.length===4){if(BR.hasOwnProperty(t))return BR[t]}else if(t.length===5){if(FR.hasOwnProperty(t))return FR[t]}else if(t.length===6&&NR.hasOwnProperty(t))return NR[t]}if(t.charCodeAt(0)===121&&(t="Y"+t.slice(1)),t=t.replace(Ype,"$1Y"),t.length>4&&(t.startsWith("gener")||t.startsWith("arsen"))?n=5:t.startsWith("commun")?n=6:(i=jR.exec(t),n=i?t.length-i[1].length:t.length),i=jR.exec(t.slice(n)),r=i?t.length-i[1].length:t.length,t.charCodeAt(t.length-1)===39?t.endsWith("'s'")?t=t.slice(0,-3):t=t.slice(0,-1):t.endsWith("'s")&&(t=t.slice(0,-2)),t.endsWith("sses"))t=t.slice(0,-4)+"ss";else if(t.endsWith("ied")||t.endsWith("ies"))t=t.slice(0,-3)+(t.length>4?"i":"ie");else if(t.endsWith("us")||t.endsWith("ss"))t=t;else if(t.charCodeAt(t.length-1)===115){var o=t.slice(0,-1);Wpe.test(o)&&(t=o)}return(t.length===6||t.length===7)&&Upe.hasOwnProperty(t)||(t=qpe(t,n),t.length>2&&(e=t.charCodeAt(t.length-1),(e===121||e===89)&&(e=t.charCodeAt(t.length-2),(e<97||e>121||e!==97&&e!==101&&e!==105&&e!==111&&e!==117&&e!==121)&&(t=t.slice(0,-1)+"i"))),t=Jpe(t,n),t=ehe(t,n,r),t=the(t,r),e=t.charCodeAt(t.length-1),e===108?t.length-1>=r&&t.charCodeAt(t.length-2)===108&&(t=t.slice(0,-1)):e===101&&(t.length-1>=r||t.length-1>=n&&!qN(t.slice(0,-1)))&&(t=t.slice(0,-1)),t=t.replace(ihe,"y")),t}class Pf{constructor(e){this.id=e.id,this.uri=e.uri,this.name=e.name,e.description&&(this.description=e.description),e.media_type&&(this.media_type=e.media_type)}}class $c{constructor(e){this.id=e.id,this.event_datetime=Ea(e.event_datetime),this.body_ref=e.body_ref.id,e.agenda_uri&&(this.agenda_uri=e.agenda_uri),e.minutes_uri&&(this.minutes_uri=e.minutes_uri),typeof e.body_ref=="object"&&!(e.body_ref instanceof St)&&(this.body=new Xy(e.body_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id),e.hover_thumbnail_ref&&(e.hover_thumbnail_ref instanceof St?this.hover_thumbnail_ref=e.hover_thumbnail_ref.id:typeof e.hover_thumbnail_ref=="object"&&(this.hover_thumbnail=new Pf(e.hover_thumbnail_ref))),e.static_thumbnail_ref&&(e.static_thumbnail_ref instanceof St?this.static_thumbnail_ref=e.static_thumbnail_ref.id:typeof e.static_thumbnail_ref=="object"&&(this.static_thumbnail=new Pf(e.static_thumbnail_ref)))}}class HR{constructor(e){this.id=e.id,this.context_span=e.context_span,this.datetime_weighted_value=e.datetime_weighted_value,this.event_ref=e.event_ref.id,this.stemmed_gram=e.stemmed_gram,this.unstemmed_gram=e.unstemmed_gram,this.value=e.value,typeof e.event_ref=="object"&&!(e.event_ref instanceof St)&&(this.event=new $c(e.event_ref))}}class XN extends Bn{constructor(e){super(Ce.IndexedEventGram,e)}async getMatchingGrams(e){const i=this.networkService.getDocuments(Ce.IndexedEventGram,[ki("stemmed_gram",bi.eq,e)]);return this.createModels(i,HR,`getMatchingGrams(${e})`)}async getKeyGramsForEvent(e){const i=this.networkService.getDocuments(Ce.IndexedEventGram,[ki("event_ref",bi.eq,Vi(Mt.getDb(),e)),Rn("value",Zi.desc),cu(5)]);return this.createModels(i,HR,`getKeyGramsForEvent(${e})`)}}class tx extends Bn{constructor(e){super(Ce.Event,e),this.indexedEventGramService=new XN(e)}async getEventById(e){const i=this.networkService.getDocument(e,Ce.Event,new tn([new Ii(Ce.Body,At.EventBodyRef)]));return this.createModel(i,$c,`getEventById(${e})`)}async getFullEventById(e){const i=this.networkService.getDocument(e,Ce.Event,new tn([new Ii(Ce.Body,At.EventBodyRef),new Ii(Ce.File,At.EventStaticThumbnailRef),new Ii(Ce.File,At.EventHoverThumbnailRef)]));return this.createModel(i,$c,`getFullEventById(${e})`)}async getEvents(e,i,n,r,o){if(i.length>10)return Promise.reject(new Error(`Number of bodies exceeded ${mE}.`));const a=[];if(i.length>0){const l=i.map(c=>Vi(Mt.getDb(),Ce.Body,c));a.push(ki(At.EventBodyRef,bi.in,l))}if(n.start){const l=nr.fromDate(n.start);a.push(ki("event_datetime",bi.gteq,l))}if(n.end){const l=new Date(n.end);l.setUTCDate(l.getUTCDate()+1);const c=nr.fromDate(l);a.push(ki("event_datetime",bi.lteq,c))}if(a.push(Rn(r.by,r.order)),o){const l=nr.fromDate(o);a.push(uE(l))}a.push(cu(e));const s=this.networkService.getDocuments(Ce.Event,a,new tn([new Ii(Ce.Body,At.EventBodyRef)]));return this.createModels(s,$c,`getEvents([${i}], ${JSON.stringify(n)}, ${JSON.stringify(r)}, ${o==null?void 0:o.toISOString}})`)}async getRenderableEvent(e){try{const n=(await this.indexedEventGramService.getKeyGramsForEvent(`${Ce.Event}/${e.id}`)).reduce((r,o)=>(o.unstemmed_gram!==void 0&&r.push(o.unstemmed_gram),r),[]);return Promise.resolve({...e,keyGrams:n})}catch(i){const n=Ca(i);return n.message=`eventService_getRenderableEvent(${JSON.stringify(e)})_${n.message}`,Promise.reject(n)}}}const hg=t=>{let e=t.replace(/[\t\n]+/g," ");return e=e.replace(/[\-\-]/g," "),e=e.replace(/['!"#$%&\\'()\*+,\-\.\/:;<=>?@\[\\\]\^_`{|}~']/g,""),e=e.replace(/\s{2,}/g," "),e.trim()};class nhe{constructor(e,i,n,r,o,a){this.eventRef=`${Ce.Event}/${e}`,this.pureRelevance=i,this.datetimeWeightedRelevance=n,this.containedGrams=r,this.selectedGram=o,this.selectedContextSpan=a}}class rhe{constructor(e){this.networkService=Mt.getInstance(e.options,e.settings),this.eventService=new tx(e),this.indexedEventGramService=new XN(e),this.serviceName="EventSearchService"}cleanText(e){const i=hg(e);return pg(i.split(" "))}getStemmedGrams(e){const i=this.cleanText(e),n=[];return Array.from([1,2,3]).forEach(r=>{NE(r)(i).forEach(a=>{n.push(a.map(s=>sw(s)).join(" ").toLowerCase())})}),n}async searchEvents(e){const n=this.getStemmedGrams(e).map(a=>this.indexedEventGramService.getMatchingGrams(a)),r=new Map,o=[];try{return await Promise.allSettled(n).then(a=>{a.forEach(s=>{if(s.status==="fulfilled")s.value.forEach(l=>{if(l.event_ref!==void 0){const c=r.get(l.event_ref);c===void 0?r.set(l.event_ref,[l]):c.push(l)}});else if(!(s.reason instanceof fE))throw s.reason});for(const[s,l]of r){const c=Vc.exports.maxBy(l,"value");let u="",f="";c&&(u=(c==null?void 0:c.context_span)||"",f=(c==null?void 0:c.unstemmed_gram)||"");const h=l.reduce((m,b)=>(b.unstemmed_gram!==void 0&&m.push(b.unstemmed_gram),m),[]);o.push(new nhe(s,Vc.exports.sumBy(l,"value"),Vc.exports.sumBy(l,"datetime_weighted_value"),h,f,u))}}),Promise.resolve(o)}catch(a){const s=Ca(a);return s.message=`${this.serviceName}_searchEvents(${e})_${s.message}`,Promise.reject(s)}}async getRenderableEvent(e){const i=e.eventRef.split("/")[1],n=this.eventService.getEventById(i),r=this.indexedEventGramService.getKeyGramsForEvent(e.eventRef);try{const[o,a]=await Promise.all([n,r]),s=a.reduce((l,c)=>(c.unstemmed_gram!==void 0&&l.push(c.unstemmed_gram),l),[]);return Promise.resolve({...e,event:o,keyGrams:s})}catch(o){const a=Ca(o);return a.message=`${this.serviceName}_getRenderableEvent(${e.eventRef})_${a.message}`,Promise.reject(a)}}}var JN={exports:{}};(function(t){t.exports=function(e){var i={};function n(r){if(i[r])return i[r].exports;var o=i[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=i,n.p="",n(0)}([function(e,i,n){e.exports=n(1)},function(e,i,n){Object.defineProperty(i,"__esModule",{value:!0});function r(s){return s&&s.__esModule?s:{default:s}}var o=n(2),a=r(o);i.default=a.default,e.exports=i.default},function(e,i,n){Object.defineProperty(i,"__esModule",{value:!0});var r=Object.assign||function(b){for(var w=1;w<arguments.length;w++){var g=arguments[w];for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&(b[A]=g[A])}return b};i.default=m;function o(b){return b&&b.__esModule?b:{default:b}}function a(b,w){var g={};for(var A in b)w.indexOf(A)>=0||!Object.prototype.hasOwnProperty.call(b,A)||(g[A]=b[A]);return g}var s=n(3),l=n(4),c=o(l),u=n(14),f=n(15),h=o(f);m.propTypes={activeClassName:c.default.string,activeIndex:c.default.number,activeStyle:c.default.object,autoEscape:c.default.bool,className:c.default.string,findChunks:c.default.func,highlightClassName:c.default.oneOfType([c.default.object,c.default.string]),highlightStyle:c.default.object,highlightTag:c.default.oneOfType([c.default.node,c.default.func,c.default.string]),sanitize:c.default.func,searchWords:c.default.arrayOf(c.default.oneOfType([c.default.string,c.default.instanceOf(RegExp)])).isRequired,textToHighlight:c.default.string.isRequired,unhighlightClassName:c.default.string,unhighlightStyle:c.default.object};function m(b){var w=b.activeClassName,g=w===void 0?"":w,A=b.activeIndex,x=A===void 0?-1:A,T=b.activeStyle,C=b.autoEscape,z=b.caseSensitive,L=z===void 0?!1:z,B=b.className,O=b.findChunks,F=b.highlightClassName,H=F===void 0?"":F,K=b.highlightStyle,fe=K===void 0?{}:K,Ae=b.highlightTag,Se=Ae===void 0?"mark":Ae,ke=b.sanitize,Oe=b.searchWords,Fe=b.textToHighlight,Ve=b.unhighlightClassName,Le=Ve===void 0?"":Ve,Me=b.unhighlightStyle,ce=a(b,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightClassName","unhighlightStyle"]),Z=(0,s.findAll)({autoEscape:C,caseSensitive:L,findChunks:O,sanitize:ke,searchWords:Oe,textToHighlight:Fe}),de=Se,ie=-1,se="",pe=void 0,xe=function(Ye){var $e={};for(var nt in Ye)$e[nt.toLowerCase()]=Ye[nt];return $e},we=(0,h.default)(xe);return(0,u.createElement)("span",r({className:B},ce,{children:Z.map(function(Pe,Ye){var $e=Fe.substr(Pe.start,Pe.end-Pe.start);if(Pe.highlight){ie++;var nt=void 0;typeof H=="object"?L?nt=H[$e]:(H=we(H),nt=H[$e.toLowerCase()]):nt=H;var Zt=ie===+x;se=nt+" "+(Zt?g:""),pe=Zt===!0&&T!=null?Object.assign({},fe,T):fe;var Lt={children:$e,className:se,key:Ye,style:pe};return typeof de!="string"&&(Lt.highlightIndex=ie),(0,u.createElement)(de,Lt)}else return(0,u.createElement)("span",{children:$e,className:Le,key:Ye,style:Me})})}))}e.exports=i.default},function(e,i){e.exports=function(n){var r={};function o(a){if(r[a])return r[a].exports;var s=r[a]={exports:{},id:a,loaded:!1};return n[a].call(s.exports,s,s.exports,o),s.loaded=!0,s.exports}return o.m=n,o.c=r,o.p="",o(0)}([function(n,r,o){n.exports=o(1)},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(2);Object.defineProperty(r,"combineChunks",{enumerable:!0,get:function(){return a.combineChunks}}),Object.defineProperty(r,"fillInChunks",{enumerable:!0,get:function(){return a.fillInChunks}}),Object.defineProperty(r,"findAll",{enumerable:!0,get:function(){return a.findAll}}),Object.defineProperty(r,"findChunks",{enumerable:!0,get:function(){return a.findChunks}})},function(n,r){Object.defineProperty(r,"__esModule",{value:!0}),r.findAll=function(f){var h=f.autoEscape,m=f.caseSensitive,b=m===void 0?!1:m,w=f.findChunks,g=w===void 0?a:w,A=f.sanitize,x=f.searchWords,T=f.textToHighlight;return s({chunksToHighlight:o({chunks:g({autoEscape:h,caseSensitive:b,sanitize:A,searchWords:x,textToHighlight:T})}),totalLength:T?T.length:0})};var o=r.combineChunks=function(f){var h=f.chunks;return h=h.sort(function(m,b){return m.start-b.start}).reduce(function(m,b){if(m.length===0)return[b];var w=m.pop();if(b.start<=w.end){var g=Math.max(w.end,b.end);m.push({start:w.start,end:g})}else m.push(w,b);return m},[]),h},a=function(f){var h=f.autoEscape,m=f.caseSensitive,b=f.sanitize,w=b===void 0?l:b,g=f.searchWords,A=f.textToHighlight;return A=w(A),g.filter(function(x){return x}).reduce(function(x,T){T=w(T),h&&(T=c(T));for(var C=new RegExp(T,m?"g":"gi"),z=void 0;z=C.exec(A);){var L=z.index,B=C.lastIndex;B>L&&x.push({start:L,end:B}),z.index==C.lastIndex&&C.lastIndex++}return x},[])};r.findChunks=a;var s=r.fillInChunks=function(f){var h=f.chunksToHighlight,m=f.totalLength,b=[],w=function(x,T,C){T-x>0&&b.push({start:x,end:T,highlight:C})};if(h.length===0)w(0,m,!1);else{var g=0;h.forEach(function(A){w(g,A.start,!1),w(A.start,A.end,!0),g=A.end}),w(g,m,!1)}return b};function l(u){return u}function c(u){return u.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}])},function(e,i,n){(function(r){e.exports=n(13)()}).call(i,n(5))},function(e,i){var n=e.exports={},r,o;function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=a}catch{r=a}try{typeof clearTimeout=="function"?o=clearTimeout:o=s}catch{o=s}})();function l(x){if(r===setTimeout)return setTimeout(x,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(x,0);try{return r(x,0)}catch{try{return r.call(null,x,0)}catch{return r.call(this,x,0)}}}function c(x){if(o===clearTimeout)return clearTimeout(x);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(x);try{return o(x)}catch{try{return o.call(null,x)}catch{return o.call(this,x)}}}var u=[],f=!1,h,m=-1;function b(){!f||!h||(f=!1,h.length?u=h.concat(u):m=-1,u.length&&w())}function w(){if(!f){var x=l(b);f=!0;for(var T=u.length;T;){for(h=u,u=[];++m<T;)h&&h[m].run();m=-1,T=u.length}h=null,f=!1,c(x)}}n.nextTick=function(x){var T=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)T[C-1]=arguments[C];u.push(new g(x,T)),u.length===1&&!f&&l(w)};function g(x,T){this.fun=x,this.array=T}g.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function A(){}n.on=A,n.addListener=A,n.once=A,n.off=A,n.removeListener=A,n.removeAllListeners=A,n.emit=A,n.prependListener=A,n.prependOnceListener=A,n.listeners=function(x){return[]},n.binding=function(x){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(x){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,i,n){(function(r){var o=n(7),a=n(8),s=n(9),l=n(10),c=n(11),u=n(12);e.exports=function(f,h){var m=typeof Symbol=="function"&&Symbol.iterator,b="@@iterator";function w(Z){var de=Z&&(m&&Z[m]||Z[b]);if(typeof de=="function")return de}var g="<<anonymous>>",A={array:z("array"),bool:z("boolean"),func:z("function"),number:z("number"),object:z("object"),string:z("string"),symbol:z("symbol"),any:L(),arrayOf:B,element:O(),instanceOf:F,node:Ae(),objectOf:K,oneOf:H,oneOfType:fe,shape:Se,exact:ke};function x(Z,de){return Z===de?Z!==0||1/Z===1/de:Z!==Z&&de!==de}function T(Z){this.message=Z,this.stack=""}T.prototype=Error.prototype;function C(Z){function de(se,pe,xe,we,Pe,Ye,$e){return we=we||g,Ye=Ye||xe,$e!==c&&h&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),pe[xe]==null?se?pe[xe]===null?new T("The "+Pe+" `"+Ye+"` is marked as required "+("in `"+we+"`, but its value is `null`.")):new T("The "+Pe+" `"+Ye+"` is marked as required in "+("`"+we+"`, but its value is `undefined`.")):null:Z(pe,xe,we,Pe,Ye)}var ie=de.bind(null,!1);return ie.isRequired=de.bind(null,!0),ie}function z(Z){function de(ie,se,pe,xe,we,Pe){var Ye=ie[se],$e=Ve(Ye);if($e!==Z){var nt=Le(Ye);return new T("Invalid "+xe+" `"+we+"` of type "+("`"+nt+"` supplied to `"+pe+"`, expected ")+("`"+Z+"`."))}return null}return C(de)}function L(){return C(o.thatReturnsNull)}function B(Z){function de(ie,se,pe,xe,we){if(typeof Z!="function")return new T("Property `"+we+"` of component `"+pe+"` has invalid PropType notation inside arrayOf.");var Pe=ie[se];if(!Array.isArray(Pe)){var Ye=Ve(Pe);return new T("Invalid "+xe+" `"+we+"` of type "+("`"+Ye+"` supplied to `"+pe+"`, expected an array."))}for(var $e=0;$e<Pe.length;$e++){var nt=Z(Pe,$e,pe,xe,we+"["+$e+"]",c);if(nt instanceof Error)return nt}return null}return C(de)}function O(){function Z(de,ie,se,pe,xe){var we=de[ie];if(!f(we)){var Pe=Ve(we);return new T("Invalid "+pe+" `"+xe+"` of type "+("`"+Pe+"` supplied to `"+se+"`, expected a single ReactElement."))}return null}return C(Z)}function F(Z){function de(ie,se,pe,xe,we){if(!(ie[se]instanceof Z)){var Pe=Z.name||g,Ye=ce(ie[se]);return new T("Invalid "+xe+" `"+we+"` of type "+("`"+Ye+"` supplied to `"+pe+"`, expected ")+("instance of `"+Pe+"`."))}return null}return C(de)}function H(Z){if(!Array.isArray(Z))return o.thatReturnsNull;function de(ie,se,pe,xe,we){for(var Pe=ie[se],Ye=0;Ye<Z.length;Ye++)if(x(Pe,Z[Ye]))return null;var $e=JSON.stringify(Z);return new T("Invalid "+xe+" `"+we+"` of value `"+Pe+"` "+("supplied to `"+pe+"`, expected one of "+$e+"."))}return C(de)}function K(Z){function de(ie,se,pe,xe,we){if(typeof Z!="function")return new T("Property `"+we+"` of component `"+pe+"` has invalid PropType notation inside objectOf.");var Pe=ie[se],Ye=Ve(Pe);if(Ye!=="object")return new T("Invalid "+xe+" `"+we+"` of type "+("`"+Ye+"` supplied to `"+pe+"`, expected an object."));for(var $e in Pe)if(Pe.hasOwnProperty($e)){var nt=Z(Pe,$e,pe,xe,we+"."+$e,c);if(nt instanceof Error)return nt}return null}return C(de)}function fe(Z){if(!Array.isArray(Z))return o.thatReturnsNull;for(var de=0;de<Z.length;de++){var ie=Z[de];if(typeof ie!="function")return s(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",Me(ie),de),o.thatReturnsNull}function se(pe,xe,we,Pe,Ye){for(var $e=0;$e<Z.length;$e++){var nt=Z[$e];if(nt(pe,xe,we,Pe,Ye,c)==null)return null}return new T("Invalid "+Pe+" `"+Ye+"` supplied to "+("`"+we+"`."))}return C(se)}function Ae(){function Z(de,ie,se,pe,xe){return Oe(de[ie])?null:new T("Invalid "+pe+" `"+xe+"` supplied to "+("`"+se+"`, expected a ReactNode."))}return C(Z)}function Se(Z){function de(ie,se,pe,xe,we){var Pe=ie[se],Ye=Ve(Pe);if(Ye!=="object")return new T("Invalid "+xe+" `"+we+"` of type `"+Ye+"` "+("supplied to `"+pe+"`, expected `object`."));for(var $e in Z){var nt=Z[$e];if(!!nt){var Zt=nt(Pe,$e,pe,xe,we+"."+$e,c);if(Zt)return Zt}}return null}return C(de)}function ke(Z){function de(ie,se,pe,xe,we){var Pe=ie[se],Ye=Ve(Pe);if(Ye!=="object")return new T("Invalid "+xe+" `"+we+"` of type `"+Ye+"` "+("supplied to `"+pe+"`, expected `object`."));var $e=l({},ie[se],Z);for(var nt in $e){var Zt=Z[nt];if(!Zt)return new T("Invalid "+xe+" `"+we+"` key `"+nt+"` supplied to `"+pe+"`.\nBad object: "+JSON.stringify(ie[se],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(Z),null,"  "));var Lt=Zt(Pe,nt,pe,xe,we+"."+nt,c);if(Lt)return Lt}return null}return C(de)}function Oe(Z){switch(typeof Z){case"number":case"string":case"undefined":return!0;case"boolean":return!Z;case"object":if(Array.isArray(Z))return Z.every(Oe);if(Z===null||f(Z))return!0;var de=w(Z);if(de){var ie=de.call(Z),se;if(de!==Z.entries){for(;!(se=ie.next()).done;)if(!Oe(se.value))return!1}else for(;!(se=ie.next()).done;){var pe=se.value;if(pe&&!Oe(pe[1]))return!1}}else return!1;return!0;default:return!1}}function Fe(Z,de){return Z==="symbol"||de["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&de instanceof Symbol}function Ve(Z){var de=typeof Z;return Array.isArray(Z)?"array":Z instanceof RegExp?"object":Fe(de,Z)?"symbol":de}function Le(Z){if(typeof Z=="undefined"||Z===null)return""+Z;var de=Ve(Z);if(de==="object"){if(Z instanceof Date)return"date";if(Z instanceof RegExp)return"regexp"}return de}function Me(Z){var de=Le(Z);switch(de){case"array":case"object":return"an "+de;case"boolean":case"date":case"regexp":return"a "+de;default:return de}}function ce(Z){return!Z.constructor||!Z.constructor.name?g:Z.constructor.name}return A.checkPropTypes=u,A.PropTypes=A,A}}).call(i,n(5))},function(e,i){function n(o){return function(){return o}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(o){return o},e.exports=r},function(e,i,n){(function(r){function o(a,s,l,c,u,f,h,m){if(!a){var b;if(s===void 0)b=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var w=[l,c,u,f,h,m],g=0;b=new Error(s.replace(/%s/g,function(){return w[g++]})),b.name="Invariant Violation"}throw b.framesToPop=1,b}}e.exports=o}).call(i,n(5))},function(e,i,n){(function(r){var o=n(7),a=o;e.exports=a}).call(i,n(5))},function(e,i){var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function s(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var c={},u=0;u<10;u++)c["_"+String.fromCharCode(u)]=u;var f=Object.getOwnPropertyNames(c).map(function(m){return c[m]});if(f.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(m){h[m]=m}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}e.exports=s()?Object.assign:function(l,c){for(var u,f=a(l),h,m=1;m<arguments.length;m++){u=Object(arguments[m]);for(var b in u)r.call(u,b)&&(f[b]=u[b]);if(n){h=n(u);for(var w=0;w<h.length;w++)o.call(u,h[w])&&(f[h[w]]=u[h[w]])}}return f}},function(e,i){var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,i,n){(function(r){function o(a,s,l,c,u){}e.exports=o}).call(i,n(5))},function(e,i,n){var r=n(7),o=n(8),a=n(11);e.exports=function(){function s(u,f,h,m,b,w){w!==a&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}s.isRequired=s;function l(){return s}var c={array:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:l,element:s,instanceOf:l,node:s,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l};return c.checkPropTypes=r,c.PropTypes=c,c}},function(e,i){e.exports=Y.exports},function(e,i){var n=function(a,s){return a===s};function r(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,s=void 0,l=[],c=void 0,u=!1,f=function(b,w){return a(b,l[w])},h=function(){for(var b=arguments.length,w=Array(b),g=0;g<b;g++)w[g]=arguments[g];return u&&s===this&&w.length===l.length&&w.every(f)||(u=!0,s=this,l=w,c=o.apply(this,w)),c};return h}e.exports=r}])})(JN);var ZN=eQ(JN.exports);class lw extends Bn{constructor(e){super(Ce.File,e)}async getFileById(e){const i=this.networkService.getDocument(e,Ce.File);return this.createModel(i,Pf,`getFileById(${e})`)}}var e7=Be.div({position:"absolute",height:"100%",width:"100%"});const ohe=KX`
  0% {
    transform: translateX(-100%);
  }
  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }
  100% {
    transform: translateX(100%);
  }
`,ahe=Be.div(t=>({position:"relative",width:"100%",height:"100%","& > div, & > div:nth-of-type(2):after":{position:"absolute",inset:0},"& > div:first-of-type":{opacity:t.isLoading?0:1},"& > div:nth-of-type(2)":{display:t.isLoading?"block":"none",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.11)",overflow:"hidden"},"& > div:nth-of-type(2):after":{content:'""',animation:`${ohe} 1.6s linear 0.5s infinite`,backgroundImage:"linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.04), transparent)",transform:"translateX(-100%)"}})),jE=({contentIsLoading:t,children:e,placeholderStyle:i})=>le(ahe,{isLoading:t,children:[P("div",{children:e}),P("div",{style:i})]}),No={lightgrey:"#DDDDDD",grey:"#595959",black:"#111111",white:"#FFFFFF",basicGrey:"#ececec",dark_blue:"#00458b"},cw=" \u2022 ",YR={COLORS:{ODD_CELL:No.white,EVEN_CELL:No.lightgrey,ACTIVE_UNDERLINE:No.dark_blue}},she=Be.section({marginBottom:0}),lhe=Be.div({position:"relative","& > img":{position:"absolute",inset:0},"& > img:first-of-type":{zIndex:1},"& > img:last-of-type":{zIndex:2,opacity:0},"& > img:last-of-type:hover":{opacity:1}}),t7=({event:t,tags:e,excerpt:i,gram:n,query:r})=>{var A,x,T,C,z;const{language:o}=Ko(),{firebaseConfig:a,municipality:s}=Li(),[l,c]=Y.exports.useState(!0),u=Y.exports.useCallback(async()=>{const L=new lw(a),{networkService:B}=L,O=[Promise.resolve(void 0),Promise.resolve(void 0)];t.static_thumbnail_ref&&(O[0]=L.getFileById(t.static_thumbnail_ref).then(K=>B.getDownloadUrl(K.uri)).catch(()=>Promise.resolve(void 0))),t.hover_thumbnail_ref&&(O[1]=L.getFileById(t.hover_thumbnail_ref).then(K=>B.getDownloadUrl(K.uri)).catch(()=>Promise.resolve(void 0)));const[F,H]=await Promise.all(O);return Promise.resolve({staticThumbNailUrl:F,hoverThumbNailUrl:H})},[a,t.static_thumbnail_ref,t.hover_thumbnail_ref]),{state:f}=pn({isLoading:!1,error:null,hasFetchRequest:!0},u),h=(A=t.event_datetime)==null?void 0:A.toLocaleDateString(o,{timeZone:s.timeZone,month:"long",day:"numeric",year:"numeric"}),m=(x=t.body)==null?void 0:x.name,b=Y.exports.useMemo(()=>{const L=hg(r||""),B=pg(L.split(" "));return n&&n.length>0&&B.push(n),B.length===0?[]:[new RegExp(`\\b(${B.join("|")})`,"g")]},[r,n]),w=`${(T=t.body)==null?void 0:T.name} - ${h}`,g=e.map(L=>L.toLowerCase()).join(cw);return P(she,{className:"mzp-c-card mzp-c-card-medium mzp-has-aspect-16-9",children:le("div",{className:"mzp-c-card-block-link",children:[P("div",{className:"mzp-c-card-media-wrapper",children:P(e7,{children:P(jE,{contentIsLoading:l,children:le(lhe,{children:[P("img",{className:"mzp-c-card-image",src:(C=f.data)==null?void 0:C.staticThumbNailUrl,alt:w,onLoad:()=>c(!1)}),P("img",{className:"mzp-c-card-image",src:(z=f.data)==null?void 0:z.hoverThumbNailUrl,alt:w})]})})})}),le("div",{className:"mzp-c-card-content",children:[P("div",{className:"mzp-c-card-tag",children:ze.committee}),P("h2",{className:"mzp-c-card-title",children:h}),P("p",{className:"mzp-c-card-desc",children:m}),i&&P("p",{className:"mzp-c-card-desc",style:{fontStyle:"italic",marginTop:"1rem"},children:P(ZN,{caseSensitive:!1,searchWords:b,textToHighlight:`"${i}"`})}),e.length>0&&le(Ir,{children:[P("p",{className:"mzp-c-card-meta",children:ze.keywords}),P("p",{className:"mzp-c-card-desc",children:g})]})]})]})})},che=Be.div({display:"flex",flexDirection:"column",gap:4,[`@media (min-width:${Ft.tablet})`]:{flexDirection:"row",flexWrap:"wrap","& > div:last-of-type:not(:first-of-type), & > button:last-of-type":{marginLeft:"auto"}}}),i7=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),n7=Be.button({display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%","& > svg":{marginLeft:24,width:16,height:16}});n7.displayName="TriggerButton";const r7=Be(Is)({maxWidth:"100% !important",boxShadow:"none !important",border:"2px solid #9595a2 !important"});r7.displayName="StyledPopup";const o7=Be(Is.Content)({flexGrow:1,overflowY:"auto",paddingLeft:"10px",paddingRight:"10px"});o7.displayName="ContentContainer";const a7=Be.div({maxHeight:"45vh",display:"flex",flexDirection:"column"});a7.displayName="PopupContainer";const s7=Be.div({display:"flex",justifyContent:"space-between",padding:".833em 0 0",minWidth:"256px"});s7.displayName="ButtonContainer";const Wk=({name:t,clear:e,getTextRep:i,isActive:n,popupIsOpen:r,setPopupIsOpen:o,handlePopupClose:a,closeOnChange:s,children:l,hasRequiredError:c,hasLimitError:u,limit:f})=>{const h=Y.exports.useRef(null),m=Vc.exports.some([c,u]),b=Y.exports.useMemo(()=>{const T=[];return c&&T.push(`Please select at least one ${t.toLowerCase()}.`),u&&T.push(`Please select only ${f} or fewer ${t.toLowerCase()}s.`),T},[c,u,t,f]),w=()=>o(!1),g=()=>{o(T=>!T)},A=()=>{o(!1),!m&&a&&a()},x=()=>{e()};return le(Y.exports.Fragment,{children:[P(r7,{basic:!0,flowing:!0,context:h.current||void 0,on:"click",open:r,onClose:w,pinned:!0,offset:[0,-5],position:"bottom left",positionFixed:!0,trigger:le(n7,{className:"mzp-c-button mzp-t-lg mzp-t-neutral",onClick:g,children:[i(),P(i7,{})]}),children:le(a7,{children:[P(o7,{children:l}),m&&P("div",{className:"mzp-c-form-errors",style:{margin:"24px 0"},children:P("ul",{className:"mzp-u-list-styled",children:b.map(T=>P("li",{children:T},T))})}),!s&&le(s7,{children:[P("button",{className:"mzp-c-button mzp-t-md mzp-t-neutral",disabled:!n(),onClick:x,children:ze.clear}),P("button",{className:"mzp-c-button mzp-t-md mzp-t-product",disabled:m,onClick:A,children:ze.save})]})]})}),P("div",{ref:h})]})};function Rf(t,e){if(isNaN(t.getTime()))return;const n=t.toLocaleString("en-US",{timeZone:e,timeZoneName:"short"}).split(" ").pop(),r=t.toLocaleString("en-US",{timeZone:"UTC",timeZoneName:"short"}).split(" ");return r.pop(),new Date(`${r.join(" ")} ${n}`)}const l7=(t,e)=>(i,n)=>{const r=Rf(new Date(i.start),e),o=Rf(new Date(i.end),e),a=r==null?void 0:r.toLocaleDateString(t,{timeZone:e,month:"short",day:"numeric",year:r.getUTCFullYear()===(o==null?void 0:o.getUTCFullYear())?void 0:"numeric"}),s=o==null?void 0:o.toLocaleDateString(t,{timeZone:e,month:"short",day:"numeric",year:"numeric"});let l;return r&&o?l=`${a} - ${s}`:r?l=`${a} -`:o?l=`- ${s}`:l=n,l},uhe=({state:t,update:e})=>{const i=n=>{const r=n.currentTarget.name,o=n.currentTarget.value;e(r,o)};return le(cC,{className:"mzp-c-form",children:[le("div",{className:"mzp-c-field",children:[P("label",{className:"mzp-c-field-label",htmlFor:"form-input-control-start-date",children:"From"}),P("input",{className:"mzp-c-field-control",type:"date",name:"start",id:"form-input-control-start-date",value:t.start,onChange:i})]}),le("div",{className:"mzp-c-field",children:[P("label",{className:"mzp-c-field-label",htmlFor:"form-input-control-end-date",children:"To"}),P("input",{className:"mzp-c-field-control",type:"date",name:"end",id:"form-input-control-end-date",value:t.end,onChange:i})]})]})},dhe=({sortOptions:t,state:e,update:i,onPopupClose:n})=>{const r=o=>{const[a,s]=o.currentTarget.value.split("#");if(i("by",a),i("order",s),o.currentTarget.parentNode){const l=o.currentTarget.parentNode.textContent;l&&i("label",l)}n()};return P(cC,{className:"mzp-c-form",children:P("fieldset",{className:"mzp-c-field-set",children:P("div",{className:"mzp-c-choices",children:t.map(o=>le("div",{className:"mzp-c-choice",children:[P("input",{className:"mzp-c-choice-control",type:"radio",id:`form-checkbox-control-${o.label}`,value:`${o.by}#${o.order}`,checked:e.label===o.label,onChange:r}),P("label",{className:"mzp-c-choice-label",htmlFor:`form-checkbox-control-${o.label}`,children:o.label})]},o.label))})})})},c7=(t,e)=>{let i=e;return t.by&&t.order&&t.label&&(i=t.label),i},u7=({allBodies:t,filters:e,sortOptions:i,handlePopupClose:n})=>{const[r,o,a]=e,[s,l]=Y.exports.useState(""),c=()=>t.map(f=>({name:f.id,label:f.name,disabled:!1})),u=()=>{a.setPopupIsOpen(!1),n()};return le(che,{children:[P("div",{children:P(Wk,{name:r.name,clear:r.clear,getTextRep:r.getTextRep,isActive:r.isActive,popupIsOpen:r.popupIsOpen,setPopupIsOpen:r.setPopupIsOpen,handlePopupClose:n,closeOnChange:!1,hasLimitError:r.hasLimitError(),limit:r.limit,children:P(IJ,{name:r.name,state:r.state,update:r.update,options:c(),optionQuery:s,setOptionQuery:l})})}),P("div",{children:P(Wk,{name:o.name,clear:o.clear,getTextRep:o.getTextRep,isActive:o.isActive,popupIsOpen:o.popupIsOpen,setPopupIsOpen:o.setPopupIsOpen,handlePopupClose:n,closeOnChange:!1,children:P(uhe,{state:o.state,update:o.update})})}),P("div",{children:P(Wk,{name:a.name,clear:a.clear,getTextRep:a.getTextRep,isActive:a.isActive,popupIsOpen:a.popupIsOpen,setPopupIsOpen:a.setPopupIsOpen,handlePopupClose:n,closeOnChange:!0,children:P(dhe,{sortOptions:i,state:a.state,update:a.update,onPopupClose:u})})})]})},Er={font_size_1:"0.625rem",font_size_2:"0.75rem",font_size_3:"0.8125rem",font_size_4:"0.875rem",font_size_5:"1rem",font_size_6:"1.125rem",font_size_7:"1.25rem",font_size_8:"1.5rem",font_size_9:"1.625rem",font_size_10:"1.75rem"},hm=Be.p({fontSize:Er.font_size_6}),d7=Be.div({display:"flex",flexDirection:"column",gap:32}),f7=({placeholder:t,query:e,setQuery:i,handleSearch:n})=>P("form",{className:"mzp-c-form",role:"search",onSubmit:a=>{a.preventDefault(),n()},children:P("input",{type:"search",placeholder:t,required:!0,"aria-required":!0,value:e,onChange:a=>i(a.target.value)})}),p7=Be.div({display:"flex",flexDirection:"column",rowGap:32,"& > h1, & form, & input":{marginBottom:0},"& input":{width:"100%"},[`@media (min-width:${Ft.tablet})`]:{flexDirection:"row",justifyContent:"space-between",alignItems:"center","& input":{width:"auto"}}}),ix=Be.div(t=>({visibility:t.isVisible?"visible":"hidden","& > button":{width:"100%"},"& .ui.loader":{marginLeft:16},[`@media (min-width:${Ft.tablet})`]:{"& > button":{width:"auto"}}})),fhe=Be.div({display:"grid",gap:64,gridTemplateColumns:"1fr",[`@media (min-width:${Ft.tablet})`]:{justifyContent:"space-between",gridTemplateColumns:`repeat(${2}, 1fr)`},[`@media (min-width:${Ft.desktop})`]:{gridTemplateColumns:`repeat(${3}, 1fr)`}}),UE=({cards:t})=>P(fhe,{children:t.map(({link:e,jsx:i,searchQuery:n})=>P("div",{children:P(mn,{to:{pathname:e,state:{query:n||""}},style:{textDecoration:"none",color:No.black,fontSize:Er.font_size_6},children:i})},e))});var phe="/cdp-frontend/assets/dave-hoefler-reduced-1.51b148fe.jpg",hhe="/cdp-frontend/assets/dave-hoefler-reduced-2.22148879.jpg",mhe="/cdp-frontend/assets/dave-hoefler-reduced-3.796c3192.jpg",ghe="/cdp-frontend/assets/dave-hoefler-reduced-4.d61f5fac.jpg",bhe="/cdp-frontend/assets/dave-hoefler-reduced-5.8b230200.jpg";const vhe=["en","de","es"],h7=10,uw=[phe,hhe,mhe,ghe,bhe],yhe=({searchEventsState:t,bodies:e})=>{const{firebaseConfig:i,municipality:n}=Li(),{language:r}=Ko(),o=Y.exports.useRef(t.query),[a,s]=Y.exports.useState(t.query);Zf(o.current?`${ze.events} -- ${o.current}`:ze.events);const l=jc({name:ze.date,initialState:t.dateRange,defaultDataValue:"",textRepFunction:l7(r,n.timeZone)}),c=jc({name:ze.committee,initialState:t.committees,defaultDataValue:!1,textRepFunction:X8,limit:mE}),u=jc({name:"Sort",initialState:{by:"datetimeWeightedRelevance",order:Zi.desc,label:ze.most_relevant_first},defaultDataValue:"",textRepFunction:c7}),f=Y.exports.useCallback(async()=>{const C=new rhe(i),z=await C.searchEvents(a),L=await Promise.all(z.map(F=>C.getRenderableEvent(F))),B=lC(c.state);let O=L.filter(({event:F})=>{var fe;if(B.length&&(!((fe=F.body)!=null&&fe.id)||!B.includes(F.body.id)))return!1;const H=Rf(new Date(l.state.start),n.timeZone),K=Rf(new Date(l.state.end),n.timeZone);if(H||K){if(!F.event_datetime||H&&F.event_datetime<H)return!1;if(K){const Ae=new Date(K);if(Ae.setUTCDate(Ae.getUTCDate()+1),F.event_datetime>Ae)return!1}}return!0});return O=Vc.exports.orderBy(O,[u.state.by],[u.state.order]),Promise.resolve(O)},[a,c.state,l.state,u.state,i,n.timeZone]),h=Fa.exports.useMediaQuery({query:`(min-width: ${Ft.desktop})`}),[m,b]=Fpe({batchSize:h7-(h?1:0),visibleCount:0,cards:[],fetchCards:!0,error:null},f),w=Xf(),g=Y.exports.useCallback(()=>{o.current=a;const C=`?q=${a.trim().replace(/\s+/g,"+")}`;history.pushState({},"",`#${w.pathname}${C}`),b({type:f2.FETCH_CARDS})},[a,w,b]),A=Y.exports.useCallback(()=>b({type:f2.SHOW_MORE_CARDS}),[b]),x=Y.exports.useMemo(()=>{if(m.fetchCards)return P(Pa,{active:!0,size:"massive"});if(m.error)return P(hm,{children:m.error.toString()});if(m.cards.length===0)return P(hm,{children:ze.no_results_found});{const C=m.cards.slice(0,m.visibleCount).map(({event:z,keyGrams:L,selectedContextSpan:B,selectedGram:O})=>({link:`/${Jr.EVENT}/${z.id}`,jsx:P(t7,{event:z,tags:L,excerpt:B,gram:O,query:o.current}),searchQuery:o.current}));return le(Ir,{children:[P(hm,{children:`${m.cards.length} ${Jr.EVENT}`}),P(UE,{cards:C})]})}},[m.fetchCards,m.error,m.cards,m.visibleCount]),T=Y.exports.useMemo(()=>m.visibleCount<m.cards.length&&!m.fetchCards,[m]);return le(d7,{children:[le(p7,{children:[P("h1",{className:"mzp-u-title-sm",children:ze.event_search_results}),P(f7,{placeholder:ze.search_topic_placeholder,query:a,setQuery:s,handleSearch:g})]}),P(u7,{allBodies:e,filters:[c,l,u],sortOptions:[{by:"datetimeWeightedRelevance",order:Zi.desc,label:ze.most_relevant_first},{by:"pureRelevance",order:Zi.desc,label:ze.closest_match_first},{by:"event.event_datetime",order:Zi.desc,label:ze.newest_first},{by:"event.event_datetime",order:Zi.asc,label:ze.oldest_first}],handlePopupClose:g}),le("p",{style:{fontSize:Er.font_size_5},children:[ze.disclaimer_start," ",P("a",{rel:"noopener noreferrer license external",href:"https://cloud.google.com/speech-to-text",target:"_blank",children:"Google Speech-to-Text"})," ",ze.disclaimer_end]}),x,P(ix,{isVisible:T,children:P("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:A,children:ze.show_more})})]})},whe=()=>{const t=Xf(),e=Y.exports.useMemo(()=>{if(t.state)return t.state;const{q:o}=pA.parse(t.search);return{query:o||" ",committees:{},dateRange:{start:"",end:""}}},[t]),{firebaseConfig:i}=Li(),n=Y.exports.useCallback(async()=>{const a=await new bF(i).getAllBodies();return Promise.resolve({bodies:a,searchEventsState:e})},[i,e]),{state:r}=pn({isLoading:!1,error:null,hasFetchRequest:!0},n);return P(hp,{isLoading:r.isLoading,error:r.error,children:r.data&&P(yhe,{...r.data})})};class m7{constructor(e){this.id=e.id,this.event_ref=e.event_ref.id,this.session_datetime=Ea(e.session_datetime),this.session_index=e.session_index,this.video_uri=e.video_uri,e.caption_uri&&(this.caption_uri=e.caption_uri),typeof e.event_ref=="object"&&!(e.event_ref instanceof St)&&(this.event=new $c(e.event_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id)}}class Ahe extends Bn{constructor(e){super(Ce.Session,e)}async getSessionsByEventId(e){const i=this.networkService.getDocuments(Ce.Session,[ki(At.SessionEventRef,bi.eq,Vi(Mt.getDb(),Ce.Event,e)),Rn("session_index")]);return this.createModels(i,m7,`getSessionsByEventId(${e})`)}}class xhe{constructor(e){this.id=e.id,this.confidence=e.confidence,this.generator=e.generator,this.created=Ea(e.created),this.file_ref=e.file_ref.id,this.session_ref=e.session_ref.id,typeof e.file_ref=="object"&&!(e.file_ref instanceof St)&&(this.file=new Pf(e.file_ref)),typeof e.session_ref=="object"&&!(e.session_ref instanceof St)&&(this.session=new m7(e.session_ref))}}class khe extends Bn{constructor(e){super(Ce.Transcript,e)}async getTranscriptBySessionId(e){const i=this.networkService.getDocuments(Ce.Transcript,[ki(At.TranscriptSessionRef,bi.eq,Vi(Mt.getDb(),Ce.Session,e)),Rn("confidence",Zi.desc),cu(1)],new tn([new Ii(Ce.File,At.TranscriptFileRef)]));return this.createModels(i,xhe,`getTranscriptBySessionId(${e})`)}}class lb{constructor(e){this.id=e.id,this.matter_type=e.matter_type,this.name=e.name,this.title=e.title,e.external_source_id&&(this.external_source_id=e.external_source_id)}}class _he{constructor(e){this.id=e.id,this.name=e.name,e.description&&(this.description=e.description),e.external_source_id&&(this.external_source_id=e.external_source_id),e.matter_ref&&(e.matter_ref instanceof St?this.matter_ref=e.matter_ref.id:typeof e.matter_ref=="object"&&(this.matter=new lb(e.matter_ref)))}}class nx{constructor(e){this.id=e.id,e.decision&&(this.decision=e.decision),this.event_ref=e.event_ref.id,typeof e.event_ref=="object"&&!(e.event_ref instanceof St)&&(this.event=new $c(e.event_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id),this.index=e.index,this.minutes_item_ref=e.minutes_item_ref.id,typeof e.minutes_item_ref=="object"&&!(e.minutes_item_ref instanceof St)&&(this.minutes_item=new _he(e.minutes_item_ref))}}class The extends Bn{constructor(e){super(Ce.EventMinutesItem,e)}async getEventMinutesItemsByEventId(e){const i=this.networkService.getDocuments(Ce.EventMinutesItem,[ki(At.EventMinutesItemEventRef,bi.eq,Vi(Mt.getDb(),Ce.Event,e)),Rn("index")],new tn([new Ii(Ce.MinutesItem,At.EventMinutesItemMinutesItemRef)]));return this.createModels(i,nx,`getEventMinutesItemsByEventId(${e})`)}}class She{constructor(e){this.id=e.id,this.event_minutes_item_ref=e.event_minutes_item_ref.id,typeof e.event_minutes_item_ref=="object"&&!(e.event_minutes_item_ref instanceof St)&&(this.event_minutes_item=new nx(e.event_minutes_item_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id),this.name=e.name,this.uri=e.uri}}class g7 extends Bn{constructor(e){super(Ce.EventMinutesItemFile,e)}async getEventMinutesItemFilesByEventMinutesItemId(e){const i=this.networkService.getDocuments(Ce.EventMinutesItemFile,[ki(At.EventMinutesItemFileEventMinutesItemRef,bi.eq,Vi(Mt.getDb(),Ce.EventMinutesItem,e)),Rn("name")]);try{return this.createModels(i,She,`getEventMinutesItemFilesByEventMinutesItemId(${e})`)}catch{return Promise.resolve([])}}}class rx{constructor(e){this.id=e.id,this.is_active=e.is_active,this.name=e.name,this.router_string=e.router_string,e.email&&(this.email=e.email),e.phone&&(this.phone=e.phone),e.website&&(this.website=e.website),e.picture_ref&&(e.picture_ref instanceof St?this.picture_ref=e.picture_ref.id:typeof e.picture_ref=="object"&&(this.picture=new Pf(e.picture_ref))),e.external_source_id&&(this.external_source_id=e.external_source_id)}}class Vk{constructor(e){this.id=e.id,this.event_minutes_item_ref=e.event_minutes_item_ref.id,this.event_ref=e.event_ref.id,this.matter_ref=e.matter_ref.id,this.person_ref=e.person_ref.id,this.decision=e.decision,typeof e.event_ref=="object"&&!(e.event_ref instanceof St)&&(this.event=new $c(e.event_ref)),typeof e.event_minutes_item_ref=="object"&&!(e.event_minutes_item_ref instanceof St)&&(this.event_minutes_item=new nx(e.event_minutes_item_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id),e.in_majority&&(this.in_majority=e.in_majority),typeof e.matter_ref=="object"&&!(e.matter_ref instanceof St)&&(this.matter=new lb(e.matter_ref)),typeof e.person_ref=="object"&&!(e.person_ref instanceof St)&&(this.person=new rx(e.person_ref))}}class ox extends Bn{constructor(e){super(Ce.Vote,e)}async getVotesByEventId(e){const i=this.networkService.getDocuments(Ce.Vote,[ki(At.VoteEventRef,bi.eq,Vi(Mt.getDb(),Ce.Event,e)),Rn(At.VotePersonRef)],new tn([new Ii(Ce.Person,At.VotePersonRef)]));return this.createModels(i,Vk,`getVotesByEventId(${e})`)}async getVotesByEventMinutesItemId(e){const i=this.networkService.getDocuments(Ce.Vote,[ki(At.VoteEventMinutesItemRef,bi.eq,Vi(Mt.getDb(),Ce.EventMinutesItem,e))],new tn([new Ii(Ce.Person,At.VotePersonRef)]));return this.createModels(i,Vk,`getVotesByEventMinutesItemId(${e})`)}async getFullyPopulatedVotesByPersonId(e,i,n){const r=new Ii(Ce.Matter,At.VoteMatterRef),o=new Ii(Ce.Body,At.EventBodyRef),a=new tn([o]),s=new Ii(Ce.Event,At.VoteEventRef,a),l=new Ii(Ce.EventMinutesItem,At.VoteEventMinutesItemRef),c=[];if(c.push(ki(At.VotePersonRef,bi.eq,Vi(Mt.getDb(),Ce.Person,e))),c.push(Rn(At.VoteEventRef,Zi.asc)),n){const f=Vi(Mt.getDb(),Ce.Vote,n),h=await dE(f);c.push(uE(h))}c.push(cu(i));const u=this.networkService.getDocuments(Ce.Vote,c,new tn([r,s,l]));return this.createModels(u,Vk,`getFullyPopulatedVotesByPersonId(${e})`)}}class Che{constructor(e){this.confidence=e.confidence,this.generator=e.generator,this.created_datetime=Ea(e.created_datetime),this.sentences=e.sentences,e.session_datetime&&(this.session_datetime=Ea(e.session_datetime)),e.annotations&&(this.annotations=e.annotations)}}class Ehe extends Bn{constructor(e){super(Ce.TranscriptJSON,e)}async download(e){const i=this.networkService.downloadJson(e);return this.createModel(i,Che,`download(${e})`)}}const cb=({data:t,isLoading:e,error:i,notFound:n,children:r})=>e?P("p",{children:`Fetching ${t}...`}):i?P("p",{children:i.message}):n?P("p",{children:`No ${t} found.`}):P(Ir,{children:r});function Ui(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p2(t){return p2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p2(t)}function oo(t,e){if(e&&(p2(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oe(t)}function ar(t){return ar=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},ar(t)}function Pr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&Pm(t,e)}function re(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function b7(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function v7(t){function e(i){var n=this.constructor.getDerivedStateFromProps(t,i);return n!=null?n:null}this.setState(e.bind(this))}function y7(t,e){try{var i=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(i,n)}finally{this.props=i,this.state=n}}b7.__suppressDeprecationWarning=!0;v7.__suppressDeprecationWarning=!0;y7.__suppressDeprecationWarning=!0;function ub(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var i=null,n=null,r=null;if(typeof e.componentWillMount=="function"?i="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(i="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?r="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),i!==null||n!==null||r!==null){var o=t.displayName||t.name,a=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(i!==null?`
  `+i:"")+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=b7,e.componentWillReceiveProps=v7),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=y7;var s=e.componentDidUpdate;e.componentDidUpdate=function(c,u,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;s.call(this,c,u,h)}}return t}function WR(t){var e=t.cellCount,i=t.cellSize,n=t.computeMetadataCallback,r=t.computeMetadataCallbackProps,o=t.nextCellsCount,a=t.nextCellSize,s=t.nextScrollToIndex,l=t.scrollToIndex,c=t.updateScrollOffsetForScrollToIndex;(e!==o||(typeof i=="number"||typeof a=="number")&&i!==a)&&(n(r),l>=0&&l===s&&c())}function Hh(t,e){if(t==null)return{};var i=yu(t,e),n,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(i[n]=t[n]))}return i}var zhe=function(){function t(e){var i=e.cellCount,n=e.cellSizeGetter,r=e.estimatedCellSize;Ui(this,t),re(this,"_cellSizeAndPositionData",{}),re(this,"_lastMeasuredIndex",-1),re(this,"_lastBatchedIndex",-1),re(this,"_cellCount",void 0),re(this,"_cellSizeGetter",void 0),re(this,"_estimatedCellSize",void 0),this._cellSizeGetter=n,this._cellCount=i,this._estimatedCellSize=r}return ji(t,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(i){var n=i.cellCount,r=i.estimatedCellSize,o=i.cellSizeGetter;this._cellCount=n,this._estimatedCellSize=r,this._cellSizeGetter=o}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(i){if(i<0||i>=this._cellCount)throw Error("Requested index ".concat(i," is outside of range 0..").concat(this._cellCount));if(i>this._lastMeasuredIndex)for(var n=this.getSizeAndPositionOfLastMeasuredCell(),r=n.offset+n.size,o=this._lastMeasuredIndex+1;o<=i;o++){var a=this._cellSizeGetter({index:o});if(a===void 0||isNaN(a))throw Error("Invalid size returned for cell ".concat(o," of value ").concat(a));a===null?(this._cellSizeAndPositionData[o]={offset:r,size:0},this._lastBatchedIndex=i):(this._cellSizeAndPositionData[o]={offset:r,size:a},r+=a,this._lastMeasuredIndex=i)}return this._cellSizeAndPositionData[i]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var i=this.getSizeAndPositionOfLastMeasuredCell(),n=i.offset+i.size,r=this._cellCount-this._lastMeasuredIndex-1,o=r*this._estimatedCellSize;return n+o}},{key:"getUpdatedOffsetForIndex",value:function(i){var n=i.align,r=n===void 0?"auto":n,o=i.containerSize,a=i.currentOffset,s=i.targetIndex;if(o<=0)return 0;var l=this.getSizeAndPositionOfCell(s),c=l.offset,u=c-o+l.size,f;switch(r){case"start":f=c;break;case"end":f=u;break;case"center":f=c-(o-l.size)/2;break;default:f=Math.max(u,Math.min(c,a));break}var h=this.getTotalSize();return Math.max(0,Math.min(h-o,f))}},{key:"getVisibleCellRange",value:function(i){var n=i.containerSize,r=i.offset,o=this.getTotalSize();if(o===0)return{};var a=r+n,s=this._findNearestCell(r),l=this.getSizeAndPositionOfCell(s);r=l.offset+l.size;for(var c=s;r<a&&c<this._cellCount-1;)c++,r+=this.getSizeAndPositionOfCell(c).size;return{start:s,stop:c}}},{key:"resetCell",value:function(i){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,i-1)}},{key:"_binarySearch",value:function(i,n,r){for(;n<=i;){var o=n+Math.floor((i-n)/2),a=this.getSizeAndPositionOfCell(o).offset;if(a===r)return o;a<r?n=o+1:a>r&&(i=o-1)}return n>0?n-1:0}},{key:"_exponentialSearch",value:function(i,n){for(var r=1;i<this._cellCount&&this.getSizeAndPositionOfCell(i).offset<n;)i+=r,r*=2;return this._binarySearch(Math.min(i,this._cellCount-1),Math.floor(i/2),n)}},{key:"_findNearestCell",value:function(i){if(isNaN(i))throw Error("Invalid offset ".concat(i," specified"));i=Math.max(0,i);var n=this.getSizeAndPositionOfLastMeasuredCell(),r=Math.max(0,this._lastMeasuredIndex);return n.offset>=i?this._binarySearch(r,0,i):this._exponentialSearch(r,i)}}]),t}(),Ihe=15e5,Phe=16777100,Rhe=function(){return typeof window!="undefined"},Lhe=function(){return!!window.chrome},Ohe=function(){return Rhe()&&Lhe()?Phe:Ihe},VR=function(){function t(e){var i=e.maxScrollSize,n=i===void 0?Ohe():i,r=Hh(e,["maxScrollSize"]);Ui(this,t),re(this,"_cellSizeAndPositionManager",void 0),re(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new zhe(r),this._maxScrollSize=n}return ji(t,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(i){this._cellSizeAndPositionManager.configure(i)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(i){var n=i.containerSize,r=i.offset,o=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize(),s=this._getOffsetPercentage({containerSize:n,offset:r,totalSize:a});return Math.round(s*(a-o))}},{key:"getSizeAndPositionOfCell",value:function(i){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(i)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(i){var n=i.align,r=n===void 0?"auto":n,o=i.containerSize,a=i.currentOffset,s=i.targetIndex;a=this._safeOffsetToOffset({containerSize:o,offset:a});var l=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:o,currentOffset:a,targetIndex:s});return this._offsetToSafeOffset({containerSize:o,offset:l})}},{key:"getVisibleCellRange",value:function(i){var n=i.containerSize,r=i.offset;return r=this._safeOffsetToOffset({containerSize:n,offset:r}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:n,offset:r})}},{key:"resetCell",value:function(i){this._cellSizeAndPositionManager.resetCell(i)}},{key:"_getOffsetPercentage",value:function(i){var n=i.containerSize,r=i.offset,o=i.totalSize;return o<=n?0:r/(o-n)}},{key:"_offsetToSafeOffset",value:function(i){var n=i.containerSize,r=i.offset,o=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize();if(o===a)return r;var s=this._getOffsetPercentage({containerSize:n,offset:r,totalSize:o});return Math.round(s*(a-n))}},{key:"_safeOffsetToOffset",value:function(i){var n=i.containerSize,r=i.offset,o=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize();if(o===a)return r;var s=this._getOffsetPercentage({containerSize:n,offset:r,totalSize:a});return Math.round(s*(o-n))}}]),t}();function Lf(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e={};return function(i){var n=i.callback,r=i.indices,o=Object.keys(r),a=!t||o.every(function(l){var c=r[l];return Array.isArray(c)?c.length>0:c>=0}),s=o.length!==Object.keys(e).length||o.some(function(l){var c=e[l],u=r[l];return Array.isArray(u)?c.join(",")!==u.join(","):c!==u});e=r,a&&s&&n(r)}}var cv=-1,as=1;function Dhe(t){var e=t.cellCount,i=t.overscanCellsCount,n=t.scrollDirection,r=t.startIndex,o=t.stopIndex;return n===as?{overscanStartIndex:Math.max(0,r),overscanStopIndex:Math.min(e-1,o+i)}:{overscanStartIndex:Math.max(0,r-i),overscanStopIndex:Math.min(e-1,o)}}function $R(t){var e=t.cellSize,i=t.cellSizeAndPositionManager,n=t.previousCellsCount,r=t.previousCellSize,o=t.previousScrollToAlignment,a=t.previousScrollToIndex,s=t.previousSize,l=t.scrollOffset,c=t.scrollToAlignment,u=t.scrollToIndex,f=t.size,h=t.sizeJustIncreasedFromZero,m=t.updateScrollIndexCallback,b=i.getCellCount(),w=u>=0&&u<b,g=f!==s||h||!r||typeof e=="number"&&e!==r;w&&(g||c!==o||u!==a)?m(u):!w&&b>0&&(f<s||b<n)&&l>i.getTotalSize()-f&&m(b-1)}function Mhe(t){for(var e=t.cellCache,i=t.cellRenderer,n=t.columnSizeAndPositionManager,r=t.columnStartIndex,o=t.columnStopIndex,a=t.deferredMeasurementCache,s=t.horizontalOffsetAdjustment,l=t.isScrolling,c=t.isScrollingOptOut,u=t.parent,f=t.rowSizeAndPositionManager,h=t.rowStartIndex,m=t.rowStopIndex,b=t.styleCache,w=t.verticalOffsetAdjustment,g=t.visibleColumnIndices,A=t.visibleRowIndices,x=[],T=n.areOffsetsAdjusted()||f.areOffsetsAdjusted(),C=!l&&!T,z=h;z<=m;z++)for(var L=f.getSizeAndPositionOfCell(z),B=r;B<=o;B++){var O=n.getSizeAndPositionOfCell(B),F=B>=g.start&&B<=g.stop&&z>=A.start&&z<=A.stop,H="".concat(z,"-").concat(B),K=void 0;C&&b[H]?K=b[H]:a&&!a.has(z,B)?K={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(K={height:L.size,left:O.offset+s,position:"absolute",top:L.offset+w,width:O.size},b[H]=K);var fe={columnIndex:B,isScrolling:l,isVisible:F,key:H,parent:u,rowIndex:z,style:K},Ae=void 0;(c||l)&&!s&&!w?(e[H]||(e[H]=i(fe)),Ae=e[H]):Ae=i(fe),!(Ae==null||Ae===!1)&&x.push(Ae)}return x}var Bhe=!!(typeof window!="undefined"&&window.document&&window.document.createElement),uv;function h2(t){if((!uv&&uv!==0||t)&&Bhe){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),uv=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return uv}var qn;typeof window!="undefined"?qn=window:typeof self!="undefined"?qn=self:qn={};var Fhe=qn.requestAnimationFrame||qn.webkitRequestAnimationFrame||qn.mozRequestAnimationFrame||qn.oRequestAnimationFrame||qn.msRequestAnimationFrame||function(t){return qn.setTimeout(t,1e3/60)},Nhe=qn.cancelAnimationFrame||qn.webkitCancelAnimationFrame||qn.mozCancelAnimationFrame||qn.oCancelAnimationFrame||qn.msCancelAnimationFrame||function(t){qn.clearTimeout(t)},QR=Fhe,jhe=Nhe,Of=function(e){return jhe(e.id)},GE=function(e,i){var n;Promise.resolve().then(function(){n=Date.now()});var r=function a(){Date.now()-n>=i?e.call():o.id=QR(a)},o={id:QR(r)};return o},qR,KR;function XR(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function gc(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?XR(i,!0).forEach(function(n){re(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):XR(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var Uhe=150,$k={OBSERVED:"observed",REQUESTED:"requested"},Ghe=function(){return null},fl=(KR=qR=function(t){Pr(e,t);function e(i){var n;Ui(this,e),n=oo(this,ar(e).call(this,i)),re(oe(n),"_onGridRenderedMemoizer",Lf()),re(oe(n),"_onScrollMemoizer",Lf(!1)),re(oe(n),"_deferredInvalidateColumnIndex",null),re(oe(n),"_deferredInvalidateRowIndex",null),re(oe(n),"_recomputeScrollLeftFlag",!1),re(oe(n),"_recomputeScrollTopFlag",!1),re(oe(n),"_horizontalScrollBarSize",0),re(oe(n),"_verticalScrollBarSize",0),re(oe(n),"_scrollbarPresenceChanged",!1),re(oe(n),"_scrollingContainer",void 0),re(oe(n),"_childrenToDisplay",void 0),re(oe(n),"_columnStartIndex",void 0),re(oe(n),"_columnStopIndex",void 0),re(oe(n),"_rowStartIndex",void 0),re(oe(n),"_rowStopIndex",void 0),re(oe(n),"_renderedColumnStartIndex",0),re(oe(n),"_renderedColumnStopIndex",0),re(oe(n),"_renderedRowStartIndex",0),re(oe(n),"_renderedRowStopIndex",0),re(oe(n),"_initialScrollTop",void 0),re(oe(n),"_initialScrollLeft",void 0),re(oe(n),"_disablePointerEventsTimeoutId",void 0),re(oe(n),"_styleCache",{}),re(oe(n),"_cellCache",{}),re(oe(n),"_debounceScrollEndedCallback",function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})}),re(oe(n),"_invokeOnGridRenderedHelper",function(){var a=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:a,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})}),re(oe(n),"_setScrollingContainerRef",function(a){n._scrollingContainer=a}),re(oe(n),"_onScroll",function(a){a.target===n._scrollingContainer&&n.handleScrollEvent(a.target)});var r=new VR({cellCount:i.columnCount,cellSizeGetter:function(s){return e._wrapSizeGetter(i.columnWidth)(s)},estimatedCellSize:e._getEstimatedColumnSize(i)}),o=new VR({cellCount:i.rowCount,cellSizeGetter:function(s){return e._wrapSizeGetter(i.rowHeight)(s)},estimatedCellSize:e._getEstimatedRowSize(i)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:i.columnWidth,prevRowHeight:i.rowHeight,prevColumnCount:i.columnCount,prevRowCount:i.rowCount,prevIsScrolling:i.isScrolling===!0,prevScrollToColumn:i.scrollToColumn,prevScrollToRow:i.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:as,scrollDirectionVertical:as,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},i.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(i,n.state)),i.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(i,n.state)),n}return ji(e,[{key:"getOffsetForCell",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.alignment,o=r===void 0?this.props.scrollToAlignment:r,a=n.columnIndex,s=a===void 0?this.props.scrollToColumn:a,l=n.rowIndex,c=l===void 0?this.props.scrollToRow:l,u=gc({},this.props,{scrollToAlignment:o,scrollToColumn:s,scrollToRow:c});return{scrollLeft:this._getCalculatedScrollLeft(u),scrollTop:this._getCalculatedScrollTop(u)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(n){var r=n.scrollLeft,o=r===void 0?0:r,a=n.scrollTop,s=a===void 0?0:a;if(!(s<0)){this._debounceScrollEnded();var l=this.props,c=l.autoHeight,u=l.autoWidth,f=l.height,h=l.width,m=this.state.instanceProps,b=m.scrollbarSize,w=m.rowSizeAndPositionManager.getTotalSize(),g=m.columnSizeAndPositionManager.getTotalSize(),A=Math.min(Math.max(0,g-h+b),o),x=Math.min(Math.max(0,w-f+b),s);if(this.state.scrollLeft!==A||this.state.scrollTop!==x){var T=A!==this.state.scrollLeft?A>this.state.scrollLeft?as:cv:this.state.scrollDirectionHorizontal,C=x!==this.state.scrollTop?x>this.state.scrollTop?as:cv:this.state.scrollDirectionVertical,z={isScrolling:!0,scrollDirectionHorizontal:T,scrollDirectionVertical:C,scrollPositionChangeReason:$k.OBSERVED};c||(z.scrollTop=x),u||(z.scrollLeft=A),z.needToResetStyleCache=!1,this.setState(z)}this._invokeOnScrollMemoizer({scrollLeft:A,scrollTop:x,totalColumnsWidth:g,totalRowsHeight:w})}}},{key:"invalidateCellSizeAfterRender",value:function(n){var r=n.columnIndex,o=n.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,r):r,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){var n=this.props,r=n.columnCount,o=n.rowCount,a=this.state.instanceProps;a.columnSizeAndPositionManager.getSizeAndPositionOfCell(r-1),a.rowSizeAndPositionManager.getSizeAndPositionOfCell(o-1)}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.columnIndex,o=r===void 0?0:r,a=n.rowIndex,s=a===void 0?0:a,l=this.props,c=l.scrollToColumn,u=l.scrollToRow,f=this.state.instanceProps;f.columnSizeAndPositionManager.resetCell(o),f.rowSizeAndPositionManager.resetCell(s),this._recomputeScrollLeftFlag=c>=0&&(this.state.scrollDirectionHorizontal===as?o<=c:o>=c),this._recomputeScrollTopFlag=u>=0&&(this.state.scrollDirectionVertical===as?s<=u:s>=u),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(n){var r=n.columnIndex,o=n.rowIndex,a=this.props.columnCount,s=this.props;a>1&&r!==void 0&&this._updateScrollLeftForScrollToColumn(gc({},s,{scrollToColumn:r})),o!==void 0&&this._updateScrollTopForScrollToRow(gc({},s,{scrollToRow:o}))}},{key:"componentDidMount",value:function(){var n=this.props,r=n.getScrollbarSize,o=n.height,a=n.scrollLeft,s=n.scrollToColumn,l=n.scrollTop,c=n.scrollToRow,u=n.width,f=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),f.scrollbarSizeMeasured||this.setState(function(b){var w=gc({},b,{needToResetStyleCache:!1});return w.instanceProps.scrollbarSize=r(),w.instanceProps.scrollbarSizeMeasured=!0,w}),typeof a=="number"&&a>=0||typeof l=="number"&&l>=0){var h=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:a,scrollTop:l});h&&(h.needToResetStyleCache=!1,this.setState(h))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var m=o>0&&u>0;s>=0&&m&&this._updateScrollLeftForScrollToColumn(),c>=0&&m&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:a||0,scrollTop:l||0,totalColumnsWidth:f.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:f.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(n,r){var o=this,a=this.props,s=a.autoHeight,l=a.autoWidth,c=a.columnCount,u=a.height,f=a.rowCount,h=a.scrollToAlignment,m=a.scrollToColumn,b=a.scrollToRow,w=a.width,g=this.state,A=g.scrollLeft,x=g.scrollPositionChangeReason,T=g.scrollTop,C=g.instanceProps;this._handleInvalidatedGridSize();var z=c>0&&n.columnCount===0||f>0&&n.rowCount===0;x===$k.REQUESTED&&(!l&&A>=0&&(A!==this._scrollingContainer.scrollLeft||z)&&(this._scrollingContainer.scrollLeft=A),!s&&T>=0&&(T!==this._scrollingContainer.scrollTop||z)&&(this._scrollingContainer.scrollTop=T));var L=(n.width===0||n.height===0)&&u>0&&w>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):$R({cellSizeAndPositionManager:C.columnSizeAndPositionManager,previousCellsCount:n.columnCount,previousCellSize:n.columnWidth,previousScrollToAlignment:n.scrollToAlignment,previousScrollToIndex:n.scrollToColumn,previousSize:n.width,scrollOffset:A,scrollToAlignment:h,scrollToIndex:m,size:w,sizeJustIncreasedFromZero:L,updateScrollIndexCallback:function(){return o._updateScrollLeftForScrollToColumn(o.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):$R({cellSizeAndPositionManager:C.rowSizeAndPositionManager,previousCellsCount:n.rowCount,previousCellSize:n.rowHeight,previousScrollToAlignment:n.scrollToAlignment,previousScrollToIndex:n.scrollToRow,previousSize:n.height,scrollOffset:T,scrollToAlignment:h,scrollToIndex:b,size:u,sizeJustIncreasedFromZero:L,updateScrollIndexCallback:function(){return o._updateScrollTopForScrollToRow(o.props)}}),this._invokeOnGridRenderedHelper(),A!==r.scrollLeft||T!==r.scrollTop){var B=C.rowSizeAndPositionManager.getTotalSize(),O=C.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:A,scrollTop:T,totalColumnsWidth:O,totalRowsHeight:B})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&Of(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var n=this.props,r=n.autoContainerWidth,o=n.autoHeight,a=n.autoWidth,s=n.className,l=n.containerProps,c=n.containerRole,u=n.containerStyle,f=n.height,h=n.id,m=n.noContentRenderer,b=n.role,w=n.style,g=n.tabIndex,A=n.width,x=this.state,T=x.instanceProps,C=x.needToResetStyleCache,z=this._isScrolling(),L={boxSizing:"border-box",direction:"ltr",height:o?"auto":f,position:"relative",width:a?"auto":A,WebkitOverflowScrolling:"touch",willChange:"transform"};C&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var B=T.columnSizeAndPositionManager.getTotalSize(),O=T.rowSizeAndPositionManager.getTotalSize(),F=O>f?T.scrollbarSize:0,H=B>A?T.scrollbarSize:0;(H!==this._horizontalScrollBarSize||F!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=H,this._verticalScrollBarSize=F,this._scrollbarPresenceChanged=!0),L.overflowX=B+F<=A?"hidden":"auto",L.overflowY=O+H<=f?"hidden":"auto";var K=this._childrenToDisplay,fe=K.length===0&&f>0&&A>0;return Y.exports.createElement("div",he({ref:this._setScrollingContainerRef},l,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Qe("ReactVirtualized__Grid",s),id:h,onScroll:this._onScroll,role:b,style:gc({},L,{},w),tabIndex:g}),K.length>0&&Y.exports.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:c,style:gc({width:r?"auto":B,height:O,maxWidth:B,maxHeight:O,overflow:"hidden",pointerEvents:z?"none":"",position:"relative"},u)},K),fe&&m())}},{key:"_calculateChildrenToRender",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=n.cellRenderer,a=n.cellRangeRenderer,s=n.columnCount,l=n.deferredMeasurementCache,c=n.height,u=n.overscanColumnCount,f=n.overscanIndicesGetter,h=n.overscanRowCount,m=n.rowCount,b=n.width,w=n.isScrollingOptOut,g=r.scrollDirectionHorizontal,A=r.scrollDirectionVertical,x=r.instanceProps,T=this._initialScrollTop>0?this._initialScrollTop:r.scrollTop,C=this._initialScrollLeft>0?this._initialScrollLeft:r.scrollLeft,z=this._isScrolling(n,r);if(this._childrenToDisplay=[],c>0&&b>0){var L=x.columnSizeAndPositionManager.getVisibleCellRange({containerSize:b,offset:C}),B=x.rowSizeAndPositionManager.getVisibleCellRange({containerSize:c,offset:T}),O=x.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:b,offset:C}),F=x.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:c,offset:T});this._renderedColumnStartIndex=L.start,this._renderedColumnStopIndex=L.stop,this._renderedRowStartIndex=B.start,this._renderedRowStopIndex=B.stop;var H=f({direction:"horizontal",cellCount:s,overscanCellsCount:u,scrollDirection:g,startIndex:typeof L.start=="number"?L.start:0,stopIndex:typeof L.stop=="number"?L.stop:-1}),K=f({direction:"vertical",cellCount:m,overscanCellsCount:h,scrollDirection:A,startIndex:typeof B.start=="number"?B.start:0,stopIndex:typeof B.stop=="number"?B.stop:-1}),fe=H.overscanStartIndex,Ae=H.overscanStopIndex,Se=K.overscanStartIndex,ke=K.overscanStopIndex;if(l){if(!l.hasFixedHeight()){for(var Oe=Se;Oe<=ke;Oe++)if(!l.has(Oe,0)){fe=0,Ae=s-1;break}}if(!l.hasFixedWidth()){for(var Fe=fe;Fe<=Ae;Fe++)if(!l.has(0,Fe)){Se=0,ke=m-1;break}}}this._childrenToDisplay=a({cellCache:this._cellCache,cellRenderer:o,columnSizeAndPositionManager:x.columnSizeAndPositionManager,columnStartIndex:fe,columnStopIndex:Ae,deferredMeasurementCache:l,horizontalOffsetAdjustment:O,isScrolling:z,isScrollingOptOut:w,parent:this,rowSizeAndPositionManager:x.rowSizeAndPositionManager,rowStartIndex:Se,rowStopIndex:ke,scrollLeft:C,scrollTop:T,styleCache:this._styleCache,verticalOffsetAdjustment:F,visibleColumnIndices:L,visibleRowIndices:B}),this._columnStartIndex=fe,this._columnStopIndex=Ae,this._rowStartIndex=Se,this._rowStopIndex=ke}}},{key:"_debounceScrollEnded",value:function(){var n=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&Of(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=GE(this._debounceScrollEndedCallback,n)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var n=this._deferredInvalidateColumnIndex,r=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:n,rowIndex:r})}}},{key:"_invokeOnScrollMemoizer",value:function(n){var r=this,o=n.scrollLeft,a=n.scrollTop,s=n.totalColumnsWidth,l=n.totalRowsHeight;this._onScrollMemoizer({callback:function(u){var f=u.scrollLeft,h=u.scrollTop,m=r.props,b=m.height,w=m.onScroll,g=m.width;w({clientHeight:b,clientWidth:g,scrollHeight:l,scrollLeft:f,scrollTop:h,scrollWidth:s})},indices:{scrollLeft:o,scrollTop:a}})}},{key:"_isScrolling",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(n,"isScrolling")?Boolean(n.isScrolling):Boolean(r.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var n=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,n({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(n){var r=n.scrollLeft,o=n.scrollTop,a=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:o});a&&(a.needToResetStyleCache=!1,this.setState(a))}},{key:"_getCalculatedScrollLeft",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollLeft(n,r)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollLeftForScrollToColumnStateUpdate(n,r);o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollTop",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollTop(n,r)}},{key:"_resetStyleCache",value:function(){var n=this._styleCache,r=this._cellCache,o=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var a=this._rowStartIndex;a<=this._rowStopIndex;a++)for(var s=this._columnStartIndex;s<=this._columnStopIndex;s++){var l="".concat(a,"-").concat(s);this._styleCache[l]=n[l],o&&(this._cellCache[l]=r[l])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,o=e._getScrollTopForScrollToRowStateUpdate(n,r);o&&(o.needToResetStyleCache=!1,this.setState(o))}}],[{key:"getDerivedStateFromProps",value:function(n,r){var o={};n.columnCount===0&&r.scrollLeft!==0||n.rowCount===0&&r.scrollTop!==0?(o.scrollLeft=0,o.scrollTop=0):(n.scrollLeft!==r.scrollLeft&&n.scrollToColumn<0||n.scrollTop!==r.scrollTop&&n.scrollToRow<0)&&Object.assign(o,e._getScrollToPositionStateUpdate({prevState:r,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}));var a=r.instanceProps;o.needToResetStyleCache=!1,(n.columnWidth!==a.prevColumnWidth||n.rowHeight!==a.prevRowHeight)&&(o.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:n.columnCount,estimatedCellSize:e._getEstimatedColumnSize(n),cellSizeGetter:e._wrapSizeGetter(n.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:n.rowCount,estimatedCellSize:e._getEstimatedRowSize(n),cellSizeGetter:e._wrapSizeGetter(n.rowHeight)}),(a.prevColumnCount===0||a.prevRowCount===0)&&(a.prevColumnCount=0,a.prevRowCount=0),n.autoHeight&&n.isScrolling===!1&&a.prevIsScrolling===!0&&Object.assign(o,{isScrolling:!1});var s,l;return WR({cellCount:a.prevColumnCount,cellSize:typeof a.prevColumnWidth=="number"?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:n,nextCellsCount:n.columnCount,nextCellSize:typeof n.columnWidth=="number"?n.columnWidth:null,nextScrollToIndex:n.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){s=e._getScrollLeftForScrollToColumnStateUpdate(n,r)}}),WR({cellCount:a.prevRowCount,cellSize:typeof a.prevRowHeight=="number"?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:n,nextCellsCount:n.rowCount,nextCellSize:typeof n.rowHeight=="number"?n.rowHeight:null,nextScrollToIndex:n.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){l=e._getScrollTopForScrollToRowStateUpdate(n,r)}}),a.prevColumnCount=n.columnCount,a.prevColumnWidth=n.columnWidth,a.prevIsScrolling=n.isScrolling===!0,a.prevRowCount=n.rowCount,a.prevRowHeight=n.rowHeight,a.prevScrollToColumn=n.scrollToColumn,a.prevScrollToRow=n.scrollToRow,a.scrollbarSize=n.getScrollbarSize(),a.scrollbarSize===void 0?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,o.instanceProps=a,gc({},o,{},s,{},l)}},{key:"_getEstimatedColumnSize",value:function(n){return typeof n.columnWidth=="number"?n.columnWidth:n.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(n){return typeof n.rowHeight=="number"?n.rowHeight:n.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(n){var r=n.prevState,o=n.scrollLeft,a=n.scrollTop,s={scrollPositionChangeReason:$k.REQUESTED};return typeof o=="number"&&o>=0&&(s.scrollDirectionHorizontal=o>r.scrollLeft?as:cv,s.scrollLeft=o),typeof a=="number"&&a>=0&&(s.scrollDirectionVertical=a>r.scrollTop?as:cv,s.scrollTop=a),typeof o=="number"&&o>=0&&o!==r.scrollLeft||typeof a=="number"&&a>=0&&a!==r.scrollTop?s:{}}},{key:"_wrapSizeGetter",value:function(n){return typeof n=="function"?n:function(){return n}}},{key:"_getCalculatedScrollLeft",value:function(n,r){var o=n.columnCount,a=n.height,s=n.scrollToAlignment,l=n.scrollToColumn,c=n.width,u=r.scrollLeft,f=r.instanceProps;if(o>0){var h=o-1,m=l<0?h:Math.min(h,l),b=f.rowSizeAndPositionManager.getTotalSize(),w=f.scrollbarSizeMeasured&&b>a?f.scrollbarSize:0;return f.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:c-w,currentOffset:u,targetIndex:m})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(n,r){var o=r.scrollLeft,a=e._getCalculatedScrollLeft(n,r);return typeof a=="number"&&a>=0&&o!==a?e._getScrollToPositionStateUpdate({prevState:r,scrollLeft:a,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(n,r){var o=n.height,a=n.rowCount,s=n.scrollToAlignment,l=n.scrollToRow,c=n.width,u=r.scrollTop,f=r.instanceProps;if(a>0){var h=a-1,m=l<0?h:Math.min(h,l),b=f.columnSizeAndPositionManager.getTotalSize(),w=f.scrollbarSizeMeasured&&b>c?f.scrollbarSize:0;return f.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:s,containerSize:o-w,currentOffset:u,targetIndex:m})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(n,r){var o=r.scrollTop,a=e._getCalculatedScrollTop(n,r);return typeof a=="number"&&a>=0&&o!==a?e._getScrollToPositionStateUpdate({prevState:r,scrollLeft:-1,scrollTop:a}):{}}}]),e}(Y.exports.PureComponent),re(qR,"propTypes",null),KR);re(fl,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:Mhe,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:h2,noContentRenderer:Ghe,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:Dhe,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:Uhe,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1});ub(fl);var Hhe=1;function w7(t){var e=t.cellCount,i=t.overscanCellsCount,n=t.scrollDirection,r=t.startIndex,o=t.stopIndex;return i=Math.max(1,i),n===Hhe?{overscanStartIndex:Math.max(0,r-1),overscanStopIndex:Math.min(e-1,o+i)}:{overscanStartIndex:Math.max(0,r-i),overscanStopIndex:Math.min(e-1,o+1)}}var JR,ZR;function eL(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Yhe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?eL(i,!0).forEach(function(n){re(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):eL(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var A7=(ZR=JR=function(t){Pr(e,t);function e(){var i,n;Ui(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=oo(this,(i=ar(e)).call.apply(i,[this].concat(o))),re(oe(n),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),re(oe(n),"_columnStartIndex",0),re(oe(n),"_columnStopIndex",0),re(oe(n),"_rowStartIndex",0),re(oe(n),"_rowStopIndex",0),re(oe(n),"_onKeyDown",function(s){var l=n.props,c=l.columnCount,u=l.disabled,f=l.mode,h=l.rowCount;if(!u){var m=n._getScrollState(),b=m.scrollToColumn,w=m.scrollToRow,g=n._getScrollState(),A=g.scrollToColumn,x=g.scrollToRow;switch(s.key){case"ArrowDown":x=Math.min(f==="cells"?x+1:n._rowStopIndex+1,h-1);break;case"ArrowLeft":A=Math.max(f==="cells"?A-1:n._columnStartIndex-1,0);break;case"ArrowRight":A=Math.min(f==="cells"?A+1:n._columnStopIndex+1,c-1);break;case"ArrowUp":x=Math.max(f==="cells"?x-1:n._rowStartIndex-1,0);break}(A!==b||x!==w)&&(s.preventDefault(),n._updateScrollState({scrollToColumn:A,scrollToRow:x}))}}),re(oe(n),"_onSectionRendered",function(s){var l=s.columnStartIndex,c=s.columnStopIndex,u=s.rowStartIndex,f=s.rowStopIndex;n._columnStartIndex=l,n._columnStopIndex=c,n._rowStartIndex=u,n._rowStopIndex=f}),n}return ji(e,[{key:"setScrollIndexes",value:function(n){var r=n.scrollToColumn,o=n.scrollToRow;this.setState({scrollToRow:o,scrollToColumn:r})}},{key:"render",value:function(){var n=this.props,r=n.className,o=n.children,a=this._getScrollState(),s=a.scrollToColumn,l=a.scrollToRow;return Y.exports.createElement("div",{className:r,onKeyDown:this._onKeyDown},o({onSectionRendered:this._onSectionRendered,scrollToColumn:s,scrollToRow:l}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(n){var r=n.scrollToColumn,o=n.scrollToRow,a=this.props,s=a.isControlled,l=a.onScrollToChange;typeof l=="function"&&l({scrollToColumn:r,scrollToRow:o}),s||this.setState({scrollToColumn:r,scrollToRow:o})}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.isControlled?{}:n.scrollToColumn!==r.instanceProps.prevScrollToColumn||n.scrollToRow!==r.instanceProps.prevScrollToRow?Yhe({},r,{scrollToColumn:n.scrollToColumn,scrollToRow:n.scrollToRow,instanceProps:{prevScrollToColumn:n.scrollToColumn,prevScrollToRow:n.scrollToRow}}):{}}}]),e}(Y.exports.PureComponent),re(JR,"propTypes",null),ZR);re(A7,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0});ub(A7);function x7(t,e){var i;typeof e!="undefined"?i=e:typeof window!="undefined"?i=window:typeof self!="undefined"?i=self:i=global;var n=typeof i.document!="undefined"&&i.document.attachEvent;if(!n){var r=function(){var B=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||function(O){return i.setTimeout(O,20)};return function(O){return B(O)}}(),o=function(){var B=i.cancelAnimationFrame||i.mozCancelAnimationFrame||i.webkitCancelAnimationFrame||i.clearTimeout;return function(O){return B(O)}}(),a=function(O){var F=O.__resizeTriggers__,H=F.firstElementChild,K=F.lastElementChild,fe=H.firstElementChild;K.scrollLeft=K.scrollWidth,K.scrollTop=K.scrollHeight,fe.style.width=H.offsetWidth+1+"px",fe.style.height=H.offsetHeight+1+"px",H.scrollLeft=H.scrollWidth,H.scrollTop=H.scrollHeight},s=function(O){return O.offsetWidth!=O.__resizeLast__.width||O.offsetHeight!=O.__resizeLast__.height},l=function(O){if(!(O.target.className&&typeof O.target.className.indexOf=="function"&&O.target.className.indexOf("contract-trigger")<0&&O.target.className.indexOf("expand-trigger")<0)){var F=this;a(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=r(function(){s(F)&&(F.__resizeLast__.width=F.offsetWidth,F.__resizeLast__.height=F.offsetHeight,F.__resizeListeners__.forEach(function(H){H.call(F,O)}))})}},c=!1,u="",f="animationstart",h="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),b="";{var w=i.document.createElement("fakeelement");if(w.style.animationName!==void 0&&(c=!0),c===!1){for(var g=0;g<h.length;g++)if(w.style[h[g]+"AnimationName"]!==void 0){b=h[g],u="-"+b.toLowerCase()+"-",f=m[g],c=!0;break}}}var A="resizeanim",x="@"+u+"keyframes "+A+" { from { opacity: 0; } to { opacity: 0; } } ",T=u+"animation: 1ms "+A+"; "}var C=function(O){if(!O.getElementById("detectElementResize")){var F=(x||"")+".resize-triggers { "+(T||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',H=O.head||O.getElementsByTagName("head")[0],K=O.createElement("style");K.id="detectElementResize",K.type="text/css",t!=null&&K.setAttribute("nonce",t),K.styleSheet?K.styleSheet.cssText=F:K.appendChild(O.createTextNode(F)),H.appendChild(K)}},z=function(O,F){if(n)O.attachEvent("onresize",F);else{if(!O.__resizeTriggers__){var H=O.ownerDocument,K=i.getComputedStyle(O);K&&K.position=="static"&&(O.style.position="relative"),C(H),O.__resizeLast__={},O.__resizeListeners__=[],(O.__resizeTriggers__=H.createElement("div")).className="resize-triggers";var fe='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var Ae=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return fe}});O.__resizeTriggers__.innerHTML=Ae.createHTML("")}else O.__resizeTriggers__.innerHTML=fe;O.appendChild(O.__resizeTriggers__),a(O),O.addEventListener("scroll",l,!0),f&&(O.__resizeTriggers__.__animationListener__=function(ke){ke.animationName==A&&a(O)},O.__resizeTriggers__.addEventListener(f,O.__resizeTriggers__.__animationListener__))}O.__resizeListeners__.push(F)}},L=function(O,F){if(n)O.detachEvent("onresize",F);else if(O.__resizeListeners__.splice(O.__resizeListeners__.indexOf(F),1),!O.__resizeListeners__.length){O.removeEventListener("scroll",l,!0),O.__resizeTriggers__.__animationListener__&&(O.__resizeTriggers__.removeEventListener(f,O.__resizeTriggers__.__animationListener__),O.__resizeTriggers__.__animationListener__=null);try{O.__resizeTriggers__=!O.removeChild(O.__resizeTriggers__)}catch{}}};return{addResizeListener:z,removeResizeListener:L}}var tL,iL;function nL(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Whe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?nL(i,!0).forEach(function(n){re(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):nL(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var k7=(iL=tL=function(t){Pr(e,t);function e(){var i,n;Ui(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=oo(this,(i=ar(e)).call.apply(i,[this].concat(o))),re(oe(n),"state",{height:n.props.defaultHeight||0,width:n.props.defaultWidth||0}),re(oe(n),"_parentNode",void 0),re(oe(n),"_autoSizer",void 0),re(oe(n),"_window",void 0),re(oe(n),"_detectElementResize",void 0),re(oe(n),"_onResize",function(){var s=n.props,l=s.disableHeight,c=s.disableWidth,u=s.onResize;if(n._parentNode){var f=n._parentNode.offsetHeight||0,h=n._parentNode.offsetWidth||0,m=n._window||window,b=m.getComputedStyle(n._parentNode)||{},w=parseInt(b.paddingLeft,10)||0,g=parseInt(b.paddingRight,10)||0,A=parseInt(b.paddingTop,10)||0,x=parseInt(b.paddingBottom,10)||0,T=f-A-x,C=h-w-g;(!l&&n.state.height!==T||!c&&n.state.width!==C)&&(n.setState({height:f-A-x,width:h-w-g}),u({height:f,width:h}))}}),re(oe(n),"_setRef",function(s){n._autoSizer=s}),n}return ji(e,[{key:"componentDidMount",value:function(){var n=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=x7(n,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var n=this.props,r=n.children,o=n.className,a=n.disableHeight,s=n.disableWidth,l=n.style,c=this.state,u=c.height,f=c.width,h={overflow:"visible"},m={};return a||(h.height=0,m.height=u),s||(h.width=0,m.width=f),Y.exports.createElement("div",{className:o,ref:this._setRef,style:Whe({},h,{},l)},r(m))}}]),e}(Y.exports.Component),re(tL,"propTypes",null),iL);re(k7,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var rL,oL,_7=(oL=rL=function(t){Pr(e,t);function e(){var i,n;Ui(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=oo(this,(i=ar(e)).call.apply(i,[this].concat(o))),re(oe(n),"_child",void 0),re(oe(n),"_measure",function(){var s=n.props,l=s.cache,c=s.columnIndex,u=c===void 0?0:c,f=s.parent,h=s.rowIndex,m=h===void 0?n.props.index||0:h,b=n._getCellMeasurements(),w=b.height,g=b.width;(w!==l.getHeight(m,u)||g!==l.getWidth(m,u))&&(l.set(m,u,g,w),f&&typeof f.recomputeGridSize=="function"&&f.recomputeGridSize({columnIndex:u,rowIndex:m}))}),re(oe(n),"_registerChild",function(s){s&&!(s instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),n._child=s,s&&n._maybeMeasureCell()}),n}return ji(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var n=this.props.children;return typeof n=="function"?n({measure:this._measure,registerChild:this._registerChild}):n}},{key:"_getCellMeasurements",value:function(){var n=this.props.cache,r=this._child||_l.exports.findDOMNode(this);if(r&&r.ownerDocument&&r.ownerDocument.defaultView&&r instanceof r.ownerDocument.defaultView.HTMLElement){var o=r.style.width,a=r.style.height;n.hasFixedWidth()||(r.style.width="auto"),n.hasFixedHeight()||(r.style.height="auto");var s=Math.ceil(r.offsetHeight),l=Math.ceil(r.offsetWidth);return o&&(r.style.width=o),a&&(r.style.height=a),{height:s,width:l}}else return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var n=this.props,r=n.cache,o=n.columnIndex,a=o===void 0?0:o,s=n.parent,l=n.rowIndex,c=l===void 0?this.props.index||0:l;if(!r.has(c,a)){var u=this._getCellMeasurements(),f=u.height,h=u.width;r.set(c,a,h,f),s&&typeof s.invalidateCellSizeAfterRender=="function"&&s.invalidateCellSizeAfterRender({columnIndex:a,rowIndex:c})}}}]),e}(Y.exports.PureComponent),re(rL,"propTypes",null),oL);re(_7,"__internalCellMeasurerFlag",!1);var Vhe=30,$he=100,Qhe=function(){function t(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ui(this,t),re(this,"_cellHeightCache",{}),re(this,"_cellWidthCache",{}),re(this,"_columnWidthCache",{}),re(this,"_rowHeightCache",{}),re(this,"_defaultHeight",void 0),re(this,"_defaultWidth",void 0),re(this,"_minHeight",void 0),re(this,"_minWidth",void 0),re(this,"_keyMapper",void 0),re(this,"_hasFixedHeight",void 0),re(this,"_hasFixedWidth",void 0),re(this,"_columnCount",0),re(this,"_rowCount",0),re(this,"columnWidth",function(u){var f=u.index,h=e._keyMapper(0,f);return e._columnWidthCache[h]!==void 0?e._columnWidthCache[h]:e._defaultWidth}),re(this,"rowHeight",function(u){var f=u.index,h=e._keyMapper(f,0);return e._rowHeightCache[h]!==void 0?e._rowHeightCache[h]:e._defaultHeight});var n=i.defaultHeight,r=i.defaultWidth,o=i.fixedHeight,a=i.fixedWidth,s=i.keyMapper,l=i.minHeight,c=i.minWidth;this._hasFixedHeight=o===!0,this._hasFixedWidth=a===!0,this._minHeight=l||0,this._minWidth=c||0,this._keyMapper=s||qhe,this._defaultHeight=Math.max(this._minHeight,typeof n=="number"?n:Vhe),this._defaultWidth=Math.max(this._minWidth,typeof r=="number"?r:$he)}return ji(t,[{key:"clear",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=this._keyMapper(i,n);delete this._cellHeightCache[r],delete this._cellWidthCache[r],this._updateCachedColumnAndRowSizes(i,n)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var r=this._keyMapper(i,n);return this._cellHeightCache[r]!==void 0?Math.max(this._minHeight,this._cellHeightCache[r]):this._defaultHeight}},{key:"getWidth",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var r=this._keyMapper(i,n);return this._cellWidthCache[r]!==void 0?Math.max(this._minWidth,this._cellWidthCache[r]):this._defaultWidth}},{key:"has",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=this._keyMapper(i,n);return this._cellHeightCache[r]!==void 0}},{key:"set",value:function(i,n,r,o){var a=this._keyMapper(i,n);n>=this._columnCount&&(this._columnCount=n+1),i>=this._rowCount&&(this._rowCount=i+1),this._cellHeightCache[a]=o,this._cellWidthCache[a]=r,this._updateCachedColumnAndRowSizes(i,n)}},{key:"_updateCachedColumnAndRowSizes",value:function(i,n){if(!this._hasFixedWidth){for(var r=0,o=0;o<this._rowCount;o++)r=Math.max(r,this.getWidth(o,n));var a=this._keyMapper(0,n);this._columnWidthCache[a]=r}if(!this._hasFixedHeight){for(var s=0,l=0;l<this._columnCount;l++)s=Math.max(s,this.getHeight(i,l));var c=this._keyMapper(i,0);this._rowHeightCache[c]=s}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),t}();function qhe(t,e){return"".concat(t,"-").concat(e)}function aL(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Khe(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?aL(i,!0).forEach(function(n){re(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):aL(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var Xhe=150,od={OBSERVED:"observed",REQUESTED:"requested"},ax=function(t){Pr(e,t);function e(){var i,n;Ui(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=oo(this,(i=ar(e)).call.apply(i,[this].concat(o))),re(oe(n),"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),re(oe(n),"_calculateSizeAndPositionDataOnNextUpdate",!1),re(oe(n),"_onSectionRenderedMemoizer",Lf()),re(oe(n),"_onScrollMemoizer",Lf(!1)),re(oe(n),"_invokeOnSectionRenderedHelper",function(){var s=n.props,l=s.cellLayoutManager,c=s.onSectionRendered;n._onSectionRenderedMemoizer({callback:c,indices:{indices:l.getLastRenderedIndices()}})}),re(oe(n),"_setScrollingContainerRef",function(s){n._scrollingContainer=s}),re(oe(n),"_updateScrollPositionForScrollToCell",function(){var s=n.props,l=s.cellLayoutManager,c=s.height,u=s.scrollToAlignment,f=s.scrollToCell,h=s.width,m=n.state,b=m.scrollLeft,w=m.scrollTop;if(f>=0){var g=l.getScrollPositionForCell({align:u,cellIndex:f,height:c,scrollLeft:b,scrollTop:w,width:h});(g.scrollLeft!==b||g.scrollTop!==w)&&n._setScrollPosition(g)}}),re(oe(n),"_onScroll",function(s){if(s.target===n._scrollingContainer){n._enablePointerEventsAfterDelay();var l=n.props,c=l.cellLayoutManager,u=l.height,f=l.isScrollingChange,h=l.width,m=n._scrollbarSize,b=c.getTotalSize(),w=b.height,g=b.width,A=Math.max(0,Math.min(g-h+m,s.target.scrollLeft)),x=Math.max(0,Math.min(w-u+m,s.target.scrollTop));if(n.state.scrollLeft!==A||n.state.scrollTop!==x){var T=s.cancelable?od.OBSERVED:od.REQUESTED;n.state.isScrolling||f(!0),n.setState({isScrolling:!0,scrollLeft:A,scrollPositionChangeReason:T,scrollTop:x})}n._invokeOnScrollMemoizer({scrollLeft:A,scrollTop:x,totalWidth:g,totalHeight:w})}}),n._scrollbarSize=h2(),n._scrollbarSize===void 0?(n._scrollbarSizeMeasured=!1,n._scrollbarSize=0):n._scrollbarSizeMeasured=!0,n}return ji(e,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var n=this.props,r=n.cellLayoutManager,o=n.scrollLeft,a=n.scrollToCell,s=n.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=h2(),this._scrollbarSizeMeasured=!0,this.setState({})),a>=0?this._updateScrollPositionForScrollToCell():(o>=0||s>=0)&&this._setScrollPosition({scrollLeft:o,scrollTop:s}),this._invokeOnSectionRenderedHelper();var l=r.getTotalSize(),c=l.height,u=l.width;this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:s||0,totalHeight:c,totalWidth:u})}},{key:"componentDidUpdate",value:function(n,r){var o=this.props,a=o.height,s=o.scrollToAlignment,l=o.scrollToCell,c=o.width,u=this.state,f=u.scrollLeft,h=u.scrollPositionChangeReason,m=u.scrollTop;h===od.REQUESTED&&(f>=0&&f!==r.scrollLeft&&f!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=f),m>=0&&m!==r.scrollTop&&m!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=m)),(a!==n.height||s!==n.scrollToAlignment||l!==n.scrollToCell||c!==n.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var n=this.props,r=n.autoHeight,o=n.cellCount,a=n.cellLayoutManager,s=n.className,l=n.height,c=n.horizontalOverscanSize,u=n.id,f=n.noContentRenderer,h=n.style,m=n.verticalOverscanSize,b=n.width,w=this.state,g=w.isScrolling,A=w.scrollLeft,x=w.scrollTop;(this._lastRenderedCellCount!==o||this._lastRenderedCellLayoutManager!==a||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=o,this._lastRenderedCellLayoutManager=a,this._calculateSizeAndPositionDataOnNextUpdate=!1,a.calculateSizeAndPositionData());var T=a.getTotalSize(),C=T.height,z=T.width,L=Math.max(0,A-c),B=Math.max(0,x-m),O=Math.min(z,A+b+c),F=Math.min(C,x+l+m),H=l>0&&b>0?a.cellRenderers({height:F-B,isScrolling:g,width:O-L,x:L,y:B}):[],K={boxSizing:"border-box",direction:"ltr",height:r?"auto":l,position:"relative",WebkitOverflowScrolling:"touch",width:b,willChange:"transform"},fe=C>l?this._scrollbarSize:0,Ae=z>b?this._scrollbarSize:0;return K.overflowX=z+fe<=b?"hidden":"auto",K.overflowY=C+Ae<=l?"hidden":"auto",Y.exports.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Qe("ReactVirtualized__Collection",s),id:u,onScroll:this._onScroll,role:"grid",style:Khe({},K,{},h),tabIndex:0},o>0&&Y.exports.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:C,maxHeight:C,maxWidth:z,overflow:"hidden",pointerEvents:g?"none":"",width:z}},H),o===0&&f())}},{key:"_enablePointerEventsAfterDelay",value:function(){var n=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var r=n.props.isScrollingChange;r(!1),n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1})},Xhe)}},{key:"_invokeOnScrollMemoizer",value:function(n){var r=this,o=n.scrollLeft,a=n.scrollTop,s=n.totalHeight,l=n.totalWidth;this._onScrollMemoizer({callback:function(u){var f=u.scrollLeft,h=u.scrollTop,m=r.props,b=m.height,w=m.onScroll,g=m.width;w({clientHeight:b,clientWidth:g,scrollHeight:s,scrollLeft:f,scrollTop:h,scrollWidth:l})},indices:{scrollLeft:o,scrollTop:a}})}},{key:"_setScrollPosition",value:function(n){var r=n.scrollLeft,o=n.scrollTop,a={scrollPositionChangeReason:od.REQUESTED};r>=0&&(a.scrollLeft=r),o>=0&&(a.scrollTop=o),(r>=0&&r!==this.state.scrollLeft||o>=0&&o!==this.state.scrollTop)&&this.setState(a)}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.cellCount===0&&(r.scrollLeft!==0||r.scrollTop!==0)?{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:od.REQUESTED}:n.scrollLeft!==r.scrollLeft||n.scrollTop!==r.scrollTop?{scrollLeft:n.scrollLeft!=null?n.scrollLeft:r.scrollLeft,scrollTop:n.scrollTop!=null?n.scrollTop:r.scrollTop,scrollPositionChangeReason:od.REQUESTED}:null}}]),e}(Y.exports.PureComponent);re(ax,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0});ax.propTypes={};ub(ax);var Jhe=function(){function t(e){var i=e.height,n=e.width,r=e.x,o=e.y;Ui(this,t),this.height=i,this.width=n,this.x=r,this.y=o,this._indexMap={},this._indices=[]}return ji(t,[{key:"addCellIndex",value:function(i){var n=i.index;this._indexMap[n]||(this._indexMap[n]=!0,this._indices.push(n))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}]),t}(),Zhe=100,eme=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zhe;Ui(this,t),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return ji(t,[{key:"getCellIndices",value:function(i){var n=i.height,r=i.width,o=i.x,a=i.y,s={};return this.getSections({height:n,width:r,x:o,y:a}).forEach(function(l){return l.getCellIndices().forEach(function(c){s[c]=c})}),Object.keys(s).map(function(l){return s[l]})}},{key:"getCellMetadata",value:function(i){var n=i.index;return this._cellMetadata[n]}},{key:"getSections",value:function(i){for(var n=i.height,r=i.width,o=i.x,a=i.y,s=Math.floor(o/this._sectionSize),l=Math.floor((o+r-1)/this._sectionSize),c=Math.floor(a/this._sectionSize),u=Math.floor((a+n-1)/this._sectionSize),f=[],h=s;h<=l;h++)for(var m=c;m<=u;m++){var b="".concat(h,".").concat(m);this._sections[b]||(this._sections[b]=new Jhe({height:this._sectionSize,width:this._sectionSize,x:h*this._sectionSize,y:m*this._sectionSize})),f.push(this._sections[b])}return f}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var i=this;return Object.keys(this._sections).map(function(n){return i._sections[n].toString()})}},{key:"registerCell",value:function(i){var n=i.cellMetadatum,r=i.index;this._cellMetadata[r]=n,this.getSections(n).forEach(function(o){return o.addCellIndex({index:r})})}}]),t}();function tme(t){for(var e=t.cellCount,i=t.cellSizeAndPositionGetter,n=t.sectionSize,r=[],o=new eme(n),a=0,s=0,l=0;l<e;l++){var c=i({index:l});if(c.height==null||isNaN(c.height)||c.width==null||isNaN(c.width)||c.x==null||isNaN(c.x)||c.y==null||isNaN(c.y))throw Error("Invalid metadata returned for cell ".concat(l,`:
        x:`).concat(c.x,", y:").concat(c.y,", width:").concat(c.width,", height:").concat(c.height));a=Math.max(a,c.y+c.height),s=Math.max(s,c.x+c.width),r[l]=c,o.registerCell({cellMetadatum:c,index:l})}return{cellMetadata:r,height:a,sectionManager:o,width:s}}function sL(t){var e=t.align,i=e===void 0?"auto":e,n=t.cellOffset,r=t.cellSize,o=t.containerSize,a=t.currentOffset,s=n,l=s-o+r;switch(i){case"start":return s;case"end":return l;case"center":return s-(o-r)/2;default:return Math.max(l,Math.min(s,a))}}var T7=function(t){Pr(e,t);function e(i,n){var r;return Ui(this,e),r=oo(this,ar(e).call(this,i,n)),r._cellMetadata=[],r._lastRenderedCellIndices=[],r._cellCache=[],r._isScrollingChange=r._isScrollingChange.bind(oe(r)),r._setCollectionViewRef=r._setCollectionViewRef.bind(oe(r)),r}return ji(e,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var n=he({},this.props);return Y.exports.createElement(ax,he({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},n))}},{key:"calculateSizeAndPositionData",value:function(){var n=this.props,r=n.cellCount,o=n.cellSizeAndPositionGetter,a=n.sectionSize,s=tme({cellCount:r,cellSizeAndPositionGetter:o,sectionSize:a});this._cellMetadata=s.cellMetadata,this._sectionManager=s.sectionManager,this._height=s.height,this._width=s.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(n){var r=n.align,o=n.cellIndex,a=n.height,s=n.scrollLeft,l=n.scrollTop,c=n.width,u=this.props.cellCount;if(o>=0&&o<u){var f=this._cellMetadata[o];s=sL({align:r,cellOffset:f.x,cellSize:f.width,containerSize:c,currentOffset:s,targetIndex:o}),l=sL({align:r,cellOffset:f.y,cellSize:f.height,containerSize:a,currentOffset:l,targetIndex:o})}return{scrollLeft:s,scrollTop:l}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(n){var r=this,o=n.height,a=n.isScrolling,s=n.width,l=n.x,c=n.y,u=this.props,f=u.cellGroupRenderer,h=u.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:o,width:s,x:l,y:c}),f({cellCache:this._cellCache,cellRenderer:h,cellSizeAndPositionGetter:function(b){var w=b.index;return r._sectionManager.getCellMetadata({index:w})},indices:this._lastRenderedCellIndices,isScrolling:a})}},{key:"_isScrollingChange",value:function(n){n||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(n){this._collectionView=n}}]),e}(Y.exports.PureComponent);re(T7,"defaultProps",{"aria-label":"grid",cellGroupRenderer:ime});T7.propTypes={};function ime(t){var e=t.cellCache,i=t.cellRenderer,n=t.cellSizeAndPositionGetter,r=t.indices,o=t.isScrolling;return r.map(function(a){var s=n({index:a}),l={index:a,isScrolling:o,key:a,style:{height:s.height,left:s.x,position:"absolute",top:s.y,width:s.width}};return o?(a in e||(e[a]=i(l)),e[a]):i(l)}).filter(function(a){return!!a})}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function nme(t){if(Array.isArray(t))return m2(t)}function rme(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S7(t,e){if(!!t){if(typeof t=="string")return m2(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return m2(t,e)}}function ome(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ame(t){return nme(t)||rme(t)||S7(t)||ome()}var C7=function(t){Pr(e,t);function e(i,n){var r;return Ui(this,e),r=oo(this,ar(e).call(this,i,n)),r._loadMoreRowsMemoizer=Lf(),r._onRowsRendered=r._onRowsRendered.bind(oe(r)),r._registerChild=r._registerChild.bind(oe(r)),r}return ji(e,[{key:"resetLoadMoreRowsCache",value:function(n){this._loadMoreRowsMemoizer=Lf(),n&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var n=this.props.children;return n({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(n){var r=this,o=this.props.loadMoreRows;n.forEach(function(a){var s=o(a);s&&s.then(function(){sme({lastRenderedStartIndex:r._lastRenderedStartIndex,lastRenderedStopIndex:r._lastRenderedStopIndex,startIndex:a.startIndex,stopIndex:a.stopIndex})&&r._registeredChild&&cme(r._registeredChild,r._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(n){var r=n.startIndex,o=n.stopIndex;this._lastRenderedStartIndex=r,this._lastRenderedStopIndex=o,this._doStuff(r,o)}},{key:"_doStuff",value:function(n,r){var o,a=this,s=this.props,l=s.isRowLoaded,c=s.minimumBatchSize,u=s.rowCount,f=s.threshold,h=lme({isRowLoaded:l,minimumBatchSize:c,rowCount:u,startIndex:Math.max(0,n-f),stopIndex:Math.min(u-1,r+f)}),m=(o=[]).concat.apply(o,ame(h.map(function(b){var w=b.startIndex,g=b.stopIndex;return[w,g]})));this._loadMoreRowsMemoizer({callback:function(){a._loadUnloadedRanges(h)},indices:{squashedUnloadedRanges:m}})}},{key:"_registerChild",value:function(n){this._registeredChild=n}}]),e}(Y.exports.PureComponent);re(C7,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15});C7.propTypes={};function sme(t){var e=t.lastRenderedStartIndex,i=t.lastRenderedStopIndex,n=t.startIndex,r=t.stopIndex;return!(n>i||r<e)}function lme(t){for(var e=t.isRowLoaded,i=t.minimumBatchSize,n=t.rowCount,r=t.startIndex,o=t.stopIndex,a=[],s=null,l=null,c=r;c<=o;c++){var u=e({index:c});u?l!==null&&(a.push({startIndex:s,stopIndex:l}),s=l=null):(l=c,s===null&&(s=c))}if(l!==null){for(var f=Math.min(Math.max(l,s+i-1),n-1),h=l+1;h<=f&&!e({index:h});h++)l=h;a.push({startIndex:s,stopIndex:l})}if(a.length)for(var m=a[0];m.stopIndex-m.startIndex+1<i&&m.startIndex>0;){var b=m.startIndex-1;if(!e({index:b}))m.startIndex=b;else break}return a}function cme(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=typeof t.recomputeGridSize=="function"?t.recomputeGridSize:t.recomputeRowHeights;i?i.call(t,e):t.forceUpdate()}var lL,cL,E7=(cL=lL=function(t){Pr(e,t);function e(){var i,n;Ui(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=oo(this,(i=ar(e)).call.apply(i,[this].concat(o))),re(oe(n),"Grid",void 0),re(oe(n),"_cellRenderer",function(s){var l=s.parent,c=s.rowIndex,u=s.style,f=s.isScrolling,h=s.isVisible,m=s.key,b=n.props.rowRenderer,w=Object.getOwnPropertyDescriptor(u,"width");return w&&w.writable&&(u.width="100%"),b({index:c,style:u,isScrolling:f,isVisible:h,key:m,parent:l})}),re(oe(n),"_setRef",function(s){n.Grid=s}),re(oe(n),"_onScroll",function(s){var l=s.clientHeight,c=s.scrollHeight,u=s.scrollTop,f=n.props.onScroll;f({clientHeight:l,scrollHeight:c,scrollTop:u})}),re(oe(n),"_onSectionRendered",function(s){var l=s.rowOverscanStartIndex,c=s.rowOverscanStopIndex,u=s.rowStartIndex,f=s.rowStopIndex,h=n.props.onRowsRendered;h({overscanStartIndex:l,overscanStopIndex:c,startIndex:u,stopIndex:f})}),n}return ji(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(n){var r=n.alignment,o=n.index;if(this.Grid){var a=this.Grid.getOffsetForCell({alignment:r,rowIndex:o,columnIndex:0}),s=a.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(n){var r=n.columnIndex,o=n.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:r})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.columnIndex,o=r===void 0?0:r,a=n.rowIndex,s=a===void 0?0:a;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:n,columnIndex:0})}},{key:"scrollToPosition",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:n})}},{key:"scrollToRow",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:n})}},{key:"render",value:function(){var n=this.props,r=n.className,o=n.noRowsRenderer,a=n.scrollToIndex,s=n.width,l=Qe("ReactVirtualized__List",r);return Y.exports.createElement(fl,he({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:l,columnWidth:s,columnCount:1,noContentRenderer:o,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:a}))}}]),e}(Y.exports.PureComponent),re(lL,"propTypes",null),cL);re(E7,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:w7,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});function ume(t){if(Array.isArray(t))return t}function dme(t,e){var i=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var n=[],r=!0,o=!1,a,s;try{for(i=i.call(t);!(r=(a=i.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){o=!0,s=l}finally{try{!r&&i.return!=null&&i.return()}finally{if(o)throw s}}return n}}function fme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pme(t,e){return ume(t)||dme(t,e)||S7(t,e)||fme()}function hme(t,e,i,n){for(var r=i+1;e<=i;){var o=e+i>>>1,a=t[o];a>=n?(r=o,i=o-1):e=o+1}return r}function mme(t,e,i,n,r){for(var o=i+1;e<=i;){var a=e+i>>>1,s=t[a];r(s,n)>=0?(o=a,i=a-1):e=a+1}return o}function gme(t,e,i,n,r){return typeof i=="function"?mme(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e,i):hme(t,i===void 0?0:i|0,n===void 0?t.length-1:n|0,e)}function bme(t,e,i,n){for(var r=i+1;e<=i;){var o=e+i>>>1,a=t[o];a>n?(r=o,i=o-1):e=o+1}return r}function vme(t,e,i,n,r){for(var o=i+1;e<=i;){var a=e+i>>>1,s=t[a];r(s,n)>0?(o=a,i=a-1):e=a+1}return o}function yme(t,e,i,n,r){return typeof i=="function"?vme(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e,i):bme(t,i===void 0?0:i|0,n===void 0?t.length-1:n|0,e)}function wme(t,e,i,n){for(var r=e-1;e<=i;){var o=e+i>>>1,a=t[o];a<n?(r=o,e=o+1):i=o-1}return r}function Ame(t,e,i,n,r){for(var o=e-1;e<=i;){var a=e+i>>>1,s=t[a];r(s,n)<0?(o=a,e=a+1):i=a-1}return o}function xme(t,e,i,n,r){return typeof i=="function"?Ame(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e,i):wme(t,i===void 0?0:i|0,n===void 0?t.length-1:n|0,e)}function kme(t,e,i,n){for(var r=e-1;e<=i;){var o=e+i>>>1,a=t[o];a<=n?(r=o,e=o+1):i=o-1}return r}function _me(t,e,i,n,r){for(var o=e-1;e<=i;){var a=e+i>>>1,s=t[a];r(s,n)<=0?(o=a,e=a+1):i=a-1}return o}function Tme(t,e,i,n,r){return typeof i=="function"?_me(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e,i):kme(t,i===void 0?0:i|0,n===void 0?t.length-1:n|0,e)}function Sme(t,e,i,n){for(;e<=i;){var r=e+i>>>1,o=t[r];if(o===n)return r;o<=n?e=r+1:i=r-1}return-1}function Cme(t,e,i,n,r){for(;e<=i;){var o=e+i>>>1,a=t[o],s=r(a,n);if(s===0)return o;s<=0?e=o+1:i=o-1}return-1}function Eme(t,e,i,n,r){return typeof i=="function"?Cme(t,n===void 0?0:n|0,r===void 0?t.length-1:r|0,e,i):Sme(t,i===void 0?0:i|0,n===void 0?t.length-1:n|0,e)}var dw={ge:gme,gt:yme,lt:xme,le:Tme,eq:Eme},Sd=0,Ac=1,$v=2;function HE(t,e,i,n,r){this.mid=t,this.left=e,this.right=i,this.leftPoints=n,this.rightPoints=r,this.count=(e?e.count:0)+(i?i.count:0)+n.length}var db=HE.prototype;function Qk(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function z7(t,e){var i=Df(e);t.mid=i.mid,t.left=i.left,t.right=i.right,t.leftPoints=i.leftPoints,t.rightPoints=i.rightPoints,t.count=i.count}function uL(t,e){var i=t.intervals([]);i.push(e),z7(t,i)}function dL(t,e){var i=t.intervals([]),n=i.indexOf(e);return n<0?Sd:(i.splice(n,1),z7(t,i),Ac)}db.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t};db.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?uL(this,t):this.left.insert(t):this.left=Df([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?uL(this,t):this.right.insert(t):this.right=Df([t]);else{var i=dw.ge(this.leftPoints,t,YE),n=dw.ge(this.rightPoints,t,WE);this.leftPoints.splice(i,0,t),this.rightPoints.splice(n,0,t)}};db.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return Sd;var i=this.right?this.right.count:0;if(4*i>3*(e-1))return dL(this,t);var n=this.left.remove(t);return n===$v?(this.left=null,this.count-=1,Ac):(n===Ac&&(this.count-=1),n)}else if(t[0]>this.mid){if(!this.right)return Sd;var r=this.left?this.left.count:0;if(4*r>3*(e-1))return dL(this,t);var n=this.right.remove(t);return n===$v?(this.right=null,this.count-=1,Ac):(n===Ac&&(this.count-=1),n)}else{if(this.count===1)return this.leftPoints[0]===t?$v:Sd;if(this.leftPoints.length===1&&this.leftPoints[0]===t){if(this.left&&this.right){for(var o=this,a=this.left;a.right;)o=a,a=a.right;if(o===this)a.right=this.right;else{var s=this.left,n=this.right;o.count-=a.count,o.right=a.left,a.left=s,a.right=n}Qk(this,a),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Qk(this,this.left):Qk(this,this.right);return Ac}for(var s=dw.ge(this.leftPoints,t,YE);s<this.leftPoints.length&&this.leftPoints[s][0]===t[0];++s)if(this.leftPoints[s]===t){this.count-=1,this.leftPoints.splice(s,1);for(var n=dw.ge(this.rightPoints,t,WE);n<this.rightPoints.length&&this.rightPoints[n][1]===t[1];++n)if(this.rightPoints[n]===t)return this.rightPoints.splice(n,1),Ac}return Sd}};function I7(t,e,i){for(var n=0;n<t.length&&t[n][0]<=e;++n){var r=i(t[n]);if(r)return r}}function P7(t,e,i){for(var n=t.length-1;n>=0&&t[n][1]>=e;--n){var r=i(t[n]);if(r)return r}}function R7(t,e){for(var i=0;i<t.length;++i){var n=e(t[i]);if(n)return n}}db.queryPoint=function(t,e){if(t<this.mid){if(this.left){var i=this.left.queryPoint(t,e);if(i)return i}return I7(this.leftPoints,t,e)}else if(t>this.mid){if(this.right){var i=this.right.queryPoint(t,e);if(i)return i}return P7(this.rightPoints,t,e)}else return R7(this.leftPoints,e)};db.queryInterval=function(t,e,i){if(t<this.mid&&this.left){var n=this.left.queryInterval(t,e,i);if(n)return n}if(e>this.mid&&this.right){var n=this.right.queryInterval(t,e,i);if(n)return n}return e<this.mid?I7(this.leftPoints,e,i):t>this.mid?P7(this.rightPoints,t,i):R7(this.leftPoints,i)};function zme(t,e){return t-e}function YE(t,e){var i=t[0]-e[0];return i||t[1]-e[1]}function WE(t,e){var i=t[1]-e[1];return i||t[0]-e[0]}function Df(t){if(t.length===0)return null;for(var e=[],i=0;i<t.length;++i)e.push(t[i][0],t[i][1]);e.sort(zme);for(var n=e[e.length>>1],r=[],o=[],a=[],i=0;i<t.length;++i){var s=t[i];s[1]<n?r.push(s):n<s[0]?o.push(s):a.push(s)}var l=a,c=a.slice();return l.sort(YE),c.sort(WE),new HE(n,Df(r),Df(o),l,c)}function g2(t){this.root=t}var mp=g2.prototype;mp.insert=function(t){this.root?this.root.insert(t):this.root=new HE(t[0],null,null,[t],[t])};mp.remove=function(t){if(this.root){var e=this.root.remove(t);return e===$v&&(this.root=null),e!==Sd}return!1};mp.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)};mp.queryInterval=function(t,e,i){if(t<=e&&this.root)return this.root.queryInterval(t,e,i)};Object.defineProperty(mp,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(mp,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function Ime(t){return!t||t.length===0?new g2(null):new g2(Df(t))}var qk=function(){function t(){Ui(this,t),re(this,"_columnSizeMap",{}),re(this,"_intervalTree",Ime()),re(this,"_leftMap",{})}return ji(t,[{key:"estimateTotalHeight",value:function(i,n,r){var o=i-this.count;return this.tallestColumnSize+Math.ceil(o/n)*r}},{key:"range",value:function(i,n,r){var o=this;this._intervalTree.queryInterval(i,i+n,function(a){var s=pme(a,3),l=s[0];s[1];var c=s[2];return r(c,o._leftMap[c],l)})}},{key:"setPosition",value:function(i,n,r,o){this._intervalTree.insert([r,r+o,i]),this._leftMap[i]=n;var a=this._columnSizeMap,s=a[n];s===void 0?a[n]=r+o:a[n]=Math.max(s,r+o)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var i=this._columnSizeMap,n=0;for(var r in i){var o=i[r];n=n===0?o:Math.min(n,o)}return n}},{key:"tallestColumnSize",get:function(){var i=this._columnSizeMap,n=0;for(var r in i){var o=i[r];n=Math.max(n,o)}return n}}]),t}(),fL,pL;function hL(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Pme(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?hL(i,!0).forEach(function(n){re(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):hL(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var Rme={},Lme=150,L7=(pL=fL=function(t){Pr(e,t);function e(){var i,n;Ui(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=oo(this,(i=ar(e)).call.apply(i,[this].concat(o))),re(oe(n),"state",{isScrolling:!1,scrollTop:0}),re(oe(n),"_debounceResetIsScrollingId",void 0),re(oe(n),"_invalidateOnUpdateStartIndex",null),re(oe(n),"_invalidateOnUpdateStopIndex",null),re(oe(n),"_positionCache",new qk),re(oe(n),"_startIndex",null),re(oe(n),"_startIndexMemoized",null),re(oe(n),"_stopIndex",null),re(oe(n),"_stopIndexMemoized",null),re(oe(n),"_debounceResetIsScrollingCallback",function(){n.setState({isScrolling:!1})}),re(oe(n),"_setScrollingContainerRef",function(s){n._scrollingContainer=s}),re(oe(n),"_onScroll",function(s){var l=n.props.height,c=s.currentTarget.scrollTop,u=Math.min(Math.max(0,n._getEstimatedTotalHeight()-l),c);c===u&&(n._debounceResetIsScrolling(),n.state.scrollTop!==u&&n.setState({isScrolling:!0,scrollTop:u}))}),n}return ji(e,[{key:"clearCellPositions",value:function(){this._positionCache=new qk,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(n){var r=n.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=r,this._invalidateOnUpdateStopIndex=r):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,r),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,r))}},{key:"recomputeCellPositions",value:function(){var n=this._positionCache.count-1;this._positionCache=new qk,this._populatePositionCache(0,n),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(n,r){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==n.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&Of(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var n=this,r=this.props,o=r.autoHeight,a=r.cellCount,s=r.cellMeasurerCache,l=r.cellRenderer,c=r.className,u=r.height,f=r.id,h=r.keyMapper,m=r.overscanByPixels,b=r.role,w=r.style,g=r.tabIndex,A=r.width,x=r.rowDirection,T=this.state,C=T.isScrolling,z=T.scrollTop,L=[],B=this._getEstimatedTotalHeight(),O=this._positionCache.shortestColumnSize,F=this._positionCache.count,H=0,K;if(this._positionCache.range(Math.max(0,z-m),u+m*2,function(Se,ke,Oe){var Fe;typeof K=="undefined"?(H=Se,K=Se):(H=Math.min(H,Se),K=Math.max(K,Se)),L.push(l({index:Se,isScrolling:C,key:h(Se),parent:n,style:(Fe={height:s.getHeight(Se)},re(Fe,x==="ltr"?"left":"right",ke),re(Fe,"position","absolute"),re(Fe,"top",Oe),re(Fe,"width",s.getWidth(Se)),Fe)}))}),O<z+u+m&&F<a)for(var fe=Math.min(a-F,Math.ceil((z+u+m-O)/s.defaultHeight*A/s.defaultWidth)),Ae=F;Ae<F+fe;Ae++)K=Ae,L.push(l({index:Ae,isScrolling:C,key:h(Ae),parent:this,style:{width:s.getWidth(Ae)}}));return this._startIndex=H,this._stopIndex=K,Y.exports.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Qe("ReactVirtualized__Masonry",c),id:f,onScroll:this._onScroll,role:b,style:Pme({boxSizing:"border-box",direction:"ltr",height:o?"auto":u,overflowX:"hidden",overflowY:B<u?"hidden":"auto",position:"relative",width:A,WebkitOverflowScrolling:"touch",willChange:"transform"},w),tabIndex:g},Y.exports.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:B,maxWidth:"100%",maxHeight:B,overflow:"hidden",pointerEvents:C?"none":"",position:"relative"}},L))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var n=this._invalidateOnUpdateStartIndex,r=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(n,r),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var n=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&Of(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=GE(this._debounceResetIsScrollingCallback,n)}},{key:"_getEstimatedTotalHeight",value:function(){var n=this.props,r=n.cellCount,o=n.cellMeasurerCache,a=n.width,s=Math.max(1,Math.floor(a/o.defaultWidth));return this._positionCache.estimateTotalHeight(r,s,o.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var n=this.props,r=n.height,o=n.onScroll,a=this.state.scrollTop;this._onScrollMemoized!==a&&(o({clientHeight:r,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:a}),this._onScrollMemoized=a)}},{key:"_invokeOnCellsRenderedCallback",value:function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var n=this.props.onCellsRendered;n({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}}},{key:"_populatePositionCache",value:function(n,r){for(var o=this.props,a=o.cellMeasurerCache,s=o.cellPositioner,l=n;l<=r;l++){var c=s(l),u=c.left,f=c.top;this._positionCache.setPosition(l,u,f,a.getHeight(l))}}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.scrollTop!==void 0&&r.scrollTop!==n.scrollTop?{isScrolling:!0,scrollTop:n.scrollTop}:null}}]),e}(Y.exports.PureComponent),re(fL,"propTypes",null),pL);re(L7,"defaultProps",{autoHeight:!1,keyMapper:Ome,onCellsRendered:mL,onScroll:mL,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:Lme,style:Rme,tabIndex:0,rowDirection:"ltr"});function Ome(t){return t}function mL(){}ub(L7);var Kk=function(){function t(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ui(this,t),re(this,"_cellMeasurerCache",void 0),re(this,"_columnIndexOffset",void 0),re(this,"_rowIndexOffset",void 0),re(this,"columnWidth",function(l){var c=l.index;e._cellMeasurerCache.columnWidth({index:c+e._columnIndexOffset})}),re(this,"rowHeight",function(l){var c=l.index;e._cellMeasurerCache.rowHeight({index:c+e._rowIndexOffset})});var n=i.cellMeasurerCache,r=i.columnIndexOffset,o=r===void 0?0:r,a=i.rowIndexOffset,s=a===void 0?0:a;this._cellMeasurerCache=n,this._columnIndexOffset=o,this._rowIndexOffset=s}return ji(t,[{key:"clear",value:function(i,n){this._cellMeasurerCache.clear(i+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(i+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"getWidth",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(i+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"has",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(i+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"set",value:function(i,n,r,o){this._cellMeasurerCache.set(i+this._rowIndexOffset,n+this._columnIndexOffset,r,o)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),t}();function gL(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function Sn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?gL(i,!0).forEach(function(n){re(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):gL(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var bL=20,VE=function(t){Pr(e,t);function e(i,n){var r;Ui(this,e),r=oo(this,ar(e).call(this,i,n)),re(oe(r),"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),re(oe(r),"_deferredInvalidateColumnIndex",null),re(oe(r),"_deferredInvalidateRowIndex",null),re(oe(r),"_bottomLeftGridRef",function(l){r._bottomLeftGrid=l}),re(oe(r),"_bottomRightGridRef",function(l){r._bottomRightGrid=l}),re(oe(r),"_cellRendererBottomLeftGrid",function(l){var c=l.rowIndex,u=Hh(l,["rowIndex"]),f=r.props,h=f.cellRenderer,m=f.fixedRowCount,b=f.rowCount;return c===b-m?Y.exports.createElement("div",{key:u.key,style:Sn({},u.style,{height:bL})}):h(Sn({},u,{parent:oe(r),rowIndex:c+m}))}),re(oe(r),"_cellRendererBottomRightGrid",function(l){var c=l.columnIndex,u=l.rowIndex,f=Hh(l,["columnIndex","rowIndex"]),h=r.props,m=h.cellRenderer,b=h.fixedColumnCount,w=h.fixedRowCount;return m(Sn({},f,{columnIndex:c+b,parent:oe(r),rowIndex:u+w}))}),re(oe(r),"_cellRendererTopRightGrid",function(l){var c=l.columnIndex,u=Hh(l,["columnIndex"]),f=r.props,h=f.cellRenderer,m=f.columnCount,b=f.fixedColumnCount;return c===m-b?Y.exports.createElement("div",{key:u.key,style:Sn({},u.style,{width:bL})}):h(Sn({},u,{columnIndex:c+b,parent:oe(r)}))}),re(oe(r),"_columnWidthRightGrid",function(l){var c=l.index,u=r.props,f=u.columnCount,h=u.fixedColumnCount,m=u.columnWidth,b=r.state,w=b.scrollbarSize,g=b.showHorizontalScrollbar;return g&&c===f-h?w:typeof m=="function"?m({index:c+h}):m}),re(oe(r),"_onScroll",function(l){var c=l.scrollLeft,u=l.scrollTop;r.setState({scrollLeft:c,scrollTop:u});var f=r.props.onScroll;f&&f(l)}),re(oe(r),"_onScrollbarPresenceChange",function(l){var c=l.horizontal,u=l.size,f=l.vertical,h=r.state,m=h.showHorizontalScrollbar,b=h.showVerticalScrollbar;if(c!==m||f!==b){r.setState({scrollbarSize:u,showHorizontalScrollbar:c,showVerticalScrollbar:f});var w=r.props.onScrollbarPresenceChange;typeof w=="function"&&w({horizontal:c,size:u,vertical:f})}}),re(oe(r),"_onScrollLeft",function(l){var c=l.scrollLeft;r._onScroll({scrollLeft:c,scrollTop:r.state.scrollTop})}),re(oe(r),"_onScrollTop",function(l){var c=l.scrollTop;r._onScroll({scrollTop:c,scrollLeft:r.state.scrollLeft})}),re(oe(r),"_rowHeightBottomGrid",function(l){var c=l.index,u=r.props,f=u.fixedRowCount,h=u.rowCount,m=u.rowHeight,b=r.state,w=b.scrollbarSize,g=b.showVerticalScrollbar;return g&&c===h-f?w:typeof m=="function"?m({index:c+f}):m}),re(oe(r),"_topLeftGridRef",function(l){r._topLeftGrid=l}),re(oe(r),"_topRightGridRef",function(l){r._topRightGrid=l});var o=i.deferredMeasurementCache,a=i.fixedColumnCount,s=i.fixedRowCount;return r._maybeCalculateCachedStyles(!0),o&&(r._deferredMeasurementCacheBottomLeftGrid=s>0?new Kk({cellMeasurerCache:o,columnIndexOffset:0,rowIndexOffset:s}):o,r._deferredMeasurementCacheBottomRightGrid=a>0||s>0?new Kk({cellMeasurerCache:o,columnIndexOffset:a,rowIndexOffset:s}):o,r._deferredMeasurementCacheTopRightGrid=a>0?new Kk({cellMeasurerCache:o,columnIndexOffset:a,rowIndexOffset:0}):o),r}return ji(e,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.columnIndex,o=r===void 0?0:r,a=n.rowIndex,s=a===void 0?0:a;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,o):o,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,s):s}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.columnIndex,o=r===void 0?0:r,a=n.rowIndex,s=a===void 0?0:a,l=this.props,c=l.fixedColumnCount,u=l.fixedRowCount,f=Math.max(0,o-c),h=Math.max(0,s-u);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:h}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:f,rowIndex:h}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:o,rowIndex:s}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:f,rowIndex:s}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var n=this.props,r=n.scrollLeft,o=n.scrollTop;if(r>0||o>0){var a={};r>0&&(a.scrollLeft=r),o>0&&(a.scrollTop=o),this.setState(a)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var n=this.props,r=n.onScroll,o=n.onSectionRendered;n.onScrollbarPresenceChange,n.scrollLeft;var a=n.scrollToColumn;n.scrollTop;var s=n.scrollToRow,l=Hh(n,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var c=this.state,u=c.scrollLeft,f=c.scrollTop;return Y.exports.createElement("div",{style:this._containerOuterStyle},Y.exports.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(l),this._renderTopRightGrid(Sn({},l,{onScroll:r,scrollLeft:u}))),Y.exports.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(Sn({},l,{onScroll:r,scrollTop:f})),this._renderBottomRightGrid(Sn({},l,{onScroll:r,onSectionRendered:o,scrollLeft:u,scrollToColumn:a,scrollToRow:s,scrollTop:f}))))}},{key:"_getBottomGridHeight",value:function(n){var r=n.height,o=this._getTopGridHeight(n);return r-o}},{key:"_getLeftGridWidth",value:function(n){var r=n.fixedColumnCount,o=n.columnWidth;if(this._leftGridWidth==null)if(typeof o=="function"){for(var a=0,s=0;s<r;s++)a+=o({index:s});this._leftGridWidth=a}else this._leftGridWidth=o*r;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(n){var r=n.width,o=this._getLeftGridWidth(n);return r-o}},{key:"_getTopGridHeight",value:function(n){var r=n.fixedRowCount,o=n.rowHeight;if(this._topGridHeight==null)if(typeof o=="function"){for(var a=0,s=0;s<r;s++)a+=o({index:s});this._topGridHeight=a}else this._topGridHeight=o*r;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var n=this._deferredInvalidateColumnIndex,r=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:n,rowIndex:r}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(n){var r=this.props,o=r.columnWidth,a=r.enableFixedColumnScroll,s=r.enableFixedRowScroll,l=r.height,c=r.fixedColumnCount,u=r.fixedRowCount,f=r.rowHeight,h=r.style,m=r.styleBottomLeftGrid,b=r.styleBottomRightGrid,w=r.styleTopLeftGrid,g=r.styleTopRightGrid,A=r.width,x=n||l!==this._lastRenderedHeight||A!==this._lastRenderedWidth,T=n||o!==this._lastRenderedColumnWidth||c!==this._lastRenderedFixedColumnCount,C=n||u!==this._lastRenderedFixedRowCount||f!==this._lastRenderedRowHeight;(n||x||h!==this._lastRenderedStyle)&&(this._containerOuterStyle=Sn({height:l,overflow:"visible",width:A},h)),(n||x||C)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:A},this._containerBottomStyle={height:l-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:A}),(n||m!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=Sn({left:0,overflowX:"hidden",overflowY:a?"auto":"hidden",position:"absolute"},m)),(n||T||b!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=Sn({left:this._getLeftGridWidth(this.props),position:"absolute"},b)),(n||w!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=Sn({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},w)),(n||T||g!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=Sn({left:this._getLeftGridWidth(this.props),overflowX:s?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},g)),this._lastRenderedColumnWidth=o,this._lastRenderedFixedColumnCount=c,this._lastRenderedFixedRowCount=u,this._lastRenderedHeight=l,this._lastRenderedRowHeight=f,this._lastRenderedStyle=h,this._lastRenderedStyleBottomLeftGrid=m,this._lastRenderedStyleBottomRightGrid=b,this._lastRenderedStyleTopLeftGrid=w,this._lastRenderedStyleTopRightGrid=g,this._lastRenderedWidth=A}},{key:"_prepareForRender",value:function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(n){var r=n.enableFixedColumnScroll,o=n.fixedColumnCount,a=n.fixedRowCount,s=n.rowCount,l=n.hideBottomLeftGridScrollbar,c=this.state.showVerticalScrollbar;if(!o)return null;var u=c?1:0,f=this._getBottomGridHeight(n),h=this._getLeftGridWidth(n),m=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,b=l?h+m:h,w=Y.exports.createElement(fl,he({},n,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:o,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:f,onScroll:r?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,s-a)+u,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:b}));return l?Y.exports.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:Sn({},this._bottomLeftGridStyle,{height:f,width:h,overflowY:"hidden"})},w):w}},{key:"_renderBottomRightGrid",value:function(n){var r=n.columnCount,o=n.fixedColumnCount,a=n.fixedRowCount,s=n.rowCount,l=n.scrollToColumn,c=n.scrollToRow;return Y.exports.createElement(fl,he({},n,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,r-o),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(n),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,s-a),rowHeight:this._rowHeightBottomGrid,scrollToColumn:l-o,scrollToRow:c-a,style:this._bottomRightGridStyle,width:this._getRightGridWidth(n)}))}},{key:"_renderTopLeftGrid",value:function(n){var r=n.fixedColumnCount,o=n.fixedRowCount;return!r||!o?null:Y.exports.createElement(fl,he({},n,{className:this.props.classNameTopLeftGrid,columnCount:r,height:this._getTopGridHeight(n),ref:this._topLeftGridRef,rowCount:o,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(n)}))}},{key:"_renderTopRightGrid",value:function(n){var r=n.columnCount,o=n.enableFixedRowScroll,a=n.fixedColumnCount,s=n.fixedRowCount,l=n.scrollLeft,c=n.hideTopRightGridScrollbar,u=this.state,f=u.showHorizontalScrollbar,h=u.scrollbarSize;if(!s)return null;var m=f?1:0,b=this._getTopGridHeight(n),w=this._getRightGridWidth(n),g=f?h:0,A=b,x=this._topRightGridStyle;c&&(A=b+g,x=Sn({},this._topRightGridStyle,{left:0}));var T=Y.exports.createElement(fl,he({},n,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,r-a)+m,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:A,onScroll:o?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:s,scrollLeft:l,style:x,tabIndex:null,width:w}));return c?Y.exports.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:Sn({},this._topRightGridStyle,{height:b,width:w,overflowX:"hidden"})},T):T}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.scrollLeft!==r.scrollLeft||n.scrollTop!==r.scrollTop?{scrollLeft:n.scrollLeft!=null&&n.scrollLeft>=0?n.scrollLeft:r.scrollLeft,scrollTop:n.scrollTop!=null&&n.scrollTop>=0?n.scrollTop:r.scrollTop}:null}}]),e}(Y.exports.PureComponent);re(VE,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1});VE.propTypes={};ub(VE);function Dme(t){var e=t.dataKey,i=t.rowData;return typeof i.get=="function"?i.get(e):i[e]}function Mme(t){var e=t.cellData;return e==null?"":String(e)}function O7(t){var e=t.className,i=t.columns,n=t.style;return Y.exports.createElement("div",{className:e,role:"row",style:n},i)}O7.propTypes=null;var pl={ASC:"ASC",DESC:"DESC"};function D7(t){var e=t.sortDirection,i=Qe("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===pl.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===pl.DESC});return Y.exports.createElement("svg",{className:i,width:18,height:18,viewBox:"0 0 24 24"},e===pl.ASC?Y.exports.createElement("path",{d:"M7 14l5-5 5 5z"}):Y.exports.createElement("path",{d:"M7 10l5 5 5-5z"}),Y.exports.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}D7.propTypes={};function M7(t){var e=t.dataKey,i=t.label,n=t.sortBy,r=t.sortDirection,o=n===e,a=[Y.exports.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof i=="string"?i:null},i)];return o&&a.push(Y.exports.createElement(D7,{key:"SortIndicator",sortDirection:r})),a}M7.propTypes=null;function B7(t){var e=t.className,i=t.columns,n=t.index,r=t.key,o=t.onRowClick,a=t.onRowDoubleClick,s=t.onRowMouseOut,l=t.onRowMouseOver,c=t.onRowRightClick,u=t.rowData,f=t.style,h={"aria-rowindex":n+1};return(o||a||s||l||c)&&(h["aria-label"]="row",h.tabIndex=0,o&&(h.onClick=function(m){return o({event:m,index:n,rowData:u})}),a&&(h.onDoubleClick=function(m){return a({event:m,index:n,rowData:u})}),s&&(h.onMouseOut=function(m){return s({event:m,index:n,rowData:u})}),l&&(h.onMouseOver=function(m){return l({event:m,index:n,rowData:u})}),c&&(h.onContextMenu=function(m){return c({event:m,index:n,rowData:u})})),Y.exports.createElement("div",he({},h,{className:e,key:r,role:"row",style:f}),i)}B7.propTypes=null;var F7=function(t){Pr(e,t);function e(){return Ui(this,e),oo(this,ar(e).apply(this,arguments))}return e}(Y.exports.Component);re(F7,"defaultProps",{cellDataGetter:Dme,cellRenderer:Mme,defaultSortDirection:pl.ASC,flexGrow:0,flexShrink:1,headerRenderer:M7,style:{}});F7.propTypes={};function vL(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function ad(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?vL(i,!0).forEach(function(n){re(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):vL(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var N7=function(t){Pr(e,t);function e(i){var n;return Ui(this,e),n=oo(this,ar(e).call(this,i)),n.state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(oe(n)),n._createRow=n._createRow.bind(oe(n)),n._onScroll=n._onScroll.bind(oe(n)),n._onSectionRendered=n._onSectionRendered.bind(oe(n)),n._setRef=n._setRef.bind(oe(n)),n}return ji(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(n){var r=n.alignment,o=n.index;if(this.Grid){var a=this.Grid.getOffsetForCell({alignment:r,rowIndex:o}),s=a.scrollTop;return s}return 0}},{key:"invalidateCellSizeAfterRender",value:function(n){var r=n.columnIndex,o=n.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:o,columnIndex:r})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.columnIndex,o=r===void 0?0:r,a=n.rowIndex,s=a===void 0?0:a;this.Grid&&this.Grid.recomputeGridSize({rowIndex:s,columnIndex:o})}},{key:"recomputeRowHeights",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:n})}},{key:"scrollToPosition",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:n})}},{key:"scrollToRow",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:n})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var n=_l.exports.findDOMNode(this.Grid),r=n.clientWidth||0,o=n.offsetWidth||0;return o-r}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var n=this,r=this.props,o=r.children,a=r.className,s=r.disableHeader,l=r.gridClassName,c=r.gridStyle,u=r.headerHeight,f=r.headerRowRenderer,h=r.height,m=r.id,b=r.noRowsRenderer,w=r.rowClassName,g=r.rowStyle,A=r.scrollToIndex,x=r.style,T=r.width,C=this.state.scrollbarWidth,z=s?h:h-u,L=typeof w=="function"?w({index:-1}):w,B=typeof g=="function"?g({index:-1}):g;return this._cachedColumnStyles=[],Y.exports.Children.toArray(o).forEach(function(O,F){var H=n._getFlexStyleForColumn(O,O.props.style);n._cachedColumnStyles[F]=ad({overflow:"hidden"},H)}),Y.exports.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":Y.exports.Children.toArray(o).length,"aria-rowcount":this.props.rowCount,className:Qe("ReactVirtualized__Table",a),id:m,role:"grid",style:x},!s&&f({className:Qe("ReactVirtualized__Table__headerRow",L),columns:this._getHeaderColumns(),style:ad({height:u,overflow:"hidden",paddingRight:C,width:T},B)}),Y.exports.createElement(fl,he({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:Qe("ReactVirtualized__Table__Grid",l),cellRenderer:this._createRow,columnWidth:T,columnCount:1,height:z,id:void 0,noContentRenderer:b,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:C,scrollToRow:A,style:ad({},c,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(n){var r=n.column,o=n.columnIndex,a=n.isScrolling,s=n.parent,l=n.rowData,c=n.rowIndex,u=this.props.onColumnClick,f=r.props,h=f.cellDataGetter,m=f.cellRenderer,b=f.className,w=f.columnData,g=f.dataKey,A=f.id,x=h({columnData:w,dataKey:g,rowData:l}),T=m({cellData:x,columnData:w,columnIndex:o,dataKey:g,isScrolling:a,parent:s,rowData:l,rowIndex:c}),C=function(O){u&&u({columnData:w,dataKey:g,event:O})},z=this._cachedColumnStyles[o],L=typeof T=="string"?T:null;return Y.exports.createElement("div",{"aria-colindex":o+1,"aria-describedby":A,className:Qe("ReactVirtualized__Table__rowColumn",b),key:"Row"+c+"-Col"+o,onClick:C,role:"gridcell",style:z,title:L},T)}},{key:"_createHeader",value:function(n){var r=n.column,o=n.index,a=this.props,s=a.headerClassName,l=a.headerStyle,c=a.onHeaderClick,u=a.sort,f=a.sortBy,h=a.sortDirection,m=r.props,b=m.columnData,w=m.dataKey,g=m.defaultSortDirection,A=m.disableSort,x=m.headerRenderer,T=m.id,C=m.label,z=!A&&u,L=Qe("ReactVirtualized__Table__headerColumn",s,r.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:z}),B=this._getFlexStyleForColumn(r,ad({},l,{},r.props.headerStyle)),O=x({columnData:b,dataKey:w,disableSort:A,label:C,sortBy:f,sortDirection:h}),F,H,K,fe,Ae;if(z||c){var Se=f!==w,ke=Se?g:h===pl.DESC?pl.ASC:pl.DESC,Oe=function(Le){z&&u({defaultSortDirection:g,event:Le,sortBy:w,sortDirection:ke}),c&&c({columnData:b,dataKey:w,event:Le})},Fe=function(Le){(Le.key==="Enter"||Le.key===" ")&&Oe(Le)};Ae=r.props["aria-label"]||C||w,fe="none",K=0,F=Oe,H=Fe}return f===w&&(fe=h===pl.ASC?"ascending":"descending"),Y.exports.createElement("div",{"aria-label":Ae,"aria-sort":fe,className:L,id:T,key:"Header-Col"+o,onClick:F,onKeyDown:H,role:"columnheader",style:B,tabIndex:K},O)}},{key:"_createRow",value:function(n){var r=this,o=n.rowIndex,a=n.isScrolling,s=n.key,l=n.parent,c=n.style,u=this.props,f=u.children,h=u.onRowClick,m=u.onRowDoubleClick,b=u.onRowRightClick,w=u.onRowMouseOver,g=u.onRowMouseOut,A=u.rowClassName,x=u.rowGetter,T=u.rowRenderer,C=u.rowStyle,z=this.state.scrollbarWidth,L=typeof A=="function"?A({index:o}):A,B=typeof C=="function"?C({index:o}):C,O=x({index:o}),F=Y.exports.Children.toArray(f).map(function(fe,Ae){return r._createColumn({column:fe,columnIndex:Ae,isScrolling:a,parent:l,rowData:O,rowIndex:o,scrollbarWidth:z})}),H=Qe("ReactVirtualized__Table__row",L),K=ad({},c,{height:this._getRowHeight(o),overflow:"hidden",paddingRight:z},B);return T({className:H,columns:F,index:o,isScrolling:a,key:s,onRowClick:h,onRowDoubleClick:m,onRowRightClick:b,onRowMouseOver:w,onRowMouseOut:g,rowData:O,style:K})}},{key:"_getFlexStyleForColumn",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o="".concat(n.props.flexGrow," ").concat(n.props.flexShrink," ").concat(n.props.width,"px"),a=ad({},r,{flex:o,msFlex:o,WebkitFlex:o});return n.props.maxWidth&&(a.maxWidth=n.props.maxWidth),n.props.minWidth&&(a.minWidth=n.props.minWidth),a}},{key:"_getHeaderColumns",value:function(){var n=this,r=this.props,o=r.children,a=r.disableHeader,s=a?[]:Y.exports.Children.toArray(o);return s.map(function(l,c){return n._createHeader({column:l,index:c})})}},{key:"_getRowHeight",value:function(n){var r=this.props.rowHeight;return typeof r=="function"?r({index:n}):r}},{key:"_onScroll",value:function(n){var r=n.clientHeight,o=n.scrollHeight,a=n.scrollTop,s=this.props.onScroll;s({clientHeight:r,scrollHeight:o,scrollTop:a})}},{key:"_onSectionRendered",value:function(n){var r=n.rowOverscanStartIndex,o=n.rowOverscanStopIndex,a=n.rowStartIndex,s=n.rowStopIndex,l=this.props.onRowsRendered;l({overscanStartIndex:r,overscanStopIndex:o,startIndex:a,stopIndex:s})}},{key:"_setRef",value:function(n){this.Grid=n}},{key:"_setScrollbarWidth",value:function(){var n=this.getScrollbarWidth();this.setState({scrollbarWidth:n})}}]),e}(Y.exports.PureComponent);re(N7,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:w7,overscanRowCount:10,rowRenderer:B7,headerRowRenderer:O7,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}});N7.propTypes={};var kl=[],mm=null,Qc=null;function j7(){Qc&&(Qc=null,document.body&&mm!=null&&(document.body.style.pointerEvents=mm),mm=null)}function Bme(){j7(),kl.forEach(function(t){return t.__resetIsScrolling()})}function Fme(){Qc&&Of(Qc);var t=0;kl.forEach(function(e){t=Math.max(t,e.props.scrollingResetTimeInterval)}),Qc=GE(Bme,t)}function U7(t){t.currentTarget===window&&mm==null&&document.body&&(mm=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),Fme(),kl.forEach(function(e){e.props.scrollElement===t.currentTarget&&e.__handleWindowScrollEvent()})}function yL(t,e){kl.some(function(i){return i.props.scrollElement===e})||e.addEventListener("scroll",U7),kl.push(t)}function wL(t,e){kl=kl.filter(function(i){return i!==t}),kl.length||(e.removeEventListener("scroll",U7),Qc&&(Of(Qc),j7()))}var $E=function(e){return e===window},Yh=function(e){return e.getBoundingClientRect()};function AL(t,e){if(t)if($E(t)){var i=window,n=i.innerHeight,r=i.innerWidth;return{height:typeof n=="number"?n:0,width:typeof r=="number"?r:0}}else return Yh(t);else return{height:e.serverHeight,width:e.serverWidth}}function Nme(t,e){if($E(e)&&document.documentElement){var i=document.documentElement,n=Yh(t),r=Yh(i);return{top:n.top-r.top,left:n.left-r.left}}else{var o=G7(e),a=Yh(t),s=Yh(e);return{top:a.top+o.top-s.top,left:a.left+o.left-s.left}}}function G7(t){return $E(t)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:t.scrollTop,left:t.scrollLeft}}var xL,kL;function _L(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function jme(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?_L(i,!0).forEach(function(n){re(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_L(i).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}var Ume=150,H7=function(){return typeof window!="undefined"?window:void 0},Gme=(kL=xL=function(t){Pr(e,t);function e(){var i,n;Ui(this,e);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=oo(this,(i=ar(e)).call.apply(i,[this].concat(o))),re(oe(n),"_window",H7()),re(oe(n),"_isMounted",!1),re(oe(n),"_positionFromTop",0),re(oe(n),"_positionFromLeft",0),re(oe(n),"_detectElementResize",void 0),re(oe(n),"_child",void 0),re(oe(n),"state",jme({},AL(n.props.scrollElement,n.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),re(oe(n),"_registerChild",function(s){s&&!(s instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),n._child=s,n.updatePosition()}),re(oe(n),"_onChildScroll",function(s){var l=s.scrollTop;if(n.state.scrollTop!==l){var c=n.props.scrollElement;c&&(typeof c.scrollTo=="function"?c.scrollTo(0,l+n._positionFromTop):c.scrollTop=l+n._positionFromTop)}}),re(oe(n),"_registerResizeListener",function(s){s===window?window.addEventListener("resize",n._onResize,!1):n._detectElementResize.addResizeListener(s,n._onResize)}),re(oe(n),"_unregisterResizeListener",function(s){s===window?window.removeEventListener("resize",n._onResize,!1):s&&n._detectElementResize.removeResizeListener(s,n._onResize)}),re(oe(n),"_onResize",function(){n.updatePosition()}),re(oe(n),"__handleWindowScrollEvent",function(){if(!!n._isMounted){var s=n.props.onScroll,l=n.props.scrollElement;if(l){var c=G7(l),u=Math.max(0,c.left-n._positionFromLeft),f=Math.max(0,c.top-n._positionFromTop);n.setState({isScrolling:!0,scrollLeft:u,scrollTop:f}),s({scrollLeft:u,scrollTop:f})}}}),re(oe(n),"__resetIsScrolling",function(){n.setState({isScrolling:!1})}),n}return ji(e,[{key:"updatePosition",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,r=this.props.onResize,o=this.state,a=o.height,s=o.width,l=this._child||_l.exports.findDOMNode(this);if(l instanceof Element&&n){var c=Nme(l,n);this._positionFromTop=c.top,this._positionFromLeft=c.left}var u=AL(n,this.props);(a!==u.height||s!==u.width)&&(this.setState({height:u.height,width:u.width}),r({height:u.height,width:u.width}))}},{key:"componentDidMount",value:function(){var n=this.props.scrollElement;this._detectElementResize=x7(),this.updatePosition(n),n&&(yL(this,n),this._registerResizeListener(n)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(n,r){var o=this.props.scrollElement,a=n.scrollElement;a!==o&&a!=null&&o!=null&&(this.updatePosition(o),wL(this,a),yL(this,o),this._unregisterResizeListener(a),this._registerResizeListener(o))}},{key:"componentWillUnmount",value:function(){var n=this.props.scrollElement;n&&(wL(this,n),this._unregisterResizeListener(n)),this._isMounted=!1}},{key:"render",value:function(){var n=this.props.children,r=this.state,o=r.isScrolling,a=r.scrollTop,s=r.scrollLeft,l=r.height,c=r.width;return n({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:l,isScrolling:o,scrollLeft:s,scrollTop:a,width:c})}}]),e}(Y.exports.PureComponent),re(xL,"propTypes",null),kL);re(Gme,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:Ume,scrollElement:H7(),serverHeight:0,serverWidth:0});const Hme=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Yme=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"24",height:"24",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Wme=()=>le("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"24",height:"24",children:[P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),Vme=Be.div(t=>({display:"grid",gridTemplateColumns:"1fr",rowGap:8,padding:"8px 16px",backgroundColor:"white",borderLeft:`4px solid ${t.isJumpedTo?No.dark_blue:"transparent"}`})),$me=Be.div({fontSize:Er.font_size_5}),Qme=Be.div(t=>({display:"grid",columnGap:4,gridTemplateColumns:t.hasMultipleActions?"1fr auto auto":"1fr auto",justifyContent:"start",alignItems:"center"})),qme=Be.div({display:"grid",columnGap:4,gridTemplateColumns:"auto auto",justifyContent:"start",alignItems:"center",fontSize:Er.font_size_2,overflowWrap:"anywhere","& p":{margin:0}}),fw=24,Kme=Be.img({objectFit:"cover",objectPosition:"center",borderRadius:"50%",width:fw,height:fw}),Xme=Be.div({width:fw,height:fw}),TL=Be.button({padding:"2px 8px !important",display:"flex",justifyContent:"center",alignItems:"center"}),Y7=({sessionIndex:t,speakerName:e,text:i,startTime:n,speakerId:r,speakerPictureSrc:o,searchQuery:a,handleJumpToVideoClip:s,handleJumpToTranscript:l,componentRef:c})=>{const[u,f]=Y.exports.useState(!1),h=Y.exports.useRef(null);Y.exports.useImperativeHandle(c,()=>({scrollIntoView:()=>{var g;(g=h.current)==null||g.scrollIntoView({behavior:"smooth",block:"center"}),f(!0),setTimeout(()=>{f(!1)},5e3)}}));const m=r?P(mn,{to:`/people/${r}`,children:e}):P("div",{children:e}),b=o?P(Kme,{src:o,alt:e}):P(Xme,{children:P(Hme,{})}),w=Y.exports.useMemo(()=>{const g=hg(a||""),A=pg(g.split(" "));if(!g||A.length===0)return[];const x=A.map(C=>sw(C)),T=A.map((C,z)=>new RegExp(`\\b(${C}|${x[z]})`,"g"));return a&&a.trim().length>0&&T.push(new RegExp(a.trim(),"g")),T},[a]);return le(Vme,{isJumpedTo:u,ref:h,children:[P($me,{children:P(ZN,{caseSensitive:!1,searchWords:w,textToHighlight:i})}),le(Qme,{hasMultipleActions:l!==void 0,children:[le(qme,{children:[b,le("div",{children:[m,P("p",{children:`${ze.session} ${t+1}`}),P("p",{children:n})]})]}),P("div",{children:P(Is,{position:"top right",content:ze.jump_to_sentence_video,size:"mini",trigger:P(TL,{"aria-label":ze.jump_to_sentence_video,className:"mzp-c-button mzp-t-neutral",onClick:s,children:P(Wme,{})})})}),l&&P("div",{children:P(Is,{position:"top right",content:ze.jump_to_sentence_transcript,size:"mini",trigger:P(TL,{"aria-label":ze.jump_to_sentence_transcript,className:"mzp-c-button mzp-t-neutral",onClick:l,children:P(Yme,{})})})})]})]})};function gm(t){return`${t}`.padStart(2,"0")}function W7(t){const e=Math.floor(t),i=Math.floor(e/3600),n=Math.floor((e-i*3600)/60),r=e-i*3600-n*60;return`${gm(i)}:${gm(n)}:${gm(r)}`}const Jme=({searchQuery:t,sentences:e,jumpToVideoClip:i,jumpToTranscript:n})=>{const r=(c,u)=>()=>i(c,u),o=c=>()=>{n(c)},a=new Qhe({fixedWidth:!0,defaultHeight:100}),s=()=>{a.clearAll()},l=({index:c,parent:u,key:f,style:h})=>P(_7,{cache:a,parent:u,columnIndex:0,rowIndex:c,children:P("div",{style:h,role:"row",children:P("div",{style:{margin:"0 0 16px 0"},role:"cell",children:P(Y7,{sessionIndex:e[c].session_index,speakerName:e[c].speaker_name,text:e[c].text,startTime:W7(e[c].start_time),handleJumpToVideoClip:r(e[c].session_index,e[c].start_time),searchQuery:t,speakerId:e[c].speaker_id,speakerPictureSrc:e[c].speaker_pictureSrc,handleJumpToTranscript:o(e[c].index)})})})},f);return P(k7,{onResize:s,children:({width:c,height:u})=>P(E7,{deferredMeasurementCache:a,height:u,rowCount:e.length,rowHeight:a.rowHeight,rowRenderer:l,scrollToIndex:0,style:{willChange:""},width:c})})},Zme=Be.div({display:"flex",flexDirection:"column",height:"100%"}),ege=Be.div({display:"flex",flexDirection:"column",justifyContent:"start",marginBottom:"16px","div:first-of-type":{fontSize:Er.font_size_7,fontWeight:600},[`@media (min-width:${Ft.tablet})`]:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}),tge=Be.div(t=>({minHeight:t.hasSearchResults?"80vh":0,[`@media (min-width:${Ft.tablet})`]:{minHeight:t.hasSearchResults?"50vh":0},[`@media (min-aspect-ratio:5/4), (min-width:${Ft.desktop})`]:{flex:"1 1 auto",minHeight:0}})),ige=({searchQuery:t,sentences:e,jumpToVideoClip:i,jumpToTranscript:n})=>{const[r,o]=Y.exports.useState(t),a=h=>{o(h.target.value)},[s,l]=Y.exports.useState(t),c=h=>{h.preventDefault(),l(r)},u=Y.exports.useMemo(()=>e.data?e.data.map(({text:h})=>{const m=hg(h),w=pg(m.split(" ")).map(g=>sw(g).toLowerCase());return new Set(w)}):[],[e.data]),f=Y.exports.useMemo(()=>{if(e.data){if(!s.trim())return e.data;const h=hg(s),m=pg(h.split(" "));if(!h||m.length===0)return[];const b=m.map(w=>sw(w).toLowerCase());return e.data.filter((w,g)=>b.some(A=>u[g].has(A)))}return[]},[e.data,u,s]);return le(Zme,{children:[le(ege,{children:[P("div",{children:ze.search_transcript}),P("div",{children:e.data&&ze.number_of_results.replace("{number}",`${f.length}`)})]}),P("form",{className:"mzp-c-form",role:"search",onSubmit:c,children:P("input",{style:{width:"100%"},type:"search",placeholder:ze.search_transcript_placeholder,value:r,onChange:a})}),P(cb,{data:"transcript",isLoading:e.isLoading,error:e.error,notFound:!e.data||e.data.length===0,children:e.data&&P(tge,{hasSearchResults:f.length!==0,children:P(Jme,{searchQuery:s,sentences:f,jumpToVideoClip:i,jumpToTranscript:n})})})]})};var Wh;typeof window!="undefined"?Wh=window:typeof Bo!="undefined"?Wh=Bo:typeof self!="undefined"?Wh=self:Wh={};var Q=Wh,nge={},rge=Object.freeze(Object.defineProperty({__proto__:null,default:nge},Symbol.toStringTag,{value:"Module"})),oge=$2(rge),SL=typeof Bo!="undefined"?Bo:typeof window!="undefined"?window:{},age=oge,Vh;typeof document!="undefined"?Vh=document:(Vh=SL["__GLOBAL_DOCUMENT_CACHE@4"],Vh||(Vh=SL["__GLOBAL_DOCUMENT_CACHE@4"]=age));var De=Vh,sge=lge;function lge(t,e){var i,n=null;try{i=JSON.parse(t,e)}catch(r){n=r}return[n,i]}var b2={exports:{}};(function(t,e){function i(l){if(l&&typeof l=="object"){var c=l.which||l.keyCode||l.charCode;c&&(l=c)}if(typeof l=="number")return a[l];var u=String(l),f=n[u.toLowerCase()];if(f)return f;var f=r[u.toLowerCase()];if(f)return f;if(u.length===1)return u.charCodeAt(0)}i.isEventKey=function(c,u){if(c&&typeof c=="object"){var f=c.which||c.keyCode||c.charCode;if(f==null)return!1;if(typeof u=="string"){var h=n[u.toLowerCase()];if(h)return h===f;var h=r[u.toLowerCase()];if(h)return h===f}else if(typeof u=="number")return u===f;return!1}},e=t.exports=i;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(o=97;o<123;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)n[o-48]=o;for(o=1;o<13;o++)n["f"+o]=o+111;for(o=0;o<10;o++)n["numpad "+o]=o+96;var a=e.names=e.title={};for(o in n)a[n[o]]=o;for(var s in r)n[s]=r[s]})(b2,b2.exports);var mt=b2.exports,QE={exports:{}},cge=$2(wK),uge=fge,dge=Object.prototype.toString;function fge(t){if(!t)return!1;var e=dge.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window!="undefined"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var pge=Q,hge=function(e,i){return i===void 0&&(i=!1),function(n,r,o){if(n){e(n);return}if(r.statusCode>=400&&r.statusCode<=599){var a=o;if(i)if(pge.TextDecoder){var s=mge(r.headers&&r.headers["content-type"]);try{a=new TextDecoder(s).decode(o)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(o));e({cause:a});return}e(null,o)}};function mge(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,i){var n=i.split("="),r=n[0],o=n[1];return r.trim()==="charset"?o.trim():e},"utf-8")}var gge=hge,V7=Q,bge=cge,vge=uge;_a.httpHandler=gge;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var yge=function(e){var i={};return e&&e.trim().split(`
`).forEach(function(n){var r=n.indexOf(":"),o=n.slice(0,r).trim().toLowerCase(),a=n.slice(r+1).trim();typeof i[o]=="undefined"?i[o]=a:Array.isArray(i[o])?i[o].push(a):i[o]=[i[o],a]}),i};QE.exports=_a;QE.exports.default=_a;_a.XMLHttpRequest=V7.XMLHttpRequest||kge;_a.XDomainRequest="withCredentials"in new _a.XMLHttpRequest?_a.XMLHttpRequest:V7.XDomainRequest;wge(["get","put","post","patch","head","delete"],function(t){_a[t==="delete"?"del":t]=function(e,i,n){return i=$7(e,i,n),i.method=t.toUpperCase(),Q7(i)}});function wge(t,e){for(var i=0;i<t.length;i++)e(t[i])}function Age(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function $7(t,e,i){var n=t;return vge(e)?(i=e,typeof t=="string"&&(n={uri:t})):n=bge({},e,{uri:t}),n.callback=i,n}function _a(t,e,i){return e=$7(t,e,i),Q7(e)}function Q7(t){if(typeof t.callback=="undefined")throw new Error("callback argument missing");var e=!1,i=function(T,C,z){e||(e=!0,t.callback(T,C,z))};function n(){s.readyState===4&&setTimeout(a,0)}function r(){var x=void 0;if(s.response?x=s.response:x=s.responseText||xge(s),w)try{x=JSON.parse(x)}catch{}return x}function o(x){return clearTimeout(g),x instanceof Error||(x=new Error(""+(x||"Unknown XMLHttpRequest Error"))),x.statusCode=0,i(x,A)}function a(){if(!c){var x;clearTimeout(g),t.useXDR&&s.status===void 0?x=200:x=s.status===1223?204:s.status;var T=A,C=null;return x!==0?(T={body:r(),statusCode:x,method:f,headers:{},url:u,rawRequest:s},s.getAllResponseHeaders&&(T.headers=yge(s.getAllResponseHeaders()))):C=new Error("Internal XMLHttpRequest Error"),i(C,T,T.body)}}var s=t.xhr||null;s||(t.cors||t.useXDR?s=new _a.XDomainRequest:s=new _a.XMLHttpRequest);var l,c,u=s.url=t.uri||t.url,f=s.method=t.method||"GET",h=t.body||t.data,m=s.headers=t.headers||{},b=!!t.sync,w=!1,g,A={body:void 0,headers:{},statusCode:0,method:f,url:u,rawRequest:s};if("json"in t&&t.json!==!1&&(w=!0,m.accept||m.Accept||(m.Accept="application/json"),f!=="GET"&&f!=="HEAD"&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),h=JSON.stringify(t.json===!0?h:t.json))),s.onreadystatechange=n,s.onload=a,s.onerror=o,s.onprogress=function(){},s.onabort=function(){c=!0},s.ontimeout=o,s.open(f,u,!b,t.username,t.password),b||(s.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(g=setTimeout(function(){if(!c){c=!0,s.abort("timeout");var x=new Error("XMLHttpRequest timeout");x.code="ETIMEDOUT",o(x)}},t.timeout)),s.setRequestHeader)for(l in m)m.hasOwnProperty(l)&&s.setRequestHeader(l,m[l]);else if(t.headers&&!Age(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(s.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(s),s.send(h||null),s}function xge(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function kge(){}var q7=QE.exports,K7={exports:{}},CL=De,qE=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Vr(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Vr.prototype=qE(Error.prototype);Vr.prototype.constructor=Vr;Vr.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function KE(t){function e(n,r,o,a){return(n|0)*3600+(r|0)*60+(o|0)+(a|0)/1e3}var i=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function bm(){this.values=qE(null)}bm.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function $h(t,e,i,n){var r=n?t.split(n):[t];for(var o in r)if(typeof r[o]=="string"){var a=r[o].split(i);if(a.length===2){var s=a[0],l=a[1];e(s,l)}}}function _ge(t,e,i){var n=t;function r(){var s=KE(t);if(s===null)throw new Vr(Vr.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),s}function o(s,l){var c=new bm;$h(s,function(u,f){switch(u){case"region":for(var h=i.length-1;h>=0;h--)if(i[h].id===f){c.set(u,i[h].region);break}break;case"vertical":c.alt(u,f,["rl","lr"]);break;case"line":var m=f.split(","),b=m[0];c.integer(u,b),c.percent(u,b)&&c.set("snapToLines",!1),c.alt(u,b,["auto"]),m.length===2&&c.alt("lineAlign",m[1],["start","center","end"]);break;case"position":m=f.split(","),c.percent(u,m[0]),m.length===2&&c.alt("positionAlign",m[1],["start","center","end"]);break;case"size":c.percent(u,f);break;case"align":c.alt(u,f,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");try{l.line=c.get("line","auto")}catch{}l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100);try{l.align=c.get("align","center")}catch{l.align=c.get("align","middle")}try{l.position=c.get("position","auto")}catch{l.position=c.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=c.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=r(),a(),t.substr(0,3)!=="-->")throw new Vr(Vr.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.substr(3),a(),e.endTime=r(),a(),o(t,e)}var Xk=CL.createElement&&CL.createElement("textarea"),Tge={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},EL={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Sge={v:"title",lang:"lang"},zL={rt:"ruby"};function X7(t,e){function i(){if(!e)return null;function b(g){return e=e.substr(g.length),g}var w=e.match(/^([^<]*)(<[^>]*>?)?/);return b(w[1]?w[1]:w[2])}function n(b){return Xk.innerHTML=b,b=Xk.textContent,Xk.textContent="",b}function r(b,w){return!zL[w.localName]||zL[w.localName]===b.localName}function o(b,w){var g=Tge[b];if(!g)return null;var A=t.document.createElement(g),x=Sge[b];return x&&w&&(A[x]=w.trim()),A}for(var a=t.document.createElement("div"),s=a,l,c=[];(l=i())!==null;){if(l[0]==="<"){if(l[1]==="/"){c.length&&c[c.length-1]===l.substr(2).replace(">","")&&(c.pop(),s=s.parentNode);continue}var u=KE(l.substr(1,l.length-2)),f;if(u){f=t.document.createProcessingInstruction("timestamp",u),s.appendChild(f);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(f=o(h[1],h[3]),!f)||!r(s,f))continue;if(h[2]){var m=h[2].split(".");m.forEach(function(b){var w=/^bg_/.test(b),g=w?b.slice(3):b;if(EL.hasOwnProperty(g)){var A=w?"background-color":"color",x=EL[g];f.style[A]=x}}),f.className=m.join(" ")}c.push(h[1]),s.appendChild(f),s=f;continue}s.appendChild(t.document.createTextNode(n(l)))}return a}var IL=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Cge(t){for(var e=0;e<IL.length;e++){var i=IL[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function Ege(t){var e=[],i="",n;if(!t||!t.childNodes)return"ltr";function r(s,l){for(var c=l.childNodes.length-1;c>=0;c--)s.push(l.childNodes[c])}function o(s){if(!s||!s.length)return null;var l=s.pop(),c=l.textContent||l.innerText;if(c){var u=c.match(/^.*(\n|\r)/);return u?(s.length=0,u[0]):c}if(l.tagName==="ruby")return o(s);if(l.childNodes)return r(s,l),o(s)}for(r(e,t);i=o(e);)for(var a=0;a<i.length;a++)if(n=i.charCodeAt(a),Cge(n))return"rtl";return"ltr"}function zge(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,r=0;r<i.length&&i[r]!==e;r++)i[r].mode==="showing"&&n++;return++n*-1}function sx(){}sx.prototype.applyStyles=function(t,e){e=e||this.div;for(var i in t)t.hasOwnProperty(i)&&(e.style[i]=t[i])};sx.prototype.formatStyle=function(t,e){return t===0?0:t+e};function pw(t,e,i){sx.call(this),this.cue=e,this.cueDiv=X7(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:Ege(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(o){this.applyStyles({top:this.formatStyle(o.top,"px"),bottom:this.formatStyle(o.bottom,"px"),left:this.formatStyle(o.left,"px"),right:this.formatStyle(o.right,"px"),height:this.formatStyle(o.height,"px"),width:this.formatStyle(o.width,"px")})}}pw.prototype=qE(sx.prototype);pw.prototype.constructor=pw;function Xn(t){var e,i,n,r;if(t.div){i=t.div.offsetHeight,n=t.div.offsetWidth,r=t.div.offsetTop;var o=(o=t.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();t=t.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,t.height/o.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||i,this.bottom=t.bottom||r+(t.height||i),this.width=t.width||n,this.lineHeight=e!==void 0?e:t.lineHeight}Xn.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Xn.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};Xn.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};Xn.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};Xn.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};Xn.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),i=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*i;return n/(this.height*this.width)};Xn.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};Xn.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i};return r};function Ige(t,e,i,n){function r(g,A){for(var x,T=new Xn(g),C=1,z=0;z<A.length;z++){for(;g.overlapsOppositeAxis(i,A[z])||g.within(i)&&g.overlapsAny(n);)g.move(A[z]);if(g.within(i))return g;var L=g.intersectPercentage(i);C>L&&(x=new Xn(g),C=L),g=new Xn(T)}return x||T}var o=new Xn(e),a=e.cue,s=zge(a),l=[];if(a.snapToLines){var c;switch(a.vertical){case"":l=["+y","-y"],c="height";break;case"rl":l=["+x","-x"],c="width";break;case"lr":l=["-x","+x"],c="width";break}var u=o.lineHeight,f=u*Math.round(s),h=i[c]+u,m=l[0];Math.abs(f)>h&&(f=f<0?-1:1,f*=Math.ceil(h/u)*u),s<0&&(f+=a.vertical===""?i.height:i.width,l=l.reverse()),o.move(m,f)}else{var b=o.lineHeight/i.height*100;switch(a.lineAlign){case"center":s-=b/2;break;case"end":s-=b;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(s,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(s,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(s,"%")});break}l=["+y","-x","+x","-y"],o=new Xn(e)}var w=r(o,l);e.move(w.toCSSCompatValues(i))}function gp(){}gp.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};gp.convertCueToDOMTree=function(t,e){return!t||!e?null:X7(t,e)};var Pge=.05,Rge="sans-serif",Lge="1.5%";gp.processCues=function(t,e,i){if(!t||!e||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=t.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=Lge,i.appendChild(n);function r(u){for(var f=0;f<u.length;f++)if(u[f].hasBeenReset||!u[f].displayState)return!0;return!1}if(!r(e)){for(var o=0;o<e.length;o++)n.appendChild(e[o].displayState);return}var a=[],s=Xn.getSimpleBoxPosition(n),l=Math.round(s.height*Pge*100)/100,c={font:l+"px "+Rge};(function(){for(var u,f,h=0;h<e.length;h++)f=e[h],u=new pw(t,f,c),n.appendChild(u.div),Ige(t,u,s,a),f.displayState=u.div,a.push(Xn.getSimpleBoxPosition(u))})()};gp.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]};gp.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Vr)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function i(){for(var u=e.buffer,f=0;f<u.length&&u[f]!=="\r"&&u[f]!==`
`;)++f;var h=u.substr(0,f);return u[f]==="\r"&&++f,u[f]===`
`&&++f,e.buffer=u.substr(f),h}function n(u){var f=new bm;if($h(u,function(m,b){switch(m){case"id":f.set(m,b);break;case"width":f.percent(m,b);break;case"lines":f.integer(m,b);break;case"regionanchor":case"viewportanchor":var w=b.split(",");if(w.length!==2)break;var g=new bm;if(g.percent("x",w[0]),g.percent("y",w[1]),!g.has("x")||!g.has("y"))break;f.set(m+"X",g.get("x")),f.set(m+"Y",g.get("y"));break;case"scroll":f.alt(m,b,["up"]);break}},/=/,/\s/),f.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=f.get("width",100),h.lines=f.get("lines",3),h.regionAnchorX=f.get("regionanchorX",0),h.regionAnchorY=f.get("regionanchorY",100),h.viewportAnchorX=f.get("viewportanchorX",0),h.viewportAnchorY=f.get("viewportanchorY",100),h.scroll=f.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:f.get("id"),region:h})}}function r(u){var f=new bm;$h(u,function(h,m){switch(h){case"MPEGT":f.integer(h+"S",m);break;case"LOCA":f.set(h+"L",KE(m));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:f.get("MPEGTS"),LOCAL:f.get("LOCAL")})}function o(u){u.match(/X-TIMESTAMP-MAP/)?$h(u,function(f,h){switch(f){case"X-TIMESTAMP-MAP":r(h);break}},/=/):$h(u,function(f,h){switch(f){case"Region":n(h);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=i();var s=a.match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new Vr(Vr.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=i(),e.state){case"HEADER":/:/.test(a)?o(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{_ge(a,e.cue,e.regionList)}catch(u){e.reportOrThrowError(u),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var c=a.indexOf("-->")!==-1;if(!a||c&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(u){e.reportOrThrowError(u),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Vr(Vr.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var Oge=gp,Dge="auto",Mge={"":1,lr:1,rl:1},Bge={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function Fge(t){if(typeof t!="string")return!1;var e=Mge[t.toLowerCase()];return e?t.toLowerCase():!1}function Jk(t){if(typeof t!="string")return!1;var e=Bge[t.toLowerCase()];return e?t.toLowerCase():!1}function J7(t,e,i){this.hasBeenReset=!1;var n="",r=!1,o=t,a=e,s=i,l=null,c="",u=!0,f="auto",h="start",m="auto",b="auto",w=100,g="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(A){n=""+A}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(A){r=!!A}},startTime:{enumerable:!0,get:function(){return o},set:function(A){if(typeof A!="number")throw new TypeError("Start time must be set to a number.");o=A,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(A){if(typeof A!="number")throw new TypeError("End time must be set to a number.");a=A,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(A){s=""+A,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(A){l=A,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(A){var x=Fge(A);if(x===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=x,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return u},set:function(A){u=!!A,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(A){if(typeof A!="number"&&A!==Dge)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=A,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(A){var x=Jk(A);x?(h=x,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(A){if(A<0||A>100)throw new Error("Position must be between 0 and 100.");m=A,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return b},set:function(A){var x=Jk(A);x?(b=x,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return w},set:function(A){if(A<0||A>100)throw new Error("Size must be between 0 and 100.");w=A,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(A){var x=Jk(A);if(!x)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");g=x,this.hasBeenReset=!0}}}),this.displayState=void 0}J7.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Nge=J7,jge={"":!0,up:!0};function Uge(t){if(typeof t!="string")return!1;var e=jge[t.toLowerCase()];return e?t.toLowerCase():!1}function zh(t){return typeof t=="number"&&t>=0&&t<=100}function Gge(){var t=100,e=3,i=0,n=100,r=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(s){if(!zh(s))throw new Error("Width must be between 0 and 100.");t=s}},lines:{enumerable:!0,get:function(){return e},set:function(s){if(typeof s!="number")throw new TypeError("Lines must be set to a number.");e=s}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(s){if(!zh(s))throw new Error("RegionAnchorX must be between 0 and 100.");n=s}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(s){if(!zh(s))throw new Error("RegionAnchorY must be between 0 and 100.");i=s}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(s){if(!zh(s))throw new Error("ViewportAnchorY must be between 0 and 100.");o=s}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(s){if(!zh(s))throw new Error("ViewportAnchorX must be between 0 and 100.");r=s}},scroll:{enumerable:!0,get:function(){return a},set:function(s){var l=Uge(s);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var Hge=Gge,Rs=Q,Cu=K7.exports={WebVTT:Oge,VTTCue:Nge,VTTRegion:Hge};Rs.vttjs=Cu;Rs.WebVTT=Cu.WebVTT;var Yge=Cu.VTTCue,Wge=Cu.VTTRegion,Vge=Rs.VTTCue,$ge=Rs.VTTRegion;Cu.shim=function(){Rs.VTTCue=Yge,Rs.VTTRegion=Wge};Cu.restore=function(){Rs.VTTCue=Vge,Rs.VTTRegion=$ge};Rs.VTTCue||Cu.shim();var PL=K7.exports;function Qge(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qv(t,e,i){return Qge()?Qv=Reflect.construct:Qv=function(r,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(r,s),c=new l;return a&&Pm(c,a.prototype),c},Qv.apply(null,arguments)}var Z7={exports:{}};(function(t,e){(function(i){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,r=/^([^\/?#]*)([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(l,c,u){if(u=u||{},l=l.trim(),c=c.trim(),!c){if(!u.alwaysNormalize)return l;var f=s.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");return f.path=s.normalizePath(f.path),s.buildURLFromParts(f)}var h=s.parseURL(c);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return u.alwaysNormalize?(h.path=s.normalizePath(h.path),s.buildURLFromParts(h)):c;var m=s.parseURL(l);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var b=r.exec(m.path);m.netLoc=b[1],m.path=b[2]}m.netLoc&&!m.path&&(m.path="/");var w={scheme:m.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(w.netLoc=m.netLoc,h.path[0]!=="/"))if(!h.path)w.path=m.path,h.params||(w.params=m.params,h.query||(w.query=m.query));else{var g=m.path,A=g.substring(0,g.lastIndexOf("/")+1)+h.path;w.path=s.normalizePath(A)}return w.path===null&&(w.path=u.alwaysNormalize?s.normalizePath(h.path):h.path),s.buildURLFromParts(w)},parseURL:function(l){var c=n.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(o,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=s})()})(Z7);var RL=Z7.exports,LL="http://example.com",lx=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=Q.location&&Q.location.href||"");var n=typeof Q.URL=="function",r=/^\/\//.test(e),o=!Q.location&&!/\/\//i.test(e);if(n?e=new Q.URL(e,Q.location||LL):/\/\//i.test(e)||(e=RL.buildAbsoluteURL(Q.location&&Q.location.href||"",e)),n){var a=new URL(i,e);return o?a.href.slice(LL.length):r?a.href.slice(a.protocol.length):a.href}return RL.buildAbsoluteURL(e,i)},XE=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,r){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(r)},e.off=function(n,r){if(!this.listeners[n])return!1;var o=this.listeners[n].indexOf(r);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(o,1),o>-1},e.trigger=function(n){var r=this.listeners[n];if(!!r)if(arguments.length===2)for(var o=r.length,a=0;a<o;++a)r[a].call(this,arguments[1]);else for(var s=Array.prototype.slice.call(arguments,1),l=r.length,c=0;c<l;++c)r[c].apply(this,s)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(r){n.push(r)})},t}(),qge=function(e){return Q.atob?Q.atob(e):Buffer.from(e,"base64").toString("binary")};function ej(t){for(var e=qge(t),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}/*! @name m3u8-parser @version 4.7.0 @license Apache-2.0 */var Kge=function(t){ge(e,t);function e(){var n;return n=t.call(this)||this,n.buffer="",n}var i=e.prototype;return i.push=function(r){var o;for(this.buffer+=r,o=this.buffer.indexOf(`
`);o>-1;o=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,o)),this.buffer=this.buffer.substring(o+1)},e}(XE),Xge=String.fromCharCode(9),Zk=function(e){var i=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return i[1]&&(n.length=parseInt(i[1],10)),i[2]&&(n.offset=parseInt(i[2],10)),n},Jge=function(){var e="[^=]*",i='"[^"]*"|[^,]*',n="(?:"+e+")=(?:"+i+")";return new RegExp("(?:^|,)("+n+")")},Oo=function(e){for(var i=e.split(Jge()),n={},r=i.length,o;r--;)i[r]!==""&&(o=/([^=]*)=(.*)/.exec(i[r]).slice(1),o[0]=o[0].replace(/^\s+|\s+$/g,""),o[1]=o[1].replace(/^\s+|\s+$/g,""),o[1]=o[1].replace(/^['"](.*)['"]$/g,"$1"),n[o[0]]=o[1]);return n},Zge=function(t){ge(e,t);function e(){var n;return n=t.call(this)||this,n.customParsers=[],n.tagMappers=[],n}var i=e.prototype;return i.push=function(r){var o=this,a,s;if(r=r.trim(),r.length!==0){if(r[0]!=="#"){this.trigger("data",{type:"uri",uri:r});return}var l=this.tagMappers.reduce(function(c,u){var f=u(r);return f===r?c:c.concat([f])},[r]);l.forEach(function(c){for(var u=0;u<o.customParsers.length;u++)if(o.customParsers[u].call(o,c))return;if(c.indexOf("#EXT")!==0){o.trigger("data",{type:"comment",text:c.slice(1)});return}if(c=c.replace("\r",""),a=/^#EXTM3U/.exec(c),a){o.trigger("data",{type:"tag",tagType:"m3u"});return}if(a=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(c),a){s={type:"tag",tagType:"inf"},a[1]&&(s.duration=parseFloat(a[1])),a[2]&&(s.title=a[2]),o.trigger("data",s);return}if(a=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(c),a){s={type:"tag",tagType:"targetduration"},a[1]&&(s.duration=parseInt(a[1],10)),o.trigger("data",s);return}if(a=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(c),a){s={type:"tag",tagType:"version"},a[1]&&(s.version=parseInt(a[1],10)),o.trigger("data",s);return}if(a=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(c),a){s={type:"tag",tagType:"media-sequence"},a[1]&&(s.number=parseInt(a[1],10)),o.trigger("data",s);return}if(a=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(c),a){s={type:"tag",tagType:"discontinuity-sequence"},a[1]&&(s.number=parseInt(a[1],10)),o.trigger("data",s);return}if(a=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(c),a){s={type:"tag",tagType:"playlist-type"},a[1]&&(s.playlistType=a[1]),o.trigger("data",s);return}if(a=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(c),a){s=he(Zk(a[1]),{type:"tag",tagType:"byterange"}),o.trigger("data",s);return}if(a=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(c),a){s={type:"tag",tagType:"allow-cache"},a[1]&&(s.allowed=!/NO/.test(a[1])),o.trigger("data",s);return}if(a=/^#EXT-X-MAP:?(.*)$/.exec(c),a){if(s={type:"tag",tagType:"map"},a[1]){var f=Oo(a[1]);f.URI&&(s.uri=f.URI),f.BYTERANGE&&(s.byterange=Zk(f.BYTERANGE))}o.trigger("data",s);return}if(a=/^#EXT-X-STREAM-INF:?(.*)$/.exec(c),a){if(s={type:"tag",tagType:"stream-inf"},a[1]){if(s.attributes=Oo(a[1]),s.attributes.RESOLUTION){var h=s.attributes.RESOLUTION.split("x"),m={};h[0]&&(m.width=parseInt(h[0],10)),h[1]&&(m.height=parseInt(h[1],10)),s.attributes.RESOLUTION=m}s.attributes.BANDWIDTH&&(s.attributes.BANDWIDTH=parseInt(s.attributes.BANDWIDTH,10)),s.attributes["PROGRAM-ID"]&&(s.attributes["PROGRAM-ID"]=parseInt(s.attributes["PROGRAM-ID"],10))}o.trigger("data",s);return}if(a=/^#EXT-X-MEDIA:?(.*)$/.exec(c),a){s={type:"tag",tagType:"media"},a[1]&&(s.attributes=Oo(a[1])),o.trigger("data",s);return}if(a=/^#EXT-X-ENDLIST/.exec(c),a){o.trigger("data",{type:"tag",tagType:"endlist"});return}if(a=/^#EXT-X-DISCONTINUITY/.exec(c),a){o.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(a=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(c),a){s={type:"tag",tagType:"program-date-time"},a[1]&&(s.dateTimeString=a[1],s.dateTimeObject=new Date(a[1])),o.trigger("data",s);return}if(a=/^#EXT-X-KEY:?(.*)$/.exec(c),a){s={type:"tag",tagType:"key"},a[1]&&(s.attributes=Oo(a[1]),s.attributes.IV&&(s.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(s.attributes.IV=s.attributes.IV.substring(2)),s.attributes.IV=s.attributes.IV.match(/.{8}/g),s.attributes.IV[0]=parseInt(s.attributes.IV[0],16),s.attributes.IV[1]=parseInt(s.attributes.IV[1],16),s.attributes.IV[2]=parseInt(s.attributes.IV[2],16),s.attributes.IV[3]=parseInt(s.attributes.IV[3],16),s.attributes.IV=new Uint32Array(s.attributes.IV))),o.trigger("data",s);return}if(a=/^#EXT-X-START:?(.*)$/.exec(c),a){s={type:"tag",tagType:"start"},a[1]&&(s.attributes=Oo(a[1]),s.attributes["TIME-OFFSET"]=parseFloat(s.attributes["TIME-OFFSET"]),s.attributes.PRECISE=/YES/.test(s.attributes.PRECISE)),o.trigger("data",s);return}if(a=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(c),a){s={type:"tag",tagType:"cue-out-cont"},a[1]?s.data=a[1]:s.data="",o.trigger("data",s);return}if(a=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(c),a){s={type:"tag",tagType:"cue-out"},a[1]?s.data=a[1]:s.data="",o.trigger("data",s);return}if(a=/^#EXT-X-CUE-IN:?(.*)?$/.exec(c),a){s={type:"tag",tagType:"cue-in"},a[1]?s.data=a[1]:s.data="",o.trigger("data",s);return}if(a=/^#EXT-X-SKIP:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"skip"},s.attributes=Oo(a[1]),s.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(s.attributes["SKIPPED-SEGMENTS"]=parseInt(s.attributes["SKIPPED-SEGMENTS"],10)),s.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(s.attributes["RECENTLY-REMOVED-DATERANGES"]=s.attributes["RECENTLY-REMOVED-DATERANGES"].split(Xge)),o.trigger("data",s);return}if(a=/^#EXT-X-PART:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"part"},s.attributes=Oo(a[1]),["DURATION"].forEach(function(b){s.attributes.hasOwnProperty(b)&&(s.attributes[b]=parseFloat(s.attributes[b]))}),["INDEPENDENT","GAP"].forEach(function(b){s.attributes.hasOwnProperty(b)&&(s.attributes[b]=/YES/.test(s.attributes[b]))}),s.attributes.hasOwnProperty("BYTERANGE")&&(s.attributes.byterange=Zk(s.attributes.BYTERANGE)),o.trigger("data",s);return}if(a=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"server-control"},s.attributes=Oo(a[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(b){s.attributes.hasOwnProperty(b)&&(s.attributes[b]=parseFloat(s.attributes[b]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(b){s.attributes.hasOwnProperty(b)&&(s.attributes[b]=/YES/.test(s.attributes[b]))}),o.trigger("data",s);return}if(a=/^#EXT-X-PART-INF:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"part-inf"},s.attributes=Oo(a[1]),["PART-TARGET"].forEach(function(b){s.attributes.hasOwnProperty(b)&&(s.attributes[b]=parseFloat(s.attributes[b]))}),o.trigger("data",s);return}if(a=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"preload-hint"},s.attributes=Oo(a[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(b){if(s.attributes.hasOwnProperty(b)){s.attributes[b]=parseInt(s.attributes[b],10);var w=b==="BYTERANGE-LENGTH"?"length":"offset";s.attributes.byterange=s.attributes.byterange||{},s.attributes.byterange[w]=s.attributes[b],delete s.attributes[b]}}),o.trigger("data",s);return}if(a=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(c),a&&a[1]){s={type:"tag",tagType:"rendition-report"},s.attributes=Oo(a[1]),["LAST-MSN","LAST-PART"].forEach(function(b){s.attributes.hasOwnProperty(b)&&(s.attributes[b]=parseInt(s.attributes[b],10))}),o.trigger("data",s);return}o.trigger("data",{type:"tag",data:c.slice(4)})})}},i.addParser=function(r){var o=this,a=r.expression,s=r.customType,l=r.dataParser,c=r.segment;typeof l!="function"&&(l=function(f){return f}),this.customParsers.push(function(u){var f=a.exec(u);if(f)return o.trigger("data",{type:"custom",data:l(u),customType:s,segment:c}),!0})},i.addTagMapper=function(r){var o=r.expression,a=r.map,s=function(c){return o.test(c)?a(c):c};this.tagMappers.push(s)},e}(XE),ebe=function(e){return e.toLowerCase().replace(/-(\w)/g,function(i){return i[1].toUpperCase()})},sd=function(e){var i={};return Object.keys(e).forEach(function(n){i[ebe(n)]=e[n]}),i},e_=function(e){var i=e.serverControl,n=e.targetDuration,r=e.partTargetDuration;if(!!i){var o="#EXT-X-SERVER-CONTROL",a="holdBack",s="partHoldBack",l=n&&n*3,c=r&&r*2;n&&!i.hasOwnProperty(a)&&(i[a]=l,this.trigger("info",{message:o+" defaulting HOLD-BACK to targetDuration * 3 ("+l+")."})),l&&i[a]<l&&(this.trigger("warn",{message:o+" clamping HOLD-BACK ("+i[a]+") to targetDuration * 3 ("+l+")"}),i[a]=l),r&&!i.hasOwnProperty(s)&&(i[s]=r*3,this.trigger("info",{message:o+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+i[s]+")."})),r&&i[s]<c&&(this.trigger("warn",{message:o+" clamping PART-HOLD-BACK ("+i[s]+") to partTargetDuration * 2 ("+c+")."}),i[s]=c)}},tbe=function(t){ge(e,t);function e(){var n;n=t.call(this)||this,n.lineStream=new Kge,n.parseStream=new Zge,n.lineStream.pipe(n.parseStream);var r=oe(n),o=[],a={},s,l,c=!1,u=function(){},f={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},h="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",m=0;n.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var b=0,w=0;return n.on("end",function(){a.uri||!a.parts&&!a.preloadHints||(!a.map&&s&&(a.map=s),!a.key&&l&&(a.key=l),!a.timeline&&typeof m=="number"&&(a.timeline=m),n.manifest.preloadSegment=a)}),n.parseStream.on("data",function(g){var A,x;({tag:function(){({version:function(){g.version&&(this.manifest.version=g.version)},"allow-cache":function(){this.manifest.allowCache=g.allowed,"allowed"in g||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var z={};"length"in g&&(a.byterange=z,z.length=g.length,"offset"in g||(g.offset=b)),"offset"in g&&(a.byterange=z,z.offset=g.offset),b=z.offset+z.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),g.duration>0&&(a.duration=g.duration),g.duration===0&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(!g.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(g.attributes.METHOD==="NONE"){l=null;return}if(!g.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(g.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:g.attributes};return}if(g.attributes.KEYFORMAT===h){var z=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(z.indexOf(g.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(g.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),g.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(g.attributes.KEYID&&g.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:g.attributes.KEYFORMAT,keyId:g.attributes.KEYID.substring(2)},pssh:ej(g.attributes.URI.split(",")[1])};return}g.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:g.attributes.METHOD||"AES-128",uri:g.attributes.URI},typeof g.attributes.IV!="undefined"&&(l.iv=g.attributes.IV)},"media-sequence":function(){if(!isFinite(g.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+g.number});return}this.manifest.mediaSequence=g.number},"discontinuity-sequence":function(){if(!isFinite(g.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+g.number});return}this.manifest.discontinuitySequence=g.number,m=g.number},"playlist-type":function(){if(!/VOD|EVENT/.test(g.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+g.playlist});return}this.manifest.playlistType=g.playlistType},map:function(){s={},g.uri&&(s.uri=g.uri),g.byterange&&(s.byterange=g.byterange),l&&(s.key=l)},"stream-inf":function(){if(this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||f,!g.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}a.attributes||(a.attributes={}),he(a.attributes,g.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||f,!(g.attributes&&g.attributes.TYPE&&g.attributes["GROUP-ID"]&&g.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var z=this.manifest.mediaGroups[g.attributes.TYPE];z[g.attributes["GROUP-ID"]]=z[g.attributes["GROUP-ID"]]||{},A=z[g.attributes["GROUP-ID"]],x={default:/yes/i.test(g.attributes.DEFAULT)},x.default?x.autoselect=!0:x.autoselect=/yes/i.test(g.attributes.AUTOSELECT),g.attributes.LANGUAGE&&(x.language=g.attributes.LANGUAGE),g.attributes.URI&&(x.uri=g.attributes.URI),g.attributes["INSTREAM-ID"]&&(x.instreamId=g.attributes["INSTREAM-ID"]),g.attributes.CHARACTERISTICS&&(x.characteristics=g.attributes.CHARACTERISTICS),g.attributes.FORCED&&(x.forced=/yes/i.test(g.attributes.FORCED)),A[g.attributes.NAME]=x},discontinuity:function(){m+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){typeof this.manifest.dateTimeString=="undefined"&&(this.manifest.dateTimeString=g.dateTimeString,this.manifest.dateTimeObject=g.dateTimeObject),a.dateTimeString=g.dateTimeString,a.dateTimeObject=g.dateTimeObject},targetduration:function(){if(!isFinite(g.duration)||g.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+g.duration});return}this.manifest.targetDuration=g.duration,e_.call(this,this.manifest)},start:function(){if(!g.attributes||isNaN(g.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:g.attributes["TIME-OFFSET"],precise:g.attributes.PRECISE}},"cue-out":function(){a.cueOut=g.data},"cue-out-cont":function(){a.cueOutCont=g.data},"cue-in":function(){a.cueIn=g.data},skip:function(){this.manifest.skip=sd(g.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",g.attributes,["SKIPPED-SEGMENTS"])},part:function(){var z=this;c=!0;var L=this.manifest.segments.length,B=sd(g.attributes);a.parts=a.parts||[],a.parts.push(B),B.byterange&&(B.byterange.hasOwnProperty("offset")||(B.byterange.offset=w),w=B.byterange.offset+B.byterange.length);var O=a.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+O+" for segment #"+L,g.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(F,H){F.hasOwnProperty("lastPart")||z.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+H+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var z=this.manifest.serverControl=sd(g.attributes);z.hasOwnProperty("canBlockReload")||(z.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),e_.call(this,this.manifest),z.canSkipDateranges&&!z.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var z=this.manifest.segments.length,L=sd(g.attributes),B=L.type&&L.type==="PART";a.preloadHints=a.preloadHints||[],a.preloadHints.push(L),L.byterange&&(L.byterange.hasOwnProperty("offset")||(L.byterange.offset=B?w:0,B&&(w=L.byterange.offset+L.byterange.length)));var O=a.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+O+" for segment #"+z,g.attributes,["TYPE","URI"]),!!L.type)for(var F=0;F<a.preloadHints.length-1;F++){var H=a.preloadHints[F];!H.type||H.type===L.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+O+" for segment #"+z+" has the same TYPE "+L.type+" as preload hint #"+F})}},"rendition-report":function(){var z=sd(g.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(z);var L=this.manifest.renditionReports.length-1,B=["LAST-MSN","URI"];c&&B.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+L,g.attributes,B)},"part-inf":function(){this.manifest.partInf=sd(g.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",g.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),e_.call(this,this.manifest)}}[g.tagType]||u).call(r)},uri:function(){a.uri=g.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),l&&(a.key=l),a.timeline=m,s&&(a.map=s),w=0,a={}},comment:function(){},custom:function(){g.segment?(a.custom=a.custom||{},a.custom[g.customType]=g.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[g.customType]=g.data)}})[g.type].call(r)}),n}var i=e.prototype;return i.warnOnMissingAttributes_=function(r,o,a){var s=[];a.forEach(function(l){o.hasOwnProperty(l)||s.push(l)}),s.length&&this.trigger("warn",{message:r+" lacks required attribute(s): "+s.join(", ")})},i.push=function(r){this.lineStream.push(r)},i.end=function(){this.lineStream.push(`
`),this.trigger("end")},i.addParser=function(r){this.parseStream.addParser(r)},i.addTagMapper=function(r){this.parseStream.addTagMapper(r)},e}(XE),qc={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},ibe=["video","audio","text"],OL=["Video","Audio","Text"],tj=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(i,n,r){var o=("00"+Number(n).toString(16)).slice(-2),a=("00"+Number(r).toString(16)).slice(-2);return"avc1."+o+"00"+a})},oa=function(e){e===void 0&&(e="");var i=e.split(","),n=[];return i.forEach(function(r){r=r.trim();var o;ibe.forEach(function(a){var s=qc[a].exec(r.toLowerCase());if(!(!s||s.length<=1)){o=a;var l=r.substring(0,s[1].length),c=r.replace(l,"");n.push({type:l,details:c,mediaType:a})}}),o||n.push({type:r,details:"",mediaType:"unknown"})}),n},nbe=function(e,i){if(!e.mediaGroups.AUDIO||!i)return null;var n=e.mediaGroups.AUDIO[i];if(!n)return null;for(var r in n){var o=n[r];if(o.default&&o.playlists)return oa(o.playlists[0].attributes.CODECS)}return null},ij=function(e){return e===void 0&&(e=""),qc.audio.test(e.trim().toLowerCase())},rbe=function(e){return e===void 0&&(e=""),qc.text.test(e.trim().toLowerCase())},mg=function(e){if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(",").map(function(o){return tj(o.trim())}),n="video";i.length===1&&ij(i[0])?n="audio":i.length===1&&rbe(i[0])&&(n="application");var r="mp4";return i.every(function(o){return qc.mp4.test(o)})?r="mp4":i.every(function(o){return qc.webm.test(o)})?r="webm":i.every(function(o){return qc.ogg.test(o)})&&(r="ogg"),n+"/"+r+';codecs="'+e+'"'}},qv=function(e){return e===void 0&&(e=""),Q.MediaSource&&Q.MediaSource.isTypeSupported&&Q.MediaSource.isTypeSupported(mg(e))||!1},t_=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(i){i=i.trim();for(var n=0;n<OL.length;n++){var r=OL[n];if(qc["muxer"+r].test(i))return!0}return!1})},DL="mp4a.40.2",obe="avc1.4d400d",abe=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,sbe=/^application\/dash\+xml/i,nj=function(e){return abe.test(e)?"hls":sbe.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},Xl={},Eu={};function JE(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}var rj=JE({HTML:"text/html",isHTML:function(t){return t===rj.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),oj=JE({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===oj.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Eu.freeze=JE;Eu.MIME_TYPE=rj;Eu.NAMESPACE=oj;var lbe=Eu,gg=lbe.NAMESPACE;function cbe(t){return t!==""}function ube(t){return t?t.split(/[\t\n\f\r ]+/).filter(cbe):[]}function dbe(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function ML(t){if(!t)return[];var e=ube(t);return Object.keys(e.reduce(dbe,{}))}function fbe(t){return function(e){return t&&t.indexOf(e)!==-1}}function fb(t,e){for(var i in t)e[i]=t[i]}function Rr(t,e){var i=t.prototype;if(!(i instanceof e)){let r=function(){};var n=r;r.prototype=e.prototype,r=new r,fb(i,r),t.prototype=i=r}i.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),i.constructor=t)}var Lr={},jo=Lr.ELEMENT_NODE=1,Mf=Lr.ATTRIBUTE_NODE=2,hw=Lr.TEXT_NODE=3,aj=Lr.CDATA_SECTION_NODE=4,sj=Lr.ENTITY_REFERENCE_NODE=5,pbe=Lr.ENTITY_NODE=6,lj=Lr.PROCESSING_INSTRUCTION_NODE=7,cj=Lr.COMMENT_NODE=8,uj=Lr.DOCUMENT_NODE=9,dj=Lr.DOCUMENT_TYPE_NODE=10,Ls=Lr.DOCUMENT_FRAGMENT_NODE=11,hbe=Lr.NOTATION_NODE=12,Nn={},on={};Nn.INDEX_SIZE_ERR=(on[1]="Index size error",1);Nn.DOMSTRING_SIZE_ERR=(on[2]="DOMString size error",2);var mbe=Nn.HIERARCHY_REQUEST_ERR=(on[3]="Hierarchy request error",3);Nn.WRONG_DOCUMENT_ERR=(on[4]="Wrong document",4);Nn.INVALID_CHARACTER_ERR=(on[5]="Invalid character",5);Nn.NO_DATA_ALLOWED_ERR=(on[6]="No data allowed",6);Nn.NO_MODIFICATION_ALLOWED_ERR=(on[7]="No modification allowed",7);var gbe=Nn.NOT_FOUND_ERR=(on[8]="Not found",8);Nn.NOT_SUPPORTED_ERR=(on[9]="Not supported",9);var BL=Nn.INUSE_ATTRIBUTE_ERR=(on[10]="Attribute in use",10);Nn.INVALID_STATE_ERR=(on[11]="Invalid state",11);Nn.SYNTAX_ERR=(on[12]="Syntax error",12);Nn.INVALID_MODIFICATION_ERR=(on[13]="Invalid modification",13);Nn.NAMESPACE_ERR=(on[14]="Invalid namespace",14);Nn.INVALID_ACCESS_ERR=(on[15]="Invalid access",15);function mu(t,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,on[t]),this.message=on[t],Error.captureStackTrace&&Error.captureStackTrace(this,mu);return i.code=t,e&&(this.message=this.message+": "+e),i}mu.prototype=Error.prototype;fb(Nn,mu);function _s(){}_s.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var i=[],n=0;n<this.length;n++)Cd(this[n],i,t,e);return i.join("")}};function Bf(t,e){this._node=t,this._refresh=e,ZE(this)}function ZE(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var i=t._refresh(t._node);kj(t,"length",i.length),fb(i,t),t._inc=e}}Bf.prototype.item=function(t){return ZE(this),this[t]};Rr(Bf,_s);function mw(){}function fj(t,e){for(var i=t.length;i--;)if(t[i]===e)return i}function FL(t,e,i,n){if(n?e[fj(e,n)]=i:e[e.length++]=i,t){i.ownerElement=t;var r=t.ownerDocument;r&&(n&&mj(r,t,n),bbe(r,t,i))}}function NL(t,e,i){var n=fj(e,i);if(n>=0){for(var r=e.length-1;n<r;)e[n]=e[++n];if(e.length=r,t){var o=t.ownerDocument;o&&(mj(o,t,i),i.ownerElement=null)}}else throw mu(gbe,new Error(t.tagName+"@"+i))}mw.prototype={length:0,item:_s.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==t)return i}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new mu(BL);var i=this.getNamedItem(t.nodeName);return FL(this._ownerElement,this,t,i),i},setNamedItemNS:function(t){var e=t.ownerElement,i;if(e&&e!=this._ownerElement)throw new mu(BL);return i=this.getNamedItemNS(t.namespaceURI,t.localName),FL(this._ownerElement,this,t,i),i},removeNamedItem:function(t){var e=this.getNamedItem(t);return NL(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var i=this.getNamedItemNS(t,e);return NL(this._ownerElement,this,i),i},getNamedItemNS:function(t,e){for(var i=this.length;i--;){var n=this[i];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function pj(){}pj.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,i){var n=new pb;if(n.implementation=this,n.childNodes=new _s,n.doctype=i||null,i&&n.appendChild(i),e){var r=n.createElementNS(t,e);n.appendChild(r)}return n},createDocumentType:function(t,e,i){var n=new cx;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=i||"",n}};function jn(){}jn.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return bj(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return gj(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return v2(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==hw&&t.nodeType==hw?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var i=e._nsMap;if(i){for(var n in i)if(i[n]==t)return n}e=e.nodeType==Mf?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var i=e._nsMap;if(i&&t in i)return i[t];e=e.nodeType==Mf?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function hj(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}fb(Lr,jn);fb(Lr,jn.prototype);function bg(t,e){if(e(t))return!0;if(t=t.firstChild)do if(bg(t,e))return!0;while(t=t.nextSibling)}function pb(){}function bbe(t,e,i){t&&t._inc++;var n=i.namespaceURI;n===gg.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function mj(t,e,i,n){t&&t._inc++;var r=i.namespaceURI;r===gg.XMLNS&&delete e._nsMap[i.prefix?i.localName:""]}function ez(t,e,i){if(t&&t._inc){t._inc++;var n=e.childNodes;if(i)n[n.length++]=i;else{for(var r=e.firstChild,o=0;r;)n[o++]=r,r=r.nextSibling;n.length=o}}}function gj(t,e){var i=e.previousSibling,n=e.nextSibling;return i?i.nextSibling=n:t.firstChild=n,n?n.previousSibling=i:t.lastChild=i,ez(t.ownerDocument,t),e}function bj(t,e,i){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===Ls){var r=e.firstChild;if(r==null)return e;var o=e.lastChild}else r=o=e;var a=i?i.previousSibling:t.lastChild;r.previousSibling=a,o.nextSibling=i,a?a.nextSibling=r:t.firstChild=r,i==null?t.lastChild=o:i.previousSibling=o;do r.parentNode=t;while(r!==o&&(r=r.nextSibling));return ez(t.ownerDocument||t,t),e.nodeType==Ls&&(e.firstChild=e.lastChild=null),e}function vbe(t,e){var i=e.parentNode;if(i){var n=t.lastChild;i.removeChild(e);var n=t.lastChild}var n=t.lastChild;return e.parentNode=t,e.previousSibling=n,e.nextSibling=null,n?n.nextSibling=e:t.firstChild=e,t.lastChild=e,ez(t.ownerDocument,t,e),e}pb.prototype={nodeName:"#document",nodeType:uj,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Ls){for(var i=t.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,e),i=n}return t}return this.documentElement==null&&t.nodeType==jo&&(this.documentElement=t),bj(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),gj(this,t)},importNode:function(t,e){return xj(this,t,e)},getElementById:function(t){var e=null;return bg(this.documentElement,function(i){if(i.nodeType==jo&&i.getAttribute("id")==t)return e=i,!0}),e},getElementsByClassName:function(t){var e=ML(t);return new Bf(this,function(i){var n=[];return e.length>0&&bg(i.documentElement,function(r){if(r!==i&&r.nodeType===jo){var o=r.getAttribute("class");if(o){var a=t===o;if(!a){var s=ML(o);a=e.every(fbe(s))}a&&n.push(r)}}}),n})},createElement:function(t){var e=new gu;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new _s;var i=e.attributes=new mw;return i._ownerElement=e,e},createDocumentFragment:function(){var t=new ux;return t.ownerDocument=this,t.childNodes=new _s,t},createTextNode:function(t){var e=new tz;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new iz;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new nz;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var i=new oz;return i.ownerDocument=this,i.tagName=i.target=t,i.nodeValue=i.data=e,i},createAttribute:function(t){var e=new gw;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new rz;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var i=new gu,n=e.split(":"),r=i.attributes=new mw;return i.childNodes=new _s,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=t,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=e,r._ownerElement=i,i},createAttributeNS:function(t,e){var i=new gw,n=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=t,i.specified=!0,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=e,i}};Rr(pb,jn);function gu(){this._nsMap={}}gu.prototype={nodeType:jo,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var i=this.ownerDocument.createAttribute(t);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Ls?this.insertBefore(t,null):vbe(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);return i&&i.value||""},setAttributeNS:function(t,e,i){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Bf(this,function(e){var i=[];return bg(e,function(n){n!==e&&n.nodeType==jo&&(t==="*"||n.tagName==t)&&i.push(n)}),i})},getElementsByTagNameNS:function(t,e){return new Bf(this,function(i){var n=[];return bg(i,function(r){r!==i&&r.nodeType===jo&&(t==="*"||r.namespaceURI===t)&&(e==="*"||r.localName==e)&&n.push(r)}),n})}};pb.prototype.getElementsByTagName=gu.prototype.getElementsByTagName;pb.prototype.getElementsByTagNameNS=gu.prototype.getElementsByTagNameNS;Rr(gu,jn);function gw(){}gw.prototype.nodeType=Mf;Rr(gw,jn);function hb(){}hb.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(on[mbe])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,i){var n=this.data.substring(0,t),r=this.data.substring(t+e);i=n+i+r,this.nodeValue=this.data=i,this.length=i.length}};Rr(hb,jn);function tz(){}tz.prototype={nodeName:"#text",nodeType:hw,splitText:function(t){var e=this.data,i=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};Rr(tz,hb);function iz(){}iz.prototype={nodeName:"#comment",nodeType:cj};Rr(iz,hb);function nz(){}nz.prototype={nodeName:"#cdata-section",nodeType:aj};Rr(nz,hb);function cx(){}cx.prototype.nodeType=dj;Rr(cx,jn);function vj(){}vj.prototype.nodeType=hbe;Rr(vj,jn);function yj(){}yj.prototype.nodeType=pbe;Rr(yj,jn);function rz(){}rz.prototype.nodeType=sj;Rr(rz,jn);function ux(){}ux.prototype.nodeName="#document-fragment";ux.prototype.nodeType=Ls;Rr(ux,jn);function oz(){}oz.prototype.nodeType=lj;Rr(oz,jn);function wj(){}wj.prototype.serializeToString=function(t,e,i){return Aj.call(t,e,i)};jn.prototype.toString=Aj;function Aj(t,e){var i=[],n=this.nodeType==9&&this.documentElement||this,r=n.prefix,o=n.namespaceURI;if(o&&r==null){var r=n.lookupPrefix(o);if(r==null)var a=[{namespace:o,prefix:null}]}return Cd(this,i,t,e,a),i.join("")}function jL(t,e,i){var n=t.prefix||"",r=t.namespaceURI;if(!r||n==="xml"&&r===gg.XML||r===gg.XMLNS)return!1;for(var o=i.length;o--;){var a=i[o];if(a.prefix===n)return a.namespace!==r}return!0}function i_(t,e,i){t.push(" ",e,'="',i.replace(/[<&"]/g,hj),'"')}function Cd(t,e,i,n,r){if(r||(r=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case jo:var o=t.attributes,a=o.length,A=t.firstChild,s=t.tagName;i=gg.isHTML(t.namespaceURI)||i;var l=s;if(!i&&!t.prefix&&t.namespaceURI){for(var c,u=0;u<o.length;u++)if(o.item(u).name==="xmlns"){c=o.item(u).value;break}if(!c)for(var f=r.length-1;f>=0;f--){var h=r[f];if(h.prefix===""&&h.namespace===t.namespaceURI){c=h.namespace;break}}if(c!==t.namespaceURI)for(var f=r.length-1;f>=0;f--){var h=r[f];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+s);break}}}e.push("<",l);for(var m=0;m<a;m++){var b=o.item(m);b.prefix=="xmlns"?r.push({prefix:b.localName,namespace:b.value}):b.nodeName=="xmlns"&&r.push({prefix:"",namespace:b.value})}for(var m=0;m<a;m++){var b=o.item(m);if(jL(b,i,r)){var w=b.prefix||"",g=b.namespaceURI;i_(e,w?"xmlns:"+w:"xmlns",g),r.push({prefix:w,namespace:g})}Cd(b,e,i,n,r)}if(s===l&&jL(t,i,r)){var w=t.prefix||"",g=t.namespaceURI;i_(e,w?"xmlns:"+w:"xmlns",g),r.push({prefix:w,namespace:g})}if(A||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(s)){if(e.push(">"),i&&/^script$/i.test(s))for(;A;)A.data?e.push(A.data):Cd(A,e,i,n,r.slice()),A=A.nextSibling;else for(;A;)Cd(A,e,i,n,r.slice()),A=A.nextSibling;e.push("</",l,">")}else e.push("/>");return;case uj:case Ls:for(var A=t.firstChild;A;)Cd(A,e,i,n,r.slice()),A=A.nextSibling;return;case Mf:return i_(e,t.name,t.value);case hw:return e.push(t.data.replace(/[<&]/g,hj).replace(/]]>/g,"]]&gt;"));case aj:return e.push("<![CDATA[",t.data,"]]>");case cj:return e.push("<!--",t.data,"-->");case dj:var x=t.publicId,T=t.systemId;if(e.push("<!DOCTYPE ",t.name),x)e.push(" PUBLIC ",x),T&&T!="."&&e.push(" ",T),e.push(">");else if(T&&T!=".")e.push(" SYSTEM ",T,">");else{var C=t.internalSubset;C&&e.push(" [",C,"]"),e.push(">")}return;case lj:return e.push("<?",t.target," ",t.data,"?>");case sj:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function xj(t,e,i){var n;switch(e.nodeType){case jo:n=e.cloneNode(!1),n.ownerDocument=t;case Ls:break;case Mf:i=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,i)for(var r=e.firstChild;r;)n.appendChild(xj(t,r,i)),r=r.nextSibling;return n}function v2(t,e,i){var n=new e.constructor;for(var r in e){var o=e[r];typeof o!="object"&&o!=n[r]&&(n[r]=o)}switch(e.childNodes&&(n.childNodes=new _s),n.ownerDocument=t,n.nodeType){case jo:var a=e.attributes,s=n.attributes=new mw,l=a.length;s._ownerElement=n;for(var c=0;c<l;c++)n.setAttributeNode(v2(t,a.item(c),!0));break;case Mf:i=!0}if(i)for(var u=e.firstChild;u;)n.appendChild(v2(t,u,i)),u=u.nextSibling;return n}function kj(t,e,i){t[e]=i}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case jo:case Ls:var i=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&i.push(t(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}};var getTextContent=t;Object.defineProperty(Bf.prototype,"length",{get:function(){return ZE(this),this.$$length}}),Object.defineProperty(jn.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case jo:case Ls:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),kj=function(e,i,n){e["$$"+i]=n}}}catch{}Xl.DocumentType=cx;Xl.DOMException=mu;Xl.DOMImplementation=pj;Xl.Element=gu;Xl.Node=jn;Xl.NodeList=_s;Xl.XMLSerializer=wj;var mb={},_j={};(function(t){var e=Eu.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES})(_j);var az={},vg=Eu.NAMESPACE,y2=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,UL=new RegExp("[\\-\\.0-9"+y2.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),GL=new RegExp("^"+y2.source+UL.source+"*(?::"+y2.source+UL.source+"*)?$"),Ih=0,ol=1,ld=2,Ph=3,cd=4,ud=5,Rh=6,dv=7;function Ff(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Ff)}Ff.prototype=new Error;Ff.prototype.name=Ff.name;function Tj(){}Tj.prototype={parse:function(t,e,i){var n=this.domBuilder;n.startDocument(),Sj(e,e={}),ybe(t,e,i,n,this.errorHandler),n.endDocument()}};function ybe(t,e,i,n,r){function o(Oe){if(Oe>65535){Oe-=65536;var Fe=55296+(Oe>>10),Ve=56320+(Oe&1023);return String.fromCharCode(Fe,Ve)}else return String.fromCharCode(Oe)}function a(Oe){var Fe=Oe.slice(1,-1);return Fe in i?i[Fe]:Fe.charAt(0)==="#"?o(parseInt(Fe.substr(1).replace("x","0x"))):(r.error("entity not found:"+Oe),Oe)}function s(Oe){if(Oe>w){var Fe=t.substring(w,Oe).replace(/&#?\w+;/g,a);h&&l(w),n.characters(Fe,0,Oe-w),w=Oe}}function l(Oe,Fe){for(;Oe>=u&&(Fe=f.exec(t));)c=Fe.index,u=c+Fe[0].length,h.lineNumber++;h.columnNumber=Oe-c+1}for(var c=0,u=0,f=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,m=[{currentNSMap:e}],b={},w=0;;){try{var g=t.indexOf("<",w);if(g<0){if(!t.substr(w).match(/^\s*$/)){var A=n.doc,x=A.createTextNode(t.substr(w));A.appendChild(x),n.currentElement=x}return}switch(g>w&&s(g),t.charAt(g+1)){case"/":var K=t.indexOf(">",g+3),T=t.substring(g+2,K).replace(/[ \t\n\r]+$/g,""),C=m.pop();K<0?(T=t.substring(g+2).replace(/[\s<].*/,""),r.error("end tag name: "+T+" is not complete:"+C.tagName),K=g+1+T.length):T.match(/\s</)&&(T=T.replace(/[\s<].*/,""),r.error("end tag name: "+T+" maybe not complete"),K=g+1+T.length);var z=C.localNSMap,L=C.tagName==T,B=L||C.tagName&&C.tagName.toLowerCase()==T.toLowerCase();if(B){if(n.endElement(C.uri,C.localName,T),z)for(var O in z)n.endPrefixMapping(O);L||r.fatalError("end tag name: "+T+" is not match the current start tagName:"+C.tagName)}else m.push(C);K++;break;case"?":h&&l(g),K=_be(t,g,n);break;case"!":h&&l(g),K=kbe(t,g,n,r);break;default:h&&l(g);var F=new Cj,H=m[m.length-1].currentNSMap,K=wbe(t,g,F,H,a,r),fe=F.length;if(!F.closed&&xbe(t,K,F.tagName,b)&&(F.closed=!0,i.nbsp||r.warning("unclosed xml attribute")),h&&fe){for(var Ae=HL(h,{}),Se=0;Se<fe;Se++){var ke=F[Se];l(ke.offset),ke.locator=HL(h,{})}n.locator=Ae,YL(F,n,H)&&m.push(F),n.locator=h}else YL(F,n,H)&&m.push(F);vg.isHTML(F.uri)&&!F.closed?K=Abe(t,K,F.tagName,a,n):K++}}catch(Oe){if(Oe instanceof Ff)throw Oe;r.error("element parse error: "+Oe),K=-1}K>w?w=K:s(Math.max(g,w)+1)}}function HL(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function wbe(t,e,i,n,r,o){function a(h,m,b){i.attributeNames.hasOwnProperty(h)&&o.fatalError("Attribute "+h+" redefined"),i.addValue(h,m,b)}for(var s,l,c=++e,u=Ih;;){var f=t.charAt(c);switch(f){case"=":if(u===ol)s=t.slice(e,c),u=Ph;else if(u===ld)u=Ph;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(u===Ph||u===ol)if(u===ol&&(o.warning('attribute value must after "="'),s=t.slice(e,c)),e=c+1,c=t.indexOf(f,e),c>0)l=t.slice(e,c).replace(/&#?\w+;/g,r),a(s,l,e-1),u=ud;else throw new Error("attribute value no end '"+f+"' match");else if(u==cd)l=t.slice(e,c).replace(/&#?\w+;/g,r),a(s,l,e),o.warning('attribute "'+s+'" missed start quot('+f+")!!"),e=c+1,u=ud;else throw new Error('attribute value must after "="');break;case"/":switch(u){case Ih:i.setTagName(t.slice(e,c));case ud:case Rh:case dv:u=dv,i.closed=!0;case cd:case ol:case ld:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),u==Ih&&i.setTagName(t.slice(e,c)),c;case">":switch(u){case Ih:i.setTagName(t.slice(e,c));case ud:case Rh:case dv:break;case cd:case ol:l=t.slice(e,c),l.slice(-1)==="/"&&(i.closed=!0,l=l.slice(0,-1));case ld:u===ld&&(l=s),u==cd?(o.warning('attribute "'+l+'" missed quot(")!'),a(s,l.replace(/&#?\w+;/g,r),e)):((!vg.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case Ph:throw new Error("attribute value missed!!")}return c;case"\x80":f=" ";default:if(f<=" ")switch(u){case Ih:i.setTagName(t.slice(e,c)),u=Rh;break;case ol:s=t.slice(e,c),u=ld;break;case cd:var l=t.slice(e,c).replace(/&#?\w+;/g,r);o.warning('attribute "'+l+'" missed quot(")!!'),a(s,l,e);case ud:u=Rh;break}else switch(u){case ld:i.tagName,(!vg.isHTML(n[""])||!s.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),a(s,s,e),e=c,u=ol;break;case ud:o.warning('attribute space is required"'+s+'"!!');case Rh:u=ol,e=c;break;case Ph:u=cd,e=c;break;case dv:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function YL(t,e,i){for(var n=t.tagName,r=null,f=t.length;f--;){var o=t[f],a=o.qName,s=o.value,h=a.indexOf(":");if(h>0)var l=o.prefix=a.slice(0,h),c=a.slice(h+1),u=l==="xmlns"&&c;else c=a,l=null,u=a==="xmlns"&&"";o.localName=c,u!==!1&&(r==null&&(r={},Sj(i,i={})),i[u]=r[u]=s,o.uri=vg.XMLNS,e.startPrefixMapping(u,s))}for(var f=t.length;f--;){o=t[f];var l=o.prefix;l&&(l==="xml"&&(o.uri=vg.XML),l!=="xmlns"&&(o.uri=i[l||""]))}var h=n.indexOf(":");h>0?(l=t.prefix=n.slice(0,h),c=t.localName=n.slice(h+1)):(l=null,c=t.localName=n);var m=t.uri=i[l||""];if(e.startElement(m,c,n,t),t.closed){if(e.endElement(m,c,n),r)for(l in r)e.endPrefixMapping(l)}else return t.currentNSMap=i,t.localNSMap=r,!0}function Abe(t,e,i,n,r){if(/^(?:script|textarea)$/i.test(i)){var o=t.indexOf("</"+i+">",e),a=t.substring(e+1,o);if(/[&<]/.test(a))return/^script$/i.test(i)?(r.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,n),r.characters(a,0,a.length),o)}return e+1}function xbe(t,e,i,n){var r=n[i];return r==null&&(r=t.lastIndexOf("</"+i+">"),r<e&&(r=t.lastIndexOf("</"+i)),n[i]=r),r<e}function Sj(t,e){for(var i in t)e[i]=t[i]}function kbe(t,e,i,n){var r=t.charAt(e+2);switch(r){case"-":if(t.charAt(e+3)==="-"){var o=t.indexOf("-->",e+4);return o>e?(i.comment(t,e+4,o-e-4),o+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var o=t.indexOf("]]>",e+9);return i.startCDATA(),i.characters(t,e+9,o-e-9),i.endCDATA(),o+3}var a=Tbe(t,e),s=a.length;if(s>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],c=!1,u=!1;s>3&&(/^public$/i.test(a[2][0])?(c=a[3][0],u=s>4&&a[4][0]):/^system$/i.test(a[2][0])&&(u=a[3][0]));var f=a[s-1];return i.startDTD(l,c,u),i.endDTD(),f.index+f[0].length}}return-1}function _be(t,e,i){var n=t.indexOf("?>",e);if(n){var r=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,i.processingInstruction(r[1],r[2]),n+2):-1}return-1}function Cj(){this.attributeNames={}}Cj.prototype={setTagName:function(t){if(!GL.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,i){if(!GL.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function Tbe(t,e){var i,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);i=r.exec(t);)if(n.push(i),i[1])return n}az.XMLReader=Tj;az.ParseError=Ff;var Sbe=Eu,sz=Xl,WL=_j,Ej=az,Cbe=sz.DOMImplementation,VL=Sbe.NAMESPACE,Ebe=Ej.ParseError,zbe=Ej.XMLReader;function zj(t){this.options=t||{locator:{}}}zj.prototype.parseFromString=function(t,e){var i=this.options,n=new zbe,r=i.domBuilder||new gb,o=i.errorHandler,a=i.locator,s=i.xmlns||{},l=/\/x?html?$/.test(e),c=l?WL.HTML_ENTITIES:WL.XML_ENTITIES;return a&&r.setDocumentLocator(a),n.errorHandler=Ibe(o,r,a),n.domBuilder=i.domBuilder||r,l&&(s[""]=VL.HTML),s.xml=s.xml||VL.XML,t&&typeof t=="string"?n.parse(t,s,c):n.errorHandler.error("invalid doc source"),r.doc};function Ibe(t,e,i){if(!t){if(e instanceof gb)return e;t=e}var n={},r=t instanceof Function;i=i||{};function o(a){var s=t[a];!s&&r&&(s=t.length==2?function(l){t(a,l)}:t),n[a]=s&&function(l){s("[xmldom "+a+"]	"+l+w2(i))}||function(){}}return o("warning"),o("error"),o("fatalError"),n}function gb(){this.cdata=!1}function dd(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}gb.prototype={startDocument:function(){this.doc=new Cbe().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,i,n){var r=this.doc,o=r.createElementNS(t,i||e),a=n.length;fv(this,o),this.currentElement=o,this.locator&&dd(this.locator,o);for(var s=0;s<a;s++){var t=n.getURI(s),l=n.getValue(s),i=n.getQName(s),c=r.createAttributeNS(t,i);this.locator&&dd(n.getLocator(s),c),c.value=c.nodeValue=l,o.setAttributeNode(c)}},endElement:function(t,e,i){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var i=this.doc.createProcessingInstruction(t,e);this.locator&&dd(this.locator,i),fv(this,i)},ignorableWhitespace:function(t,e,i){},characters:function(t,e,i){if(t=$L.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&dd(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,i){t=$L.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&dd(this.locator,n),fv(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var r=n.createDocumentType(t,e,i);this.locator&&dd(this.locator,r),fv(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]	"+t,w2(this.locator))},error:function(t){console.error("[xmldom error]	"+t,w2(this.locator))},fatalError:function(t){throw new Ebe(t,this.locator)}};function w2(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function $L(t,e,i){return typeof t=="string"?t.substr(e,i):t.length>=e+i||e?new java.lang.String(t,e,i)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){gb.prototype[t]=function(){return null}});function fv(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}mb.__DOMHandler=gb;mb.DOMParser=zj;mb.DOMImplementation=sz.DOMImplementation;mb.XMLSerializer=sz.XMLSerializer;var Pbe=mb.DOMParser;/*! @name mpd-parser @version 0.19.2 @license Apache-2.0 */var QL=function(e){return!!e&&typeof e=="object"},Jn=function t(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.reduce(function(r,o){return typeof o!="object"||Object.keys(o).forEach(function(a){Array.isArray(r[a])&&Array.isArray(o[a])?r[a]=r[a].concat(o[a]):QL(r[a])&&QL(o[a])?r[a]=t(r[a],o[a]):r[a]=o[a]}),r},{})},Rbe=function(e){return Object.keys(e).map(function(i){return e[i]})},Lbe=function(e,i){for(var n=[],r=e;r<i;r++)n.push(r);return n},dx=function(e){return e.reduce(function(i,n){return i.concat(n)},[])},Ij=function(e){if(!e.length)return[];for(var i=[],n=0;n<e.length;n++)i.push(e[n]);return i},Obe=function(e,i){return e.reduce(function(n,r,o){return r[i]&&n.push(o),n},[])},Nf={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},yg=function(e){var i=e.baseUrl,n=i===void 0?"":i,r=e.source,o=r===void 0?"":r,a=e.range,s=a===void 0?"":a,l=e.indexRange,c=l===void 0?"":l,u={uri:o,resolvedUri:lx(n||"",o)};if(s||c){var f=s||c,h=f.split("-"),m=parseInt(h[0],10),b=parseInt(h[1],10);u.byterange={length:b-m+1,offset:m}}return u},Dbe=function(e){var i=e.offset+e.length-1;return e.offset+"-"+i},qL=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},Mbe={static:function(e){var i=e.duration,n=e.timescale,r=n===void 0?1:n,o=e.sourceDuration,a=e.periodDuration,s=qL(e.endNumber),l=i/r;return typeof s=="number"?{start:0,end:s}:typeof a=="number"?{start:0,end:a/l}:{start:0,end:o/l}},dynamic:function(e){var i=e.NOW,n=e.clientOffset,r=e.availabilityStartTime,o=e.timescale,a=o===void 0?1:o,s=e.duration,l=e.start,c=l===void 0?0:l,u=e.minimumUpdatePeriod,f=u===void 0?0:u,h=e.timeShiftBufferDepth,m=h===void 0?1/0:h,b=qL(e.endNumber),w=(i+n)/1e3,g=r+c,A=w+f,x=A-g,T=Math.ceil(x*a/s),C=Math.floor((w-g-m)*a/s),z=Math.floor((w-g)*a/s);return{start:Math.max(0,C),end:typeof b=="number"?b:Math.min(T,z)}}},Bbe=function(e){return function(i,n){var r=e.duration,o=e.timescale,a=o===void 0?1:o,s=e.periodIndex,l=e.startNumber,c=l===void 0?1:l;return{number:c+i,duration:r/a,timeline:s,time:n*r}}},lz=function(e){var i=e.type,n=e.duration,r=e.timescale,o=r===void 0?1:r,a=e.periodDuration,s=e.sourceDuration,l=Mbe[i](e),c=l.start,u=l.end,f=Lbe(c,u).map(Bbe(e));if(i==="static"){var h=f.length-1,m=typeof a=="number"?a:s;f[h].duration=m-n/o*h}return f},Pj=function(e){var i=e.baseUrl,n=e.initialization,r=n===void 0?{}:n,o=e.sourceDuration,a=e.indexRange,s=a===void 0?"":a,l=e.duration;if(!i)throw new Error(Nf.NO_BASE_URL);var c=yg({baseUrl:i,source:r.sourceURL,range:r.range}),u=yg({baseUrl:i,source:i,indexRange:s});if(u.map=c,l){var f=lz(e);f.length&&(u.duration=f[0].duration,u.timeline=f[0].timeline)}else o&&(u.duration=o,u.timeline=0);return u.number=0,[u]},cz=function(e,i,n){for(var r=e.sidx.map?e.sidx.map:null,o=e.sidx.duration,a=e.timeline||0,s=e.sidx.byterange,l=s.offset+s.length,c=i.timescale,u=i.references.filter(function(L){return L.referenceType!==1}),f=[],h=e.endList?"static":"dynamic",m=l+i.firstOffset,b=0;b<u.length;b++){var w=i.references[b],g=w.referencedSize,A=w.subsegmentDuration,x=m+g-1,T=m+"-"+x,C={baseUrl:n,timescale:c,timeline:a,periodIndex:a,duration:A,sourceDuration:o,indexRange:T,type:h},z=Pj(C)[0];r&&(z.map=r),f.push(z),m+=g}return e.segments=f,e},fx=function(e){return e&&e.uri+"-"+Dbe(e.byterange)},KL=function(e){var i=Rbe(e.reduce(function(n,r){var o=r.attributes.id+(r.attributes.lang||"");if(n[o]){var a;r.segments[0]&&(r.segments[0].discontinuity=!0),(a=n[o].segments).push.apply(a,r.segments),r.attributes.contentProtection&&(n[o].attributes.contentProtection=r.attributes.contentProtection)}else n[o]=r;return n},{}));return i.map(function(n){return n.discontinuityStarts=Obe(n.segments,"discontinuity"),n})},uz=function(e,i){var n=fx(e.sidx),r=n&&i[n]&&i[n].sidx;return r&&cz(e,r,e.sidx.resolvedUri),e},Fbe=function(e,i){if(i===void 0&&(i={}),!Object.keys(i).length)return e;for(var n in e)e[n]=uz(e[n],i);return e},Nbe=function(e,i){var n,r=e.attributes,o=e.segments,a=e.sidx,s={attributes:(n={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},n["PROGRAM-ID"]=1,n),uri:"",endList:r.type==="static",timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:o,mediaSequence:o.length?o[0].number:1};return r.contentProtection&&(s.contentProtection=r.contentProtection),a&&(s.sidx=a),i&&(s.attributes.AUDIO="audio",s.attributes.SUBTITLES="subs"),s},jbe=function(e){var i,n=e.attributes,r=e.segments;typeof r=="undefined"&&(r=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var o=(i={NAME:n.id,BANDWIDTH:n.bandwidth},i["PROGRAM-ID"]=1,i);return n.codecs&&(o.CODECS=n.codecs),{attributes:o,uri:"",endList:n.type==="static",timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1}},Ube=function(e,i,n){i===void 0&&(i={}),n===void 0&&(n=!1);var r,o=e.reduce(function(s,l){var c=l.attributes.role&&l.attributes.role.value||"",u=l.attributes.lang||"",f=l.attributes.label||"main";if(u&&!l.attributes.label){var h=c?" ("+c+")":"";f=""+l.attributes.lang+h}s[f]||(s[f]={language:u,autoselect:!0,default:c==="main",playlists:[],uri:""});var m=uz(Nbe(l,n),i);return s[f].playlists.push(m),typeof r=="undefined"&&c==="main"&&(r=l,r.default=!0),s},{});if(!r){var a=Object.keys(o)[0];o[a].default=!0}return o},Gbe=function(e,i){return i===void 0&&(i={}),e.reduce(function(n,r){var o=r.attributes.lang||"text";return n[o]||(n[o]={language:o,default:!1,autoselect:!1,playlists:[],uri:""}),n[o].playlists.push(uz(jbe(r),i)),n},{})},Hbe=function(e){return e.reduce(function(i,n){return n&&n.forEach(function(r){var o=r.channel,a=r.language;i[a]={autoselect:!1,default:!1,instreamId:o,language:a},r.hasOwnProperty("aspectRatio")&&(i[a].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(i[a].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(i[a]["3D"]=r["3D"])}),i},{})},Ybe=function(e){var i,n=e.attributes,r=e.segments,o=e.sidx,a={attributes:(i={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:n.type==="static",timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(a.contentProtection=n.contentProtection),o&&(a.sidx=o),a},Wbe=function(e){var i=e.attributes;return i.mimeType==="video/mp4"||i.mimeType==="video/webm"||i.contentType==="video"},Vbe=function(e){var i=e.attributes;return i.mimeType==="audio/mp4"||i.mimeType==="audio/webm"||i.contentType==="audio"},$be=function(e){var i=e.attributes;return i.mimeType==="text/vtt"||i.contentType==="text"},Qbe=function(e,i,n){var r;if(n===void 0&&(n={}),!e.length)return{};var o=e[0].attributes,a=o.sourceDuration,s=o.type,l=o.suggestedPresentationDelay,c=o.minimumUpdatePeriod,u=KL(e.filter(Wbe)).map(Ybe),f=KL(e.filter(Vbe)),h=e.filter($be),m=e.map(function(g){return g.attributes.captionServices}).filter(Boolean),b={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:a,playlists:Fbe(u,n)};c>=0&&(b.minimumUpdatePeriod=c*1e3),i&&(b.locations=i),s==="dynamic"&&(b.suggestedPresentationDelay=l);var w=b.playlists.length===0;return f.length&&(b.mediaGroups.AUDIO.audio=Ube(f,n,w)),h.length&&(b.mediaGroups.SUBTITLES.subs=Gbe(h,n)),m.length&&(b.mediaGroups["CLOSED-CAPTIONS"].cc=Hbe(m)),b},qbe=function(e,i,n){var r=e.NOW,o=e.clientOffset,a=e.availabilityStartTime,s=e.timescale,l=s===void 0?1:s,c=e.start,u=c===void 0?0:c,f=e.minimumUpdatePeriod,h=f===void 0?0:f,m=(r+o)/1e3,b=a+u,w=m+h,g=w-b;return Math.ceil((g*l-i)/n)},Rj=function(e,i){for(var n=e.type,r=e.minimumUpdatePeriod,o=r===void 0?0:r,a=e.media,s=a===void 0?"":a,l=e.sourceDuration,c=e.timescale,u=c===void 0?1:c,f=e.startNumber,h=f===void 0?1:f,m=e.periodIndex,b=[],w=-1,g=0;g<i.length;g++){var A=i[g],x=A.d,T=A.r||0,C=A.t||0;w<0&&(w=C),C&&C>w&&(w=C);var z=void 0;if(T<0){var L=g+1;L===i.length?n==="dynamic"&&o>0&&s.indexOf("$Number$")>0?z=qbe(e,w,x):z=(l*u-w)/x:z=(i[L].t-w)/x}else z=T+1;for(var B=h+b.length+z,O=h+b.length;O<B;)b.push({number:O,duration:x/u,time:w,timeline:m}),w+=x,O++}return b},Kbe=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Xbe=function(e){return function(i,n,r,o){if(i==="$$")return"$";if(typeof e[n]=="undefined")return i;var a=""+e[n];return n==="RepresentationID"||(r?o=parseInt(o,10):o=1,a.length>=o)?a:""+new Array(o-a.length+1).join("0")+a}},XL=function(e,i){return e.replace(Kbe,Xbe(i))},Jbe=function(e,i){return!e.duration&&!i?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]:e.duration?lz(e):Rj(e,i)},Zbe=function(e,i){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,o=r===void 0?{sourceURL:"",range:""}:r,a=yg({baseUrl:e.baseUrl,source:XL(o.sourceURL,n),range:o.range}),s=Jbe(e,i);return s.map(function(l){n.Number=l.number,n.Time=l.time;var c=XL(e.media||"",n),u=e.timescale||1,f=e.presentationTimeOffset||0,h=e.periodStart+(l.time-f)/u,m={uri:c,timeline:l.timeline,duration:l.duration,resolvedUri:lx(e.baseUrl||"",c),map:a,number:l.number,presentationTime:h};return m})},e0e=function(e,i){var n=e.baseUrl,r=e.initialization,o=r===void 0?{}:r,a=yg({baseUrl:n,source:o.sourceURL,range:o.range}),s=yg({baseUrl:n,source:i.media,range:i.mediaRange});return s.map=a,s},t0e=function(e,i){var n=e.duration,r=e.segmentUrls,o=r===void 0?[]:r,a=e.periodStart;if(!n&&!i||n&&i)throw new Error(Nf.SEGMENT_TIME_UNSPECIFIED);var s=o.map(function(u){return e0e(e,u)}),l;n&&(l=lz(e)),i&&(l=Rj(e,i));var c=l.map(function(u,f){if(s[f]){var h=s[f],m=e.timescale||1,b=e.presentationTimeOffset||0;return h.timeline=u.timeline,h.duration=u.duration,h.number=u.number,h.presentationTime=a+(u.time-b)/m,h}}).filter(function(u){return u});return c},i0e=function(e){var i=e.attributes,n=e.segmentInfo,r,o;n.template?(o=Zbe,r=Jn(i,n.template)):n.base?(o=Pj,r=Jn(i,n.base)):n.list&&(o=t0e,r=Jn(i,n.list));var a={attributes:i};if(!o)return a;var s=o(r,n.segmentTimeline);if(r.duration){var l=r,c=l.duration,u=l.timescale,f=u===void 0?1:u;r.duration=c/f}else s.length?r.duration=s.reduce(function(h,m){return Math.max(h,Math.ceil(m.duration))},0):r.duration=0;return a.attributes=r,a.segments=s,n.base&&r.indexRange&&(a.sidx=s[0],a.segments=[]),a},n0e=function(e){return e.map(i0e)},Ei=function(e,i){return Ij(e.childNodes).filter(function(n){var r=n.tagName;return r===i})},dz=function(e){return e.textContent.trim()},fd=function(e){var i=31536e3,n=30*24*60*60,r=24*60*60,o=60*60,a=60,s=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,l=s.exec(e);if(!l)return 0;var c=l.slice(1),u=c[0],f=c[1],h=c[2],m=c[3],b=c[4],w=c[5];return parseFloat(u||0)*i+parseFloat(f||0)*n+parseFloat(h||0)*r+parseFloat(m||0)*o+parseFloat(b||0)*a+parseFloat(w||0)},r0e=function(e){var i=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return i.test(e)&&(e+="Z"),Date.parse(e)},JL={mediaPresentationDuration:function(e){return fd(e)},availabilityStartTime:function(e){return r0e(e)/1e3},minimumUpdatePeriod:function(e){return fd(e)},suggestedPresentationDelay:function(e){return fd(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return fd(e)},start:function(e){return fd(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var i=parseInt(e,10);return isNaN(i)?fd(e):i},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},In=function(e){return e&&e.attributes?Ij(e.attributes).reduce(function(i,n){var r=JL[n.name]||JL.DEFAULT;return i[n.name]=r(n.value),i},{}):{}},o0e={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},px=function(e,i){return i.length?dx(e.map(function(n){return i.map(function(r){return lx(n,dz(r))})})):e},fz=function(e){var i=Ei(e,"SegmentTemplate")[0],n=Ei(e,"SegmentList")[0],r=n&&Ei(n,"SegmentURL").map(function(h){return Jn({tag:"SegmentURL"},In(h))}),o=Ei(e,"SegmentBase")[0],a=n||i,s=a&&Ei(a,"SegmentTimeline")[0],l=n||o||i,c=l&&Ei(l,"Initialization")[0],u=i&&In(i);u&&c?u.initialization=c&&In(c):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var f={template:u,segmentTimeline:s&&Ei(s,"S").map(function(h){return In(h)}),list:n&&Jn(In(n),{segmentUrls:r,initialization:In(c)}),base:o&&Jn(In(o),{initialization:In(c)})};return Object.keys(f).forEach(function(h){f[h]||delete f[h]}),f},a0e=function(e,i,n){return function(r){var o=Ei(r,"BaseURL"),a=px(i,o),s=Jn(e,In(r)),l=fz(r);return a.map(function(c){return{segmentInfo:Jn(n,l),attributes:Jn(s,{baseUrl:c})}})}},s0e=function(e){return e.reduce(function(i,n){var r=In(n),o=o0e[r.schemeIdUri];if(o){i[o]={attributes:r};var a=Ei(n,"cenc:pssh")[0];if(a){var s=dz(a),l=s&&ej(s);i[o].pssh=l}}return i},{})},l0e=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(r){var o,a;if(a=r,/^CC\d=/.test(r)){var s=r.split("=");o=s[0],a=s[1]}else/^CC\d$/.test(r)&&(o=r);return{channel:o,language:a}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var n=typeof e.value!="string"?[]:e.value.split(";");return n.map(function(r){var o={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){var a=r.split("="),s=a[0],l=a[1],c=l===void 0?"":l;o.channel=s,o.language=r,c.split(",").forEach(function(u){var f=u.split(":"),h=f[0],m=f[1];h==="lang"?o.language=m:h==="er"?o.easyReader=Number(m):h==="war"?o.aspectRatio=Number(m):h==="3D"&&(o["3D"]=Number(m))})}else o.language=r;return o.channel&&(o.channel="SERVICE"+o.channel),o})}},c0e=function(e,i,n){return function(r){var o=In(r),a=px(i,Ei(r,"BaseURL")),s=Ei(r,"Role")[0],l={role:In(s)},c=Jn(e,o,l),u=Ei(r,"Accessibility")[0],f=l0e(In(u));f&&(c=Jn(c,{captionServices:f}));var h=Ei(r,"Label")[0];if(h&&h.childNodes.length){var m=h.childNodes[0].nodeValue.trim();c=Jn(c,{label:m})}var b=s0e(Ei(r,"ContentProtection"));Object.keys(b).length&&(c=Jn(c,{contentProtection:b}));var w=fz(r),g=Ei(r,"Representation"),A=Jn(n,w);return dx(g.map(a0e(c,a,A)))}},u0e=function(e,i){return function(n,r){var o=px(i,Ei(n.node,"BaseURL")),a=parseInt(n.attributes.id,10),s=Q.isNaN(a)?r:a,l=Jn(e,{periodIndex:s,periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(l.periodDuration=n.attributes.duration);var c=Ei(n.node,"AdaptationSet"),u=fz(n.node);return dx(c.map(c0e(l,o,u)))}},d0e=function(e){var i=e.attributes,n=e.priorPeriodAttributes,r=e.mpdType;return typeof i.start=="number"?i.start:n&&typeof n.start=="number"&&typeof n.duration=="number"?n.start+n.duration:!n&&r==="static"?0:null},f0e=function(e,i){i===void 0&&(i={});var n=i,r=n.manifestUri,o=r===void 0?"":r,a=n.NOW,s=a===void 0?Date.now():a,l=n.clientOffset,c=l===void 0?0:l,u=Ei(e,"Period");if(!u.length)throw new Error(Nf.INVALID_NUMBER_OF_PERIOD);var f=Ei(e,"Location"),h=In(e),m=px([o],Ei(e,"BaseURL"));h.type=h.type||"static",h.sourceDuration=h.mediaPresentationDuration||0,h.NOW=s,h.clientOffset=c,f.length&&(h.locations=f.map(dz));var b=[];return u.forEach(function(w,g){var A=In(w),x=b[g-1];A.start=d0e({attributes:A,priorPeriodAttributes:x?x.attributes:null,mpdType:h.type}),b.push({node:w,attributes:A})}),{locations:h.locations,representationInfo:dx(b.map(u0e(h,m)))}},Lj=function(e){if(e==="")throw new Error(Nf.DASH_EMPTY_MANIFEST);var i=new Pbe,n,r;try{n=i.parseFromString(e,"application/xml"),r=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(Nf.DASH_INVALID_XML);return r},p0e=function(e){var i=Ei(e,"UTCTiming")[0];if(!i)return null;var n=In(i);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Nf.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},h0e=function(e,i){i===void 0&&(i={});var n=f0e(Lj(e),i),r=n0e(n.representationInfo);return Qbe(r,n.locations,i.sidxMapping)},m0e=function(e){return p0e(Lj(e))},ZL=Math.pow(2,32),g0e=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;i.version===0?(i.earliestPresentationTime=e.getUint32(n),i.firstOffset=e.getUint32(n+4),n+=8):(i.earliestPresentationTime=e.getUint32(n)*ZL+e.getUint32(n+4),i.firstOffset=e.getUint32(n+8)*ZL+e.getUint32(n+12),n+=16),n+=2;var r=e.getUint16(n);for(n+=2;r>0;n+=12,r--)i.references.push({referenceType:(t[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(t[n+8]&128),sapType:(t[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455});return i},b0e=g0e,v0e=function(e){return e.toString(2).length},y0e=function(e){return Math.ceil(v0e(e)/8)},w0e=function(e){return ArrayBuffer.isView(e)},ot=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!w0e(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},dn=Q.BigInt||Number,A2=[dn("0x1"),dn("0x100"),dn("0x10000"),dn("0x1000000"),dn("0x100000000"),dn("0x10000000000"),dn("0x1000000000000"),dn("0x100000000000000"),dn("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var A0e=function(e,i){var n=i===void 0?{}:i,r=n.signed,o=r===void 0?!1:r,a=n.le,s=a===void 0?!1:a;e=ot(e);var l=s?"reduce":"reduceRight",c=e[l]?e[l]:Array.prototype[l],u=c.call(e,function(h,m,b){var w=s?b:Math.abs(b+1-e.length);return h+dn(m)*A2[w]},dn(0));if(o){var f=A2[e.length]/dn(2)-dn(1);u=dn(u),u>f&&(u-=f,u-=f,u-=dn(2))}return Number(u)},x0e=function(e,i){var n=i===void 0?{}:i,r=n.le,o=r===void 0?!1:r;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=dn(e);for(var a=y0e(e),s=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var c=o?l:Math.abs(l+1-s.length);s[c]=Number(e/A2[l]&dn(255)),e<0&&(s[c]=Math.abs(~s[c]),s[c]-=l===0?1:2)}return s},Oj=function(e,i){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;i||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},k0e=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(i=i.filter(function(s){return s&&(s.byteLength||s.length)&&typeof s!="string"}),i.length<=1)return ot(i[0]);var r=i.reduce(function(s,l,c){return s+(l.byteLength||l.length)},0),o=new Uint8Array(r),a=0;return i.forEach(function(s){s=ot(s),o.set(s,a),a+=s.byteLength}),o},ui=function(e,i,n){var r=n===void 0?{}:n,o=r.offset,a=o===void 0?0:o,s=r.mask,l=s===void 0?[]:s;e=ot(e),i=ot(i);var c=i.every?i.every:Array.prototype.every;return i.length&&e.length-a>=i.length&&c.call(i,function(u,f){var h=l[f]?l[f]&e[a+f]:e[a+f];return u===h})},_0e=ot([73,68,51]),T0e=function(e,i){i===void 0&&(i=0),e=ot(e);var n=e[i+5],r=e[i+6]<<21|e[i+7]<<14|e[i+8]<<7|e[i+9],o=(n&16)>>4;return o?r+20:r+10},Qh=function t(e,i){return i===void 0&&(i=0),e=ot(e),e.length-i<10||!ui(e,_0e,{offset:i})?i:(i+=T0e(e,i),t(e,i))},eO=function(e){return typeof e=="string"?Oj(e):e},S0e=function(e){return Array.isArray(e)?e.map(function(i){return eO(i)}):[eO(e)]},C0e=function t(e,i,n){n===void 0&&(n=!1),i=S0e(i),e=ot(e);var r=[];if(!i.length)return r;for(var o=0;o<e.length;){var a=(e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3])>>>0,s=e.subarray(o+4,o+8);if(a===0)break;var l=o+a;if(l>e.length){if(n)break;l=e.length}var c=e.subarray(o+8,l);ui(s,i[0])&&(i.length===1?r.push(c):r.push.apply(r,t(c,i.slice(1),n))),o=l}return r},pv={EBML:ot([26,69,223,163]),DocType:ot([66,130]),Segment:ot([24,83,128,103]),SegmentInfo:ot([21,73,169,102]),Tracks:ot([22,84,174,107]),Track:ot([174]),TrackNumber:ot([215]),DefaultDuration:ot([35,227,131]),TrackEntry:ot([174]),TrackType:ot([131]),FlagDefault:ot([136]),CodecID:ot([134]),CodecPrivate:ot([99,162]),VideoTrack:ot([224]),AudioTrack:ot([225]),Cluster:ot([31,67,182,117]),Timestamp:ot([231]),TimestampScale:ot([42,215,177]),BlockGroup:ot([160]),BlockDuration:ot([155]),Block:ot([161]),SimpleBlock:ot([163])},x2=[128,64,32,16,8,4,2,1],E0e=function(e){for(var i=1,n=0;n<x2.length&&!(e&x2[n]);n++)i++;return i},bw=function(e,i,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1);var o=E0e(e[i]),a=e.subarray(i,i+o);return n&&(a=Array.prototype.slice.call(e,i,i+o),a[0]^=x2[o-1]),{length:o,value:A0e(a,{signed:r}),bytes:a}},tO=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(i){return t(i)}):typeof e=="number"?x0e(e):e},z0e=function(e){return Array.isArray(e)?e.map(function(i){return tO(i)}):[tO(e)]},I0e=function t(e,i,n){if(n>=i.length)return i.length;var r=bw(i,n,!1);if(ui(e.bytes,r.bytes))return n;var o=bw(i,n+r.length);return t(e,i,n+o.length+o.value+r.length)},iO=function t(e,i){i=z0e(i),e=ot(e);var n=[];if(!i.length)return n;for(var r=0;r<e.length;){var o=bw(e,r,!1),a=bw(e,r+o.length),s=r+o.length+a.length;a.value===127&&(a.value=I0e(o,e,s),a.value!==e.length&&(a.value-=s));var l=s+a.value>e.length?e.length:s+a.value,c=e.subarray(s,l);ui(i[0],o.bytes)&&(i.length===1?n.push(c):n=n.concat(t(c,i.slice(1))));var u=o.length+a.length+c.length;r+=u}return n},P0e=ot([0,0,0,1]),R0e=ot([0,0,1]),L0e=ot([0,0,3]),O0e=function(e){for(var i=[],n=1;n<e.length-2;)ui(e.subarray(n,n+3),L0e)&&(i.push(n+2),n++),n++;if(i.length===0)return e;var r=e.length-i.length,o=new Uint8Array(r),a=0;for(n=0;n<r;a++,n++)a===i[0]&&(a++,i.shift()),o[n]=e[a];return o},Dj=function(e,i,n,r){r===void 0&&(r=1/0),e=ot(e),n=[].concat(n);for(var o=0,a,s=0;o<e.length&&(s<r||a);){var l=void 0;if(ui(e.subarray(o),P0e)?l=4:ui(e.subarray(o),R0e)&&(l=3),!l){o++;continue}if(s++,a)return O0e(e.subarray(a,o));var c=void 0;i==="h264"?c=e[o+l]&31:i==="h265"&&(c=e[o+l]>>1&63),n.indexOf(c)!==-1&&(a=o+l),o+=l+(i==="h264"?1:2)}return e.subarray(0,0)},D0e=function(e,i,n){return Dj(e,"h264",i,n)},M0e=function(e,i,n){return Dj(e,"h265",i,n)},Vn={webm:ot([119,101,98,109]),matroska:ot([109,97,116,114,111,115,107,97]),flac:ot([102,76,97,67]),ogg:ot([79,103,103,83]),ac3:ot([11,119]),riff:ot([82,73,70,70]),avi:ot([65,86,73]),wav:ot([87,65,86,69]),"3gp":ot([102,116,121,112,51,103]),mp4:ot([102,116,121,112]),fmp4:ot([115,116,121,112]),mov:ot([102,116,121,112,113,116]),moov:ot([109,111,111,118]),moof:ot([109,111,111,102])},jf={aac:function(e){var i=Qh(e);return ui(e,[255,16],{offset:i,mask:[255,22]})},mp3:function(e){var i=Qh(e);return ui(e,[255,2],{offset:i,mask:[255,6]})},webm:function(e){var i=iO(e,[pv.EBML,pv.DocType])[0];return ui(i,Vn.webm)},mkv:function(e){var i=iO(e,[pv.EBML,pv.DocType])[0];return ui(i,Vn.matroska)},mp4:function(e){if(jf["3gp"](e)||jf.mov(e))return!1;if(ui(e,Vn.mp4,{offset:4})||ui(e,Vn.fmp4,{offset:4})||ui(e,Vn.moof,{offset:4})||ui(e,Vn.moov,{offset:4}))return!0},mov:function(e){return ui(e,Vn.mov,{offset:4})},"3gp":function(e){return ui(e,Vn["3gp"],{offset:4})},ac3:function(e){var i=Qh(e);return ui(e,Vn.ac3,{offset:i})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var i=0;i+188<e.length&&i<188;){if(e[i]===71&&e[i+188]===71)return!0;i+=1}return!1},flac:function(e){var i=Qh(e);return ui(e,Vn.flac,{offset:i})},ogg:function(e){return ui(e,Vn.ogg)},avi:function(e){return ui(e,Vn.riff)&&ui(e,Vn.avi,{offset:8})},wav:function(e){return ui(e,Vn.riff)&&ui(e,Vn.wav,{offset:8})},h264:function(e){return D0e(e,7,3).length},h265:function(e){return M0e(e,[32,33],3).length}},k2=Object.keys(jf).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);k2.forEach(function(t){var e=jf[t];jf[t]=function(i){return e(ot(i))}});var B0e=jf,pz=function(e){e=ot(e);for(var i=0;i<k2.length;i++){var n=k2[i];if(B0e[n](e))return n}return""},F0e=function(e){return C0e(e,["moof"]).length>0},hz=9e4,mz,gz,hx,bz,Mj,Bj,Fj;mz=function(t){return t*hz};gz=function(t,e){return t*e};hx=function(t){return t/hz};bz=function(t,e){return t/e};Mj=function(t,e){return mz(bz(t,e))};Bj=function(t,e){return gz(hx(t),e)};Fj=function(t,e,i){return hx(i?t:t-e)};var vw={ONE_SECOND_IN_TS:hz,secondsToVideoTs:mz,secondsToAudioTs:gz,videoTsToSeconds:hx,audioTsToSeconds:bz,audioTsToVideoTs:Mj,videoTsToAudioTs:Bj,metadataTsToSeconds:Fj};/**
 * @license
 * Video.js 7.17.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Nj="7.17.0",hs={},Gl=function(e,i){return hs[e]=hs[e]||[],i&&(hs[e]=hs[e].concat(i)),hs[e]},N0e=function(e,i){Gl(e,i)},jj=function(e,i){var n=Gl(e).indexOf(i);return n<=-1?!1:(hs[e]=hs[e].slice(),hs[e].splice(n,1),!0)},j0e=function(e,i){Gl(e,[].concat(i).map(function(n){var r=function o(){return jj(e,o),n.apply(void 0,arguments)};return r}))},yw={prefixed:!0},Kv=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],nO=Kv[0],qh;for(var hv=0;hv<Kv.length;hv++)if(Kv[hv][1]in De){qh=Kv[hv];break}if(qh){for(var mv=0;mv<qh.length;mv++)yw[nO[mv]]=qh[mv];yw.prefixed=qh[0]!==nO[0]}var mr=[],U0e=function(e,i){return function(n,r,o){var a=i.levels[r],s=new RegExp("^("+a+")$");if(n!=="log"&&o.unshift(n.toUpperCase()+":"),o.unshift(e+":"),mr){mr.push([].concat(o));var l=mr.length-1e3;mr.splice(0,l>0?l:0)}if(!!Q.console){var c=Q.console[n];!c&&n==="debug"&&(c=Q.console.info||Q.console.log),!(!c||!a||!s.test(n))&&c[Array.isArray(o)?"apply":"call"](Q.console,o)}}};function Uj(t){var e="info",i,n=function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];i("log",e,a)};return i=U0e(t,n),n.createLogger=function(r){return Uj(t+": "+r)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},n.level=function(r){if(typeof r=="string"){if(!n.levels.hasOwnProperty(r))throw new Error('"'+r+'" in not a valid log level');e=r}return e},n.history=function(){return mr?[].concat(mr):[]},n.history.filter=function(r){return(mr||[]).filter(function(o){return new RegExp(".*"+r+".*").test(o[0])})},n.history.clear=function(){mr&&(mr.length=0)},n.history.disable=function(){mr!==null&&(mr.length=0,mr=null)},n.history.enable=function(){mr===null&&(mr=[])},n.error=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i("error",e,o)},n.warn=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i("warn",e,o)},n.debug=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i("debug",e,o)},n}var kt=Uj("VIDEOJS"),Gj=kt.createLogger,G0e=Object.prototype.toString,Hj=function(e){return Os(e)?Object.keys(e):[]};function Yd(t,e){Hj(t).forEach(function(i){return e(t[i],i)})}function H0e(t,e,i){return i===void 0&&(i=0),Hj(t).reduce(function(n,r){return e(n,t[r],r)},i)}function Ai(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Object.assign?he.apply(void 0,[t].concat(i)):(i.forEach(function(r){!r||Yd(r,function(o,a){t[a]=o})}),t)}function Os(t){return!!t&&typeof t=="object"}function wg(t){return Os(t)&&G0e.call(t)==="[object Object]"&&t.constructor===Object}function Ag(t,e){if(!t||!e)return"";if(typeof Q.getComputedStyle=="function"){var i;try{i=Q.getComputedStyle(t)}catch{return""}return i?i.getPropertyValue(e)||i[e]:""}return""}var nn=Q.navigator&&Q.navigator.userAgent||"",rO=/AppleWebKit\/([\d.]+)/i.exec(nn),Y0e=rO?parseFloat(rO.pop()):null,Yj=/iPod/i.test(nn),W0e=function(){var t=nn.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Gs=/Android/i.test(nn),vz=function(){var t=nn.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return e&&i?parseFloat(t[1]+"."+t[2]):e||null}(),Wj=Gs&&vz<5&&Y0e<537,Vj=/Firefox/i.test(nn),bb=/Edg/i.test(nn),Hs=!bb&&(/Chrome/i.test(nn)||/CriOS/i.test(nn)),$j=function(){var t=nn.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),vb=function(){var t=/MSIE\s(\d+)\.\d/.exec(nn),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(nn)&&/rv:11.0/.test(nn)&&(e=11),e}(),yz=/Safari/i.test(nn)&&!Hs&&!Gs&&!bb,Qj=/Windows/i.test(nn),Uf=Boolean(bp()&&("ontouchstart"in Q||Q.navigator.maxTouchPoints||Q.DocumentTouch&&Q.document instanceof Q.DocumentTouch)),wz=/iPad/i.test(nn)||yz&&Uf&&!/iPhone/i.test(nn),Az=/iPhone/i.test(nn)&&!wz,Tr=Az||wz||Yj,mx=(yz||Tr)&&!Hs,V0e=Object.freeze({__proto__:null,IS_IPOD:Yj,IOS_VERSION:W0e,IS_ANDROID:Gs,ANDROID_VERSION:vz,IS_NATIVE_ANDROID:Wj,IS_FIREFOX:Vj,IS_EDGE:bb,IS_CHROME:Hs,CHROME_VERSION:$j,IE_VERSION:vb,IS_SAFARI:yz,IS_WINDOWS:Qj,TOUCH_ENABLED:Uf,IS_IPAD:wz,IS_IPHONE:Az,IS_IOS:Tr,IS_ANY_SAFARI:mx});function oO(t){return typeof t=="string"&&Boolean(t.trim())}function qj(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function $0e(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function bp(){return De===Q.document}function vp(t){return Os(t)&&t.nodeType===1}function Kj(){try{return Q.parent!==Q.self}catch{return!0}}function Xj(t){return function(e,i){if(!oO(e))return De[t](null);oO(i)&&(i=De.querySelector(i));var n=vp(i)?i:De;return n[t]&&n[t](e)}}function Bt(t,e,i,n){t===void 0&&(t="div"),e===void 0&&(e={}),i===void 0&&(i={});var r=De.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(o){var a=e[o];o.indexOf("aria-")!==-1||o==="role"||o==="type"?(kt.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+o+" to "+a+".")),r.setAttribute(o,a)):o==="textContent"?zu(r,a):(r[o]!==a||o==="tabIndex")&&(r[o]=a)}),Object.getOwnPropertyNames(i).forEach(function(o){r.setAttribute(o,i[o])}),n&&kz(r,n),r}function zu(t,e){return typeof t.textContent=="undefined"?t.innerText=e:t.textContent=e,t}function _2(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Kc(t,e){return qj(e),t.classList?t.classList.contains(e):$0e(e).test(t.className)}function Ts(t,e){return t.classList?t.classList.add(e):Kc(t,e)||(t.className=(t.className+" "+e).trim()),t}function yb(t,e){return t?(t.classList?t.classList.remove(e):(qj(e),t.className=t.className.split(/\s+/).filter(function(i){return i!==e}).join(" ")),t):(kt.warn("removeClass was called with an element that doesn't exist"),null)}function Jj(t,e,i){var n=Kc(t,e);if(typeof i=="function"&&(i=i(t,e)),typeof i!="boolean"&&(i=!n),i!==n)return i?Ts(t,e):yb(t,e),t}function Zj(t,e){Object.getOwnPropertyNames(e).forEach(function(i){var n=e[i];n===null||typeof n=="undefined"||n===!1?t.removeAttribute(i):t.setAttribute(i,n===!0?"":n)})}function ls(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,r=n.length-1;r>=0;r--){var o=n[r].name,a=n[r].value;(typeof t[o]=="boolean"||i.indexOf(","+o+",")!==-1)&&(a=a!==null),e[o]=a}return e}function eU(t,e){return t.getAttribute(e)}function Gf(t,e,i){t.setAttribute(e,i)}function gx(t,e){t.removeAttribute(e)}function tU(){De.body.focus(),De.onselectstart=function(){return!1}}function iU(){De.onselectstart=function(){return!0}}function Hf(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(n){e[n]!==void 0&&(i[n]=e[n])}),i.height||(i.height=parseFloat(Ag(t,"height"))),i.width||(i.width=parseFloat(Ag(t,"width"))),i}}function xg(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=t.offsetWidth,i=t.offsetHeight,n=0,r=0;t.offsetParent&&t!==De[yw.fullscreenElement];)n+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:n,top:r,width:e,height:i}}function bx(t,e){var i={x:0,y:0};if(Tr)for(var n=t;n&&n.nodeName.toLowerCase()!=="html";){var r=Ag(n,"transform");if(/^matrix/.test(r)){var o=r.slice(7,-1).split(/,\s/).map(Number);i.x+=o[4],i.y+=o[5]}else if(/^matrix3d/.test(r)){var a=r.slice(9,-1).split(/,\s/).map(Number);i.x+=a[12],i.y+=a[13]}n=n.parentNode}var s={},l=xg(e.target),c=xg(t),u=c.width,f=c.height,h=e.offsetY-(c.top-l.top),m=e.offsetX-(c.left-l.left);return e.changedTouches&&(m=e.changedTouches[0].pageX-c.left,h=e.changedTouches[0].pageY+c.top,Tr&&(m-=i.x,h-=i.y)),s.y=1-Math.max(0,Math.min(1,h/f)),s.x=Math.max(0,Math.min(1,m/u)),s}function nU(t){return Os(t)&&t.nodeType===3}function xz(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function rU(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(function(e){if(typeof e=="function"&&(e=e()),vp(e)||nU(e))return e;if(typeof e=="string"&&/\S/.test(e))return De.createTextNode(e)}).filter(function(e){return e})}function kz(t,e){return rU(e).forEach(function(i){return t.appendChild(i)}),t}function oU(t,e){return kz(xz(t),e)}function kg(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}var Hl=Xj("querySelector"),aU=Xj("querySelectorAll"),sU=Object.freeze({__proto__:null,isReal:bp,isEl:vp,isInFrame:Kj,createEl:Bt,textContent:zu,prependTo:_2,hasClass:Kc,addClass:Ts,removeClass:yb,toggleClass:Jj,setAttributes:Zj,getAttributes:ls,getAttribute:eU,setAttribute:Gf,removeAttribute:gx,blockTextSelection:tU,unblockTextSelection:iU,getBoundingClientRect:Hf,findPosition:xg,getPointerPosition:bx,isTextNode:nU,emptyEl:xz,normalizeContent:rU,appendContent:kz,insertContent:oU,isSingleLeftClick:kg,$:Hl,$$:aU}),lU=!1,T2,Q0e=function(){if(T2.options.autoSetup!==!1){var e=Array.prototype.slice.call(De.getElementsByTagName("video")),i=Array.prototype.slice.call(De.getElementsByTagName("audio")),n=Array.prototype.slice.call(De.getElementsByTagName("video-js")),r=e.concat(i,n);if(r&&r.length>0)for(var o=0,a=r.length;o<a;o++){var s=r[o];if(s&&s.getAttribute){if(s.player===void 0){var l=s.getAttribute("data-setup");l!==null&&T2(s)}}else{S2(1);break}}else lU||S2(1)}};function S2(t,e){!bp()||(e&&(T2=e),Q.setTimeout(Q0e,t))}function C2(){lU=!0,Q.removeEventListener("load",C2)}bp()&&(De.readyState==="complete"?C2():Q.addEventListener("load",C2));var cU=function(e){var i=De.createElement("style");return i.className=e,i},uU=function(e,i){e.styleSheet?e.styleSheet.cssText=i:e.textContent=i},q0e=3,K0e=q0e;function Jl(){return K0e++}var dU;Q.WeakMap||(dU=function(){function t(){this.vdata="vdata"+Math.floor(Q.performance&&Q.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(n,r){var o=n[this.vdata]||Jl();return n[this.vdata]||(n[this.vdata]=o),this.data[o]=r,this},e.get=function(n){var r=n[this.vdata];if(r)return this.data[r];kt("We have no data for this element",n)},e.has=function(n){var r=n[this.vdata];return r in this.data},e.delete=function(n){var r=n[this.vdata];r&&(delete this.data[r],delete n[this.vdata])},t}());var Zn=Q.WeakMap?new WeakMap:new dU;function aO(t,e){if(!!Zn.has(t)){var i=Zn.get(t);i.handlers[e].length===0&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),Object.getOwnPropertyNames(i).length===0&&Zn.delete(t)}}function _z(t,e,i,n){i.forEach(function(r){t(e,r,n)})}function vx(t){if(t.fixed_)return t;function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var n=t||Q.event;t={};for(var r in n)r!=="layerX"&&r!=="layerY"&&r!=="keyLocation"&&r!=="webkitMovementX"&&r!=="webkitMovementY"&&(r==="returnValue"&&n.preventDefault||(t[r]=n[r]));if(t.target||(t.target=t.srcElement||De),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,t.clientX!==null&&t.clientX!==void 0){var o=De.documentElement,a=De.body;t.pageX=t.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}var gv,X0e=function(){if(typeof gv!="boolean"){gv=!1;try{var e=Object.defineProperty({},"passive",{get:function(){gv=!0}});Q.addEventListener("test",null,e),Q.removeEventListener("test",null,e)}catch{}}return gv},J0e=["touchstart","touchmove"];function to(t,e,i){if(Array.isArray(e))return _z(to,t,e,i);Zn.has(t)||Zn.set(t,{});var n=Zn.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=Jl()),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(o,a){if(!n.disabled){o=vx(o);var s=n.handlers[o.type];if(s)for(var l=s.slice(0),c=0,u=l.length;c<u&&!o.isImmediatePropagationStopped();c++)try{l[c].call(t,o,a)}catch(f){kt.error(f)}}}),n.handlers[e].length===1)if(t.addEventListener){var r=!1;X0e()&&J0e.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,n.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function On(t,e,i){if(!!Zn.has(t)){var n=Zn.get(t);if(!!n.handlers){if(Array.isArray(e))return _z(On,t,e,i);var r=function(c,u){n.handlers[u]=[],aO(c,u)};if(e===void 0){for(var o in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},o)&&r(t,o);return}var a=n.handlers[e];if(!!a){if(!i){r(t,e);return}if(i.guid)for(var s=0;s<a.length;s++)a[s].guid===i.guid&&a.splice(s--,1);aO(t,e)}}}}function yp(t,e,i){var n=Zn.has(t)?Zn.get(t):{},r=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=vx(e),n.dispatcher&&n.dispatcher.call(t,e,i),r&&!e.isPropagationStopped()&&e.bubbles===!0)yp.call(null,r,e,i);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){Zn.has(e.target)||Zn.set(e.target,{});var o=Zn.get(e.target);e.target[e.type]&&(o.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function yx(t,e,i){if(Array.isArray(e))return _z(yx,t,e,i);var n=function r(){On(t,e,r),i.apply(this,arguments)};n.guid=i.guid=i.guid||Jl(),to(t,e,n)}function fU(t,e,i){var n=function r(){On(t,e,r),i.apply(this,arguments)};n.guid=i.guid=i.guid||Jl(),to(t,e,n)}var Z0e=Object.freeze({__proto__:null,fixEvent:vx,on:to,off:On,trigger:yp,one:yx,any:fU}),Qo=30,ii=function(e,i,n){i.guid||(i.guid=Jl());var r=i.bind(e);return r.guid=n?n+"_"+i.guid:i.guid,r},Ds=function(e,i){var n=Q.performance.now(),r=function(){var a=Q.performance.now();a-n>=i&&(e.apply(void 0,arguments),n=a)};return r},eve=function(e,i,n,r){r===void 0&&(r=Q);var o,a=function(){r.clearTimeout(o),o=null},s=function(){var c=this,u=arguments,f=function(){o=null,f=null,n||e.apply(c,u)};!o&&n&&e.apply(c,u),r.clearTimeout(o),o=r.setTimeout(f,i)};return s.cancel=a,s},an=function(){};an.prototype.allowedEvents_={};an.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},to(this,t,e),this.addEventListener=i};an.prototype.addEventListener=an.prototype.on;an.prototype.off=function(t,e){On(this,t,e)};an.prototype.removeEventListener=an.prototype.off;an.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},yx(this,t,e),this.addEventListener=i};an.prototype.any=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},fU(this,t,e),this.addEventListener=i};an.prototype.trigger=function(t){var e=t.type||t;typeof t=="string"&&(t={type:e}),t=vx(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),yp(this,t)};an.prototype.dispatchEvent=an.prototype.trigger;var Lh;an.prototype.queueTrigger=function(t){var e=this;Lh||(Lh=new Map);var i=t.type||t,n=Lh.get(this);n||(n=new Map,Lh.set(this,n));var r=n.get(i);n.delete(i),Q.clearTimeout(r);var o=Q.setTimeout(function(){n.size===0&&(n=null,Lh.delete(e)),e.trigger(t)},0);n.set(i,o)};var wx=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},Ss=function(e){return e instanceof an||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(i){return typeof e[i]=="function"})},tve=function(e,i){Ss(e)?i():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(i))},E2=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},ww=function(e,i,n){if(!e||!e.nodeName&&!Ss(e))throw new Error("Invalid target for "+wx(i)+"#"+n+"; must be a DOM node or evented object.")},pU=function(e,i,n){if(!E2(e))throw new Error("Invalid event type for "+wx(i)+"#"+n+"; must be a non-empty string or array.")},hU=function(e,i,n){if(typeof e!="function")throw new Error("Invalid listener for "+wx(i)+"#"+n+"; must be a function.")},n_=function(e,i,n){var r=i.length<3||i[0]===e||i[0]===e.eventBusEl_,o,a,s;return r?(o=e.eventBusEl_,i.length>=3&&i.shift(),a=i[0],s=i[1]):(o=i[0],a=i[1],s=i[2]),ww(o,e,n),pU(a,e,n),hU(s,e,n),s=ii(e,s),{isTargetingSelf:r,target:o,type:a,listener:s}},bc=function(e,i,n,r){ww(e,e,i),e.nodeName?Z0e[i](e,n,r):e[i](n,r)},ive={on:function(){for(var e=this,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var o=n_(this,n,"on"),a=o.isTargetingSelf,s=o.target,l=o.type,c=o.listener;if(bc(s,"on",l,c),!a){var u=function(){return e.off(s,l,c)};u.guid=c.guid;var f=function(){return e.off("dispose",u)};f.guid=c.guid,bc(this,"on","dispose",u),bc(s,"on","dispose",f)}},one:function(){for(var e=this,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var o=n_(this,n,"one"),a=o.isTargetingSelf,s=o.target,l=o.type,c=o.listener;if(a)bc(s,"one",l,c);else{var u=function f(){e.off(s,l,f);for(var h=arguments.length,m=new Array(h),b=0;b<h;b++)m[b]=arguments[b];c.apply(null,m)};u.guid=c.guid,bc(s,"one",l,u)}},any:function(){for(var e=this,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var o=n_(this,n,"any"),a=o.isTargetingSelf,s=o.target,l=o.type,c=o.listener;if(a)bc(s,"any",l,c);else{var u=function f(){e.off(s,l,f);for(var h=arguments.length,m=new Array(h),b=0;b<h;b++)m[b]=arguments[b];c.apply(null,m)};u.guid=c.guid,bc(s,"any",l,u)}},off:function(e,i,n){if(!e||E2(e))On(this.eventBusEl_,e,i);else{var r=e,o=i;ww(r,this,"off"),pU(o,this,"off"),hU(n,this,"off"),n=ii(this,n),this.off("dispose",n),r.nodeName?(On(r,o,n),On(r,"dispose",n)):Ss(r)&&(r.off(o,n),r.off("dispose",n))}},trigger:function(e,i){ww(this.eventBusEl_,this,"trigger");var n=e&&typeof e!="string"?e.type:e;if(!E2(n)){var r="Invalid event type for "+wx(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||kt).error(r);else throw new Error(r)}return yp(this.eventBusEl_,e,i)}};function Tz(t,e){e===void 0&&(e={});var i=e,n=i.eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=Bt("span",{className:"vjs-event-bus"});return Ai(t,ive),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(r){r()}),t.on("dispose",function(){t.off(),[t,t.el_,t.eventBusEl_].forEach(function(r){r&&Zn.has(r)&&Zn.delete(r)}),Q.setTimeout(function(){t.eventBusEl_=null},0)}),t}var nve={state:{},setState:function(e){var i=this;typeof e=="function"&&(e=e());var n;return Yd(e,function(r,o){i.state[o]!==r&&(n=n||{},n[o]={from:i.state[o],to:r}),i.state[o]=r}),n&&Ss(this)&&this.trigger({changes:n,type:"statechanged"}),n}};function mU(t,e){return Ai(t,nve),t.state=Ai({},t.state,e),typeof t.handleStateChanged=="function"&&Ss(t)&&t.on("statechanged",t.handleStateChanged),t}var Xv=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toLowerCase()})},zi=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toUpperCase()})},rve=function(e,i){return zi(e)===zi(i)};function si(){for(var t={},e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach(function(r){!r||Yd(r,function(o,a){if(!wg(o)){t[a]=o;return}wg(t[a])||(t[a]={}),t[a]=si(t[a],o)})}),t}var ove=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(n){return n in this.map_},e.delete=function(n){var r=this.has(n);return delete this.map_[n],r},e.set=function(n,r){return this.map_[n]=r,this},e.forEach=function(n,r){for(var o in this.map_)n.call(r,this.map_[o],o,this)},t}(),ave=Q.Map?Q.Map:ove,sve=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(n){return n in this.set_},e.delete=function(n){var r=this.has(n);return delete this.set_[n],r},e.add=function(n){return this.set_[n]=1,this},e.forEach=function(n,r){for(var o in this.set_)n.call(r,o,o,this)},t}(),r_=Q.Set?Q.Set:sve,_e=function(){function t(i,n,r){if(!i&&this.play?this.player_=i=this:this.player_=i,this.isDisposed_=!1,this.parentComponent_=null,this.options_=si({},this.options_),n=this.options_=si(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var o=i&&i.id&&i.id()||"no_player";this.id_=o+"_component_"+Jl()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.evented!==!1&&(Tz(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),mU(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new r_,this.setIntervalIds_=new r_,this.rafIds_=new r_,this.namedRafs_=new ave,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(n){return n?(this.options_=si(this.options_,n),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(n,r,o){return Bt(n,r,o)},e.localize=function(n,r,o){o===void 0&&(o=n);var a=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),l=s&&s[a],c=a&&a.split("-")[0],u=s&&s[c],f=o;return l&&l[n]?f=l[n]:u&&u[n]&&(f=u[n]),r&&(f=f.replace(/\{(\d+)\}/g,function(h,m){var b=r[m-1],w=b;return typeof b=="undefined"&&(w=h),w})),f},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(n){return this.childIndex_[n]},e.getChild=function(n){if(!!n)return this.childNameIndex_[n]},e.getDescendant=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];r=r.reduce(function(l,c){return l.concat(c)},[]);for(var a=this,s=0;s<r.length;s++)if(a=a.getChild(r[s]),!a||!a.getChild)return;return a},e.addChild=function(n,r,o){r===void 0&&(r={}),o===void 0&&(o=this.children_.length);var a,s;if(typeof n=="string"){s=zi(n);var l=r.componentClass||s;r.name=s;var c=t.getComponent(l);if(!c)throw new Error("Component "+l+" does not exist");if(typeof c!="function")return null;a=new c(this.player_||this,r)}else a=n;if(a.parentComponent_&&a.parentComponent_.removeChild(a),this.children_.splice(o,0,a),a.parentComponent_=this,typeof a.id=="function"&&(this.childIndex_[a.id()]=a),s=s||a.name&&zi(a.name()),s&&(this.childNameIndex_[s]=a,this.childNameIndex_[Xv(s)]=a),typeof a.el=="function"&&a.el()){var u=null;this.children_[o+1]&&(this.children_[o+1].el_?u=this.children_[o+1].el_:vp(this.children_[o+1])&&(u=this.children_[o+1])),this.contentEl().insertBefore(a.el(),u)}return a},e.removeChild=function(n){if(typeof n=="string"&&(n=this.getChild(n)),!(!n||!this.children_)){for(var r=!1,o=this.children_.length-1;o>=0;o--)if(this.children_[o]===n){r=!0,this.children_.splice(o,1);break}if(!!r){n.parentComponent_=null,this.childIndex_[n.id()]=null,this.childNameIndex_[zi(n.name())]=null,this.childNameIndex_[Xv(n.name())]=null;var a=n.el();a&&a.parentNode===this.contentEl()&&this.contentEl().removeChild(n.el())}}},e.initChildren=function(){var n=this,r=this.options_.children;if(r){var o=this.options_,a=function(u){var f=u.name,h=u.opts;if(o[f]!==void 0&&(h=o[f]),h!==!1){h===!0&&(h={}),h.playerOptions=n.options_.playerOptions;var m=n.addChild(f,h);m&&(n[f]=m)}},s,l=t.getComponent("Tech");Array.isArray(r)?s=r:s=Object.keys(r),s.concat(Object.keys(this.options_).filter(function(c){return!s.some(function(u){return typeof u=="string"?c===u:c===u.name})})).map(function(c){var u,f;return typeof c=="string"?(u=c,f=r[u]||n.options_[u]||{}):(u=c.name,f=c),{name:u,opts:f}}).filter(function(c){var u=t.getComponent(c.opts.componentClass||zi(c.name));return u&&!l.isTech(u)}).forEach(a)}},e.buildCSSClass=function(){return""},e.ready=function(n,r){if(r===void 0&&(r=!1),!!n){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(n);return}r?n.call(this):this.setTimeout(n,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var n=this.readyQueue_;this.readyQueue_=[],n&&n.length>0&&n.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)},e.$=function(n,r){return Hl(n,r||this.contentEl())},e.$$=function(n,r){return aU(n,r||this.contentEl())},e.hasClass=function(n){return Kc(this.el_,n)},e.addClass=function(n){Ts(this.el_,n)},e.removeClass=function(n){yb(this.el_,n)},e.toggleClass=function(n,r){Jj(this.el_,n,r)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(n){return eU(this.el_,n)},e.setAttribute=function(n,r){Gf(this.el_,n,r)},e.removeAttribute=function(n){gx(this.el_,n)},e.width=function(n,r){return this.dimension("width",n,r)},e.height=function(n,r){return this.dimension("height",n,r)},e.dimensions=function(n,r){this.width(n,!0),this.height(r)},e.dimension=function(n,r,o){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[n]=r:r==="auto"?this.el_.style[n]="":this.el_.style[n]=r+"px",o||this.trigger("componentresize");return}if(!this.el_)return 0;var a=this.el_.style[n],s=a.indexOf("px");return parseInt(s!==-1?a.slice(0,s):this.el_["offset"+zi(n)],10)},e.currentDimension=function(n){var r=0;if(n!=="width"&&n!=="height")throw new Error("currentDimension only accepts width or height value");if(r=Ag(this.el_,n),r=parseFloat(r),r===0||isNaN(r)){var o="offset"+zi(n);r=this.el_[o]}return r},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(n){this.player_&&(n.stopPropagation(),this.player_.handleKeyDown(n))},e.handleKeyPress=function(n){this.handleKeyDown(n)},e.emitTapEvents=function(){var n=0,r=null,o=10,a=200,s;this.on("touchstart",function(c){c.touches.length===1&&(r={pageX:c.touches[0].pageX,pageY:c.touches[0].pageY},n=Q.performance.now(),s=!0)}),this.on("touchmove",function(c){if(c.touches.length>1)s=!1;else if(r){var u=c.touches[0].pageX-r.pageX,f=c.touches[0].pageY-r.pageY,h=Math.sqrt(u*u+f*f);h>o&&(s=!1)}});var l=function(){s=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(c){if(r=null,s===!0){var u=Q.performance.now()-n;u<a&&(c.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var n=ii(this.player(),this.player().reportUserActivity),r;this.on("touchstart",function(){n(),this.clearInterval(r),r=this.setInterval(n,250)});var o=function(s){n(),this.clearInterval(r)};this.on("touchmove",n),this.on("touchend",o),this.on("touchcancel",o)}},e.setTimeout=function(n,r){var o=this,a;return n=ii(this,n),this.clearTimersOnDispose_(),a=Q.setTimeout(function(){o.setTimeoutIds_.has(a)&&o.setTimeoutIds_.delete(a),n()},r),this.setTimeoutIds_.add(a),a},e.clearTimeout=function(n){return this.setTimeoutIds_.has(n)&&(this.setTimeoutIds_.delete(n),Q.clearTimeout(n)),n},e.setInterval=function(n,r){n=ii(this,n),this.clearTimersOnDispose_();var o=Q.setInterval(n,r);return this.setIntervalIds_.add(o),o},e.clearInterval=function(n){return this.setIntervalIds_.has(n)&&(this.setIntervalIds_.delete(n),Q.clearInterval(n)),n},e.requestAnimationFrame=function(n){var r=this;if(!this.supportsRaf_)return this.setTimeout(n,1e3/60);this.clearTimersOnDispose_();var o;return n=ii(this,n),o=Q.requestAnimationFrame(function(){r.rafIds_.has(o)&&r.rafIds_.delete(o),n()}),this.rafIds_.add(o),o},e.requestNamedAnimationFrame=function(n,r){var o=this;if(!this.namedRafs_.has(n)){this.clearTimersOnDispose_(),r=ii(this,r);var a=this.requestAnimationFrame(function(){r(),o.namedRafs_.has(n)&&o.namedRafs_.delete(n)});return this.namedRafs_.set(n,a),n}},e.cancelNamedAnimationFrame=function(n){!this.namedRafs_.has(n)||(this.cancelAnimationFrame(this.namedRafs_.get(n)),this.namedRafs_.delete(n))},e.cancelAnimationFrame=function(n){return this.supportsRaf_?(this.rafIds_.has(n)&&(this.rafIds_.delete(n),Q.cancelAnimationFrame(n)),n):this.clearTimeout(n)},e.clearTimersOnDispose_=function(){var n=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(r){var o=r[0],a=r[1];n[o].forEach(function(s,l){return n[a](l)})}),n.clearingTimersOnDispose_=!1}))},t.registerComponent=function(n,r){if(typeof n!="string"||!n)throw new Error('Illegal component name, "'+n+'"; must be a non-empty string.');var o=t.getComponent("Tech"),a=o&&o.isTech(r),s=t===r||t.prototype.isPrototypeOf(r.prototype);if(a||!s){var l;throw a?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error('Illegal component, "'+n+'"; '+l+".")}n=zi(n),t.components_||(t.components_={});var c=t.getComponent("Player");if(n==="Player"&&c&&c.players){var u=c.players,f=Object.keys(u);if(u&&f.length>0&&f.map(function(h){return u[h]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[n]=r,t.components_[Xv(n)]=r,r},t.getComponent=function(n){if(!(!n||!t.components_))return t.components_[n]},t}();_e.prototype.supportsRaf_=typeof Q.requestAnimationFrame=="function"&&typeof Q.cancelAnimationFrame=="function";_e.registerComponent("Component",_e);function lve(t,e,i){if(typeof e!="number"||e<0||e>i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+i+").")}function sO(t,e,i,n){return lve(t,n,i.length-1),i[n][e]}function o_(t){var e;return t===void 0||t.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:sO.bind(null,"start",0,t),end:sO.bind(null,"end",1,t)},Q.Symbol&&Q.Symbol.iterator&&(e[Q.Symbol.iterator]=function(){return(t||[]).values()}),e}function Xc(t,e){return Array.isArray(t)?o_(t):t===void 0||e===void 0?o_():o_([[t,e]])}function gU(t,e){var i=0,n,r;if(!e)return 0;(!t||!t.length)&&(t=Xc(0,0));for(var o=0;o<t.length;o++)n=t.start(o),r=t.end(o),r>e&&(r=e),i+=r-n;return i/e}function er(t){if(t instanceof er)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:Os(t)&&(typeof t.code=="number"&&(this.code=t.code),Ai(this,t)),this.message||(this.message=er.defaultMessages[this.code]||"")}er.prototype.code=0;er.prototype.message="";er.prototype.status=null;er.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];er.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var pd=0;pd<er.errorTypes.length;pd++)er[er.errorTypes[pd]]=pd,er.prototype[er.errorTypes[pd]]=pd;function vm(t){return t!=null&&typeof t.then=="function"}function ha(t){vm(t)&&t.then(null,function(e){})}var z2=function(e){var i=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(n,r,o){return e[r]&&(n[r]=e[r]),n},{cues:e.cues&&Array.prototype.map.call(e.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})});return i},cve=function(e){var i=e.$$("track"),n=Array.prototype.map.call(i,function(o){return o.track}),r=Array.prototype.map.call(i,function(o){var a=z2(o.track);return o.src&&(a.src=o.src),a});return r.concat(Array.prototype.filter.call(e.textTracks(),function(o){return n.indexOf(o)===-1}).map(z2))},uve=function(e,i){return e.forEach(function(n){var r=i.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(function(o){return r.addCue(o)})}),i.textTracks()},lO={textTracksToJson:cve,jsonToTextTracks:uve,trackToJson_:z2},a_="vjs-modal-dialog",wp=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.handleKeyDown_=function(a){return o.handleKeyDown(a)},o.close_=function(a){return o.close(a)},o.opened_=o.hasBeenOpened_=o.hasBeenFilled_=!1,o.closeable(!o.options_.uncloseable),o.content(o.options_.content),o.contentEl_=Bt("div",{className:a_+"-content"},{role:"document"}),o.descEl_=Bt("p",{className:a_+"-description vjs-control-text",id:o.el().getAttribute("aria-describedby")}),zu(o.descEl_,o.description()),o.el_.appendChild(o.descEl_),o.el_.appendChild(o.contentEl_),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return a_+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},i.label=function(){return this.localize(this.options_.label||"Modal Window")},i.description=function(){var r=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(r+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),r},i.open=function(){if(!this.opened_){var r=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!r.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&r.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=r.controls(),r.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},i.opened=function(r){return typeof r=="boolean"&&this[r?"open":"close"](),this.opened_},i.close=function(){if(!!this.opened_){var r=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&r.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&r.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},i.closeable=function(r){if(typeof r=="boolean"){var o=this.closeable_=!!r,a=this.getChild("closeButton");if(o&&!a){var s=this.contentEl_;this.contentEl_=this.el_,a=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=s,this.on(a,"close",this.close_)}!o&&a&&(this.off(a,"close",this.close_),this.removeChild(a),a.dispose())}return this.closeable_},i.fill=function(){this.fillWith(this.content())},i.fillWith=function(r){var o=this.contentEl(),a=o.parentNode,s=o.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,a.removeChild(o),this.empty(),oU(o,r),this.trigger("modalfill"),s?a.insertBefore(o,s):a.appendChild(o);var l=this.getChild("closeButton");l&&a.appendChild(l.el_)},i.empty=function(){this.trigger("beforemodalempty"),xz(this.contentEl()),this.trigger("modalempty")},i.content=function(r){return typeof r!="undefined"&&(this.content_=r),this.content_},i.conditionalFocus_=function(){var r=De.activeElement,o=this.player_.el_;this.previouslyActiveEl_=null,(o.contains(r)||o===r)&&(this.previouslyActiveEl_=r,this.focus())},i.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},i.handleKeyDown=function(r){if(r.stopPropagation(),mt.isEventKey(r,"Escape")&&this.closeable()){r.preventDefault(),this.close();return}if(!!mt.isEventKey(r,"Tab")){for(var o=this.focusableEls_(),a=this.el_.querySelector(":focus"),s,l=0;l<o.length;l++)if(a===o[l]){s=l;break}De.activeElement===this.el_&&(s=0),r.shiftKey&&s===0?(o[o.length-1].focus(),r.preventDefault()):!r.shiftKey&&s===o.length-1&&(o[0].focus(),r.preventDefault())}},i.focusableEls_=function(){var r=this.el_.querySelectorAll("*");return Array.prototype.filter.call(r,function(o){return(o instanceof Q.HTMLAnchorElement||o instanceof Q.HTMLAreaElement)&&o.hasAttribute("href")||(o instanceof Q.HTMLInputElement||o instanceof Q.HTMLSelectElement||o instanceof Q.HTMLTextAreaElement||o instanceof Q.HTMLButtonElement)&&!o.hasAttribute("disabled")||o instanceof Q.HTMLIFrameElement||o instanceof Q.HTMLObjectElement||o instanceof Q.HTMLEmbedElement||o.hasAttribute("tabindex")&&o.getAttribute("tabindex")!==-1||o.hasAttribute("contenteditable")})},e}(_e);wp.prototype.options_={pauseOnOpen:!0,temporary:!0};_e.registerComponent("ModalDialog",wp);var Yf=function(t){ge(e,t);function e(n){var r;n===void 0&&(n=[]),r=t.call(this)||this,r.tracks_=[],Object.defineProperty(oe(r),"length",{get:function(){return this.tracks_.length}});for(var o=0;o<n.length;o++)r.addTrack(n[o]);return r}var i=e.prototype;return i.addTrack=function(r){var o=this,a=this.tracks_.length;""+a in this||Object.defineProperty(this,a,{get:function(){return this.tracks_[a]}}),this.tracks_.indexOf(r)===-1&&(this.tracks_.push(r),this.trigger({track:r,type:"addtrack",target:this})),r.labelchange_=function(){o.trigger({track:r,type:"labelchange",target:o})},Ss(r)&&r.addEventListener("labelchange",r.labelchange_)},i.removeTrack=function(r){for(var o,a=0,s=this.length;a<s;a++)if(this[a]===r){o=this[a],o.off&&o.off(),this.tracks_.splice(a,1);break}!o||this.trigger({track:o,type:"removetrack",target:this})},i.getTrackById=function(r){for(var o=null,a=0,s=this.length;a<s;a++){var l=this[a];if(l.id===r){o=l;break}}return o},e}(an);Yf.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var dve in Yf.prototype.allowedEvents_)Yf.prototype["on"+dve]=null;var s_=function(e,i){for(var n=0;n<e.length;n++)!Object.keys(e[n]).length||i.id===e[n].id||(e[n].enabled=!1)},fve=function(t){ge(e,t);function e(n){var r;n===void 0&&(n=[]);for(var o=n.length-1;o>=0;o--)if(n[o].enabled){s_(n,n[o]);break}return r=t.call(this,n)||this,r.changing_=!1,r}var i=e.prototype;return i.addTrack=function(r){var o=this;r.enabled&&s_(this,r),t.prototype.addTrack.call(this,r),r.addEventListener&&(r.enabledChange_=function(){o.changing_||(o.changing_=!0,s_(o,r),o.changing_=!1,o.trigger("change"))},r.addEventListener("enabledchange",r.enabledChange_))},i.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&r.enabledChange_&&(r.removeEventListener("enabledchange",r.enabledChange_),r.enabledChange_=null)},e}(Yf),l_=function(e,i){for(var n=0;n<e.length;n++)!Object.keys(e[n]).length||i.id===e[n].id||(e[n].selected=!1)},pve=function(t){ge(e,t);function e(n){var r;n===void 0&&(n=[]);for(var o=n.length-1;o>=0;o--)if(n[o].selected){l_(n,n[o]);break}return r=t.call(this,n)||this,r.changing_=!1,Object.defineProperty(oe(r),"selectedIndex",{get:function(){for(var s=0;s<this.length;s++)if(this[s].selected)return s;return-1},set:function(){}}),r}var i=e.prototype;return i.addTrack=function(r){var o=this;r.selected&&l_(this,r),t.prototype.addTrack.call(this,r),r.addEventListener&&(r.selectedChange_=function(){o.changing_||(o.changing_=!0,l_(o,r),o.changing_=!1,o.trigger("change"))},r.addEventListener("selectedchange",r.selectedChange_))},i.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&r.selectedChange_&&(r.removeEventListener("selectedchange",r.selectedChange_),r.selectedChange_=null)},e}(Yf),bU=function(t){ge(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.addTrack=function(r){var o=this;t.prototype.addTrack.call(this,r),this.queueChange_||(this.queueChange_=function(){return o.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return o.trigger("selectedlanguagechange")}),r.addEventListener("modechange",this.queueChange_);var a=["metadata","chapters"];a.indexOf(r.kind)===-1&&r.addEventListener("modechange",this.triggerSelectedlanguagechange_)},i.removeTrack=function(r){t.prototype.removeTrack.call(this,r),r.removeEventListener&&(this.queueChange_&&r.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&r.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(Yf),hve=function(){function t(i){i===void 0&&(i=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var n=0,r=i.length;n<r;n++)this.addTrackElement_(i[n])}var e=t.prototype;return e.addTrackElement_=function(n){var r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get:function(){return this.trackElements_[r]}}),this.trackElements_.indexOf(n)===-1&&this.trackElements_.push(n)},e.getTrackElementByTrack_=function(n){for(var r,o=0,a=this.trackElements_.length;o<a;o++)if(n===this.trackElements_[o].track){r=this.trackElements_[o];break}return r},e.removeTrackElement_=function(n){for(var r=0,o=this.trackElements_.length;r<o;r++)if(n===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}},t}(),cO=function(){function t(i){t.prototype.setCues_.call(this,i),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(n){var r=this.length||0,o=0,a=n.length;this.cues_=n,this.length_=n.length;var s=function(c){""+c in this||Object.defineProperty(this,""+c,{get:function(){return this.cues_[c]}})};if(r<a)for(o=r;o<a;o++)s.call(this,o)},e.getCueById=function(n){for(var r=null,o=0,a=this.length;o<a;o++){var s=this[o];if(s.id===n){r=s;break}}return r},t}(),mve={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},gve={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},bve={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},uO={disabled:"disabled",hidden:"hidden",showing:"showing"},Sz=function(t){ge(e,t);function e(i){var n;i===void 0&&(i={}),n=t.call(this)||this;var r={id:i.id||"vjs_track_"+Jl(),kind:i.kind||"",language:i.language||""},o=i.label||"",a=function(c){Object.defineProperty(oe(n),c,{get:function(){return r[c]},set:function(){}})};for(var s in r)a(s);return Object.defineProperty(oe(n),"label",{get:function(){return o},set:function(c){c!==o&&(o=c,this.trigger("labelchange"))}}),n}return e}(an),Cz=function(e){var i=["protocol","hostname","port","pathname","search","hash","host"],n=De.createElement("a");n.href=e;for(var r={},o=0;o<i.length;o++)r[i[o]]=n[i[o]];return r.protocol==="http:"&&(r.host=r.host.replace(/:80$/,"")),r.protocol==="https:"&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=Q.location.protocol),r.host||(r.host=Q.location.host),r},vU=function(e){if(!e.match(/^https?:\/\//)){var i=De.createElement("a");i.href=e,e=i.href}return e},Ez=function(e){if(typeof e=="string"){var i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,n=i.exec(e);if(n)return n.pop().toLowerCase()}return""},Ax=function(e,i){i===void 0&&(i=Q.location);var n=Cz(e),r=n.protocol===":"?i.protocol:n.protocol,o=r+n.host!==i.protocol+i.host;return o},vve=Object.freeze({__proto__:null,parseUrl:Cz,getAbsoluteURL:vU,getFileExtension:Ez,isCrossOrigin:Ax}),dO=function(e,i){var n=new Q.WebVTT.Parser(Q,Q.vttjs,Q.WebVTT.StringDecoder()),r=[];n.oncue=function(o){i.addCue(o)},n.onparsingerror=function(o){r.push(o)},n.onflush=function(){i.trigger({type:"loadeddata",target:i})},n.parse(e),r.length>0&&(Q.console&&Q.console.groupCollapsed&&Q.console.groupCollapsed("Text Track parsing errors for "+i.src),r.forEach(function(o){return kt.error(o)}),Q.console&&Q.console.groupEnd&&Q.console.groupEnd()),n.flush()},fO=function(e,i){var n={uri:e},r=Ax(e);r&&(n.cors=r);var o=i.tech_.crossOrigin()==="use-credentials";o&&(n.withCredentials=o),q7(n,ii(this,function(a,s,l){if(a)return kt.error(a,s);i.loaded_=!0,typeof Q.WebVTT!="function"?i.tech_&&i.tech_.any(["vttjsloaded","vttjserror"],function(c){if(c.type==="vttjserror"){kt.error("vttjs failed to load, stopping trying to process "+i.src);return}return dO(l,i)}):dO(l,i)}))},wb=function(t){ge(e,t);function e(n){var r;if(n===void 0&&(n={}),!n.tech)throw new Error("A tech was not provided.");var o=si(n,{kind:bve[n.kind]||"subtitles",language:n.language||n.srclang||""}),a=uO[o.mode]||"disabled",s=o.default;(o.kind==="metadata"||o.kind==="chapters")&&(a="hidden"),r=t.call(this,o)||this,r.tech_=o.tech,r.cues_=[],r.activeCues_=[],r.preload_=r.tech_.preloadTextTracks!==!1;var l=new cO(r.cues_),c=new cO(r.activeCues_),u=!1,f=ii(oe(r),function(){!this.tech_.isReady_||this.tech_.isDisposed()||(this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1))}),h=function(){r.tech_.off("timeupdate",f)};return r.tech_.one("dispose",h),a!=="disabled"&&r.tech_.on("timeupdate",f),Object.defineProperties(oe(r),{default:{get:function(){return s},set:function(){}},mode:{get:function(){return a},set:function(b){!uO[b]||a!==b&&(a=b,!this.preload_&&a!=="disabled"&&this.cues.length===0&&fO(this.src,this),this.tech_.off("timeupdate",f),a!=="disabled"&&this.tech_.on("timeupdate",f),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return c;for(var b=this.tech_.currentTime(),w=[],g=0,A=this.cues.length;g<A;g++){var x=this.cues[g];(x.startTime<=b&&x.endTime>=b||x.startTime===x.endTime&&x.startTime<=b&&x.startTime+.5>=b)&&w.push(x)}if(u=!1,w.length!==this.activeCues_.length)u=!0;else for(var T=0;T<w.length;T++)this.activeCues_.indexOf(w[T])===-1&&(u=!0);return this.activeCues_=w,c.setCues_(this.activeCues_),c},set:function(){}}}),o.src?(r.src=o.src,r.preload_||(r.loaded_=!0),(r.preload_||o.kind!=="subtitles"&&o.kind!=="captions")&&fO(r.src,oe(r))):r.loaded_=!0,r}var i=e.prototype;return i.addCue=function(r){var o=r;if(Q.vttjs&&!(r instanceof Q.vttjs.VTTCue)){o=new Q.vttjs.VTTCue(r.startTime,r.endTime,r.text);for(var a in r)a in o||(o[a]=r[a]);o.id=r.id,o.originalCue_=r}for(var s=this.tech_.textTracks(),l=0;l<s.length;l++)s[l]!==this&&s[l].removeCue(o);this.cues_.push(o),this.cues.setCues_(this.cues_)},i.removeCue=function(r){for(var o=this.cues_.length;o--;){var a=this.cues_[o];if(a===r||a.originalCue_&&a.originalCue_===r){this.cues_.splice(o,1),this.cues.setCues_(this.cues_);break}}},e}(Sz);wb.prototype.allowedEvents_={cuechange:"cuechange"};var yU=function(t){ge(e,t);function e(i){var n;i===void 0&&(i={});var r=si(i,{kind:gve[i.kind]||""});n=t.call(this,r)||this;var o=!1;return Object.defineProperty(oe(n),"enabled",{get:function(){return o},set:function(s){typeof s!="boolean"||s===o||(o=s,this.trigger("enabledchange"))}}),r.enabled&&(n.enabled=r.enabled),n.loaded_=!0,n}return e}(Sz),wU=function(t){ge(e,t);function e(i){var n;i===void 0&&(i={});var r=si(i,{kind:mve[i.kind]||""});n=t.call(this,r)||this;var o=!1;return Object.defineProperty(oe(n),"selected",{get:function(){return o},set:function(s){typeof s!="boolean"||s===o||(o=s,this.trigger("selectedchange"))}}),r.selected&&(n.selected=r.selected),n}return e}(Sz),AU=0,yve=1,xU=2,wve=3,Ap=function(t){ge(e,t);function e(i){var n;i===void 0&&(i={}),n=t.call(this)||this;var r,o=new wb(i);return n.kind=o.kind,n.src=o.src,n.srclang=o.language,n.label=o.label,n.default=o.default,Object.defineProperties(oe(n),{readyState:{get:function(){return r}},track:{get:function(){return o}}}),r=AU,o.addEventListener("loadeddata",function(){r=xU,n.trigger({type:"load",target:oe(n)})}),n}return e}(an);Ap.prototype.allowedEvents_={load:"load"};Ap.NONE=AU;Ap.LOADING=yve;Ap.LOADED=xU;Ap.ERROR=wve;var Ao={audio:{ListClass:fve,TrackClass:yU,capitalName:"Audio"},video:{ListClass:pve,TrackClass:wU,capitalName:"Video"},text:{ListClass:bU,TrackClass:wb,capitalName:"Text"}};Object.keys(Ao).forEach(function(t){Ao[t].getterName=t+"Tracks",Ao[t].privateName=t+"Tracks_"});var Wf={remoteText:{ListClass:bU,TrackClass:wb,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:hve,TrackClass:Ap,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Kn=he({},Ao,Wf);Wf.names=Object.keys(Wf);Ao.names=Object.keys(Ao);Kn.names=[].concat(Wf.names).concat(Ao.names);function Ave(t,e,i,n,r){r===void 0&&(r={});var o=t.textTracks();r.kind=e,i&&(r.label=i),n&&(r.language=n),r.tech=t;var a=new Kn.text.TrackClass(r);return o.addTrack(a),a}var ni=function(t){ge(e,t);function e(n,r){var o;return n===void 0&&(n={}),r===void 0&&(r=function(){}),n.reportTouchActivity=!1,o=t.call(this,null,n,r)||this,o.onDurationChange_=function(a){return o.onDurationChange(a)},o.trackProgress_=function(a){return o.trackProgress(a)},o.trackCurrentTime_=function(a){return o.trackCurrentTime(a)},o.stopTrackingCurrentTime_=function(a){return o.stopTrackingCurrentTime(a)},o.disposeSourceHandler_=function(a){return o.disposeSourceHandler(a)},o.hasStarted_=!1,o.on("playing",function(){this.hasStarted_=!0}),o.on("loadstart",function(){this.hasStarted_=!1}),Kn.names.forEach(function(a){var s=Kn[a];n&&n[s.getterName]&&(o[s.privateName]=n[s.getterName])}),o.featuresProgressEvents||o.manualProgressOn(),o.featuresTimeupdateEvents||o.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(a){n["native"+a+"Tracks"]===!1&&(o["featuresNative"+a+"Tracks"]=!1)}),n.nativeCaptions===!1||n.nativeTextTracks===!1?o.featuresNativeTextTracks=!1:(n.nativeCaptions===!0||n.nativeTextTracks===!0)&&(o.featuresNativeTextTracks=!0),o.featuresNativeTextTracks||o.emulateTextTracks(),o.preloadTextTracks=n.preloadTextTracks!==!1,o.autoRemoteTextTracks_=new Kn.text.ListClass,o.initTrackListeners(),n.nativeControlsForTouch||o.emitTapEvents(),o.constructor&&(o.name_=o.constructor.name||"Unknown Tech"),o}var i=e.prototype;return i.triggerSourceset=function(r){var o=this;this.isReady_||this.one("ready",function(){return o.setTimeout(function(){return o.triggerSourceset(r)},1)}),this.trigger({src:r,type:"sourceset"})},i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},i.trackProgress=function(r){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ii(this,function(){var o=this.bufferedPercent();this.bufferedPercent_!==o&&this.trigger("progress"),this.bufferedPercent_=o,o===1&&this.stopTrackingProgress()}),500)},i.onDurationChange=function(r){this.duration_=this.duration()},i.buffered=function(){return Xc(0,0)},i.bufferedPercent=function(){return gU(this.buffered(),this.duration_)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(Ao.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},i.clearTracks=function(r){var o=this;r=[].concat(r),r.forEach(function(a){for(var s=o[a+"Tracks"]()||[],l=s.length;l--;){var c=s[l];a==="text"&&o.removeRemoteTextTrack(c),s.removeTrack(c)}})},i.cleanupAutoTextTracks=function(){for(var r=this.autoRemoteTextTracks_||[],o=r.length;o--;){var a=r[o];this.removeRemoteTextTrack(a)}},i.reset=function(){},i.crossOrigin=function(){},i.setCrossOrigin=function(){},i.error=function(r){return r!==void 0&&(this.error_=new er(r),this.trigger("error")),this.error_},i.played=function(){return this.hasStarted_?Xc(0,0):Xc()},i.play=function(){},i.setScrubbing=function(){},i.scrubbing=function(){},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTrackListeners=function(){var r=this;Ao.names.forEach(function(o){var a=Ao[o],s=function(){r.trigger(o+"trackchange")},l=r[a.getterName]();l.addEventListener("removetrack",s),l.addEventListener("addtrack",s),r.on("dispose",function(){l.removeEventListener("removetrack",s),l.removeEventListener("addtrack",s)})})},i.addWebVttScript_=function(){var r=this;if(!Q.WebVTT)if(De.body.contains(this.el())){if(!this.options_["vtt.js"]&&wg(PL)&&Object.keys(PL).length>0){this.trigger("vttjsloaded");return}var o=De.createElement("script");o.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",o.onload=function(){r.trigger("vttjsloaded")},o.onerror=function(){r.trigger("vttjserror")},this.on("dispose",function(){o.onload=null,o.onerror=null}),Q.WebVTT=!0,this.el().parentNode.appendChild(o)}else this.ready(this.addWebVttScript_)},i.emulateTextTracks=function(){var r=this,o=this.textTracks(),a=this.remoteTextTracks(),s=function(h){return o.addTrack(h.track)},l=function(h){return o.removeTrack(h.track)};a.on("addtrack",s),a.on("removetrack",l),this.addWebVttScript_();var c=function(){return r.trigger("texttrackchange")},u=function(){c();for(var h=0;h<o.length;h++){var m=o[h];m.removeEventListener("cuechange",c),m.mode==="showing"&&m.addEventListener("cuechange",c)}};u(),o.addEventListener("change",u),o.addEventListener("addtrack",u),o.addEventListener("removetrack",u),this.on("dispose",function(){a.off("addtrack",s),a.off("removetrack",l),o.removeEventListener("change",u),o.removeEventListener("addtrack",u),o.removeEventListener("removetrack",u);for(var f=0;f<o.length;f++){var h=o[f];h.removeEventListener("cuechange",c)}})},i.addTextTrack=function(r,o,a){if(!r)throw new Error("TextTrack kind is required but was not provided");return Ave(this,r,o,a)},i.createRemoteTextTrack=function(r){var o=si(r,{tech:this});return new Wf.remoteTextEl.TrackClass(o)},i.addRemoteTextTrack=function(r,o){var a=this;r===void 0&&(r={});var s=this.createRemoteTextTrack(r);return o!==!0&&o!==!1&&(kt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),o=!0),this.remoteTextTrackEls().addTrackElement_(s),this.remoteTextTracks().addTrack(s.track),o!==!0&&this.ready(function(){return a.autoRemoteTextTracks_.addTrack(s.track)}),s},i.removeRemoteTextTrack=function(r){var o=this.remoteTextTrackEls().getTrackElementByTrack_(r);this.remoteTextTrackEls().removeTrackElement_(o),this.remoteTextTracks().removeTrack(r),this.autoRemoteTextTracks_.removeTrack(r)},i.getVideoPlaybackQuality=function(){return{}},i.requestPictureInPicture=function(){var r=this.options_.Promise||Q.Promise;if(r)return r.reject()},i.disablePictureInPicture=function(){return!0},i.setDisablePictureInPicture=function(){},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(r,o){return e.canPlayType(r.type)},e.isTech=function(r){return r.prototype instanceof e||r instanceof e||r===e},e.registerTech=function(r,o){if(e.techs_||(e.techs_={}),!e.isTech(o))throw new Error("Tech "+r+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return r=zi(r),e.techs_[r]=o,e.techs_[Xv(r)]=o,r!=="Tech"&&e.defaultTechOrder_.push(r),o},e.getTech=function(r){if(!!r){if(e.techs_&&e.techs_[r])return e.techs_[r];if(r=zi(r),Q&&Q.videojs&&Q.videojs[r])return kt.warn("The "+r+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),Q.videojs[r]}},e}(_e);Kn.names.forEach(function(t){var e=Kn[t];ni.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});ni.prototype.featuresVolumeControl=!0;ni.prototype.featuresMuteControl=!0;ni.prototype.featuresFullscreenResize=!1;ni.prototype.featuresPlaybackRate=!1;ni.prototype.featuresProgressEvents=!1;ni.prototype.featuresSourceset=!1;ni.prototype.featuresTimeupdateEvents=!1;ni.prototype.featuresNativeTextTracks=!1;ni.withSourceHandlers=function(t){t.registerSourceHandler=function(i,n){var r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),n===void 0&&(n=r.length),r.splice(n,0,i)},t.canPlayType=function(i){for(var n=t.sourceHandlers||[],r,o=0;o<n.length;o++)if(r=n[o].canPlayType(i),r)return r;return""},t.selectSourceHandler=function(i,n){for(var r=t.sourceHandlers||[],o,a=0;a<r.length;a++)if(o=r[a].canHandleSource(i,n),o)return r[a];return null},t.canPlaySource=function(i,n){var r=t.selectSourceHandler(i,n);return r?r.canHandleSource(i,n):""};var e=["seekable","seeking","duration"];e.forEach(function(i){var n=this[i];typeof n=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(i){var n=t.selectSourceHandler(i,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:kt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=n.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};_e.registerComponent("Tech",ni);ni.registerTech("Tech",ni);ni.defaultTechOrder_=[];var Jc={},I2={},Aw={};function xve(t,e){Jc[t]=Jc[t]||[],Jc[t].push(e)}function kve(t,e,i){t.setTimeout(function(){return xc(e,Jc[e.type],i,t)},1)}function _ve(t,e){t.forEach(function(i){return i.setTech&&i.setTech(e)})}function Tve(t,e,i){return t.reduceRight(zz(i),e[i]())}function Sve(t,e,i,n){return e[i](t.reduce(zz(i),n))}function pO(t,e,i,n){n===void 0&&(n=null);var r="call"+zi(i),o=t.reduce(zz(r),n),a=o===Aw,s=a?null:e[i](o);return zve(t,i,s,a),s}var Cve={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Eve={setCurrentTime:1,setMuted:1,setVolume:1},hO={play:1,pause:1};function zz(t){return function(e,i){return e===Aw?Aw:i[t]?i[t](e):e}}function zve(t,e,i,n){for(var r=t.length-1;r>=0;r--){var o=t[r];o[e]&&o[e](n,i)}}function Ive(t){I2[t.id()]=null}function Pve(t,e){var i=I2[t.id()],n=null;if(i==null)return n=e(t),I2[t.id()]=[[e,n]],n;for(var r=0;r<i.length;r++){var o=i[r],a=o[0],s=o[1];a===e&&(n=s)}return n===null&&(n=e(t),i.push([e,n])),n}function xc(t,e,i,n,r,o){t===void 0&&(t={}),e===void 0&&(e=[]),r===void 0&&(r=[]),o===void 0&&(o=!1);var a=e,s=a[0],l=a.slice(1);if(typeof s=="string")xc(t,Jc[s],i,n,r,o);else if(s){var c=Pve(n,s);if(!c.setSource)return r.push(c),xc(t,l,i,n,r,o);c.setSource(Ai({},t),function(u,f){if(u)return xc(t,l,i,n,r,o);r.push(c),xc(f,t.type===f.type?l:Jc[f.type],i,n,r,o)})}else l.length?xc(t,l,i,n,r,o):o?i(t,r):xc(t,Jc["*"],i,n,r,!0)}var Rve={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},xw=function(e){e===void 0&&(e="");var i=Ez(e),n=Rve[i.toLowerCase()];return n||""},Lve=function(e,i){if(!i)return"";if(e.cache_.source.src===i&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter(function(s){return s.src===i});if(n.length)return n[0].type;for(var r=e.$$("source"),o=0;o<r.length;o++){var a=r[o];if(a.type&&a.src&&a.src===i)return a.type}return xw(i)},Ove=function t(e){if(Array.isArray(e)){var i=[];e.forEach(function(n){n=t(n),Array.isArray(n)?i=i.concat(n):Os(n)&&i.push(n)}),e=i}else typeof e=="string"&&e.trim()?e=[mO({src:e})]:Os(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[mO(e)]:e=[];return e};function mO(t){if(!t.type){var e=xw(t.src);e&&(t.type=e)}return t}var Dve=function(t){ge(e,t);function e(i,n,r){var o,a=si({createEl:!1},n);if(o=t.call(this,i,a,r)||this,!n.playerOptions.sources||n.playerOptions.sources.length===0)for(var s=0,l=n.playerOptions.techOrder;s<l.length;s++){var c=zi(l[s]),u=ni.getTech(c);if(c||(u=_e.getComponent(c)),u&&u.isSupported()){i.loadTech_(c);break}}else i.src(n.playerOptions.sources);return o}return e}(_e);_e.registerComponent("MediaLoader",Dve);var xx=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.handleMouseOver_=function(a){return o.handleMouseOver(a)},o.handleMouseOut_=function(a){return o.handleMouseOut(a)},o.handleClick_=function(a){return o.handleClick(a)},o.handleKeyDown_=function(a){return o.handleKeyDown(a)},o.emitTapEvents(),o.enable(),o}var i=e.prototype;return i.createEl=function(r,o,a){r===void 0&&(r="div"),o===void 0&&(o={}),a===void 0&&(a={}),o=Ai({className:this.buildCSSClass(),tabIndex:0},o),r==="button"&&kt.error("Creating a ClickableComponent with an HTML element of "+r+" is not supported; use a Button instead."),a=Ai({role:"button"},a),this.tabIndex_=o.tabIndex;var s=Bt(r,o,a);return s.appendChild(Bt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s},i.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},i.createControlTextEl=function(r){return this.controlTextEl_=Bt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),r&&r.appendChild(this.controlTextEl_),this.controlText(this.controlText_,r),this.controlTextEl_},i.controlText=function(r,o){if(o===void 0&&(o=this.el()),r===void 0)return this.controlText_||"Need Text";var a=this.localize(r);this.controlText_=r,zu(this.controlTextEl_,a),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&o.setAttribute("title",a)},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_!="undefined"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},i.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_!="undefined"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},i.handleLanguagechange=function(){this.controlText(this.controlText_)},i.handleClick=function(r){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},i.handleKeyDown=function(r){mt.isEventKey(r,"Space")||mt.isEventKey(r,"Enter")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,r)},e}(_e);_e.registerComponent("ClickableComponent",xx);var Mve=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update(),o.update_=function(a){return o.update(a)},n.on("posterchange",o.update_),o}var i=e.prototype;return i.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},i.createEl=function(){var r=Bt("div",{className:"vjs-poster",tabIndex:-1});return r},i.update=function(r){var o=this.player().poster();this.setSrc(o),o?this.show():this.hide()},i.setSrc=function(r){var o="";r&&(o='url("'+r+'")'),this.el_.style.backgroundImage=o},i.handleClick=function(r){if(!!this.player_.controls()){var o=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((vb||bb)&&o)&&this.player_.tech(!0).focus(),this.player_.paused()?ha(this.player_.play()):this.player_.pause()}},e}(xx);_e.registerComponent("PosterImage",Mve);var mo="#222",gO="#ccc",Bve={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function c_(t,e){var i;if(t.length===4)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)i=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function u_(t,e,i){try{t.style[e]=i}catch{return}}var Fve=function(t){ge(e,t);function e(n,r,o){var a;a=t.call(this,n,r,o)||this;var s=function(c){return a.updateDisplay(c)};return n.on("loadstart",function(l){return a.toggleDisplay(l)}),n.on("texttrackchange",s),n.on("loadedmetadata",function(l){return a.preselectTrack(l)}),n.ready(ii(oe(a),function(){if(n.tech_&&n.tech_.featuresNativeTextTracks){this.hide();return}n.on("fullscreenchange",s),n.on("playerresize",s),Q.addEventListener("orientationchange",s),n.on("dispose",function(){return Q.removeEventListener("orientationchange",s)});for(var l=this.options_.playerOptions.tracks||[],c=0;c<l.length;c++)this.player_.addRemoteTextTrack(l[c],!0);this.preselectTrack()})),a}var i=e.prototype;return i.preselectTrack=function(){for(var r={captions:1,subtitles:1},o=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,s,l,c,u=0;u<o.length;u++){var f=o[u];a&&a.enabled&&a.language&&a.language===f.language&&f.kind in r?f.kind===a.kind?c=f:c||(c=f):a&&!a.enabled?(c=null,s=null,l=null):f.default&&(f.kind==="descriptions"&&!s?s=f:f.kind in r&&!l&&(l=f))}c?c.mode="showing":l?l.mode="showing":s&&(s.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){typeof Q.WebVTT=="function"&&Q.WebVTT.processCues(Q,[],this.el_)},i.updateDisplay=function(){var r=this.player_.textTracks(),o=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),o){for(var a=[],s=0;s<r.length;++s){var l=r[s];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}for(var c=null,u=null,f=r.length;f--;){var h=r[f];h.mode==="showing"&&(h.kind==="descriptions"?c=h:u=h)}u?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(u)):c&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(c))},i.updateDisplayState=function(r){for(var o=this.player_.textTrackSettings.getValues(),a=r.activeCues,s=a.length;s--;){var l=a[s];if(!!l){var c=l.displayState;if(o.color&&(c.firstChild.style.color=o.color),o.textOpacity&&u_(c.firstChild,"color",c_(o.color||"#fff",o.textOpacity)),o.backgroundColor&&(c.firstChild.style.backgroundColor=o.backgroundColor),o.backgroundOpacity&&u_(c.firstChild,"backgroundColor",c_(o.backgroundColor||"#000",o.backgroundOpacity)),o.windowColor&&(o.windowOpacity?u_(c,"backgroundColor",c_(o.windowColor,o.windowOpacity)):c.style.backgroundColor=o.windowColor),o.edgeStyle&&(o.edgeStyle==="dropshadow"?c.firstChild.style.textShadow="2px 2px 3px "+mo+", 2px 2px 4px "+mo+", 2px 2px 5px "+mo:o.edgeStyle==="raised"?c.firstChild.style.textShadow="1px 1px "+mo+", 2px 2px "+mo+", 3px 3px "+mo:o.edgeStyle==="depressed"?c.firstChild.style.textShadow="1px 1px "+gO+", 0 1px "+gO+", -1px -1px "+mo+", 0 -1px "+mo:o.edgeStyle==="uniform"&&(c.firstChild.style.textShadow="0 0 4px "+mo+", 0 0 4px "+mo+", 0 0 4px "+mo+", 0 0 4px "+mo)),o.fontPercent&&o.fontPercent!==1){var u=Q.parseFloat(c.style.fontSize);c.style.fontSize=u*o.fontPercent+"px",c.style.height="auto",c.style.top="auto"}o.fontFamily&&o.fontFamily!=="default"&&(o.fontFamily==="small-caps"?c.firstChild.style.fontVariant="small-caps":c.firstChild.style.fontFamily=Bve[o.fontFamily])}}},i.updateForTrack=function(r){if(Array.isArray(r)||(r=[r]),!(typeof Q.WebVTT!="function"||r.every(function(m){return!m.activeCues}))){for(var o=[],a=0;a<r.length;++a)for(var s=r[a],l=0;l<s.activeCues.length;++l)o.push(s.activeCues[l]);Q.WebVTT.processCues(Q,o,this.el_);for(var c=0;c<r.length;++c){for(var u=r[c],f=0;f<u.activeCues.length;++f){var h=u.activeCues[f].displayState;Ts(h,"vjs-text-track-cue"),Ts(h,"vjs-text-track-cue-"+(u.language?u.language:c)),u.language&&Gf(h,"lang",u.language)}this.player_.textTrackSettings&&this.updateDisplayState(u)}}},e}(_e);_e.registerComponent("TextTrackDisplay",Fve);var Nve=function(t){ge(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var r=this.player_.isAudio(),o=this.localize(r?"Audio Player":"Video Player"),a=Bt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[o])}),s=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return s.appendChild(a),s},e}(_e);_e.registerComponent("LoadingSpinner",Nve);var Uo=function(t){ge(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(r,o,a){o===void 0&&(o={}),a===void 0&&(a={}),r="button",o=Ai({className:this.buildCSSClass()},o),a=Ai({type:"button"},a);var s=Bt(r,o,a);return s.appendChild(Bt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s},i.addChild=function(r,o){o===void 0&&(o={});var a=this.constructor.name;return kt.warn("Adding an actionable (user controllable) child to a Button ("+a+") is not supported; use a ClickableComponent instead."),_e.prototype.addChild.call(this,r,o)},i.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(r){if(mt.isEventKey(r,"Space")||mt.isEventKey(r,"Enter")){r.stopPropagation();return}t.prototype.handleKeyDown.call(this,r)},e}(xx);_e.registerComponent("Button",Uo);var kU=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.mouseused_=!1,o.on("mousedown",function(a){return o.handleMouseDown(a)}),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(r){var o=this.player_.play();if(this.mouseused_&&r.clientX&&r.clientY){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;ha(o),this.player_.tech(!0)&&!((vb||bb)&&a)&&this.player_.tech(!0).focus();return}var s=this.player_.getChild("controlBar"),l=s&&s.getChild("playToggle");if(!l){this.player_.tech(!0).focus();return}var c=function(){return l.focus()};vm(o)?o.then(c,function(){}):this.setTimeout(c,1)},i.handleKeyDown=function(r){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,r)},i.handleMouseDown=function(r){this.mouseused_=!0},e}(Uo);kU.prototype.controlText_="Play Video";_e.registerComponent("BigPlayButton",kU);var jve=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.controlText(r&&r.controlText||o.localize("Close")),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(r){this.trigger({type:"close",bubbles:!1})},i.handleKeyDown=function(r){mt.isEventKey(r,"Esc")?(r.preventDefault(),r.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,r)},e}(Uo);_e.registerComponent("CloseButton",jve);var _U=function(t){ge(e,t);function e(n,r){var o;return r===void 0&&(r={}),o=t.call(this,n,r)||this,r.replay=r.replay===void 0||r.replay,o.on(n,"play",function(a){return o.handlePlay(a)}),o.on(n,"pause",function(a){return o.handlePause(a)}),r.replay&&o.on(n,"ended",function(a){return o.handleEnded(a)}),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(r){this.player_.paused()?ha(this.player_.play()):this.player_.pause()},i.handleSeeked=function(r){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(r):this.handlePlay(r)},i.handlePlay=function(r){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(r){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(r){var o=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(a){return o.handleSeeked(a)})},e}(Uo);_U.prototype.controlText_="Play";_e.registerComponent("PlayToggle",_U);var TU=function(e,i){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),o=Math.floor(e/3600),a=Math.floor(i/60%60),s=Math.floor(i/3600);return(isNaN(e)||e===1/0)&&(o=r=n="-"),o=o>0||s>0?o+":":"",r=((o||a>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,o+r+n},Iz=TU;function Uve(t){Iz=t}function Gve(){Iz=TU}function Vf(t,e){return e===void 0&&(e=t),Iz(t,e)}var xp=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on(n,["timeupdate","ended"],function(a){return o.updateContent(a)}),o.updateTextNode_(),o}var i=e.prototype;return i.createEl=function(){var r=this.buildCSSClass(),o=t.prototype.createEl.call(this,"div",{className:r+" vjs-time-control vjs-control"}),a=Bt("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return o.appendChild(a),this.contentEl_=Bt("span",{className:r+"-display"},{"aria-live":"off",role:"presentation"}),o.appendChild(this.contentEl_),o},i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=function(r){var o=this;r===void 0&&(r=0),r=Vf(r),this.formattedTime_!==r&&(this.formattedTime_=r,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!o.contentEl_){var a=o.textNode_;a&&o.contentEl_.firstChild!==a&&(a=null,kt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),o.textNode_=De.createTextNode(o.formattedTime_),o.textNode_&&(a?o.contentEl_.replaceChild(o.textNode_,a):o.contentEl_.appendChild(o.textNode_))}}))},i.updateContent=function(r){},e}(_e);xp.prototype.labelText_="Time";xp.prototype.controlText_="Time";_e.registerComponent("TimeDisplay",xp);var Pz=function(t){ge(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(r){var o;this.player_.ended()?o=this.player_.duration():o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(o)},e}(xp);Pz.prototype.labelText_="Current Time";Pz.prototype.controlText_="Current Time";_e.registerComponent("CurrentTimeDisplay",Pz);var Rz=function(t){ge(e,t);function e(n,r){var o;o=t.call(this,n,r)||this;var a=function(l){return o.updateContent(l)};return o.on(n,"durationchange",a),o.on(n,"loadstart",a),o.on(n,"loadedmetadata",a),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(r){var o=this.player_.duration();this.updateTextNode_(o)},e}(xp);Rz.prototype.labelText_="Duration";Rz.prototype.controlText_="Duration";_e.registerComponent("DurationDisplay",Rz);var Hve=function(t){ge(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),o=t.prototype.createEl.call(this,"div"),a=t.prototype.createEl.call(this,"span",{textContent:"/"});return o.appendChild(a),r.appendChild(o),r},e}(_e);_e.registerComponent("TimeDivider",Hve);var Lz=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on(n,"durationchange",function(a){return o.updateContent(a)}),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=function(){var r=t.prototype.createEl.call(this);return r.insertBefore(Bt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),r},i.updateContent=function(r){if(typeof this.player_.duration()=="number"){var o;this.player_.ended()?o=0:this.player_.remainingTimeDisplay?o=this.player_.remainingTimeDisplay():o=this.player_.remainingTime(),this.updateTextNode_(o)}},e}(xp);Lz.prototype.labelText_="Remaining Time";Lz.prototype.controlText_="Remaining Time";_e.registerComponent("RemainingTimeDisplay",Lz);var Yve=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.updateShowing(),o.on(o.player(),"durationchange",function(a){return o.updateShowing(a)}),o}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Bt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Bt("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(De.createTextNode(this.localize("LIVE"))),r.appendChild(this.contentEl_),r},i.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},i.updateShowing=function(r){this.player().duration()===1/0?this.show():this.hide()},e}(_e);_e.registerComponent("LiveDisplay",Yve);var SU=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.updateLiveEdgeStatus(),o.player_.liveTracker&&(o.updateLiveEdgeStatusHandler_=function(a){return o.updateLiveEdgeStatus(a)},o.on(o.player_.liveTracker,"liveedgechange",o.updateLiveEdgeStatusHandler_)),o}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Bt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),r.appendChild(this.textEl_),r},i.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},e}(Uo);SU.prototype.controlText_="Seek to live, currently playing live";_e.registerComponent("SeekToLive",SU);var kx=function(e,i,n){return e=Number(e),Math.min(n,Math.max(i,isNaN(e)?i:e))},Oz=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.handleMouseDown_=function(a){return o.handleMouseDown(a)},o.handleMouseUp_=function(a){return o.handleMouseUp(a)},o.handleKeyDown_=function(a){return o.handleKeyDown(a)},o.handleClick_=function(a){return o.handleClick(a)},o.handleMouseMove_=function(a){return o.handleMouseMove(a)},o.update_=function(a){return o.update(a)},o.bar=o.getChild(o.options_.barName),o.vertical(!!o.options_.vertical),o.enable(),o}var i=e.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},i.disable=function(){if(!!this.enabled()){var r=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},i.createEl=function(r,o,a){return o===void 0&&(o={}),a===void 0&&(a={}),o.className=o.className+" vjs-slider",o=Ai({tabIndex:0},o),a=Ai({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},a),t.prototype.createEl.call(this,r,o,a)},i.handleMouseDown=function(r){var o=this.bar.el_.ownerDocument;r.type==="mousedown"&&r.preventDefault(),r.type==="touchstart"&&!Hs&&r.preventDefault(),tU(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(o,"mousemove",this.handleMouseMove_),this.on(o,"mouseup",this.handleMouseUp_),this.on(o,"touchmove",this.handleMouseMove_),this.on(o,"touchend",this.handleMouseUp_),this.handleMouseMove(r)},i.handleMouseMove=function(r){},i.handleMouseUp=function(){var r=this.bar.el_.ownerDocument;iU(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()},i.update=function(){var r=this;if(!(!this.el_||!this.bar)){var o=this.getProgress();return o===this.progress_||(this.progress_=o,this.requestNamedAnimationFrame("Slider#update",function(){var a=r.vertical()?"height":"width";r.bar.el().style[a]=(o*100).toFixed(2)+"%"})),o}},i.getProgress=function(){return Number(kx(this.getPercent(),0,1).toFixed(4))},i.calculateDistance=function(r){var o=bx(this.el_,r);return this.vertical()?o.y:o.x},i.handleKeyDown=function(r){mt.isEventKey(r,"Left")||mt.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepBack()):mt.isEventKey(r,"Right")||mt.isEventKey(r,"Up")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,r)},i.handleClick=function(r){r.stopPropagation(),r.preventDefault()},i.vertical=function(r){if(r===void 0)return this.vertical_||!1;this.vertical_=!!r,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(_e);_e.registerComponent("Slider",Oz);var d_=function(e,i){return kx(e/i*100,0,100).toFixed(2)+"%"},Wve=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.partEls_=[],o.on(n,"progress",function(a){return o.update(a)}),o}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),o=Bt("span",{className:"vjs-control-text"}),a=Bt("span",{textContent:this.localize("Loaded")}),s=De.createTextNode(": ");return this.percentageEl_=Bt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),r.appendChild(o),o.appendChild(a),o.appendChild(s),o.appendChild(this.percentageEl_),r},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},i.update=function(r){var o=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var a=o.player_.liveTracker,s=o.player_.buffered(),l=a&&a.isLive()?a.seekableEnd():o.player_.duration(),c=o.player_.bufferedEnd(),u=o.partEls_,f=d_(c,l);o.percent_!==f&&(o.el_.style.width=f,zu(o.percentageEl_,f),o.percent_=f);for(var h=0;h<s.length;h++){var m=s.start(h),b=s.end(h),w=u[h];w||(w=o.el_.appendChild(Bt()),u[h]=w),!(w.dataset.start===m&&w.dataset.end===b)&&(w.dataset.start=m,w.dataset.end=b,w.style.left=d_(m,c),w.style.width=d_(b-m,c))}for(var g=u.length;g>s.length;g--)o.el_.removeChild(u[g-1]);u.length=s.length})},e}(_e);_e.registerComponent("LoadProgressBar",Wve);var Vve=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update=Ds(ii(oe(o),o.update),Qo),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(r,o,a){var s=xg(this.el_),l=Hf(this.player_.el()),c=r.width*o;if(!(!l||!s)){var u=r.left-l.left+c,f=r.width-c+(l.right-r.right),h=s.width/2;u<h?h+=h-u:f<h&&(h=f),h<0?h=0:h>s.width&&(h=s.width),h=Math.round(h),this.el_.style.right="-"+h+"px",this.write(a)}},i.write=function(r){zu(this.el_,r)},i.updateTime=function(r,o,a,s){var l=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var c,u=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var f=l.player_.liveTracker.liveWindow(),h=f-o*f;c=(h<1?"":"-")+Vf(h,f)}else c=Vf(a,u);l.update(r,o,c),s&&s()})},e}(_e);_e.registerComponent("TimeTooltip",Vve);var Dz=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update=Ds(ii(oe(o),o.update),Qo),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(r,o){var a=this.getChild("timeTooltip");if(!!a){var s=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();a.updateTime(r,o,s)}},e}(_e);Dz.prototype.options_={children:[]};!Tr&&!Gs&&Dz.prototype.options_.children.push("timeTooltip");_e.registerComponent("PlayProgressBar",Dz);var CU=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update=Ds(ii(oe(o),o.update),Qo),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(r,o){var a=this,s=o*this.player_.duration();this.getChild("timeTooltip").updateTime(r,o,s,function(){a.el_.style.left=r.width*o+"px"})},e}(_e);CU.prototype.options_={children:["timeTooltip"]};_e.registerComponent("MouseTimeDisplay",CU);var bv=5,bO=12,Mz=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.setEventHandlers_(),o}var i=e.prototype;return i.setEventHandlers_=function(){var r=this;this.update_=ii(this,this.update),this.update=Ds(this.update_,Qo),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(o){return r.enableInterval_(o)},this.disableIntervalHandler_=function(o){return r.disableInterval_(o)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in De&&"visibilityState"in De&&this.on(De,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(r){De.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(r)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Qo))},i.disableInterval_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&r&&r.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(r){var o=this;if(De.visibilityState!=="hidden"){var a=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var s=o.player_.ended()?o.player_.duration():o.getCurrentTime_(),l=o.player_.liveTracker,c=o.player_.duration();l&&l.isLive()&&(c=o.player_.liveTracker.liveCurrentTime()),o.percent_!==a&&(o.el_.setAttribute("aria-valuenow",(a*100).toFixed(2)),o.percent_=a),(o.currentTime_!==s||o.duration_!==c)&&(o.el_.setAttribute("aria-valuetext",o.localize("progress bar timing: currentTime={1} duration={2}",[Vf(s,c),Vf(c,c)],"{1} of {2}")),o.currentTime_=s,o.duration_=c),o.bar&&o.bar.update(Hf(o.el()),o.getProgress())}),a}},i.userSeek_=function(r){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(r)},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var r=this.getCurrentTime_(),o,a=this.player_.liveTracker;return a&&a.isLive()?(o=(r-a.seekableStart())/a.liveWindow(),a.atLiveEdge()&&(o=1)):o=r/this.player_.duration(),o},i.handleMouseDown=function(r){!kg(r)||(r.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,r))},i.handleMouseMove=function(r){if(!!kg(r)){var o,a=this.calculateDistance(r),s=this.player_.liveTracker;if(!s||!s.isLive())o=a*this.player_.duration(),o===this.player_.duration()&&(o=o-.1);else{if(a>=.99){s.seekToLiveEdge();return}var l=s.seekableStart(),c=s.liveCurrentTime();if(o=l+a*s.liveWindow(),o>=c&&(o=c),o<=l&&(o=l+.1),o===1/0)return}this.userSeek_(o)}},i.enable=function(){t.prototype.enable.call(this);var r=this.getChild("mouseTimeDisplay");!r||r.show()},i.disable=function(){t.prototype.disable.call(this);var r=this.getChild("mouseTimeDisplay");!r||r.hide()},i.handleMouseUp=function(r){t.prototype.handleMouseUp.call(this,r),r&&r.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?ha(this.player_.play()):this.update_()},i.stepForward=function(){this.userSeek_(this.player_.currentTime()+bv)},i.stepBack=function(){this.userSeek_(this.player_.currentTime()-bv)},i.handleAction=function(r){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(r){var o=this.player_.liveTracker;if(mt.isEventKey(r,"Space")||mt.isEventKey(r,"Enter"))r.preventDefault(),r.stopPropagation(),this.handleAction(r);else if(mt.isEventKey(r,"Home"))r.preventDefault(),r.stopPropagation(),this.userSeek_(0);else if(mt.isEventKey(r,"End"))r.preventDefault(),r.stopPropagation(),o&&o.isLive()?this.userSeek_(o.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(mt(r))){r.preventDefault(),r.stopPropagation();var a=(mt.codes[mt(r)]-mt.codes[0])*10/100;o&&o.isLive()?this.userSeek_(o.seekableStart()+o.liveWindow()*a):this.userSeek_(this.player_.duration()*a)}else mt.isEventKey(r,"PgDn")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()-bv*bO)):mt.isEventKey(r,"PgUp")?(r.preventDefault(),r.stopPropagation(),this.userSeek_(this.player_.currentTime()+bv*bO)):t.prototype.handleKeyDown.call(this,r)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in De&&"visibilityState"in De&&this.off(De,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(Oz);Mz.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Tr&&!Gs&&Mz.prototype.options_.children.splice(1,0,"mouseTimeDisplay");_e.registerComponent("SeekBar",Mz);var EU=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.handleMouseMove=Ds(ii(oe(o),o.handleMouseMove),Qo),o.throttledHandleMouseSeek=Ds(ii(oe(o),o.handleMouseSeek),Qo),o.handleMouseUpHandler_=function(a){return o.handleMouseUp(a)},o.handleMouseDownHandler_=function(a){return o.handleMouseDown(a)},o.enable(),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(r){var o=this.getChild("seekBar");if(!!o){var a=o.getChild("playProgressBar"),s=o.getChild("mouseTimeDisplay");if(!(!a&&!s)){var l=o.el(),c=xg(l),u=bx(l,r).x;u=kx(u,0,1),s&&s.update(c,u),a&&a.update(c,o.getProgress())}}},i.handleMouseSeek=function(r){var o=this.getChild("seekBar");o&&o.handleMouseMove(r)},i.enabled=function(){return this.enabled_},i.disable=function(){if(this.children().forEach(function(o){return o.disable&&o.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var r=this.getChild("seekBar");this.player_.scrubbing(!1),r.videoWasPlaying&&ha(this.player_.play())}},i.enable=function(){this.children().forEach(function(r){return r.enable&&r.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},i.removeListenersAddedOnMousedownAndTouchstart=function(){var r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseSeek),this.off(r,"touchmove",this.throttledHandleMouseSeek),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)},i.handleMouseDown=function(r){var o=this.el_.ownerDocument,a=this.getChild("seekBar");a&&a.handleMouseDown(r),this.on(o,"mousemove",this.throttledHandleMouseSeek),this.on(o,"touchmove",this.throttledHandleMouseSeek),this.on(o,"mouseup",this.handleMouseUpHandler_),this.on(o,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(r){var o=this.getChild("seekBar");o&&o.handleMouseUp(r),this.removeListenersAddedOnMousedownAndTouchstart()},e}(_e);EU.prototype.options_={children:["seekBar"]};_e.registerComponent("ProgressControl",EU);var zU=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on(n,["enterpictureinpicture","leavepictureinpicture"],function(a){return o.handlePictureInPictureChange(a)}),o.on(n,["disablepictureinpicturechanged","loadedmetadata"],function(a){return o.handlePictureInPictureEnabledChange(a)}),o.disable(),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){De.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},i.handlePictureInPictureChange=function(r){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(r){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(Uo);zU.prototype.controlText_="Picture-in-Picture";_e.registerComponent("PictureInPictureToggle",zU);var IU=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on(n,"fullscreenchange",function(a){return o.handleFullscreenChange(a)}),De[n.fsApi_.fullscreenEnabled]===!1&&o.disable(),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(r){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(r){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(Uo);IU.prototype.controlText_="Fullscreen";_e.registerComponent("FullscreenToggle",IU);var $ve=function(e,i){i.tech_&&!i.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(i,"loadstart",function(){i.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Qve=function(t){ge(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return r.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),r},e}(_e);_e.registerComponent("VolumeLevel",Qve);var qve=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update=Ds(ii(oe(o),o.update),Qo),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},i.update=function(r,o,a,s){if(!a){var l=Hf(this.el_),c=Hf(this.player_.el()),u=r.width*o;if(!c||!l)return;var f=r.left-c.left+u,h=r.width-u+(c.right-r.right),m=l.width/2;f<m?m+=m-f:h<m&&(m=h),m<0?m=0:m>l.width&&(m=l.width),this.el_.style.right="-"+m+"px"}this.write(s+"%")},i.write=function(r){zu(this.el_,r)},i.updateVolume=function(r,o,a,s,l){var c=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){c.update(r,o,a,s.toFixed(0)),l&&l()})},e}(_e);_e.registerComponent("VolumeLevelTooltip",qve);var PU=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.update=Ds(ii(oe(o),o.update),Qo),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(r,o,a){var s=this,l=100*o;this.getChild("volumeLevelTooltip").updateVolume(r,o,a,l,function(){a?s.el_.style.bottom=r.height*o+"px":s.el_.style.left=r.width*o+"px"})},e}(_e);PU.prototype.options_={children:["volumeLevelTooltip"]};_e.registerComponent("MouseVolumeLevelDisplay",PU);var _x=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on("slideractive",function(a){return o.updateLastVolume_(a)}),o.on(n,"volumechange",function(a){return o.updateARIAAttributes(a)}),n.ready(function(){return o.updateARIAAttributes()}),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.handleMouseDown=function(r){!kg(r)||t.prototype.handleMouseDown.call(this,r)},i.handleMouseMove=function(r){var o=this.getChild("mouseVolumeLevelDisplay");if(o){var a=this.el(),s=Hf(a),l=this.vertical(),c=bx(a,r);c=l?c.y:c.x,c=kx(c,0,1),o.update(s,c,l)}!kg(r)||(this.checkMuted(),this.player_.volume(this.calculateDistance(r)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(r){var o=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",o),this.el_.setAttribute("aria-valuetext",o+"%")},i.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},i.updateLastVolume_=function(){var r=this,o=this.player_.volume();this.one("sliderinactive",function(){r.player_.volume()===0&&r.player_.lastVolume_(o)})},e}(Oz);_x.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Tr&&!Gs&&_x.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");_x.prototype.playerEvent="volumechange";_e.registerComponent("VolumeBar",_x);var RU=function(t){ge(e,t);function e(n,r){var o;return r===void 0&&(r={}),r.vertical=r.vertical||!1,(typeof r.volumeBar=="undefined"||wg(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),o=t.call(this,n,r)||this,$ve(oe(o),n),o.throttledHandleMouseMove=Ds(ii(oe(o),o.handleMouseMove),Qo),o.handleMouseUpHandler_=function(a){return o.handleMouseUp(a)},o.on("mousedown",function(a){return o.handleMouseDown(a)}),o.on("touchstart",function(a){return o.handleMouseDown(a)}),o.on("mousemove",function(a){return o.handleMouseMove(a)}),o.on(o.volumeBar,["focus","slideractive"],function(){o.volumeBar.addClass("vjs-slider-active"),o.addClass("vjs-slider-active"),o.trigger("slideractive")}),o.on(o.volumeBar,["blur","sliderinactive"],function(){o.volumeBar.removeClass("vjs-slider-active"),o.removeClass("vjs-slider-active"),o.trigger("sliderinactive")}),o}var i=e.prototype;return i.createEl=function(){var r="vjs-volume-horizontal";return this.options_.vertical&&(r="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+r})},i.handleMouseDown=function(r){var o=this.el_.ownerDocument;this.on(o,"mousemove",this.throttledHandleMouseMove),this.on(o,"touchmove",this.throttledHandleMouseMove),this.on(o,"mouseup",this.handleMouseUpHandler_),this.on(o,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(r){var o=this.el_.ownerDocument;this.off(o,"mousemove",this.throttledHandleMouseMove),this.off(o,"touchmove",this.throttledHandleMouseMove),this.off(o,"mouseup",this.handleMouseUpHandler_),this.off(o,"touchend",this.handleMouseUpHandler_)},i.handleMouseMove=function(r){this.volumeBar.handleMouseMove(r)},e}(_e);RU.prototype.options_={children:["volumeBar"]};_e.registerComponent("VolumeControl",RU);var Kve=function(e,i){i.tech_&&!i.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(i,"loadstart",function(){i.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},LU=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,Kve(oe(o),n),o.on(n,["loadstart","volumechange"],function(a){return o.update(a)}),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(r){var o=this.player_.volume(),a=this.player_.lastVolume_();if(o===0){var s=a<.1?.1:a;this.player_.volume(s),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},i.update=function(r){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var r=this.player_.volume(),o=3;Tr&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),r===0||this.player_.muted()?o=0:r<.33?o=1:r<.67&&(o=2);for(var a=0;a<4;a++)yb(this.el_,"vjs-vol-"+a);Ts(this.el_,"vjs-vol-"+o)},i.updateControlText_=function(){var r=this.player_.muted()||this.player_.volume()===0,o=r?"Unmute":"Mute";this.controlText()!==o&&this.controlText(o)},e}(Uo);LU.prototype.controlText_="Mute";_e.registerComponent("MuteToggle",LU);var OU=function(t){ge(e,t);function e(n,r){var o;return r===void 0&&(r={}),typeof r.inline!="undefined"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl=="undefined"||wg(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),o=t.call(this,n,r)||this,o.handleKeyPressHandler_=function(a){return o.handleKeyPress(a)},o.on(n,["loadstart"],function(a){return o.volumePanelState_(a)}),o.on(o.muteToggle,"keyup",function(a){return o.handleKeyPress(a)}),o.on(o.volumeControl,"keyup",function(a){return o.handleVolumeControlKeyUp(a)}),o.on("keydown",function(a){return o.handleKeyPress(a)}),o.on("mouseover",function(a){return o.handleMouseOver(a)}),o.on("mouseout",function(a){return o.handleMouseOut(a)}),o.on(o.volumeControl,["slideractive"],o.sliderActive_),o.on(o.volumeControl,["sliderinactive"],o.sliderInactive_),o}var i=e.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var r="vjs-volume-panel-horizontal";return this.options_.inline||(r="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+r})},i.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(r){mt.isEventKey(r,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(r){this.addClass("vjs-hover"),to(De,"keyup",this.handleKeyPressHandler_)},i.handleMouseOut=function(r){this.removeClass("vjs-hover"),On(De,"keyup",this.handleKeyPressHandler_)},i.handleKeyPress=function(r){mt.isEventKey(r,"Esc")&&this.handleMouseOut()},e}(_e);OU.prototype.options_={children:["muteToggle","volumeControl"]};_e.registerComponent("VolumePanel",OU);var DU=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,r&&(o.menuButton_=r.menuButton),o.focusedChild_=-1,o.on("keydown",function(a){return o.handleKeyDown(a)}),o.boundHandleBlur_=function(a){return o.handleBlur(a)},o.boundHandleTapClick_=function(a){return o.handleTapClick(a)},o}var i=e.prototype;return i.addEventListenerForItem=function(r){r instanceof _e&&(this.on(r,"blur",this.boundHandleBlur_),this.on(r,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(r){r instanceof _e&&(this.off(r,"blur",this.boundHandleBlur_),this.off(r,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(r){typeof r=="string"&&(r=this.getChild(r)),this.removeEventListenerForItem(r),t.prototype.removeChild.call(this,r)},i.addItem=function(r){var o=this.addChild(r);o&&this.addEventListenerForItem(o)},i.createEl=function(){var r=this.options_.contentElType||"ul";this.contentEl_=Bt(r,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var o=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return o.appendChild(this.contentEl_),to(o,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),o},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},i.handleBlur=function(r){var o=r.relatedTarget||De.activeElement;if(!this.children().some(function(s){return s.el()===o})){var a=this.menuButton_;a&&a.buttonPressed_&&o!==a.el().firstChild&&a.unpressButton()}},i.handleTapClick=function(r){if(this.menuButton_){this.menuButton_.unpressButton();var o=this.children();if(!Array.isArray(o))return;var a=o.filter(function(s){return s.el()===r.target})[0];if(!a)return;a.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},i.handleKeyDown=function(r){mt.isEventKey(r,"Left")||mt.isEventKey(r,"Down")?(r.preventDefault(),r.stopPropagation(),this.stepForward()):(mt.isEventKey(r,"Right")||mt.isEventKey(r,"Up"))&&(r.preventDefault(),r.stopPropagation(),this.stepBack())},i.stepForward=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_+1),this.focus(r)},i.stepBack=function(){var r=0;this.focusedChild_!==void 0&&(r=this.focusedChild_-1),this.focus(r)},i.focus=function(r){r===void 0&&(r=0);var o=this.children().slice(),a=o.length&&o[0].hasClass("vjs-menu-title");a&&o.shift(),o.length>0&&(r<0?r=0:r>=o.length&&(r=o.length-1),this.focusedChild_=r,o[r].el_.focus())},e}(_e);_e.registerComponent("Menu",DU);var Bz=function(t){ge(e,t);function e(n,r){var o;r===void 0&&(r={}),o=t.call(this,n,r)||this,o.menuButton_=new Uo(n,r),o.menuButton_.controlText(o.controlText_),o.menuButton_.el_.setAttribute("aria-haspopup","true");var a=Uo.prototype.buildCSSClass();o.menuButton_.el_.className=o.buildCSSClass()+" "+a,o.menuButton_.removeClass("vjs-control"),o.addChild(o.menuButton_),o.update(),o.enabled_=!0;var s=function(c){return o.handleClick(c)};return o.handleMenuKeyUp_=function(l){return o.handleMenuKeyUp(l)},o.on(o.menuButton_,"tap",s),o.on(o.menuButton_,"click",s),o.on(o.menuButton_,"keydown",function(l){return o.handleKeyDown(l)}),o.on(o.menuButton_,"mouseenter",function(){o.addClass("vjs-hover"),o.menu.show(),to(De,"keyup",o.handleMenuKeyUp_)}),o.on("mouseleave",function(l){return o.handleMouseLeave(l)}),o.on("keydown",function(l){return o.handleSubmenuKeyDown(l)}),o}var i=e.prototype;return i.update=function(){var r=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=r,this.addChild(r),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var r=new DU(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var o=Bt("li",{className:"vjs-menu-title",textContent:zi(this.options_.title),tabIndex:-1}),a=new _e(this.player_,{el:o});r.addItem(a)}if(this.items=this.createItems(),this.items)for(var s=0;s<this.items.length;s++)r.addItem(this.items[s]);return r},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var r="vjs-menu-button";this.options_.inline===!0?r+="-inline":r+="-popup";var o=Uo.prototype.buildCSSClass();return"vjs-menu-button "+r+" "+o+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var r="vjs-menu-button";return this.options_.inline===!0?r+="-inline":r+="-popup","vjs-menu-button "+r+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(r,o){return o===void 0&&(o=this.menuButton_.el()),this.menuButton_.controlText(r,o)},i.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},i.handleClick=function(r){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(r){this.removeClass("vjs-hover"),On(De,"keyup",this.handleMenuKeyUp_)},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(r){mt.isEventKey(r,"Esc")||mt.isEventKey(r,"Tab")?(this.buttonPressed_&&this.unpressButton(),mt.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus())):(mt.isEventKey(r,"Up")||mt.isEventKey(r,"Down"))&&(this.buttonPressed_||(r.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(r){(mt.isEventKey(r,"Esc")||mt.isEventKey(r,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(r){this.handleSubmenuKeyDown(r)},i.handleSubmenuKeyDown=function(r){(mt.isEventKey(r,"Esc")||mt.isEventKey(r,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),mt.isEventKey(r,"Tab")||(r.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Tr&&Kj())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(_e);_e.registerComponent("MenuButton",Bz);var Fz=function(t){ge(e,t);function e(i,n){var r,o=n.tracks;if(r=t.call(this,i,n)||this,r.items.length<=1&&r.hide(),!o)return oe(r);var a=ii(oe(r),r.update);return o.addEventListener("removetrack",a),o.addEventListener("addtrack",a),o.addEventListener("labelchange",a),r.player_.on("ready",a),r.player_.on("dispose",function(){o.removeEventListener("removetrack",a),o.removeEventListener("addtrack",a),o.removeEventListener("labelchange",a)}),r}return e}(Bz);_e.registerComponent("TrackButton",Fz);var Xve=["Tab","Esc","Up","Down","Right","Left"],Ab=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.selectable=r.selectable,o.isSelected_=r.selected||!1,o.multiSelectable=r.multiSelectable,o.selected(o.isSelected_),o.selectable?o.multiSelectable?o.el_.setAttribute("role","menuitemcheckbox"):o.el_.setAttribute("role","menuitemradio"):o.el_.setAttribute("role","menuitem"),o}var i=e.prototype;return i.createEl=function(r,o,a){this.nonIconControl=!0;var s=t.prototype.createEl.call(this,"li",Ai({className:"vjs-menu-item",tabIndex:-1},o),a);return s.replaceChild(Bt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),s.querySelector(".vjs-icon-placeholder")),s},i.handleKeyDown=function(r){Xve.some(function(o){return mt.isEventKey(r,o)})||t.prototype.handleKeyDown.call(this,r)},i.handleClick=function(r){this.selected(!0)},i.selected=function(r){this.selectable&&(r?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(xx);_e.registerComponent("MenuItem",Ab);var xb=function(t){ge(e,t);function e(n,r){var o,a=r.track,s=n.textTracks();r.label=a.label||a.language||"Unknown",r.selected=a.mode==="showing",o=t.call(this,n,r)||this,o.track=a,o.kinds=(r.kinds||[r.kind||o.track.kind]).filter(Boolean);var l=function(){for(var h=arguments.length,m=new Array(h),b=0;b<h;b++)m[b]=arguments[b];o.handleTracksChange.apply(oe(o),m)},c=function(){for(var h=arguments.length,m=new Array(h),b=0;b<h;b++)m[b]=arguments[b];o.handleSelectedLanguageChange.apply(oe(o),m)};if(n.on(["loadstart","texttrackchange"],l),s.addEventListener("change",l),s.addEventListener("selectedlanguagechange",c),o.on("dispose",function(){n.off(["loadstart","texttrackchange"],l),s.removeEventListener("change",l),s.removeEventListener("selectedlanguagechange",c)}),s.onchange===void 0){var u;o.on(["tap","click"],function(){if(typeof Q.Event!="object")try{u=new Q.Event("change")}catch{}u||(u=De.createEvent("Event"),u.initEvent("change",!0,!0)),s.dispatchEvent(u)})}return o.handleTracksChange(),o}var i=e.prototype;return i.handleClick=function(r){var o=this.track,a=this.player_.textTracks();if(t.prototype.handleClick.call(this,r),!!a)for(var s=0;s<a.length;s++){var l=a[s];this.kinds.indexOf(l.kind)!==-1&&(l===o?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}},i.handleTracksChange=function(r){var o=this.track.mode==="showing";o!==this.isSelected_&&this.selected(o)},i.handleSelectedLanguageChange=function(r){if(this.track.mode==="showing"){var o=this.player_.cache_.selectedLanguage;if(o&&o.enabled&&o.language===this.track.language&&o.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},i.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(Ab);_e.registerComponent("TextTrackMenuItem",xb);var MU=function(t){ge(e,t);function e(n,r){return r.track={player:n,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,t.call(this,n,r)||this}var i=e.prototype;return i.handleTracksChange=function(r){for(var o=this.player().textTracks(),a=!0,s=0,l=o.length;s<l;s++){var c=o[s];if(this.options_.kinds.indexOf(c.kind)>-1&&c.mode==="showing"){a=!1;break}}a!==this.isSelected_&&this.selected(a)},i.handleSelectedLanguageChange=function(r){for(var o=this.player().textTracks(),a=!0,s=0,l=o.length;s<l;s++){var c=o[s];if(["captions","descriptions","subtitles"].indexOf(c.kind)>-1&&c.mode==="showing"){a=!1;break}}a&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(xb);_e.registerComponent("OffTextTrackMenuItem",MU);var kp=function(t){ge(e,t);function e(n,r){return r===void 0&&(r={}),r.tracks=n.textTracks(),t.call(this,n,r)||this}var i=e.prototype;return i.createItems=function(r,o){r===void 0&&(r=[]),o===void 0&&(o=xb);var a;this.label_&&(a=this.label_+" off"),r.push(new MU(this.player_,{kinds:this.kinds_,kind:this.kind_,label:a})),this.hideThreshold_+=1;var s=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<s.length;l++){var c=s[l];if(this.kinds_.indexOf(c.kind)>-1){var u=new o(this.player_,{track:c,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});u.addClass("vjs-"+c.kind+"-menu-item"),r.push(u)}}return r},e}(Fz);_e.registerComponent("TextTrackButton",kp);var BU=function(t){ge(e,t);function e(n,r){var o,a=r.track,s=r.cue,l=n.currentTime();return r.selectable=!0,r.multiSelectable=!1,r.label=s.text,r.selected=s.startTime<=l&&l<s.endTime,o=t.call(this,n,r)||this,o.track=a,o.cue=s,a.addEventListener("cuechange",ii(oe(o),o.update)),o}var i=e.prototype;return i.handleClick=function(r){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},i.update=function(r){var o=this.cue,a=this.player_.currentTime();this.selected(o.startTime<=a&&a<o.endTime)},e}(Ab);_e.registerComponent("ChaptersTrackMenuItem",BU);var Nz=function(t){ge(e,t);function e(n,r,o){return t.call(this,n,r,o)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},i.update=function(r){(!this.track_||r&&(r.type==="addtrack"||r.type==="removetrack"))&&this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},i.setTrack=function(r){if(this.track_!==r){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var o=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);o&&o.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=r,this.track_){this.track_.mode="hidden";var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.addEventListener("load",this.updateHandler_)}}},i.findChaptersTrack=function(){for(var r=this.player_.textTracks()||[],o=r.length-1;o>=0;o--){var a=r[o];if(a.kind===this.kind_)return a}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(zi(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},i.createItems=function(){var r=[];if(!this.track_)return r;var o=this.track_.cues;if(!o)return r;for(var a=0,s=o.length;a<s;a++){var l=o[a],c=new BU(this.player_,{track:this.track_,cue:l});r.push(c)}return r},e}(kp);Nz.prototype.kind_="chapters";Nz.prototype.controlText_="Chapters";_e.registerComponent("ChaptersButton",Nz);var jz=function(t){ge(e,t);function e(n,r,o){var a;a=t.call(this,n,r,o)||this;var s=n.textTracks(),l=ii(oe(a),a.handleTracksChange);return s.addEventListener("change",l),a.on("dispose",function(){s.removeEventListener("change",l)}),a}var i=e.prototype;return i.handleTracksChange=function(r){for(var o=this.player().textTracks(),a=!1,s=0,l=o.length;s<l;s++){var c=o[s];if(c.kind!==this.kind_&&c.mode==="showing"){a=!0;break}}a?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(kp);jz.prototype.kind_="descriptions";jz.prototype.controlText_="Descriptions";_e.registerComponent("DescriptionsButton",jz);var Uz=function(t){ge(e,t);function e(n,r,o){return t.call(this,n,r,o)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(kp);Uz.prototype.kind_="subtitles";Uz.prototype.controlText_="Subtitles";_e.registerComponent("SubtitlesButton",Uz);var Gz=function(t){ge(e,t);function e(n,r){var o;return r.track={player:n,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",o=t.call(this,n,r)||this,o.addClass("vjs-texttrack-settings"),o.controlText(", opens "+r.kind+" settings dialog"),o}var i=e.prototype;return i.handleClick=function(r){this.player().getChild("textTrackSettings").open()},e}(xb);_e.registerComponent("CaptionSettingsMenuItem",Gz);var Hz=function(t){ge(e,t);function e(n,r,o){return t.call(this,n,r,o)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new Gz(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,r)},e}(kp);Hz.prototype.kind_="captions";Hz.prototype.controlText_="Captions";_e.registerComponent("CaptionsButton",Hz);var FU=function(t){ge(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(r,o,a){var s=t.prototype.createEl.call(this,r,o,a),l=s.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(l.appendChild(Bt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(Bt("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),s},e}(xb);_e.registerComponent("SubsCapsMenuItem",FU);var Yz=function(t){ge(e,t);function e(n,r){var o;return r===void 0&&(r={}),o=t.call(this,n,r)||this,o.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(o.player_.language_)>-1&&(o.label_="captions"),o.menuButton_.controlText(zi(o.label_)),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var r=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(r.push(new Gz(this.player_,{kind:this.label_})),this.hideThreshold_+=1),r=t.prototype.createItems.call(this,r,FU),r},e}(kp);Yz.prototype.kinds_=["captions","subtitles"];Yz.prototype.controlText_="Subtitles";_e.registerComponent("SubsCapsButton",Yz);var NU=function(t){ge(e,t);function e(n,r){var o,a=r.track,s=n.audioTracks();r.label=a.label||a.language||"Unknown",r.selected=a.enabled,o=t.call(this,n,r)||this,o.track=a,o.addClass("vjs-"+a.kind+"-menu-item");var l=function(){for(var u=arguments.length,f=new Array(u),h=0;h<u;h++)f[h]=arguments[h];o.handleTracksChange.apply(oe(o),f)};return s.addEventListener("change",l),o.on("dispose",function(){s.removeEventListener("change",l)}),o}var i=e.prototype;return i.createEl=function(r,o,a){var s=t.prototype.createEl.call(this,r,o,a),l=s.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(l.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text",textContent:this.localize("Descriptions")}))),s},i.handleClick=function(r){t.prototype.handleClick.call(this,r),this.track.enabled=!0},i.handleTracksChange=function(r){this.selected(this.track.enabled)},e}(Ab);_e.registerComponent("AudioTrackMenuItem",NU);var jU=function(t){ge(e,t);function e(n,r){return r===void 0&&(r={}),r.tracks=n.audioTracks(),t.call(this,n,r)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(r){r===void 0&&(r=[]),this.hideThreshold_=1;for(var o=this.player_.audioTracks(),a=0;a<o.length;a++){var s=o[a];r.push(new NU(this.player_,{track:s,selectable:!0,multiSelectable:!1}))}return r},e}(Fz);jU.prototype.controlText_="Audio Track";_e.registerComponent("AudioTrackButton",jU);var Wz=function(t){ge(e,t);function e(n,r){var o,a=r.rate,s=parseFloat(a,10);return r.label=a,r.selected=s===n.playbackRate(),r.selectable=!0,r.multiSelectable=!1,o=t.call(this,n,r)||this,o.label=a,o.rate=s,o.on(n,"ratechange",function(l){return o.update(l)}),o}var i=e.prototype;return i.handleClick=function(r){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(r){this.selected(this.player().playbackRate()===this.rate)},e}(Ab);Wz.prototype.contentElType="button";_e.registerComponent("PlaybackRateMenuItem",Wz);var UU=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.menuButton_.el_.setAttribute("aria-describedby",o.labelElId_),o.updateVisibility(),o.updateLabel(),o.on(n,"loadstart",function(a){return o.updateVisibility(a)}),o.on(n,"ratechange",function(a){return o.updateLabel(a)}),o.on(n,"playbackrateschange",function(a){return o.handlePlaybackRateschange(a)}),o}var i=e.prototype;return i.createEl=function(){var r=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Bt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),r.appendChild(this.labelEl_),r},i.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){for(var r=this.playbackRates(),o=[],a=r.length-1;a>=0;a--)o.push(new Wz(this.player(),{rate:r[a]+"x"}));return o},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(r){for(var o=this.player().playbackRate(),a=this.playbackRates(),s=a[0],l=0;l<a.length;l++)if(a[l]>o){s=a[l];break}this.player().playbackRate(s)},i.handlePlaybackRateschange=function(r){this.update()},i.playbackRates=function(){var r=this.player();return r.playbackRates&&r.playbackRates()||[]},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(r){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(r){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(Bz);UU.prototype.controlText_="Playback Rate";_e.registerComponent("PlaybackRateMenuButton",UU);var GU=function(t){ge(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(r,o,a){return r===void 0&&(r="div"),o===void 0&&(o={}),a===void 0&&(a={}),o.className||(o.className=this.buildCSSClass()),t.prototype.createEl.call(this,r,o,a)},e}(_e);_e.registerComponent("Spacer",GU);var Jve=function(t){ge(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},e}(GU);_e.registerComponent("CustomControlSpacer",Jve);var kw=function(t){ge(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(_e);kw.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in De&&kw.prototype.options_.children.splice(kw.prototype.options_.children.length-1,0,"pictureInPictureToggle");_e.registerComponent("ControlBar",kw);var HU=function(t){ge(e,t);function e(n,r){var o;return o=t.call(this,n,r)||this,o.on(n,"error",function(a){return o.open(a)}),o}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},i.content=function(){var r=this.player().error();return r?this.localize(r.message):""},e}(wp);HU.prototype.options_=he({},wp.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});_e.registerComponent("ErrorDisplay",HU);var f_="vjs-text-track-settings",vO=["#000","Black"],yO=["#00F","Blue"],wO=["#0FF","Cyan"],AO=["#0F0","Green"],xO=["#F0F","Magenta"],kO=["#F00","Red"],_O=["#FFF","White"],TO=["#FF0","Yellow"],p_=["1","Opaque"],h_=["0.5","Semi-Transparent"],SO=["0","Transparent"],Sc={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[vO,_O,kO,AO,yO,TO,xO,wO]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[p_,h_,SO]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[_O,vO,kO,AO,yO,TO,xO,wO]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[p_,h_]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[SO,h_,p_]}};Sc.windowColor.options=Sc.backgroundColor.options;function YU(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function Zve(t,e){var i=t.options[t.options.selectedIndex].value;return YU(i,e)}function eye(t,e,i){if(!!e){for(var n=0;n<t.options.length;n++)if(YU(t.options[n].value,i)===e){t.selectedIndex=n;break}}}var tye=function(t){ge(e,t);function e(n,r){var o;return r.temporary=!1,o=t.call(this,n,r)||this,o.updateDisplay=o.updateDisplay.bind(oe(o)),o.fill(),o.hasBeenOpened_=o.hasBeenFilled_=!0,o.endDialog=Bt("p",{className:"vjs-control-text",textContent:o.localize("End of dialog window.")}),o.el().appendChild(o.endDialog),o.setDefaults(),r.persistTextTrackSettings===void 0&&(o.options_.persistTextTrackSettings=o.options_.playerOptions.persistTextTrackSettings),o.on(o.$(".vjs-done-button"),"click",function(){o.saveSettings(),o.close()}),o.on(o.$(".vjs-default-button"),"click",function(){o.setDefaults(),o.updateDisplay()}),Yd(Sc,function(a){o.on(o.$(a.selector),"change",o.updateDisplay)}),o.options_.persistTextTrackSettings&&o.restoreSettings(),o}var i=e.prototype;return i.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},i.createElSelect_=function(r,o,a){var s=this;o===void 0&&(o=""),a===void 0&&(a="label");var l=Sc[r],c=l.id.replace("%s",this.id_),u=[o,c].join(" ").trim();return["<"+a+' id="'+c+'" class="'+(a==="label"?"vjs-label":"")+'">',this.localize(l.label),"</"+a+">",'<select aria-labelledby="'+u+'">'].concat(l.options.map(function(f){var h=c+"-"+f[1].replace(/\W+/g,"");return['<option id="'+h+'" value="'+f[0]+'" ','aria-labelledby="'+u+" "+h+'">',s.localize(f[1]),"</option>"].join("")})).concat("</select>").join("")},i.createElFgColor_=function(){var r="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",r),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",r),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var r="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",r),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",r),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var r="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+r+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",r),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",r),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return Bt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return Bt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var r=this.localize("restore all settings to the default values");return Bt("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+r+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+r+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var r=this;return H0e(Sc,function(o,a,s){var l=Zve(r.$(a.selector),a.parser);return l!==void 0&&(o[s]=l),o},{})},i.setValues=function(r){var o=this;Yd(Sc,function(a,s){eye(o.$(a.selector),r[s],a.parser)})},i.setDefaults=function(){var r=this;Yd(Sc,function(o){var a=o.hasOwnProperty("default")?o.default:0;r.$(o.selector).selectedIndex=a})},i.restoreSettings=function(){var r;try{r=JSON.parse(Q.localStorage.getItem(f_))}catch(o){kt.warn(o)}r&&this.setValues(r)},i.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var r=this.getValues();try{Object.keys(r).length?Q.localStorage.setItem(f_,JSON.stringify(r)):Q.localStorage.removeItem(f_)}catch(o){kt.warn(o)}}},i.updateDisplay=function(){var r=this.player_.getChild("textTrackDisplay");r&&r.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var r=this.player_.controlBar,o=r&&r.subsCapsButton,a=r&&r.captionsButton;o?o.focus():a&&a.focus()},e}(wp);_e.registerComponent("TextTrackSettings",tye);var iye=function(t){ge(e,t);function e(n,r){var o,a=r.ResizeObserver||Q.ResizeObserver;r.ResizeObserver===null&&(a=!1);var s=si({createEl:!a,reportTouchActivity:!1},r);return o=t.call(this,n,s)||this,o.ResizeObserver=r.ResizeObserver||Q.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=eve(function(){o.resizeHandler()},100,!1,oe(o)),a?(o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(n.el())):(o.loadListener_=function(){if(!(!o.el_||!o.el_.contentWindow)){var l=o.debouncedHandler_,c=o.unloadListener_=function(){On(this,"resize",l),On(this,"unload",c),c=null};to(o.el_.contentWindow,"unload",c),to(o.el_.contentWindow,"resize",l)}},o.one("load",o.loadListener_)),o}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},i.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(_e);_e.registerComponent("ResizeManager",iye);var nye={trackingThreshold:20,liveTolerance:15},rye=function(t){ge(e,t);function e(n,r){var o,a=si(nye,r,{createEl:!1});return o=t.call(this,n,a)||this,o.handleVisibilityChange_=function(s){return o.handleVisibilityChange(s)},o.trackLiveHandler_=function(){return o.trackLive_()},o.handlePlay_=function(s){return o.handlePlay(s)},o.handleFirstTimeupdate_=function(s){return o.handleFirstTimeupdate(s)},o.handleSeeked_=function(s){return o.handleSeeked(s)},o.seekToLiveEdge_=function(s){return o.seekToLiveEdge(s)},o.reset_(),o.on(o.player_,"durationchange",function(s){return o.handleDurationchange(s)}),o.one(o.player_,"canplay",function(){return o.toggleTracking()}),vb&&"hidden"in De&&"visibilityState"in De&&o.on(De,"visibilitychange",o.handleVisibilityChange_),o}var i=e.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(De.hidden?this.stopTracking():this.startTracking())},i.trackLive_=function(){var r=this.player_.seekable();if(!(!r||!r.length)){var o=Number(Q.performance.now().toFixed(4)),a=this.lastTime_===-1?0:(o-this.lastTime_)/1e3;this.lastTime_=o,this.pastSeekEnd_=this.pastSeekEnd()+a;var s=this.liveCurrentTime(),l=this.player_.currentTime(),c=this.player_.paused()||this.seekedBehindLive_||Math.abs(s-l)>this.options_.liveTolerance;(!this.timeupdateSeen_||s===1/0)&&(c=!1),c!==this.behindLiveEdge_&&(this.behindLiveEdge_=c,this.trigger("liveedgechange"))}},i.handleDurationchange=function(){this.toggleTracking()},i.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},i.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Qo),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},i.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},i.handleSeeked=function(){var r=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&r>2,this.nextSeekedFromUser_=!1,this.trackLive_()},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},i.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},i.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},i.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},i.seekableEnd=function(){for(var r=this.player_.seekable(),o=[],a=r?r.length:0;a--;)o.push(r.end(a));return o.length?o.sort()[o.length-1]:1/0},i.seekableStart=function(){for(var r=this.player_.seekable(),o=[],a=r?r.length:0;a--;)o.push(r.start(a));return o.length?o.sort()[0]:0},i.liveWindow=function(){var r=this.liveCurrentTime();return r===1/0?0:r-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){var r=this.seekableEnd();return this.lastSeekEnd_!==-1&&r!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=r,this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return typeof this.trackingInterval_=="number"},i.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},i.dispose=function(){this.off(De,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},e}(_e);_e.registerComponent("LiveTracker",rye);var P2=function(e){var i=e.el();if(i.hasAttribute("src"))return e.triggerSourceset(i.src),!0;var n=e.$$("source"),r=[],o="";if(!n.length)return!1;for(var a=0;a<n.length;a++){var s=n[a].src;s&&r.indexOf(s)===-1&&r.push(s)}return r.length?(r.length===1&&(o=r[0]),e.triggerSourceset(o),!0):!1},oye=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var i=De.createElement(this.nodeName.toLowerCase());i.innerHTML=e;for(var n=De.createDocumentFragment();i.childNodes.length;)n.appendChild(i.childNodes[0]);return this.innerText="",Q.Element.prototype.appendChild.call(this,n),this.innerHTML}}),WU=function(e,i){for(var n={},r=0;r<e.length&&(n=Object.getOwnPropertyDescriptor(e[r],i),!(n&&n.set&&n.get));r++);return n.enumerable=!0,n.configurable=!0,n},aye=function(e){return WU([e.el(),Q.HTMLMediaElement.prototype,Q.Element.prototype,oye],"innerHTML")},CO=function(e){var i=e.el();if(!i.resetSourceWatch_){var n={},r=aye(e),o=function(s){return function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=s.apply(i,c);return P2(e),f}};["append","appendChild","insertAdjacentHTML"].forEach(function(a){!i[a]||(n[a]=i[a],i[a]=o(n[a]))}),Object.defineProperty(i,"innerHTML",si(r,{set:o(r.set)})),i.resetSourceWatch_=function(){i.resetSourceWatch_=null,Object.keys(n).forEach(function(a){i[a]=n[a]}),Object.defineProperty(i,"innerHTML",r)},e.one("sourceset",i.resetSourceWatch_)}},sye=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?vU(Q.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return Q.Element.prototype.setAttribute.call(this,"src",e),e}}),lye=function(e){return WU([e.el(),Q.HTMLMediaElement.prototype,sye],"src")},cye=function(e){if(!!e.featuresSourceset){var i=e.el();if(!i.resetSourceset_){var n=lye(e),r=i.setAttribute,o=i.load;Object.defineProperty(i,"src",si(n,{set:function(s){var l=n.set.call(i,s);return e.triggerSourceset(i.src),l}})),i.setAttribute=function(a,s){var l=r.call(i,a,s);return/src/i.test(a)&&e.triggerSourceset(i.src),l},i.load=function(){var a=o.call(i);return P2(e)||(e.triggerSourceset(""),CO(e)),a},i.currentSrc?e.triggerSourceset(i.currentSrc):P2(e)||CO(e),i.resetSourceset_=function(){i.resetSourceset_=null,i.load=o,i.setAttribute=r,Object.defineProperty(i,"src",n),i.resetSourceWatch_&&i.resetSourceWatch_()}}}},Vz=function(e,i,n,r){r===void 0&&(r=!0);var o=function(l){return Object.defineProperty(e,i,{value:l,enumerable:!0,writable:!0})},a={configurable:!0,enumerable:!0,get:function(){var l=n();return o(l),l}};return r&&(a.set=o),Object.defineProperty(e,i,a)},Xe=function(t){ge(e,t);function e(n,r){var o;o=t.call(this,n,r)||this;var a=n.source,s=!1;if(a&&(o.el_.currentSrc!==a.src||n.tag&&n.tag.initNetworkState_===3)?o.setSource(a):o.handleLateInit_(o.el_),n.enableSourceset&&o.setupSourcesetHandling_(),o.isScrubbing_=!1,o.el_.hasChildNodes()){for(var l=o.el_.childNodes,c=l.length,u=[];c--;){var f=l[c],h=f.nodeName.toLowerCase();h==="track"&&(o.featuresNativeTextTracks?(o.remoteTextTrackEls().addTrackElement_(f),o.remoteTextTracks().addTrack(f.track),o.textTracks().addTrack(f.track),!s&&!o.el_.hasAttribute("crossorigin")&&Ax(f.src)&&(s=!0)):u.push(f))}for(var m=0;m<u.length;m++)o.el_.removeChild(u[m])}return o.proxyNativeTracks_(),o.featuresNativeTextTracks&&s&&kt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),o.restoreMetadataTracksInIOSNativePlayer_(),(Uf||Az||Wj)&&n.nativeControlsForTouch===!0&&o.setControls(!0),o.proxyWebkitFullscreen_(),o.triggerReady(),o}var i=e.prototype;return i.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},i.setupSourcesetHandling_=function(){cye(this)},i.restoreMetadataTracksInIOSNativePlayer_=function(){var r=this.textTracks(),o,a=function(){o=[];for(var c=0;c<r.length;c++){var u=r[c];u.kind==="metadata"&&o.push({track:u,storedMode:u.mode})}};a(),r.addEventListener("change",a),this.on("dispose",function(){return r.removeEventListener("change",a)});var s=function l(){for(var c=0;c<o.length;c++){var u=o[c];u.track.mode==="disabled"&&u.track.mode!==u.storedMode&&(u.track.mode=u.storedMode)}r.removeEventListener("change",l)};this.on("webkitbeginfullscreen",function(){r.removeEventListener("change",a),r.removeEventListener("change",s),r.addEventListener("change",s)}),this.on("webkitendfullscreen",function(){r.removeEventListener("change",a),r.addEventListener("change",a),r.removeEventListener("change",s)})},i.overrideNative_=function(r,o){var a=this;if(o===this["featuresNative"+r+"Tracks"]){var s=r.toLowerCase();this[s+"TracksListeners_"]&&Object.keys(this[s+"TracksListeners_"]).forEach(function(l){var c=a.el()[s+"Tracks"];c.removeEventListener(l,a[s+"TracksListeners_"][l])}),this["featuresNative"+r+"Tracks"]=!o,this[s+"TracksListeners_"]=null,this.proxyNativeTracksForType_(s)}},i.overrideNativeAudioTracks=function(r){this.overrideNative_("Audio",r)},i.overrideNativeVideoTracks=function(r){this.overrideNative_("Video",r)},i.proxyNativeTracksForType_=function(r){var o=this,a=Ao[r],s=this.el()[a.getterName],l=this[a.getterName]();if(!(!this["featuresNative"+a.capitalName+"Tracks"]||!s||!s.addEventListener)){var c={change:function(h){var m={type:"change",target:l,currentTarget:l,srcElement:l};l.trigger(m),r==="text"&&o[Wf.remoteText.getterName]().trigger(m)},addtrack:function(h){l.addTrack(h.track)},removetrack:function(h){l.removeTrack(h.track)}},u=function(){for(var h=[],m=0;m<l.length;m++){for(var b=!1,w=0;w<s.length;w++)if(s[w]===l[m]){b=!0;break}b||h.push(l[m])}for(;h.length;)l.removeTrack(h.shift())};this[a.getterName+"Listeners_"]=c,Object.keys(c).forEach(function(f){var h=c[f];s.addEventListener(f,h),o.on("dispose",function(m){return s.removeEventListener(f,h)})}),this.on("loadstart",u),this.on("dispose",function(f){return o.off("loadstart",u)})}},i.proxyNativeTracks_=function(){var r=this;Ao.names.forEach(function(o){r.proxyNativeTracksForType_(o)})},i.createEl=function(){var r=this.options_.tag;if(!r||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(r){var o=r.cloneNode(!0);r.parentNode&&r.parentNode.insertBefore(o,r),e.disposeMediaElement(r),r=o}else{r=De.createElement("video");var a=this.options_.tag&&ls(this.options_.tag),s=si({},a);(!Uf||this.options_.nativeControlsForTouch!==!0)&&delete s.controls,Zj(r,Ai(s,{id:this.options_.techId,class:"vjs-tech"}))}r.playerId=this.options_.playerId}typeof this.options_.preload!="undefined"&&Gf(r,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(r.disablePictureInPicture=this.options_.disablePictureInPicture);for(var l=["loop","muted","playsinline","autoplay"],c=0;c<l.length;c++){var u=l[c],f=this.options_[u];typeof f!="undefined"&&(f?Gf(r,u,u):gx(r,u),r[u]=f)}return r},i.handleLateInit_=function(r){if(!(r.networkState===0||r.networkState===3)){if(r.readyState===0){var o=!1,a=function(){o=!0};this.on("loadstart",a);var s=function(){o||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",a),this.off("loadedmetadata",s),o||this.trigger("loadstart")});return}var l=["loadstart"];l.push("loadedmetadata"),r.readyState>=2&&l.push("loadeddata"),r.readyState>=3&&l.push("canplay"),r.readyState>=4&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(c){this.trigger(c)},this)})}},i.setScrubbing=function(r){this.isScrubbing_=r},i.scrubbing=function(){return this.isScrubbing_},i.setCurrentTime=function(r){try{this.isScrubbing_&&this.el_.fastSeek&&mx?this.el_.fastSeek(r):this.el_.currentTime=r}catch(o){kt(o,"Video is not ready. (Video.js)")}},i.duration=function(){var r=this;if(this.el_.duration===1/0&&Gs&&Hs&&this.el_.currentTime===0){var o=function a(){r.el_.currentTime>0&&(r.el_.duration===1/0&&r.trigger("durationchange"),r.off("timeupdate",a))};return this.on("timeupdate",o),NaN}return this.el_.duration||NaN},i.width=function(){return this.el_.offsetWidth},i.height=function(){return this.el_.offsetHeight},i.proxyWebkitFullscreen_=function(){var r=this;if("webkitDisplayingFullscreen"in this.el_){var o=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},a=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",o),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",a),this.on("dispose",function(){r.off("webkitbeginfullscreen",a),r.off("webkitendfullscreen",o)})}},i.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var r=Q.navigator&&Q.navigator.userAgent||"";if(/Android/.test(r)||!/Chrome|Mac OS X 10.5/.test(r))return!0}return!1},i.enterFullScreen=function(){var r=this.el_;if(r.paused&&r.networkState<=r.HAVE_METADATA)ha(this.el_.play()),this.setTimeout(function(){r.pause();try{r.webkitEnterFullScreen()}catch(o){this.trigger("fullscreenerror",o)}},0);else try{r.webkitEnterFullScreen()}catch(o){this.trigger("fullscreenerror",o)}},i.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},i.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},i.src=function(r){if(r===void 0)return this.el_.src;this.setSrc(r)},i.reset=function(){e.resetMediaElement(this.el_)},i.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},i.setControls=function(r){this.el_.controls=!!r},i.addTextTrack=function(r,o,a){return this.featuresNativeTextTracks?this.el_.addTextTrack(r,o,a):t.prototype.addTextTrack.call(this,r,o,a)},i.createRemoteTextTrack=function(r){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,r);var o=De.createElement("track");return r.kind&&(o.kind=r.kind),r.label&&(o.label=r.label),(r.language||r.srclang)&&(o.srclang=r.language||r.srclang),r.default&&(o.default=r.default),r.id&&(o.id=r.id),r.src&&(o.src=r.src),o},i.addRemoteTextTrack=function(r,o){var a=t.prototype.addRemoteTextTrack.call(this,r,o);return this.featuresNativeTextTracks&&this.el().appendChild(a),a},i.removeRemoteTextTrack=function(r){if(t.prototype.removeRemoteTextTrack.call(this,r),this.featuresNativeTextTracks)for(var o=this.$$("track"),a=o.length;a--;)(r===o[a]||r===o[a].track)&&this.el().removeChild(o[a])},i.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var r={};return typeof this.el().webkitDroppedFrameCount!="undefined"&&typeof this.el().webkitDecodedFrameCount!="undefined"&&(r.droppedVideoFrames=this.el().webkitDroppedFrameCount,r.totalVideoFrames=this.el().webkitDecodedFrameCount),Q.performance&&typeof Q.performance.now=="function"?r.creationTime=Q.performance.now():Q.performance&&Q.performance.timing&&typeof Q.performance.timing.navigationStart=="number"&&(r.creationTime=Q.Date.now()-Q.performance.timing.navigationStart),r},e}(ni);Vz(Xe,"TEST_VID",function(){if(!!bp()){var t=De.createElement("video"),e=De.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}});Xe.isSupported=function(){try{Xe.TEST_VID.volume=.5}catch{return!1}return!!(Xe.TEST_VID&&Xe.TEST_VID.canPlayType)};Xe.canPlayType=function(t){return Xe.TEST_VID.canPlayType(t)};Xe.canPlaySource=function(t,e){return Xe.canPlayType(t.type)};Xe.canControlVolume=function(){try{var t=Xe.TEST_VID.volume;return Xe.TEST_VID.volume=t/2+.1,t!==Xe.TEST_VID.volume}catch{return!1}};Xe.canMuteVolume=function(){try{var t=Xe.TEST_VID.muted;return Xe.TEST_VID.muted=!t,Xe.TEST_VID.muted?Gf(Xe.TEST_VID,"muted","muted"):gx(Xe.TEST_VID,"muted","muted"),t!==Xe.TEST_VID.muted}catch{return!1}};Xe.canControlPlaybackRate=function(){if(Gs&&Hs&&$j<58)return!1;try{var t=Xe.TEST_VID.playbackRate;return Xe.TEST_VID.playbackRate=t/2+.1,t!==Xe.TEST_VID.playbackRate}catch{return!1}};Xe.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(De.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(De.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(De.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(De.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Xe.supportsNativeTextTracks=function(){return mx||Tr&&Hs};Xe.supportsNativeVideoTracks=function(){return!!(Xe.TEST_VID&&Xe.TEST_VID.videoTracks)};Xe.supportsNativeAudioTracks=function(){return!!(Xe.TEST_VID&&Xe.TEST_VID.audioTracks)};Xe.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var e=t[0],i=t[1];Vz(Xe.prototype,e,function(){return Xe[i]()},!0)});Xe.prototype.movingMediaElementInDOM=!Tr;Xe.prototype.featuresFullscreenResize=!0;Xe.prototype.featuresProgressEvents=!0;Xe.prototype.featuresTimeupdateEvents=!0;var _w;Xe.patchCanPlayType=function(){vz>=4&&!Vj&&!Hs&&(_w=Xe.TEST_VID&&Xe.TEST_VID.constructor.prototype.canPlayType,Xe.TEST_VID.constructor.prototype.canPlayType=function(t){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return t&&e.test(t)?"maybe":_w.call(this,t)})};Xe.unpatchCanPlayType=function(){var t=Xe.TEST_VID.constructor.prototype.canPlayType;return _w&&(Xe.TEST_VID.constructor.prototype.canPlayType=_w),t};Xe.patchCanPlayType();Xe.disposeMediaElement=function(t){if(!!t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Xe.resetMediaElement=function(t){if(!!t){for(var e=t.querySelectorAll("source"),i=e.length;i--;)t.removeChild(e[i]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Xe.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Xe.prototype["set"+zi(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Xe.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Xe.prototype["set"+zi(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Xe.prototype[t]=function(){return this.el_[t]()}});ni.withSourceHandlers(Xe);Xe.nativeSourceHandler={};Xe.nativeSourceHandler.canPlayType=function(t){try{return Xe.TEST_VID.canPlayType(t)}catch{return""}};Xe.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Xe.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=Ez(t.src);return Xe.nativeSourceHandler.canPlayType("video/"+i)}return""};Xe.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)};Xe.nativeSourceHandler.dispose=function(){};Xe.registerSourceHandler(Xe.nativeSourceHandler);ni.registerTech("Html5",Xe);var VU=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],m_={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},R2=["tiny","xsmall","small","medium","large","xlarge","huge"],Jv={};R2.forEach(function(t){var e=t.charAt(0)==="x"?"x-"+t.substring(1):t;Jv[t]="vjs-layout-"+e});var uye={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Bi=function(t){ge(e,t);function e(n,r,o){var a;if(n.id=n.id||r.id||"vjs_video_"+Jl(),r=Ai(e.getTagSettings(n),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if(typeof n.closest=="function"){var s=n.closest("[lang]");s&&s.getAttribute&&(r.language=s.getAttribute("lang"))}else for(var l=n;l&&l.nodeType===1;){if(ls(l).hasOwnProperty("lang")){r.language=l.getAttribute("lang");break}l=l.parentNode}if(a=t.call(this,null,r,o)||this,a.boundDocumentFullscreenChange_=function(h){return a.documentFullscreenChange_(h)},a.boundFullWindowOnEscKey_=function(h){return a.fullWindowOnEscKey(h)},a.boundUpdateStyleEl_=function(h){return a.updateStyleEl_(h)},a.boundApplyInitTime_=function(h){return a.applyInitTime_(h)},a.boundUpdateCurrentBreakpoint_=function(h){return a.updateCurrentBreakpoint_(h)},a.boundHandleTechClick_=function(h){return a.handleTechClick_(h)},a.boundHandleTechDoubleClick_=function(h){return a.handleTechDoubleClick_(h)},a.boundHandleTechTouchStart_=function(h){return a.handleTechTouchStart_(h)},a.boundHandleTechTouchMove_=function(h){return a.handleTechTouchMove_(h)},a.boundHandleTechTouchEnd_=function(h){return a.handleTechTouchEnd_(h)},a.boundHandleTechTap_=function(h){return a.handleTechTap_(h)},a.isFullscreen_=!1,a.log=Gj(a.id_),a.fsApi_=yw,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=n,a.tagAttributes=n&&ls(n),a.language(a.options_.language),r.languages){var c={};Object.getOwnPropertyNames(r.languages).forEach(function(h){c[h.toLowerCase()]=r.languages[h]}),a.languages_=c}else a.languages_=e.prototype.options_.languages;a.resetCache_(),a.poster_=r.poster||"",a.controls_=!!r.controls,n.controls=!1,n.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],n.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(function(h){if(typeof a[h]!="function")throw new Error('plugin "'+h+'" does not exist')}),a.scrubbing_=!1,a.el_=a.createEl(),Tz(oe(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(to(De,a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var u=si(a.options_);r.plugins&&Object.keys(r.plugins).forEach(function(h){a[h](r.plugins[h])}),r.debug&&a.debug(!0),a.options_.playerOptions=u,a.middleware_=[],a.playbackRates(r.playbackRates),a.initChildren(),a.isAudio(n.nodeName.toLowerCase()==="audio"),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),Uf&&a.addClass("vjs-touch-enabled"),Tr||a.addClass("vjs-workinghover"),e.players[a.id_]=oe(a);var f=Nj.split(".")[0];return a.addClass("vjs-v"+f),a.userActive(!0),a.reportUserActivity(),a.one("play",function(h){return a.listenForUserActivity_(h)}),a.on("stageclick",function(h){return a.handleStageClick_(h)}),a.on("keydown",function(h){return a.handleKeyDown(h)}),a.on("languagechange",function(h){return a.handleLanguagechange(h)}),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a}var i=e.prototype;return i.dispose=function(){var r=this;this.trigger("dispose"),this.off("dispose"),On(De,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),On(De,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Ive(this),Kn.names.forEach(function(o){var a=Kn[o],s=r[a.getterName]();s&&s.off&&s.off()}),t.prototype.dispose.call(this)},i.createEl=function(){var r=this.tag,o,a=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),s=this.tag.tagName.toLowerCase()==="video-js";a?o=this.el_=r.parentNode:s||(o=this.el_=t.prototype.createEl.call(this,"div"));var l=ls(r);if(s){for(o=this.el_=r,r=this.tag=De.createElement("video");o.children.length;)r.appendChild(o.firstChild);Kc(o,"video-js")||Ts(o,"video-js"),o.appendChild(r),a=this.playerElIngest_=o,Object.keys(o).forEach(function(b){try{r[b]=o[b]}catch{}})}if(r.setAttribute("tabindex","-1"),l.tabindex="-1",(vb||Hs&&Qj)&&(r.setAttribute("role","application"),l.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(b){s&&b==="class"||o.setAttribute(b,l[b]),s&&r.setAttribute(b,l[b])}),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=o.player=this,this.addClass("vjs-paused"),Q.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=cU("vjs-styles-dimensions");var c=Hl(".vjs-styles-defaults"),u=Hl("head");u.insertBefore(this.styleEl_,c?c.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var f=r.getElementsByTagName("a"),h=0;h<f.length;h++){var m=f.item(h);Ts(m,"vjs-hidden"),m.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!a&&r.parentNode.insertBefore(o,r),_2(r,o),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=o,o},i.crossOrigin=function(r){if(!r)return this.techGet_("crossOrigin");if(r!=="anonymous"&&r!=="use-credentials"){kt.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+r+'"');return}this.techCall_("setCrossOrigin",r)},i.width=function(r){return this.dimension("width",r)},i.height=function(r){return this.dimension("height",r)},i.dimension=function(r,o){var a=r+"_";if(o===void 0)return this[a]||0;if(o===""||o==="auto"){this[a]=void 0,this.updateStyleEl_();return}var s=parseFloat(o);if(isNaN(s)){kt.error('Improper value "'+o+'" supplied for for '+r);return}this[a]=s,this.updateStyleEl_()},i.fluid=function(r){var o=this;if(r===void 0)return!!this.fluid_;this.fluid_=!!r,Ss(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),r?(this.addClass("vjs-fluid"),this.fill(!1),tve(this,function(){o.on(["playerreset","resize"],o.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},i.fill=function(r){if(r===void 0)return!!this.fill_;this.fill_=!!r,r?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},i.aspectRatio=function(r){if(r===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(r))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=r,this.fluid(!0),this.updateStyleEl_()},i.updateStyleEl_=function(){if(Q.VIDEOJS_NO_DYNAMIC_STYLE===!0){var r=typeof this.width_=="number"?this.width_:this.options_.width,o=typeof this.height_=="number"?this.height_:this.options_.height,a=this.tech_&&this.tech_.el();a&&(r>=0&&(a.width=r),o>=0&&(a.height=o));return}var s,l,c,u;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?c=this.aspectRatio_:this.videoWidth()>0?c=this.videoWidth()+":"+this.videoHeight():c="16:9";var f=c.split(":"),h=f[1]/f[0];this.width_!==void 0?s=this.width_:this.height_!==void 0?s=this.height_/h:s=this.videoWidth()||300,this.height_!==void 0?l=this.height_:l=s*h,/^[^a-zA-Z]/.test(this.id())?u="dimensions-"+this.id():u=this.id()+"-dimensions",this.addClass(u),uU(this.styleEl_,`
      .`+u+` {
        width: `+s+`px;
        height: `+l+`px;
      }

      .`+u+`.vjs-fluid {
        padding-top: `+h*100+`%;
      }
    `)},i.loadTech_=function(r,o){var a=this;this.tech_&&this.unloadTech_();var s=zi(r),l=r.charAt(0).toLowerCase()+r.slice(1);s!=="Html5"&&this.tag&&(ni.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=s,this.isReady_=!1;var c=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(c=!1);var u={source:o,autoplay:c,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Kn.names.forEach(function(h){var m=Kn[h];u[m.getterName]=a[m.privateName]}),Ai(u,this.options_[s]),Ai(u,this.options_[l]),Ai(u,this.options_[r.toLowerCase()]),this.tag&&(u.tag=this.tag),o&&o.src===this.cache_.src&&this.cache_.currentTime>0&&(u.startTime=this.cache_.currentTime);var f=ni.getTech(r);if(!f)throw new Error("No Tech named '"+s+"' exists! '"+s+"' should be registered using videojs.registerTech()'");this.tech_=new f(u),this.tech_.ready(ii(this,this.handleTechReady_),!0),lO.jsonToTextTracks(this.textTracksJson_||[],this.tech_),VU.forEach(function(h){a.on(a.tech_,h,function(m){return a["handleTech"+zi(h)+"_"](m)})}),Object.keys(m_).forEach(function(h){a.on(a.tech_,h,function(m){if(a.tech_.playbackRate()===0&&a.tech_.seeking()){a.queuedCallbacks_.push({callback:a["handleTech"+m_[h]+"_"].bind(a),event:m});return}a["handleTech"+m_[h]+"_"](m)})}),this.on(this.tech_,"loadstart",function(h){return a.handleTechLoadStart_(h)}),this.on(this.tech_,"sourceset",function(h){return a.handleTechSourceset_(h)}),this.on(this.tech_,"waiting",function(h){return a.handleTechWaiting_(h)}),this.on(this.tech_,"ended",function(h){return a.handleTechEnded_(h)}),this.on(this.tech_,"seeking",function(h){return a.handleTechSeeking_(h)}),this.on(this.tech_,"play",function(h){return a.handleTechPlay_(h)}),this.on(this.tech_,"firstplay",function(h){return a.handleTechFirstPlay_(h)}),this.on(this.tech_,"pause",function(h){return a.handleTechPause_(h)}),this.on(this.tech_,"durationchange",function(h){return a.handleTechDurationChange_(h)}),this.on(this.tech_,"fullscreenchange",function(h,m){return a.handleTechFullscreenChange_(h,m)}),this.on(this.tech_,"fullscreenerror",function(h,m){return a.handleTechFullscreenError_(h,m)}),this.on(this.tech_,"enterpictureinpicture",function(h){return a.handleTechEnterPictureInPicture_(h)}),this.on(this.tech_,"leavepictureinpicture",function(h){return a.handleTechLeavePictureInPicture_(h)}),this.on(this.tech_,"error",function(h){return a.handleTechError_(h)}),this.on(this.tech_,"posterchange",function(h){return a.handleTechPosterChange_(h)}),this.on(this.tech_,"textdata",function(h){return a.handleTechTextData_(h)}),this.on(this.tech_,"ratechange",function(h){return a.handleTechRateChange_(h)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(s!=="Html5"||!this.tag)&&_2(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},i.unloadTech_=function(){var r=this;Kn.names.forEach(function(o){var a=Kn[o];r[a.privateName]=r[a.getterName]()}),this.textTracksJson_=lO.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},i.tech=function(r){return r===void 0&&kt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},i.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},i.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},i.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},i.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},i.manualAutoplay_=function(r){var o=this;if(!(!this.tech_||typeof r!="string")){var a=function(){var c=o.muted();o.muted(!0);var u=function(){o.muted(c)};o.playTerminatedQueue_.push(u);var f=o.play();if(!!vm(f))return f.catch(function(h){throw u(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(h||""))})},s;if(r==="any"&&!this.muted()?(s=this.play(),vm(s)&&(s=s.catch(a))):r==="muted"&&!this.muted()?s=a():s=this.play(),!!vm(s))return s.then(function(){o.trigger({type:"autoplay-success",autoplay:r})}).catch(function(){o.trigger({type:"autoplay-failure",autoplay:r})})}},i.updateSourceCaches_=function(r){r===void 0&&(r="");var o=r,a="";typeof o!="string"&&(o=r.src,a=r.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],o&&!a&&(a=Lve(this,o)),this.cache_.source=si({},r,{src:o,type:a});for(var s=this.cache_.sources.filter(function(m){return m.src&&m.src===o}),l=[],c=this.$$("source"),u=[],f=0;f<c.length;f++){var h=ls(c[f]);l.push(h),h.src&&h.src===o&&u.push(h.src)}u.length&&!s.length?this.cache_.sources=l:s.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=o},i.handleTechSourceset_=function(r){var o=this;if(!this.changingSrc_){var a=function(u){return o.updateSourceCaches_(u)},s=this.currentSource().src,l=r.src;s&&!/^blob:/.test(s)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==s)&&(a=function(){}),a(l),r.src||this.tech_.any(["sourceset","loadstart"],function(c){if(c.type!=="sourceset"){var u=o.techGet("currentSrc");o.lastSource_.tech=u,o.updateSourceCaches_(u)}})}this.lastSource_={player:this.currentSource().src,tech:r.src},this.trigger({src:r.src,type:"sourceset"})},i.hasStarted=function(r){if(r===void 0)return this.hasStarted_;r!==this.hasStarted_&&(this.hasStarted_=r,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},i.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(r){return r.callback(r.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},i.handleTechWaiting_=function(){var r=this;this.addClass("vjs-waiting"),this.trigger("waiting");var o=this.currentTime(),a=function s(){o!==r.currentTime()&&(r.removeClass("vjs-waiting"),r.off("timeupdate",s))};this.on("timeupdate",a)},i.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},i.handleTechFirstPlay_=function(){this.options_.starttime&&(kt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},i.handleTechClick_=function(r){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,r):this.paused()?ha(this.play()):this.pause())},i.handleTechDoubleClick_=function(r){if(!!this.controls_){var o=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(a){return a.contains(r.target)});o||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,r):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},i.handleTechTap_=function(){this.userActive(!this.userActive())},i.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},i.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},i.handleTechTouchEnd_=function(r){r.cancelable&&r.preventDefault()},i.handleStageClick_=function(){this.reportUserActivity()},i.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i.documentFullscreenChange_=function(r){var o=r.target.player;if(!(o&&o!==this)){var a=this.el(),s=De[this.fsApi_.fullscreenElement]===a;!s&&a.matches?s=a.matches(":"+this.fsApi_.fullscreen):!s&&a.msMatchesSelector&&(s=a.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(s)}},i.handleTechFullscreenChange_=function(r,o){o&&(o.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(o.isFullscreen))},i.handleTechFullscreenError_=function(r,o){this.trigger("fullscreenerror",o)},i.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},i.handleTechEnterPictureInPicture_=function(r){this.isInPictureInPicture(!0)},i.handleTechLeavePictureInPicture_=function(r){this.isInPictureInPicture(!1)},i.handleTechError_=function(){var r=this.tech_.error();this.error(r)},i.handleTechTextData_=function(){var r=null;arguments.length>1&&(r=arguments[1]),this.trigger("textdata",r)},i.getCache=function(){return this.cache_},i.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},i.techCall_=function(r,o){this.ready(function(){if(r in Eve)return Sve(this.middleware_,this.tech_,r,o);if(r in hO)return pO(this.middleware_,this.tech_,r,o);try{this.tech_&&this.tech_[r](o)}catch(a){throw kt(a),a}},!0)},i.techGet_=function(r){if(!(!this.tech_||!this.tech_.isReady_)){if(r in Cve)return Tve(this.middleware_,this.tech_,r);if(r in hO)return pO(this.middleware_,this.tech_,r);try{return this.tech_[r]()}catch(o){throw this.tech_[r]===void 0?(kt("Video.js: "+r+" method not defined for "+this.techName_+" playback technology.",o),o):o.name==="TypeError"?(kt("Video.js: "+r+" unavailable on "+this.techName_+" playback technology element.",o),this.tech_.isReady_=!1,o):(kt(o),o)}}},i.play=function(){var r=this,o=this.options_.Promise||Q.Promise;return o?new o(function(a){r.play_(a)}):this.play_()},i.play_=function(r){var o=this;r===void 0&&(r=ha),this.playCallbacks_.push(r);var a=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!a){this.waitToPlay_=function(l){o.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!a&&(mx||Tr)&&this.load();return}var s=this.techGet_("play");s===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(s)},i.runPlayTerminatedQueue_=function(){var r=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],r.forEach(function(o){o()})},i.runPlayCallbacks_=function(r){var o=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],o.forEach(function(a){a(r)})},i.pause=function(){this.techCall_("pause")},i.paused=function(){return this.techGet_("paused")!==!1},i.played=function(){return this.techGet_("played")||Xc(0,0)},i.scrubbing=function(r){if(typeof r=="undefined")return this.scrubbing_;this.scrubbing_=!!r,this.techCall_("setScrubbing",this.scrubbing_),r?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},i.currentTime=function(r){if(typeof r!="undefined"){if(r<0&&(r=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=r,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",r),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},i.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},i.duration=function(r){if(r===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;r=parseFloat(r),r<0&&(r=1/0),r!==this.cache_.duration&&(this.cache_.duration=r,r===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(r)||this.trigger("durationchange"))},i.remainingTime=function(){return this.duration()-this.currentTime()},i.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},i.buffered=function(){var r=this.techGet_("buffered");return(!r||!r.length)&&(r=Xc(0,0)),r},i.bufferedPercent=function(){return gU(this.buffered(),this.duration())},i.bufferedEnd=function(){var r=this.buffered(),o=this.duration(),a=r.end(r.length-1);return a>o&&(a=o),a},i.volume=function(r){var o;if(r!==void 0){o=Math.max(0,Math.min(1,parseFloat(r))),this.cache_.volume=o,this.techCall_("setVolume",o),o>0&&this.lastVolume_(o);return}return o=parseFloat(this.techGet_("volume")),isNaN(o)?1:o},i.muted=function(r){if(r!==void 0){this.techCall_("setMuted",r);return}return this.techGet_("muted")||!1},i.defaultMuted=function(r){return r!==void 0?this.techCall_("setDefaultMuted",r):this.techGet_("defaultMuted")||!1},i.lastVolume_=function(r){if(r!==void 0&&r!==0){this.cache_.lastVolume=r;return}return this.cache_.lastVolume},i.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},i.isFullscreen=function(r){if(r!==void 0){var o=this.isFullscreen_;this.isFullscreen_=Boolean(r),this.isFullscreen_!==o&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},i.requestFullscreen=function(r){var o=this.options_.Promise||Q.Promise;if(o){var a=this;return new o(function(s,l){function c(){a.off("fullscreenerror",f),a.off("fullscreenchange",u)}function u(){c(),s()}function f(m,b){c(),l(b)}a.one("fullscreenchange",u),a.one("fullscreenerror",f);var h=a.requestFullscreenHelper_(r);h&&(h.then(c,c),h.then(s,l))})}return this.requestFullscreenHelper_()},i.requestFullscreenHelper_=function(r){var o=this,a;if(this.fsApi_.prefixed||(a=this.options_.fullscreen&&this.options_.fullscreen.options||{},r!==void 0&&(a=r)),this.fsApi_.requestFullscreen){var s=this.el_[this.fsApi_.requestFullscreen](a);return s&&s.then(function(){return o.isFullscreen(!0)},function(){return o.isFullscreen(!1)}),s}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},i.exitFullscreen=function(){var r=this.options_.Promise||Q.Promise;if(r){var o=this;return new r(function(a,s){function l(){o.off("fullscreenerror",u),o.off("fullscreenchange",c)}function c(){l(),a()}function u(h,m){l(),s(m)}o.one("fullscreenchange",c),o.one("fullscreenerror",u);var f=o.exitFullscreenHelper_();f&&(f.then(l,l),f.then(a,s))})}return this.exitFullscreenHelper_()},i.exitFullscreenHelper_=function(){var r=this;if(this.fsApi_.requestFullscreen){var o=De[this.fsApi_.exitFullscreen]();return o&&ha(o.then(function(){return r.isFullscreen(!1)})),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},i.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=De.documentElement.style.overflow,to(De,"keydown",this.boundFullWindowOnEscKey_),De.documentElement.style.overflow="hidden",Ts(De.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(r){mt.isEventKey(r,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},i.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,On(De,"keydown",this.boundFullWindowOnEscKey_),De.documentElement.style.overflow=this.docOrigOverflow,yb(De.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.disablePictureInPicture=function(r){if(r===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",r),this.options_.disablePictureInPicture=r,this.trigger("disablepictureinpicturechanged")},i.isInPictureInPicture=function(r){if(r!==void 0){this.isInPictureInPicture_=!!r,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},i.requestPictureInPicture=function(){if("pictureInPictureEnabled"in De&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},i.exitPictureInPicture=function(){if("pictureInPictureEnabled"in De)return De.exitPictureInPicture()},i.handleKeyDown=function(r){var o=this.options_.userActions;if(!(!o||!o.hotkeys)){var a=function(l){var c=l.tagName.toLowerCase();if(l.isContentEditable)return!0;var u=["button","checkbox","hidden","radio","reset","submit"];if(c==="input")return u.indexOf(l.type)===-1;var f=["textarea"];return f.indexOf(c)!==-1};a(this.el_.ownerDocument.activeElement)||(typeof o.hotkeys=="function"?o.hotkeys.call(this,r):this.handleHotkeys(r))}},i.handleHotkeys=function(r){var o=this.options_.userActions?this.options_.userActions.hotkeys:{},a=o.fullscreenKey,s=a===void 0?function(w){return mt.isEventKey(w,"f")}:a,l=o.muteKey,c=l===void 0?function(w){return mt.isEventKey(w,"m")}:l,u=o.playPauseKey,f=u===void 0?function(w){return mt.isEventKey(w,"k")||mt.isEventKey(w,"Space")}:u;if(s.call(this,r)){r.preventDefault(),r.stopPropagation();var h=_e.getComponent("FullscreenToggle");De[this.fsApi_.fullscreenEnabled]!==!1&&h.prototype.handleClick.call(this,r)}else if(c.call(this,r)){r.preventDefault(),r.stopPropagation();var m=_e.getComponent("MuteToggle");m.prototype.handleClick.call(this,r)}else if(f.call(this,r)){r.preventDefault(),r.stopPropagation();var b=_e.getComponent("PlayToggle");b.prototype.handleClick.call(this,r)}},i.canPlayType=function(r){for(var o,a=0,s=this.options_.techOrder;a<s.length;a++){var l=s[a],c=ni.getTech(l);if(c||(c=_e.getComponent(l)),!c){kt.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.');continue}if(c.isSupported()&&(o=c.canPlayType(r),o))return o}return""},i.selectSource=function(r){var o=this,a=this.options_.techOrder.map(function(f){return[f,ni.getTech(f)]}).filter(function(f){var h=f[0],m=f[1];return m?m.isSupported():(kt.error('The "'+h+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),s=function(h,m,b){var w;return h.some(function(g){return m.some(function(A){if(w=b(g,A),w)return!0})}),w},l,c=function(h){return function(m,b){return h(b,m)}},u=function(h,m){var b=h[0],w=h[1];if(w.canPlaySource(m,o.options_[b.toLowerCase()]))return{source:m,tech:b}};return this.options_.sourceOrder?l=s(r,a,c(u)):l=s(a,r,u),l||!1},i.handleSrc_=function(r,o){var a=this;if(typeof r=="undefined")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var s=Ove(r);if(!s.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}if(this.changingSrc_=!0,o||(this.cache_.sources=s),this.updateSourceCaches_(s[0]),kve(this,s[0],function(u,f){a.middleware_=f,o||(a.cache_.sources=s),a.updateSourceCaches_(u);var h=a.src_(u);if(h){if(s.length>1)return a.handleSrc_(s.slice(1));a.changingSrc_=!1,a.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),a.triggerReady();return}_ve(f,a.tech_)}),this.options_.retryOnError&&s.length>1){var l=function(){a.error(null),a.handleSrc_(s.slice(1),!0)},c=function(){a.off("error",l)};this.one("error",l),this.one("playing",c),this.resetRetryOnError_=function(){a.off("error",l),a.off("playing",c)}}},i.src=function(r){return this.handleSrc_(r,!1)},i.src_=function(r){var o=this,a=this.selectSource([r]);return a?rve(a.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",r):this.techCall_("src",r.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(a.tech,a.source),this.tech_.ready(function(){o.changingSrc_=!1}),!1):!0},i.load=function(){this.techCall_("load")},i.reset=function(){var r=this,o=this.options_.Promise||Q.Promise;if(this.paused()||!o)this.doReset_();else{var a=this.play();ha(a.then(function(){return r.doReset_()}))}},i.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Ss(this)&&this.trigger("playerreset")},i.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},i.resetProgressBar_=function(){this.currentTime(0);var r=this.controlBar,o=r.durationDisplay,a=r.remainingTimeDisplay;o&&o.updateContent(),a&&a.updateContent()},i.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},i.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},i.currentSources=function(){var r=this.currentSource(),o=[];return Object.keys(r).length!==0&&o.push(r),this.cache_.sources||o},i.currentSource=function(){return this.cache_.source||{}},i.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},i.currentType=function(){return this.currentSource()&&this.currentSource().type||""},i.preload=function(r){if(r!==void 0){this.techCall_("setPreload",r),this.options_.preload=r;return}return this.techGet_("preload")},i.autoplay=function(r){if(r===void 0)return this.options_.autoplay||!1;var o;typeof r=="string"&&/(any|play|muted)/.test(r)||r===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=r,this.manualAutoplay_(typeof r=="string"?r:"play"),o=!1):r?this.options_.autoplay=!0:this.options_.autoplay=!1,o=typeof o=="undefined"?this.options_.autoplay:o,this.tech_&&this.techCall_("setAutoplay",o)},i.playsinline=function(r){return r!==void 0?(this.techCall_("setPlaysinline",r),this.options_.playsinline=r,this):this.techGet_("playsinline")},i.loop=function(r){if(r!==void 0){this.techCall_("setLoop",r),this.options_.loop=r;return}return this.techGet_("loop")},i.poster=function(r){if(r===void 0)return this.poster_;r||(r=""),r!==this.poster_&&(this.poster_=r,this.techCall_("setPoster",r),this.isPosterFromTech_=!1,this.trigger("posterchange"))},i.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var r=this.tech_.poster()||"";r!==this.poster_&&(this.poster_=r,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},i.controls=function(r){if(r===void 0)return!!this.controls_;r=!!r,this.controls_!==r&&(this.controls_=r,this.usingNativeControls()&&this.techCall_("setControls",r),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},i.usingNativeControls=function(r){if(r===void 0)return!!this.usingNativeControls_;r=!!r,this.usingNativeControls_!==r&&(this.usingNativeControls_=r,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},i.error=function(r){var o=this;if(r===void 0)return this.error_||null;if(Gl("beforeerror").forEach(function(s){var l=s(o,r);if(!(Os(l)&&!Array.isArray(l)||typeof l=="string"||typeof l=="number"||l===null)){o.log.error("please return a value that MediaError expects in beforeerror hooks");return}r=l}),this.options_.suppressNotSupportedError&&r&&r.code===4){var a=function(){this.error(r)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],a),this.one("loadstart",function(){this.off(["click","touchstart"],a)});return}if(r===null){this.error_=r,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new er(r),this.addClass("vjs-error"),kt.error("(CODE:"+this.error_.code+" "+er.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Gl("error").forEach(function(s){return s(o,o.error_)})},i.reportUserActivity=function(r){this.userActivity_=!0},i.userActive=function(r){if(r===void 0)return this.userActive_;if(r=!!r,r!==this.userActive_){if(this.userActive_=r,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(o){o.stopPropagation(),o.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},i.listenForUserActivity_=function(){var r,o,a,s=ii(this,this.reportUserActivity),l=function(b){(b.screenX!==o||b.screenY!==a)&&(o=b.screenX,a=b.screenY,s())},c=function(){s(),this.clearInterval(r),r=this.setInterval(s,250)},u=function(b){s(),this.clearInterval(r)};this.on("mousedown",c),this.on("mousemove",l),this.on("mouseup",u),this.on("mouseleave",u);var f=this.getChild("controlBar");f&&!Tr&&!Gs&&(f.on("mouseenter",function(m){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),f.on("mouseleave",function(m){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",s),this.on("keyup",s);var h;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(h);var m=this.options_.inactivityTimeout;m<=0||(h=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},m))}},250)},i.playbackRate=function(r){if(r!==void 0){this.techCall_("setPlaybackRate",r);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},i.defaultPlaybackRate=function(r){return r!==void 0?this.techCall_("setDefaultPlaybackRate",r):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},i.isAudio=function(r){if(r!==void 0){this.isAudio_=!!r;return}return!!this.isAudio_},i.addTextTrack=function(r,o,a){if(this.tech_)return this.tech_.addTextTrack(r,o,a)},i.addRemoteTextTrack=function(r,o){if(this.tech_)return this.tech_.addRemoteTextTrack(r,o)},i.removeRemoteTextTrack=function(r){r===void 0&&(r={});var o=r,a=o.track;if(a||(a=r),this.tech_)return this.tech_.removeRemoteTextTrack(a)},i.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},i.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},i.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},i.language=function(r){if(r===void 0)return this.language_;this.language_!==String(r).toLowerCase()&&(this.language_=String(r).toLowerCase(),Ss(this)&&this.trigger("languagechange"))},i.languages=function(){return si(e.prototype.options_.languages,this.languages_)},i.toJSON=function(){var r=si(this.options_),o=r.tracks;r.tracks=[];for(var a=0;a<o.length;a++){var s=o[a];s=si(s),s.player=void 0,r.tracks[a]=s}return r},i.createModal=function(r,o){var a=this;o=o||{},o.content=r||"";var s=new wp(this,o);return this.addChild(s),s.on("dispose",function(){a.removeChild(s)}),s.open(),s},i.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var r=this.currentBreakpoint(),o=this.currentWidth(),a=0;a<R2.length;a++){var s=R2[a],l=this.breakpoints_[s];if(o<=l){if(r===s)return;r&&this.removeClass(Jv[r]),this.addClass(Jv[s]),this.breakpoint_=s;break}}},i.removeCurrentBreakpoint_=function(){var r=this.currentBreakpointClass();this.breakpoint_="",r&&this.removeClass(r)},i.breakpoints=function(r){return r===void 0?Ai(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Ai({},uye,r),this.updateCurrentBreakpoint_(),Ai(this.breakpoints_))},i.responsive=function(r){if(r===void 0)return this.responsive_;r=Boolean(r);var o=this.responsive_;if(r!==o)return this.responsive_=r,r?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),r},i.currentBreakpoint=function(){return this.breakpoint_},i.currentBreakpointClass=function(){return Jv[this.breakpoint_]||""},i.loadMedia=function(r,o){var a=this;if(!(!r||typeof r!="object")){this.reset(),this.cache_.media=si(r);var s=this.cache_.media,l=s.artwork,c=s.poster,u=s.src,f=s.textTracks;!l&&c&&(this.cache_.media.artwork=[{src:c,type:xw(c)}]),u&&this.src(u),c&&this.poster(c),Array.isArray(f)&&f.forEach(function(h){return a.addRemoteTextTrack(h,!1)}),this.ready(o)}},i.getMedia=function(){if(!this.cache_.media){var r=this.poster(),o=this.currentSources(),a=Array.prototype.map.call(this.remoteTextTracks(),function(l){return{kind:l.kind,label:l.label,language:l.language,src:l.src}}),s={src:o,textTracks:a};return r&&(s.poster=r,s.artwork=[{src:s.poster,type:xw(s.poster)}]),s}return si(this.cache_.media)},e.getTagSettings=function(r){var o={sources:[],tracks:[]},a=ls(r),s=a["data-setup"];if(Kc(r,"vjs-fill")&&(a.fill=!0),Kc(r,"vjs-fluid")&&(a.fluid=!0),s!==null){var l=sge(s||"{}"),c=l[0],u=l[1];c&&kt.error(c),Ai(a,u)}if(Ai(o,a),r.hasChildNodes())for(var f=r.childNodes,h=0,m=f.length;h<m;h++){var b=f[h],w=b.nodeName.toLowerCase();w==="source"?o.sources.push(ls(b)):w==="track"&&o.tracks.push(ls(b))}return o},i.flexNotSupported_=function(){var r=De.createElement("i");return!("flexBasis"in r.style||"webkitFlexBasis"in r.style||"mozFlexBasis"in r.style||"msFlexBasis"in r.style||"msFlexOrder"in r.style)},i.debug=function(r){if(r===void 0)return this.debugEnabled_;r?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},i.playbackRates=function(r){if(r===void 0)return this.cache_.playbackRates;!Array.isArray(r)||!r.every(function(o){return typeof o=="number"})||(this.cache_.playbackRates=r,this.trigger("playbackrateschange"))},e}(_e);Kn.names.forEach(function(t){var e=Kn[t];Bi.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Bi.prototype.crossorigin=Bi.prototype.crossOrigin;Bi.players={};var Oh=Q.navigator;Bi.prototype.options_={techOrder:ni.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Oh&&(Oh.languages&&Oh.languages[0]||Oh.userLanguage||Oh.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Bi.prototype[t]=function(){return this.techGet_(t)}});VU.forEach(function(t){Bi.prototype["handleTech"+zi(t)+"_"]=function(){return this.trigger(t)}});_e.registerComponent("Player",Bi);var Tw="plugin",Wd="activePlugins_",Ed={},Sw=function(e){return Ed.hasOwnProperty(e)},Zv=function(e){return Sw(e)?Ed[e]:void 0},$U=function(e,i){e[Wd]=e[Wd]||{},e[Wd][i]=!0},Cw=function(e,i,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,i),e.trigger(r+":"+i.name,i)},dye=function(e,i){var n=function(){Cw(this,{name:e,plugin:i,instance:null},!0);var o=i.apply(this,arguments);return $U(this,e),Cw(this,{name:e,plugin:i,instance:o}),o};return Object.keys(i).forEach(function(r){n[r]=i[r]}),n},EO=function(e,i){return i.prototype.name=e,function(){Cw(this,{name:e,plugin:i,instance:null},!0);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=Qv(i,[this].concat(r));return this[e]=function(){return a},Cw(this,a.getEventHash()),a}},Oa=function(){function t(i){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=i,this.log||(this.log=this.player.log.createLogger(this.name)),Tz(this),delete this.trigger,mU(this,this.constructor.defaultState),$U(i,this.name),this.dispose=this.dispose.bind(this),i.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(n){return n===void 0&&(n={}),n.name=this.name,n.plugin=this.constructor,n.instance=this,n},e.trigger=function(n,r){return r===void 0&&(r={}),yp(this.eventBusEl_,n,this.getEventHash(r))},e.handleStateChanged=function(n){},e.dispose=function(){var n=this.name,r=this.player;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[Wd][n]=!1,this.player=this.state=null,r[n]=EO(n,Ed[n])},t.isBasic=function(n){var r=typeof n=="string"?Zv(n):n;return typeof r=="function"&&!t.prototype.isPrototypeOf(r.prototype)},t.registerPlugin=function(n,r){if(typeof n!="string")throw new Error('Illegal plugin name, "'+n+'", must be a string, was '+typeof n+".");if(Sw(n))kt.warn('A plugin named "'+n+'" already exists. You may want to avoid re-registering plugins!');else if(Bi.prototype.hasOwnProperty(n))throw new Error('Illegal plugin name, "'+n+'", cannot share a name with an existing player method!');if(typeof r!="function")throw new Error('Illegal plugin for "'+n+'", must be a function, was '+typeof r+".");return Ed[n]=r,n!==Tw&&(t.isBasic(r)?Bi.prototype[n]=dye(n,r):Bi.prototype[n]=EO(n,r)),r},t.deregisterPlugin=function(n){if(n===Tw)throw new Error("Cannot de-register base plugin.");Sw(n)&&(delete Ed[n],delete Bi.prototype[n])},t.getPlugins=function(n){n===void 0&&(n=Object.keys(Ed));var r;return n.forEach(function(o){var a=Zv(o);a&&(r=r||{},r[o]=a)}),r},t.getPluginVersion=function(n){var r=Zv(n);return r&&r.VERSION||""},t}();Oa.getPlugin=Zv;Oa.BASE_PLUGIN_NAME=Tw;Oa.registerPlugin(Tw,Oa);Bi.prototype.usingPlugin=function(t){return!!this[Wd]&&this[Wd][t]===!0};Bi.prototype.hasPlugin=function(t){return!!Sw(t)};var fye=function(e,i){i===void 0&&(i={});var n=function(){e.apply(this,arguments)},r={};typeof i=="object"?(i.constructor!==Object.prototype.constructor&&(n=i.constructor),r=i):typeof i=="function"&&(n=i),Pr(n,e),e&&(n.super_=e);for(var o in r)r.hasOwnProperty(o)&&(n.prototype[o]=r[o]);return n},QU=function(e){return e.indexOf("#")===0?e.slice(1):e};function ee(t,e,i){var n=ee.getPlayer(t);if(n)return e&&kt.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var r=typeof t=="string"?Hl("#"+QU(t)):t;if(!vp(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!r.ownerDocument.defaultView||!r.ownerDocument.body.contains(r))&&kt.warn("The element supplied is not included in the DOM"),e=e||{},Gl("beforesetup").forEach(function(a){var s=a(r,si(e));if(!Os(s)||Array.isArray(s)){kt.error("please return an object in beforesetup hooks");return}e=si(e,s)});var o=_e.getComponent("Player");return n=new o(r,e,i),Gl("setup").forEach(function(a){return a(n)}),n}ee.hooks_=hs;ee.hooks=Gl;ee.hook=N0e;ee.hookOnce=j0e;ee.removeHook=jj;if(Q.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&bp()){var vv=Hl(".vjs-styles-defaults");if(!vv){vv=cU("vjs-styles-defaults");var g_=Hl("head");g_&&g_.insertBefore(vv,g_.firstChild),uU(vv,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid {
        padding-top: 56.25%
      }
    `)}}S2(1,ee);ee.VERSION=Nj;ee.options=Bi.prototype.options_;ee.getPlayers=function(){return Bi.players};ee.getPlayer=function(t){var e=Bi.players,i;if(typeof t=="string"){var n=QU(t),r=e[n];if(r)return r;i=Hl("#"+n)}else i=t;if(vp(i)){var o=i,a=o.player,s=o.playerId;if(a||e[s])return a||e[s]}};ee.getAllPlayers=function(){return Object.keys(Bi.players).map(function(t){return Bi.players[t]}).filter(Boolean)};ee.players=Bi.players;ee.getComponent=_e.getComponent;ee.registerComponent=function(t,e){ni.isTech(e)&&kt.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),_e.registerComponent.call(_e,t,e)};ee.getTech=ni.getTech;ee.registerTech=ni.registerTech;ee.use=xve;Object.defineProperty(ee,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(ee.middleware,"TERMINATOR",{value:Aw,writeable:!1,enumerable:!0});ee.browser=V0e;ee.TOUCH_ENABLED=Uf;ee.extend=fye;ee.mergeOptions=si;ee.bind=ii;ee.registerPlugin=Oa.registerPlugin;ee.deregisterPlugin=Oa.deregisterPlugin;ee.plugin=function(t,e){return kt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Oa.registerPlugin(t,e)};ee.getPlugins=Oa.getPlugins;ee.getPlugin=Oa.getPlugin;ee.getPluginVersion=Oa.getPluginVersion;ee.addLanguage=function(t,e){var i;return t=(""+t).toLowerCase(),ee.options.languages=si(ee.options.languages,(i={},i[t]=e,i)),ee.options.languages[t]};ee.log=kt;ee.createLogger=Gj;ee.createTimeRange=ee.createTimeRanges=Xc;ee.formatTime=Vf;ee.setFormatTime=Uve;ee.resetFormatTime=Gve;ee.parseUrl=Cz;ee.isCrossOrigin=Ax;ee.EventTarget=an;ee.on=to;ee.one=yx;ee.off=On;ee.trigger=yp;ee.xhr=q7;ee.TextTrack=wb;ee.AudioTrack=yU;ee.VideoTrack=wU;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){ee[t]=function(){return kt.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),sU[t].apply(null,arguments)}});ee.computedStyle=Ag;ee.dom=sU;ee.url=vve;ee.defineLazyProperty=Vz;ee.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.12.0 @license Apache-2.0 */var Mo=lx,Ew=function(e,i,n){return e&&n&&n.responseURL&&i!==n.responseURL?n.responseURL:i},Jo=function(e){return ee.log.debug?ee.log.debug.bind(ee,"VHS:",e+" >"):function(){}},Yl=1/30,ma=Yl*3,qU=function(e,i){var n=[],r;if(e&&e.length)for(r=0;r<e.length;r++)i(e.start(r),e.end(r))&&n.push([e.start(r),e.end(r)]);return ee.createTimeRanges(n)},zd=function(e,i){return qU(e,function(n,r){return n-ma<=i&&r+ma>=i})},yv=function(e,i){return qU(e,function(n){return n-Yl>=i})},pye=function(e){if(e.length<2)return ee.createTimeRanges();for(var i=[],n=1;n<e.length;n++){var r=e.end(n-1),o=e.start(n);i.push([r,o])}return ee.createTimeRanges(i)},hye=function(e,i){var n=null,r=null,o=0,a=[],s=[];if(!e||!e.length||!i||!i.length)return ee.createTimeRange();for(var l=e.length;l--;)a.push({time:e.start(l),type:"start"}),a.push({time:e.end(l),type:"end"});for(l=i.length;l--;)a.push({time:i.start(l),type:"start"}),a.push({time:i.end(l),type:"end"});for(a.sort(function(c,u){return c.time-u.time}),l=0;l<a.length;l++)a[l].type==="start"?(o++,o===2&&(n=a[l].time)):a[l].type==="end"&&(o--,o===1&&(r=a[l].time)),n!==null&&r!==null&&(s.push([n,r]),n=null,r=null);return ee.createTimeRanges(s)},KU=function(e){var i=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)i.push(e.start(n)+" => "+e.end(n));return i.join(", ")},mye=function(e,i,n){n===void 0&&(n=1);var r=e.length?e.end(e.length-1):0;return(r-i)/n},Oc=function(e){for(var i=[],n=0;n<e.length;n++)i.push({start:e.start(n),end:e.end(n)});return i},gye=function(e,i){if(e===i)return!1;if(!e&&i||!i&&e||e.length!==i.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==i.start(n)||e.end(n)!==i.end(n))return!0;return!1},zO=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},$z=function(e,i){var n=0;if(!e||!e.length)return n;for(var r=0;r<e.length;r++){var o=e.start(r),a=e.end(r);if(!(i>a)){if(i>o&&i<=a){n+=a-i;continue}n+=a-o}}return n},IO=ee.createTimeRange,Qz=function(e,i){if(!i.preload)return i.duration;var n=0;return(i.parts||[]).forEach(function(r){n+=r.duration}),(i.preloadHints||[]).forEach(function(r){r.type==="PART"&&(n+=e.partTargetDuration)}),n},L2=function(e){return(e.segments||[]).reduce(function(i,n,r){return n.parts?n.parts.forEach(function(o,a){i.push({duration:o.duration,segmentIndex:r,partIndex:a,part:o,segment:n})}):i.push({duration:n.duration,segmentIndex:r,partIndex:null,segment:n,part:null}),i},[])},XU=function(e){var i=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return i&&i.parts||[]},JU=function(e){var i=e.preloadSegment;if(!!i){var n=i.parts,r=i.preloadHints,o=(r||[]).reduce(function(a,s){return a+(s.type==="PART"?1:0)},0);return o+=n&&n.length?n.length:0,o}},ZU=function(e,i){if(i.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var n=XU(i).length>0;return n&&i.serverControl&&i.serverControl.partHoldBack?i.serverControl.partHoldBack:n&&i.partTargetDuration?i.partTargetDuration*3:i.serverControl&&i.serverControl.holdBack?i.serverControl.holdBack:i.targetDuration?i.targetDuration*3:0},bye=function(e,i){var n=0,r=i-e.mediaSequence,o=e.segments[r];if(o){if(typeof o.start!="undefined")return{result:o.start,precise:!0};if(typeof o.end!="undefined")return{result:o.end-o.duration,precise:!0}}for(;r--;){if(o=e.segments[r],typeof o.end!="undefined")return{result:n+o.end,precise:!0};if(n+=Qz(e,o),typeof o.start!="undefined")return{result:n+o.start,precise:!0}}return{result:n,precise:!1}},vye=function(e,i){for(var n=0,r,o=i-e.mediaSequence;o<e.segments.length;o++){if(r=e.segments[o],typeof r.start!="undefined")return{result:r.start-n,precise:!0};if(n+=Qz(e,r),typeof r.end!="undefined")return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},e9=function(e,i,n){if(typeof i=="undefined"&&(i=e.mediaSequence+e.segments.length),i<e.mediaSequence)return 0;var r=bye(e,i);if(r.precise)return r.result;var o=vye(e,i);return o.precise?o.result:r.result+n},t9=function(e,i,n){if(!e)return 0;if(typeof n!="number"&&(n=0),typeof i=="undefined"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return Q.Infinity}return e9(e,i,n)},ym=function(e){var i=e.defaultDuration,n=e.durationList,r=e.startIndex,o=e.endIndex,a=0;if(r>o){var s=[o,r];r=s[0],o=s[1]}if(r<0){for(var l=r;l<Math.min(0,o);l++)a+=i;r=0}for(var c=r;c<o;c++)a+=n[c].duration;return a},i9=function(e,i,n,r){if(!e||!e.segments)return null;if(e.endList)return t9(e);if(i===null)return null;i=i||0;var o=e9(e,e.mediaSequence+e.segments.length,i);return n&&(r=typeof r=="number"?r:ZU(null,e),o-=r),Math.max(0,o)},yye=function(e,i,n){var r=!0,o=i||0,a=i9(e,i,r,n);return a===null?IO():IO(o,a)},wye=function(e){for(var i=e.playlist,n=e.currentTime,r=e.startingSegmentIndex,o=e.startingPartIndex,a=e.startTime,s=e.experimentalExactManifestTimings,l=n-a,c=L2(i),u=0,f=0;f<c.length;f++){var h=c[f];if(r===h.segmentIndex&&!(typeof o=="number"&&typeof h.partIndex=="number"&&o!==h.partIndex)){u=f;break}}if(l<0){if(u>0)for(var m=u-1;m>=0;m--){var b=c[m];if(l+=b.duration,s){if(l<0)continue}else if(l+Yl<=0)continue;return{partIndex:b.partIndex,segmentIndex:b.segmentIndex,startTime:a-ym({defaultDuration:i.targetDuration,durationList:c,startIndex:u,endIndex:m})}}return{partIndex:c[0]&&c[0].partIndex||null,segmentIndex:c[0]&&c[0].segmentIndex||0,startTime:n}}if(u<0){for(var w=u;w<0;w++)if(l-=i.targetDuration,l<0)return{partIndex:c[0]&&c[0].partIndex||null,segmentIndex:c[0]&&c[0].segmentIndex||0,startTime:n};u=0}for(var g=u;g<c.length;g++){var A=c[g];if(l-=A.duration,s){if(l>0)continue}else if(l-Yl>=0)continue;return{partIndex:A.partIndex,segmentIndex:A.segmentIndex,startTime:a+ym({defaultDuration:i.targetDuration,durationList:c,startIndex:u,endIndex:g})}}return{segmentIndex:c[c.length-1].segmentIndex,partIndex:c[c.length-1].partIndex,startTime:n}},n9=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},qz=function(e){return e.excludeUntil&&e.excludeUntil===1/0},Tx=function(e){var i=n9(e);return!e.disabled&&!i},Aye=function(e){return e.disabled},xye=function(e){for(var i=0;i<e.segments.length;i++)if(e.segments[i].key)return!0;return!1},r9=function(e,i){return i.attributes&&i.attributes[e]},kye=function(e,i,n,r){if(r===void 0&&(r=0),!r9("BANDWIDTH",n))return NaN;var o=e*n.attributes.BANDWIDTH;return(o-r*8)/i},O2=function(e,i){if(e.playlists.length===1)return!0;var n=i.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(r){return Tx(r)?(r.attributes.BANDWIDTH||0)<n:!1}).length===0},Kz=function(e,i){return!e&&!i||!e&&i||e&&!i?!1:!!(e===i||e.id&&i.id&&e.id===i.id||e.resolvedUri&&i.resolvedUri&&e.resolvedUri===i.resolvedUri||e.uri&&i.uri&&e.uri===i.uri)},PO=function(e,i){var n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},r=!1;for(var o in n){for(var a in n[o])if(r=i(n[o][a]),r)break;if(r)break}return!!r},kb=function(e){if(!e||!e.playlists||!e.playlists.length){var i=PO(e,function(a){return a.playlists&&a.playlists.length||a.uri});return i}for(var n=function(s){var l=e.playlists[s],c=l.attributes&&l.attributes.CODECS;if(c&&c.split(",").every(function(f){return ij(f)}))return"continue";var u=PO(e,function(f){return Kz(l,f)});return u?"continue":{v:!1}},r=0;r<e.playlists.length;r++){var o=n(r);if(o!=="continue"&&typeof o=="object")return o.v}return!0},yr={liveEdgeDelay:ZU,duration:t9,seekable:yye,getMediaInfoForTime:wye,isEnabled:Tx,isDisabled:Aye,isBlacklisted:n9,isIncompatible:qz,playlistEnd:i9,isAes:xye,hasAttribute:r9,estimateSegmentRequestTime:kye,isLowestEnabledRendition:O2,isAudioOnly:kb,playlistMatch:Kz,segmentDurationWithParts:Qz},o9=ee.log,Xz=function(e,i){return e+"-"+i},_ye=function(e){var i=e.onwarn,n=e.oninfo,r=e.manifestString,o=e.customTagParsers,a=o===void 0?[]:o,s=e.customTagMappers,l=s===void 0?[]:s,c=e.experimentalLLHLS,u=new tbe;i&&u.on("warn",i),n&&u.on("info",n),a.forEach(function(w){return u.addParser(w)}),l.forEach(function(w){return u.addTagMapper(w)}),u.push(r),u.end();var f=u.manifest;if(c||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(w){f.hasOwnProperty(w)&&delete f[w]}),f.segments&&f.segments.forEach(function(w){["parts","preloadHints"].forEach(function(g){w.hasOwnProperty(g)&&delete w[g]})})),!f.targetDuration){var h=10;f.segments&&f.segments.length&&(h=f.segments.reduce(function(w,g){return Math.max(w,g.duration)},0)),i&&i("manifest has no targetDuration defaulting to "+h),f.targetDuration=h}var m=XU(f);if(m.length&&!f.partTargetDuration){var b=m.reduce(function(w,g){return Math.max(w,g.duration)},0);i&&(i("manifest has no partTargetDuration defaulting to "+b),o9.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),f.partTargetDuration=b}return f},_b=function(e,i){!e.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(n){if(!!e.mediaGroups[n])for(var r in e.mediaGroups[n])for(var o in e.mediaGroups[n][r]){var a=e.mediaGroups[n][r][o];i(a,n,r,o)}})},a9=function(e){var i=e.playlist,n=e.uri,r=e.id;i.id=r,i.playlistErrors_=0,n&&(i.uri=n),i.attributes=i.attributes||{}},Tye=function(e){for(var i=e.playlists.length;i--;){var n=e.playlists[i];a9({playlist:n,id:Xz(i,n.uri)}),n.resolvedUri=Mo(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||o9.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},Sye=function(e){_b(e,function(i){i.uri&&(i.resolvedUri=Mo(e.uri,i.uri))})},Cye=function(e,i){var n=Xz(0,i),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:Q.location.href,resolvedUri:Q.location.href,playlists:[{uri:i,id:n,resolvedUri:i,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[i]=r.playlists[0],r},s9=function(e,i){e.uri=i;for(var n=0;n<e.playlists.length;n++)if(!e.playlists[n].uri){var r="placeholder-uri-"+n;e.playlists[n].uri=r}var o=kb(e);_b(e,function(a,s,l,c){var u="placeholder-uri-"+s+"-"+l+"-"+c;if(!a.playlists||!a.playlists.length){if(o&&s==="AUDIO"&&!a.uri)for(var f=0;f<e.playlists.length;f++){var h=e.playlists[f];if(h.attributes&&h.attributes.AUDIO&&h.attributes.AUDIO===l)return}a.playlists=[he({},a)]}a.playlists.forEach(function(m,b){var w=Xz(b,u);m.uri?m.resolvedUri=m.resolvedUri||Mo(e.uri,m.uri):(m.uri=b===0?u:w,m.resolvedUri=m.uri),m.id=m.id||w,m.attributes=m.attributes||{},e.playlists[m.id]=m,e.playlists[m.uri]=m})}),Tye(e),Sye(e)},zw=ee.mergeOptions,Eye=ee.EventTarget,zye=function(e,i){if(i.endList||!i.serverControl)return e;var n={};if(i.serverControl.canBlockReload){var r=i.preloadSegment,o=i.mediaSequence+i.segments.length;if(r){var a=r.parts||[],s=JU(i)-1;s>-1&&s!==a.length-1&&(n._HLS_part=s),(s>-1||a.length)&&o--}n._HLS_msn=o}if(i.serverControl&&i.serverControl.canSkipUntil&&(n._HLS_skip=i.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){var l=new Q.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(c){!n.hasOwnProperty(c)||l.searchParams.set(c,n[c])}),e=l.toString()}return e},Iye=function(e,i){if(!e)return i;var n=zw(e,i);if(e.preloadHints&&!i.preloadHints&&delete n.preloadHints,e.parts&&!i.parts)delete n.parts;else if(e.parts&&i.parts)for(var r=0;r<i.parts.length;r++)e.parts&&e.parts[r]&&(n.parts[r]=zw(e.parts[r],i.parts[r]));return!e.skipped&&i.skipped&&(n.skipped=!1),e.preload&&!i.preload&&(n.preload=!1),n},Pye=function(e,i,n){var r=e.slice(),o=i.slice();n=n||0;for(var a=[],s,l=0;l<o.length;l++){var c=r[l+n],u=o[l];c?(s=c.map||s,a.push(Iye(c,u))):(s&&!u.map&&(u.map=s),a.push(u))}return a},l9=function(e,i){!e.resolvedUri&&e.uri&&(e.resolvedUri=Mo(i,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Mo(i,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Mo(i,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Mo(i,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(n){n.resolvedUri||(n.resolvedUri=Mo(i,n.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(n){n.resolvedUri||(n.resolvedUri=Mo(i,n.uri))})},c9=function(e){var i=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(var r=0;r<n.preloadHints.length;r++)if(n.preloadHints[r].type==="MAP")return i}n.duration=e.targetDuration,n.preload=!0,i.push(n)}return i},u9=function(e,i){return e===i||e.segments&&i.segments&&e.segments.length===i.segments.length&&e.endList===i.endList&&e.mediaSequence===i.mediaSequence&&e.preloadSegment===i.preloadSegment},D2=function(e,i,n){n===void 0&&(n=u9);var r=zw(e,{}),o=r.playlists[i.id];if(!o||n(o,i))return null;i.segments=c9(i);var a=zw(o,i);if(a.preloadSegment&&!i.preloadSegment&&delete a.preloadSegment,o.segments){if(i.skip){i.segments=i.segments||[];for(var s=0;s<i.skip.skippedSegments;s++)i.segments.unshift({skipped:!0})}a.segments=Pye(o.segments,i.segments,i.mediaSequence-o.mediaSequence)}a.segments.forEach(function(c){l9(c,a.resolvedUri)});for(var l=0;l<r.playlists.length;l++)r.playlists[l].id===i.id&&(r.playlists[l]=a);return r.playlists[i.id]=a,r.playlists[i.uri]=a,_b(e,function(c,u,f,h){if(!!c.playlists)for(var m=0;m<c.playlists.length;m++)i.id===c.playlists[m].id&&(c.playlists[m]=i)}),r},M2=function(e,i){var n=e.segments||[],r=n[n.length-1],o=r&&r.parts&&r.parts[r.parts.length-1],a=o&&o.duration||r&&r.duration;return i&&a?a*1e3:(e.partTargetDuration||e.targetDuration||10)*500},Id=function(t){ge(e,t);function e(n,r,o){var a;if(o===void 0&&(o={}),a=t.call(this)||this,!n)throw new Error("A non-empty playlist URL or object is required");a.logger_=Jo("PlaylistLoader");var s=o,l=s.withCredentials,c=l===void 0?!1:l,u=s.handleManifestRedirects,f=u===void 0?!1:u;a.src=n,a.vhs_=r,a.withCredentials=c,a.handleManifestRedirects=f;var h=r.options_;return a.customTagParsers=h&&h.customTagParsers||[],a.customTagMappers=h&&h.customTagMappers||[],a.experimentalLLHLS=h&&h.experimentalLLHLS||!1,ee.browser.IE_VERSION&&(a.experimentalLLHLS=!1),a.state="HAVE_NOTHING",a.handleMediaupdatetimeout_=a.handleMediaupdatetimeout_.bind(oe(a)),a.on("mediaupdatetimeout",a.handleMediaupdatetimeout_),a}var i=e.prototype;return i.handleMediaupdatetimeout_=function(){var r=this;if(this.state==="HAVE_METADATA"){var o=this.media(),a=Mo(this.master.uri,o.uri);this.experimentalLLHLS&&(a=zye(a,o)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:a,withCredentials:this.withCredentials},function(s,l){if(!!r.request){if(s)return r.playlistRequestError(r.request,r.media(),"HAVE_METADATA");r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})}})}},i.playlistRequestError=function(r,o,a){var s=o.uri,l=o.id;this.request=null,a&&(this.state=a),this.error={playlist:this.master.playlists[l],status:r.status,message:"HLS playlist request error at URL: "+s+".",responseText:r.responseText,code:r.status>=500?4:2},this.trigger("error")},i.parseManifest_=function(r){var o=this,a=r.url,s=r.manifestString;return _ye({onwarn:function(c){var u=c.message;return o.logger_("m3u8-parser warn for "+a+": "+u)},oninfo:function(c){var u=c.message;return o.logger_("m3u8-parser info for "+a+": "+u)},manifestString:s,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},i.haveMetadata=function(r){var o=r.playlistString,a=r.playlistObject,s=r.url,l=r.id;this.request=null,this.state="HAVE_METADATA";var c=a||this.parseManifest_({url:s,manifestString:o});c.lastRequest=Date.now(),a9({playlist:c,uri:s,id:l});var u=D2(this.master,c);this.targetDuration=c.partTargetDuration||c.targetDuration,this.pendingMedia_=null,u?(this.master=u,this.media_=this.master.playlists[l]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(M2(this.media(),!!u)),this.trigger("loadedplaylist")},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),Q.clearTimeout(this.mediaUpdateTimeout),Q.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},i.media=function(r,o){var a=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof r=="string"){if(!this.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.master.playlists[r]}if(Q.clearTimeout(this.finalRenditionTimeout),o){var s=(r.partTargetDuration||r.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=Q.setTimeout(this.media.bind(this,r,!1),s);return}var l=this.state,c=!this.media_||r.id!==this.media_.id,u=this.master.playlists[r.id];if(u&&u.endList||r.endList&&r.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=r,c&&(this.trigger("mediachanging"),l==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(M2(r,!0)),!!c){if(this.state="SWITCHING_MEDIA",this.request){if(r.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=r,this.request=this.vhs_.xhr({uri:r.resolvedUri,withCredentials:this.withCredentials},function(f,h){if(!!a.request){if(r.lastRequest=Date.now(),r.resolvedUri=Ew(a.handleManifestRedirects,r.resolvedUri,h),f)return a.playlistRequestError(a.request,r,l);a.haveMetadata({playlistString:h.responseText,url:r.uri,id:r.id}),l==="HAVE_MASTER"?a.trigger("loadedmetadata"):a.trigger("mediachange")}})}},i.pause=function(){this.mediaUpdateTimeout&&(Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},i.load=function(r){var o=this;this.mediaUpdateTimeout&&(Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var a=this.media();if(r){var s=a?(a.partTargetDuration||a.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=Q.setTimeout(function(){o.mediaUpdateTimeout=null,o.load()},s);return}if(!this.started){this.start();return}a&&!a.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},i.updateMediaUpdateTimeout_=function(r){var o=this;this.mediaUpdateTimeout&&(Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=Q.setTimeout(function(){o.mediaUpdateTimeout=null,o.trigger("mediaupdatetimeout"),o.updateMediaUpdateTimeout_(r)},r))},i.start=function(){var r=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=Q.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){r.setupInitialPlaylist(r.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(o,a){if(!!r.request){if(r.request=null,o)return r.error={status:a.status,message:"HLS playlist request error at URL: "+r.src+".",responseText:a.responseText,code:2},r.state==="HAVE_NOTHING"&&(r.started=!1),r.trigger("error");r.src=Ew(r.handleManifestRedirects,r.src,a);var s=r.parseManifest_({manifestString:a.responseText,url:r.src});r.setupInitialPlaylist(s)}})},i.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},i.setupInitialPlaylist=function(r){if(this.state="HAVE_MASTER",r.playlists){this.master=r,s9(this.master,this.srcUri()),r.playlists.forEach(function(a){a.segments=c9(a),a.segments.forEach(function(s){l9(s,a.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var o=this.srcUri()||Q.location.href;this.master=Cye(r,o),this.haveMetadata({playlistObject:r,url:o,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(Eye),Rye=ee.xhr,Lye=ee.mergeOptions,B2=function(e,i,n,r){var o=e.responseType==="arraybuffer"?e.response:e.responseText;!i&&o&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=o.byteLength||o.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),i&&i.code==="ETIMEDOUT"&&(e.timedout=!0),!i&&!e.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(i=new Error("XHR Failed with a response of: "+(e&&(o||e.responseText)))),r(i,e)},d9=function(){var e=function i(n,r){n=Lye({timeout:45e3},n);var o=i.beforeRequest||ee.Vhs.xhr.beforeRequest;if(o&&typeof o=="function"){var a=o(n);a&&(n=a)}var s=ee.Vhs.xhr.original===!0?Rye:ee.Vhs.xhr,l=s(n,function(u,f){return B2(l,u,f,r)}),c=l.abort;return l.abort=function(){return l.aborted=!0,c.apply(l,arguments)},l.uri=n.uri,l.requestTime=Date.now(),l};return e.original=!0,e},Oye=function(e){var i=e.offset+e.length-1,n=e.offset;return"bytes="+n+"-"+i},F2=function(e){var i={};return e.byterange&&(i.Range=Oye(e.byterange)),i},Dye=function(e,i){return e.start(i)+"-"+e.end(i)},Mye=function(e,i){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(i%2?" ":"")},Bye=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},f9=function(e){var i={};return Object.keys(e).forEach(function(n){var r=e[n];ArrayBuffer.isView(r)?i[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:i[n]=r}),i},Iw=function(e){var i=e.byterange||{length:1/0,offset:0};return[i.length,i.offset,e.resolvedUri].join(",")},p9=function(e){return e.resolvedUri},h9=function(e){for(var i=Array.prototype.slice.call(e),n=16,r="",o,a,s=0;s<i.length/n;s++)o=i.slice(s*n,s*n+n).map(Mye).join(""),a=i.slice(s*n,s*n+n).map(Bye).join(""),r+=o+" "+a+`
`;return r},Fye=function(e){var i=e.bytes;return h9(i)},Nye=function(e){var i="",n;for(n=0;n<e.length;n++)i+=Dye(e,n)+" ";return i},jye=Object.freeze({__proto__:null,createTransferableMessage:f9,initSegmentId:Iw,segmentKeyId:p9,hexDump:h9,tagDump:Fye,textRanges:Nye}),m9=.25,Uye=function(e,i){if(!i.dateTimeObject)return null;var n=i.videoTimingInfo.transmuxerPrependedSeconds,r=i.videoTimingInfo.transmuxedPresentationStart,o=r+n,a=e-o;return new Date(i.dateTimeObject.getTime()+a*1e3)},Gye=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},Hye=function(e,i){var n;try{n=new Date(e)}catch{return null}if(!i||!i.segments||i.segments.length===0)return null;var r=i.segments[0];if(n<r.dateTimeObject)return null;for(var o=0;o<i.segments.length-1;o++){r=i.segments[o];var a=i.segments[o+1].dateTimeObject;if(n<a)break}var s=i.segments[i.segments.length-1],l=s.dateTimeObject,c=s.videoTimingInfo?Gye(s.videoTimingInfo):s.duration+s.duration*m9,u=new Date(l.getTime()+c*1e3);return n>u?null:(n>l&&(r=s),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:yr.duration(i,i.mediaSequence+i.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},Yye=function(e,i){if(!i||!i.segments||i.segments.length===0)return null;for(var n=0,r,o=0;o<i.segments.length&&(r=i.segments[o],n=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:n+r.duration,!(e<=n));o++);var a=i.segments[i.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+a.duration*m9)return null;r=a}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:n-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},Wye=function(e,i){var n,r;try{n=new Date(e),r=new Date(i)}catch{}var o=n.getTime(),a=r.getTime();return(a-o)/1e3},Vye=function(e){if(!e.segments||e.segments.length===0)return!1;for(var i=0;i<e.segments.length;i++){var n=e.segments[i];if(!n.dateTimeObject)return!1}return!0},$ye=function(e){var i=e.playlist,n=e.time,r=n===void 0?void 0:n,o=e.callback;if(!o)throw new Error("getProgramTime: callback must be provided");if(!i||r===void 0)return o({message:"getProgramTime: playlist and time must be provided"});var a=Yye(r,i);if(!a)return o({message:"valid programTime was not found"});if(a.type==="estimate")return o({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var s={mediaSeconds:r},l=Uye(r,a.segment);return l&&(s.programDateTime=l.toISOString()),o(null,s)},Qye=function t(e){var i=e.programTime,n=e.playlist,r=e.retryCount,o=r===void 0?2:r,a=e.seekTo,s=e.pauseAfterSeek,l=s===void 0?!0:s,c=e.tech,u=e.callback;if(!u)throw new Error("seekToProgramTime: callback must be provided");if(typeof i=="undefined"||!n||!a)return u({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!n.endList&&!c.hasStarted_)return u({message:"player must be playing a live stream to start buffering"});if(!Vye(n))return u({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var f=Hye(i,n);if(!f)return u({message:i+" was not found in the stream"});var h=f.segment,m=Wye(h.dateTimeObject,i);if(f.type==="estimate"){if(o===0)return u({message:i+" is not buffered yet. Try again"});a(f.estimatedStart+m),c.one("seeked",function(){t({programTime:i,playlist:n,retryCount:o-1,seekTo:a,pauseAfterSeek:l,tech:c,callback:u})});return}var b=h.start+m,w=function(){return u(null,c.currentTime())};c.one("seeked",w),l&&c.pause(),a(b)},b_=function(e,i){if(e.readyState===4)return i()},qye=function(e,i,n){var r=[],o,a=!1,s=function(h,m,b,w){return m.abort(),a=!0,n(h,m,b,w)},l=function(h,m){if(!a){if(h)return s(h,m,"",r);var b=m.responseText.substring(r&&r.byteLength||0,m.responseText.length);if(r=k0e(r,Oj(b,!0)),o=o||Qh(r),r.length<10||o&&r.length<o+2)return b_(m,function(){return s(h,m,"",r)});var w=pz(r);return w==="ts"&&r.length<188?b_(m,function(){return s(h,m,"",r)}):!w&&r.length<376?b_(m,function(){return s(h,m,"",r)}):s(null,m,w,r)}},c={uri:e,beforeSend:function(h){h.overrideMimeType("text/plain; charset=x-user-defined"),h.addEventListener("progress",function(m){return m.total,m.loaded,B2(h,null,{statusCode:h.status},l)})}},u=i(c,function(f,h){return B2(u,f,h,l)});return u},Kye=ee.EventTarget,g9=ee.mergeOptions,RO=function(e,i){if(!u9(e,i)||e.sidx&&i.sidx&&(e.sidx.offset!==i.sidx.offset||e.sidx.length!==i.sidx.length))return!1;if(!e.sidx&&i.sidx||e.sidx&&!i.sidx||e.segments&&!i.segments||!e.segments&&i.segments)return!1;if(!e.segments&&!i.segments)return!0;for(var n=0;n<e.segments.length;n++){var r=e.segments[n],o=i.segments[n];if(r.uri!==o.uri)return!1;if(!(!r.byterange&&!o.byterange)){var a=r.byterange,s=o.byterange;if(a&&!s||!a&&s||a.offset!==s.offset||a.length!==s.length)return!1}}return!0},Xye=function(e){var i=e.masterXml,n=e.srcUrl,r=e.clientOffset,o=e.sidxMapping,a=h0e(i,{manifestUri:n,clientOffset:r,sidxMapping:o});return s9(a,n),a},Jye=function(e,i,n){for(var r=!0,o=g9(e,{duration:i.duration,minimumUpdatePeriod:i.minimumUpdatePeriod}),a=0;a<i.playlists.length;a++){var s=i.playlists[a];if(s.sidx){var l=fx(s.sidx);n&&n[l]&&n[l].sidx&&cz(s,n[l].sidx,s.sidx.resolvedUri)}var c=D2(o,s,RO);c&&(o=c,r=!1)}return _b(i,function(u,f,h,m){if(u.playlists&&u.playlists.length){var b=u.playlists[0].id,w=D2(o,u.playlists[0],RO);w&&(o=w,o.mediaGroups[f][h][m].playlists[0]=o.playlists[b],r=!1)}}),i.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(r=!1),r?null:o},Zye=function(e,i){var n=Boolean(!e.map&&!i.map),r=n||Boolean(e.map&&i.map&&e.map.byterange.offset===i.map.byterange.offset&&e.map.byterange.length===i.map.byterange.length);return r&&e.uri===i.uri&&e.byterange.offset===i.byterange.offset&&e.byterange.length===i.byterange.length},LO=function(e,i){var n={};for(var r in e){var o=e[r],a=o.sidx;if(a){var s=fx(a);if(!i[s])break;var l=i[s].sidxInfo;Zye(l,a)&&(n[s]=i[s])}}return n},ewe=function(e,i){var n=LO(e.playlists,i),r=n;return _b(e,function(o,a,s,l){if(o.playlists&&o.playlists.length){var c=o.playlists;r=g9(r,LO(c,i))}}),r},N2=function(t){ge(e,t);function e(n,r,o,a){var s;o===void 0&&(o={}),s=t.call(this)||this,s.masterPlaylistLoader_=a||oe(s),a||(s.isMaster_=!0);var l=o,c=l.withCredentials,u=c===void 0?!1:c,f=l.handleManifestRedirects,h=f===void 0?!1:f;if(s.vhs_=r,s.withCredentials=u,s.handleManifestRedirects=h,!n)throw new Error("A non-empty playlist URL or object is required");return s.on("minimumUpdatePeriod",function(){s.refreshXml_()}),s.on("mediaupdatetimeout",function(){s.refreshMedia_(s.media().id)}),s.state="HAVE_NOTHING",s.loadedPlaylists_={},s.logger_=Jo("DashPlaylistLoader"),s.isMaster_?(s.masterPlaylistLoader_.srcUrl=n,s.masterPlaylistLoader_.sidxMapping_={}):s.childPlaylist_=n,s}var i=e.prototype;return i.requestErrored_=function(r,o,a){if(!this.request)return!0;if(this.request=null,r)return this.error=typeof r=="object"&&!(r instanceof Error)?r:{status:o.status,message:"DASH request error at URL: "+o.uri,response:o.response,code:2},a&&(this.state=a),this.trigger("error"),!0},i.addSidxSegments_=function(r,o,a){var s=this,l=r.sidx&&fx(r.sidx);if(!r.sidx||!l||this.masterPlaylistLoader_.sidxMapping_[l]){this.mediaRequest_=Q.setTimeout(function(){return a(!1)},0);return}var c=Ew(this.handleManifestRedirects,r.sidx.resolvedUri),u=function(h,m){if(!s.requestErrored_(h,m,o)){var b=s.masterPlaylistLoader_.sidxMapping_,w;try{w=b0e(ot(m.response).subarray(8))}catch(g){s.requestErrored_(g,m,o);return}return b[l]={sidxInfo:r.sidx,sidx:w},cz(r,w,r.sidx.resolvedUri),a(!0)}};this.request=qye(c,this.vhs_.xhr,function(f,h,m,b){if(f)return u(f,h);if(!m||m!=="mp4")return u({status:h.status,message:"Unsupported "+(m||"unknown")+" container type for sidx segment at URL: "+c,response:"",playlist:r,internal:!0,blacklistDuration:1/0,code:2},h);var w=r.sidx.byterange,g=w.offset,A=w.length;if(b.length>=A+g)return u(f,{response:b.subarray(g,g+A),status:h.status,uri:h.uri});s.request=s.vhs_.xhr({uri:c,responseType:"arraybuffer",headers:F2({byterange:r.sidx.byterange})},u)})},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},Q.clearTimeout(this.minimumUpdatePeriodTimeout_),Q.clearTimeout(this.mediaRequest_),Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){if(this.request){var r=this.request;this.request=null,r.onreadystatechange=null,r.abort()}},i.media=function(r){var o=this;if(!r)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var a=this.state;if(typeof r=="string"){if(!this.masterPlaylistLoader_.master.playlists[r])throw new Error("Unknown playlist URI: "+r);r=this.masterPlaylistLoader_.master.playlists[r]}var s=!this.media_||r.id!==this.media_.id;if(s&&this.loadedPlaylists_[r.id]&&this.loadedPlaylists_[r.id].endList){this.state="HAVE_METADATA",this.media_=r,s&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!s||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(r,a,function(l){o.haveMetadata({startingState:a,playlist:r})}))},i.haveMetadata=function(r){var o=r.startingState,a=r.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[a.id]=a,this.mediaRequest_=null,this.refreshMedia_(a.id),o==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},i.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(Q.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},i.load=function(r){var o=this;Q.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var a=this.media();if(r){var s=a?a.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=Q.setTimeout(function(){return o.load()},s);return}if(!this.started){this.start();return}a&&!a.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},i.start=function(){var r=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=Q.setTimeout(function(){return r.haveMaster_()},0);return}this.requestMaster_(function(o,a){r.haveMaster_(),!r.hasPendingRequest()&&!r.media_&&r.media(r.masterPlaylistLoader_.master.playlists[0])})},i.requestMaster_=function(r){var o=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(a,s){if(o.requestErrored_(a,s)){o.state==="HAVE_NOTHING"&&(o.started=!1);return}var l=s.responseText!==o.masterPlaylistLoader_.masterXml_;if(o.masterPlaylistLoader_.masterXml_=s.responseText,s.responseHeaders&&s.responseHeaders.date?o.masterLoaded_=Date.parse(s.responseHeaders.date):o.masterLoaded_=Date.now(),o.masterPlaylistLoader_.srcUrl=Ew(o.handleManifestRedirects,o.masterPlaylistLoader_.srcUrl,s),l){o.handleMaster_(),o.syncClientServerClock_(function(){return r(s,l)});return}return r(s,l)})},i.syncClientServerClock_=function(r){var o=this,a=m0e(this.masterPlaylistLoader_.masterXml_);if(a===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),r();if(a.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=a.value-Date.now(),r();this.request=this.vhs_.xhr({uri:Mo(this.masterPlaylistLoader_.srcUrl,a.value),method:a.method,withCredentials:this.withCredentials},function(s,l){if(!!o.request){if(s)return o.masterPlaylistLoader_.clientOffset_=o.masterLoaded_-Date.now(),r();var c;a.method==="HEAD"?!l.responseHeaders||!l.responseHeaders.date?c=o.masterLoaded_:c=Date.parse(l.responseHeaders.date):c=Date.parse(l.responseText),o.masterPlaylistLoader_.clientOffset_=c-Date.now(),r()}})},i.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},i.handleMaster_=function(){this.mediaRequest_=null;var r=Xye({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_}),o=this.masterPlaylistLoader_.master;o&&(r=Jye(o,r,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=r||o;var a=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return a&&a!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=a),(!o||r&&r.minimumUpdatePeriod!==o.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(r)},i.updateMinimumUpdatePeriodTimeout_=function(){var r=this.masterPlaylistLoader_;r.createMupOnMedia_&&(r.off("loadedmetadata",r.createMupOnMedia_),r.createMupOnMedia_=null),r.minimumUpdatePeriodTimeout_&&(Q.clearTimeout(r.minimumUpdatePeriodTimeout_),r.minimumUpdatePeriodTimeout_=null);var o=r.master&&r.master.minimumUpdatePeriod;if(o===0&&(r.media()?o=r.media().targetDuration*1e3:(r.createMupOnMedia_=r.updateMinimumUpdatePeriodTimeout_,r.one("loadedmetadata",r.createMupOnMedia_))),typeof o!="number"||o<=0){o<0&&this.logger_("found invalid minimumUpdatePeriod of "+o+", not setting a timeout");return}this.createMUPTimeout_(o)},i.createMUPTimeout_=function(r){var o=this.masterPlaylistLoader_;o.minimumUpdatePeriodTimeout_=Q.setTimeout(function(){o.minimumUpdatePeriodTimeout_=null,o.trigger("minimumUpdatePeriod"),o.createMUPTimeout_(r)},r)},i.refreshXml_=function(){var r=this;this.requestMaster_(function(o,a){!a||(r.media_&&(r.media_=r.masterPlaylistLoader_.master.playlists[r.media_.id]),r.masterPlaylistLoader_.sidxMapping_=ewe(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.sidxMapping_),r.addSidxSegments_(r.media(),r.state,function(s){r.refreshMedia_(r.media().id)}))})},i.refreshMedia_=function(r){var o=this;if(!r)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var a=this.masterPlaylistLoader_.master.playlists,s=!this.media_||this.media_!==a[r];if(s?this.media_=a[r]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var l=function c(){o.media().endList||(o.mediaUpdateTimeout=Q.setTimeout(function(){o.trigger("mediaupdatetimeout"),c()},M2(o.media(),Boolean(s))))};l()}this.trigger("loadedplaylist")},e}(Kye),Xi={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},twe=function(e){for(var i=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i.buffer},b9=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},iwe=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var i=new BlobBuilder;return i.append(e),URL.createObjectURL(i.getBlob())}},v9=function(e){return function(){var i=iwe(e),n=b9(new Worker(i));n.objURL=i;var r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(i),r.call(this)},n}},y9=function(e){return"var browserWorkerPolyFill = "+b9.toString()+`;
browserWorkerPolyFill(self);
`+e},w9=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},nwe=y9(w9(function(){var t=function(){this.init=function(){var y={};this.on=function(_,k){y[_]||(y[_]=[]),y[_]=y[_].concat(k)},this.off=function(_,k){var S;return y[_]?(S=y[_].indexOf(k),y[_]=y[_].slice(),y[_].splice(S,1),S>-1):!1},this.trigger=function(_){var k,S,I,R;if(k=y[_],!!k)if(arguments.length===2)for(I=k.length,S=0;S<I;++S)k[S].call(this,arguments[1]);else{for(R=[],S=arguments.length,S=1;S<arguments.length;++S)R.push(arguments[S]);for(I=k.length,S=0;S<I;++S)k[S].apply(this,R)}},this.dispose=function(){y={}}}};t.prototype.pipe=function(M){return this.on("data",function(y){M.push(y)}),this.on("done",function(y){M.flush(y)}),this.on("partialdone",function(y){M.partialFlush(y)}),this.on("endedtimeline",function(y){M.endTimeline(y)}),this.on("reset",function(y){M.reset(y)}),M},t.prototype.push=function(M){this.trigger("data",M)},t.prototype.flush=function(M){this.trigger("done",M)},t.prototype.partialFlush=function(M){this.trigger("partialdone",M)},t.prototype.endTimeline=function(M){this.trigger("endedtimeline",M)},t.prototype.reset=function(M){this.trigger("reset",M)};var e=t,i=Math.pow(2,32)-1,n,r,o,a,s,l,c,u,f,h,m,b,w,g,A,x,T,C,z,L,B,O,F,H,K,fe,Ae,Se,ke,Oe,Fe,Ve,Le,Me,ce,Z;(function(){var M;if(F={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(M in F)F.hasOwnProperty(M)&&(F[M]=[M.charCodeAt(0),M.charCodeAt(1),M.charCodeAt(2),M.charCodeAt(3)]);H=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),fe=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),K=new Uint8Array([0,0,0,1]),Ae=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Se=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ke={video:Ae,audio:Se},Ve=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Fe=new Uint8Array([0,0,0,0,0,0,0,0]),Le=new Uint8Array([0,0,0,0,0,0,0,0]),Me=Le,ce=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Z=Le,Oe=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),n=function(y){var _=[],k=0,S,I,R;for(S=1;S<arguments.length;S++)_.push(arguments[S]);for(S=_.length;S--;)k+=_[S].byteLength;for(I=new Uint8Array(k+8),R=new DataView(I.buffer,I.byteOffset,I.byteLength),R.setUint32(0,I.byteLength),I.set(y,4),S=0,k=8;S<_.length;S++)I.set(_[S],k),k+=_[S].byteLength;return I},r=function(){return n(F.dinf,n(F.dref,Ve))},o=function(y){return n(F.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,y.audioobjecttype<<3|y.samplingfrequencyindex>>>1,y.samplingfrequencyindex<<7|y.channelcount<<3,6,1,2]))},a=function(){return n(F.ftyp,H,K,H,fe)},x=function(y){return n(F.hdlr,ke[y])},s=function(y){return n(F.mdat,y)},A=function(y){var _=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,y.duration>>>24&255,y.duration>>>16&255,y.duration>>>8&255,y.duration&255,85,196,0,0]);return y.samplerate&&(_[12]=y.samplerate>>>24&255,_[13]=y.samplerate>>>16&255,_[14]=y.samplerate>>>8&255,_[15]=y.samplerate&255),n(F.mdhd,_)},g=function(y){return n(F.mdia,A(y),x(y.type),c(y))},l=function(y){return n(F.mfhd,new Uint8Array([0,0,0,0,(y&4278190080)>>24,(y&16711680)>>16,(y&65280)>>8,y&255]))},c=function(y){return n(F.minf,y.type==="video"?n(F.vmhd,Oe):n(F.smhd,Fe),r(),C(y))},u=function(y,_){for(var k=[],S=_.length;S--;)k[S]=L(_[S]);return n.apply(null,[F.moof,l(y)].concat(k))},f=function(y){for(var _=y.length,k=[];_--;)k[_]=b(y[_]);return n.apply(null,[F.moov,m(4294967295)].concat(k).concat(h(y)))},h=function(y){for(var _=y.length,k=[];_--;)k[_]=B(y[_]);return n.apply(null,[F.mvex].concat(k))},m=function(y){var _=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(y&4278190080)>>24,(y&16711680)>>16,(y&65280)>>8,y&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n(F.mvhd,_)},T=function(y){var _=y.samples||[],k=new Uint8Array(4+_.length),S,I;for(I=0;I<_.length;I++)S=_[I].flags,k[I+4]=S.dependsOn<<4|S.isDependedOn<<2|S.hasRedundancy;return n(F.sdtp,k)},C=function(y){return n(F.stbl,z(y),n(F.stts,Z),n(F.stsc,Me),n(F.stsz,ce),n(F.stco,Le))},function(){var M,y;z=function(k){return n(F.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),k.type==="video"?M(k):y(k))},M=function(k){var S=k.sps||[],I=k.pps||[],R=[],U=[],G,q;for(G=0;G<S.length;G++)R.push((S[G].byteLength&65280)>>>8),R.push(S[G].byteLength&255),R=R.concat(Array.prototype.slice.call(S[G]));for(G=0;G<I.length;G++)U.push((I[G].byteLength&65280)>>>8),U.push(I[G].byteLength&255),U=U.concat(Array.prototype.slice.call(I[G]));if(q=[F.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(k.width&65280)>>8,k.width&255,(k.height&65280)>>8,k.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n(F.avcC,new Uint8Array([1,k.profileIdc,k.profileCompatibility,k.levelIdc,255].concat([S.length],R,[I.length],U))),n(F.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],k.sarRatio){var $=k.sarRatio[0],J=k.sarRatio[1];q.push(n(F.pasp,new Uint8Array([($&4278190080)>>24,($&16711680)>>16,($&65280)>>8,$&255,(J&4278190080)>>24,(J&16711680)>>16,(J&65280)>>8,J&255])))}return n.apply(null,q)},y=function(k){return n(F.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(k.channelcount&65280)>>8,k.channelcount&255,(k.samplesize&65280)>>8,k.samplesize&255,0,0,0,0,(k.samplerate&65280)>>8,k.samplerate&255,0,0]),o(k))}}(),w=function(y){var _=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(y.id&4278190080)>>24,(y.id&16711680)>>16,(y.id&65280)>>8,y.id&255,0,0,0,0,(y.duration&4278190080)>>24,(y.duration&16711680)>>16,(y.duration&65280)>>8,y.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(y.width&65280)>>8,y.width&255,0,0,(y.height&65280)>>8,y.height&255,0,0]);return n(F.tkhd,_)},L=function(y){var _,k,S,I,R,U,G;return _=n(F.tfhd,new Uint8Array([0,0,0,58,(y.id&4278190080)>>24,(y.id&16711680)>>16,(y.id&65280)>>8,y.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),U=Math.floor(y.baseMediaDecodeTime/(i+1)),G=Math.floor(y.baseMediaDecodeTime%(i+1)),k=n(F.tfdt,new Uint8Array([1,0,0,0,U>>>24&255,U>>>16&255,U>>>8&255,U&255,G>>>24&255,G>>>16&255,G>>>8&255,G&255])),R=32+20+8+16+8+8,y.type==="audio"?(S=O(y,R),n(F.traf,_,k,S)):(I=T(y),S=O(y,I.length+R),n(F.traf,_,k,S,I))},b=function(y){return y.duration=y.duration||4294967295,n(F.trak,w(y),g(y))},B=function(y){var _=new Uint8Array([0,0,0,0,(y.id&4278190080)>>24,(y.id&16711680)>>16,(y.id&65280)>>8,y.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return y.type!=="video"&&(_[_.length-1]=0),n(F.trex,_)},function(){var M,y,_;_=function(S,I){var R=0,U=0,G=0,q=0;return S.length&&(S[0].duration!==void 0&&(R=1),S[0].size!==void 0&&(U=2),S[0].flags!==void 0&&(G=4),S[0].compositionTimeOffset!==void 0&&(q=8)),[0,0,R|U|G|q,1,(S.length&4278190080)>>>24,(S.length&16711680)>>>16,(S.length&65280)>>>8,S.length&255,(I&4278190080)>>>24,(I&16711680)>>>16,(I&65280)>>>8,I&255]},y=function(S,I){var R,U,G,q,$,J;for(q=S.samples||[],I+=8+12+16*q.length,G=_(q,I),U=new Uint8Array(G.length+q.length*16),U.set(G),R=G.length,J=0;J<q.length;J++)$=q[J],U[R++]=($.duration&4278190080)>>>24,U[R++]=($.duration&16711680)>>>16,U[R++]=($.duration&65280)>>>8,U[R++]=$.duration&255,U[R++]=($.size&4278190080)>>>24,U[R++]=($.size&16711680)>>>16,U[R++]=($.size&65280)>>>8,U[R++]=$.size&255,U[R++]=$.flags.isLeading<<2|$.flags.dependsOn,U[R++]=$.flags.isDependedOn<<6|$.flags.hasRedundancy<<4|$.flags.paddingValue<<1|$.flags.isNonSyncSample,U[R++]=$.flags.degradationPriority&240<<8,U[R++]=$.flags.degradationPriority&15,U[R++]=($.compositionTimeOffset&4278190080)>>>24,U[R++]=($.compositionTimeOffset&16711680)>>>16,U[R++]=($.compositionTimeOffset&65280)>>>8,U[R++]=$.compositionTimeOffset&255;return n(F.trun,U)},M=function(S,I){var R,U,G,q,$,J;for(q=S.samples||[],I+=8+12+8*q.length,G=_(q,I),R=new Uint8Array(G.length+q.length*8),R.set(G),U=G.length,J=0;J<q.length;J++)$=q[J],R[U++]=($.duration&4278190080)>>>24,R[U++]=($.duration&16711680)>>>16,R[U++]=($.duration&65280)>>>8,R[U++]=$.duration&255,R[U++]=($.size&4278190080)>>>24,R[U++]=($.size&16711680)>>>16,R[U++]=($.size&65280)>>>8,R[U++]=$.size&255;return n(F.trun,R)},O=function(S,I){return S.type==="audio"?M(S,I):y(S,I)}}();var de={ftyp:a,mdat:s,moof:u,moov:f,initSegment:function(y){var _=a(),k=f(y),S;return S=new Uint8Array(_.byteLength+k.byteLength),S.set(_),S.set(k,_.byteLength),S}},ie=function(y){var _,k,S=[],I=[];for(I.byteLength=0,I.nalCount=0,I.duration=0,S.byteLength=0,_=0;_<y.length;_++)k=y[_],k.nalUnitType==="access_unit_delimiter_rbsp"?(S.length&&(S.duration=k.dts-S.dts,I.byteLength+=S.byteLength,I.nalCount+=S.length,I.duration+=S.duration,I.push(S)),S=[k],S.byteLength=k.data.byteLength,S.pts=k.pts,S.dts=k.dts):(k.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(S.keyFrame=!0),S.duration=k.dts-S.dts,S.byteLength+=k.data.byteLength,S.push(k));return I.length&&(!S.duration||S.duration<=0)&&(S.duration=I[I.length-1].duration),I.byteLength+=S.byteLength,I.nalCount+=S.length,I.duration+=S.duration,I.push(S),I},se=function(y){var _,k,S=[],I=[];for(S.byteLength=0,S.nalCount=0,S.duration=0,S.pts=y[0].pts,S.dts=y[0].dts,I.byteLength=0,I.nalCount=0,I.duration=0,I.pts=y[0].pts,I.dts=y[0].dts,_=0;_<y.length;_++)k=y[_],k.keyFrame?(S.length&&(I.push(S),I.byteLength+=S.byteLength,I.nalCount+=S.nalCount,I.duration+=S.duration),S=[k],S.nalCount=k.length,S.byteLength=k.byteLength,S.pts=k.pts,S.dts=k.dts,S.duration=k.duration):(S.duration+=k.duration,S.nalCount+=k.length,S.byteLength+=k.byteLength,S.push(k));return I.length&&S.duration<=0&&(S.duration=I[I.length-1].duration),I.byteLength+=S.byteLength,I.nalCount+=S.nalCount,I.duration+=S.duration,I.push(S),I},pe=function(y){var _;return!y[0][0].keyFrame&&y.length>1&&(_=y.shift(),y.byteLength-=_.byteLength,y.nalCount-=_.nalCount,y[0][0].dts=_.dts,y[0][0].pts=_.pts,y[0][0].duration+=_.duration),y},xe=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},we=function(y,_){var k=xe();return k.dataOffset=_,k.compositionTimeOffset=y.pts-y.dts,k.duration=y.duration,k.size=4*y.length,k.size+=y.byteLength,y.keyFrame&&(k.flags.dependsOn=2,k.flags.isNonSyncSample=0),k},Pe=function(y,_){var k,S,I,R,U,G=_||0,q=[];for(k=0;k<y.length;k++)for(R=y[k],S=0;S<R.length;S++)U=R[S],I=we(U,G),G+=I.size,q.push(I);return q},Ye=function(y){var _,k,S,I,R,U,G=0,q=y.byteLength,$=y.nalCount,J=q+4*$,me=new Uint8Array(J),je=new DataView(me.buffer);for(_=0;_<y.length;_++)for(I=y[_],k=0;k<I.length;k++)for(R=I[k],S=0;S<R.length;S++)U=R[S],je.setUint32(G,U.data.byteLength),G+=4,me.set(U.data,G),G+=U.data.byteLength;return me},$e=function(y,_){var k,S=_||0,I=[];return k=we(y,S),I.push(k),I},nt=function(y){var _,k,S=0,I=y.byteLength,R=y.length,U=I+4*R,G=new Uint8Array(U),q=new DataView(G.buffer);for(_=0;_<y.length;_++)k=y[_],q.setUint32(S,k.data.byteLength),S+=4,G.set(k.data,S),S+=k.data.byteLength;return G},Zt={groupNalsIntoFrames:ie,groupFramesIntoGops:se,extendFirstKeyFrame:pe,generateSampleTable:Pe,concatenateNalData:Ye,generateSampleTableForFrame:$e,concatenateNalDataForFrame:nt},Lt=[33,16,5,32,164,27],Or=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Ct=function(y){for(var _=[];y--;)_.push(0);return _},cn=function(y){return Object.keys(y).reduce(function(_,k){return _[k]=new Uint8Array(y[k].reduce(function(S,I){return S.concat(I)},[])),_},{})},Ze,Na=function(){if(!Ze){var y={96e3:[Lt,[227,64],Ct(154),[56]],88200:[Lt,[231],Ct(170),[56]],64e3:[Lt,[248,192],Ct(240),[56]],48e3:[Lt,[255,192],Ct(268),[55,148,128],Ct(54),[112]],44100:[Lt,[255,192],Ct(268),[55,163,128],Ct(84),[112]],32e3:[Lt,[255,192],Ct(268),[55,234],Ct(226),[112]],24e3:[Lt,[255,192],Ct(268),[55,255,128],Ct(268),[111,112],Ct(126),[224]],16e3:[Lt,[255,192],Ct(268),[55,255,128],Ct(268),[111,255],Ct(269),[223,108],Ct(195),[1,192]],12e3:[Or,Ct(268),[3,127,248],Ct(268),[6,255,240],Ct(268),[13,255,224],Ct(268),[27,253,128],Ct(259),[56]],11025:[Or,Ct(268),[3,127,248],Ct(268),[6,255,240],Ct(268),[13,255,224],Ct(268),[27,255,192],Ct(268),[55,175,128],Ct(108),[112]],8e3:[Or,Ct(268),[3,121,16],Ct(47),[7]]};Ze=cn(y)}return Ze},vi=9e4,hi,ao,so,ja,Eo,Zl,zo;hi=function(y){return y*vi},ao=function(y,_){return y*_},so=function(y){return y/vi},ja=function(y,_){return y/_},Eo=function(y,_){return hi(ja(y,_))},Zl=function(y,_){return ao(so(y),_)},zo=function(y,_,k){return so(k?y:y-_)};var bt={ONE_SECOND_IN_TS:vi,secondsToVideoTs:hi,secondsToAudioTs:ao,videoTsToSeconds:so,audioTsToSeconds:ja,audioTsToVideoTs:Eo,videoTsToAudioTs:Zl,metadataTsToSeconds:zo},_p=function(y){var _,k,S=0;for(_=0;_<y.length;_++)k=y[_],S+=k.data.byteLength;return S},Tp=function(y,_,k,S){var I,R=0,U=0,G=0,q=0,$,J,me;if(!!_.length&&(I=bt.audioTsToVideoTs(y.baseMediaDecodeTime,y.samplerate),R=Math.ceil(bt.ONE_SECOND_IN_TS/(y.samplerate/1024)),k&&S&&(U=I-Math.max(k,S),G=Math.floor(U/R),q=G*R),!(G<1||q>bt.ONE_SECOND_IN_TS/2))){for($=Na()[y.samplerate],$||($=_[0].data),J=0;J<G;J++)me=_[0],_.splice(0,0,{data:$,dts:me.dts-R,pts:me.pts-R});return y.baseMediaDecodeTime-=Math.floor(bt.videoTsToAudioTs(q,y.samplerate)),q}},Sp=function(y,_,k){return _.minSegmentDts>=k?y:(_.minSegmentDts=1/0,y.filter(function(S){return S.dts>=k?(_.minSegmentDts=Math.min(_.minSegmentDts,S.dts),_.minSegmentPts=_.minSegmentDts,!0):!1}))},Cp=function(y){var _,k,S=[];for(_=0;_<y.length;_++)k=y[_],S.push({size:k.data.byteLength,duration:1024});return S},Ep=function(y){var _,k,S=0,I=new Uint8Array(_p(y));for(_=0;_<y.length;_++)k=y[_],I.set(k.data,S),S+=k.data.byteLength;return I},Ys={prefixWithSilence:Tp,trimAdtsFramesByEarliestDts:Sp,generateSampleTable:Cp,concatenateFrameData:Ep},zp=bt.ONE_SECOND_IN_TS,Ip=function(y,_){typeof _.pts=="number"&&(y.timelineStartInfo.pts===void 0&&(y.timelineStartInfo.pts=_.pts),y.minSegmentPts===void 0?y.minSegmentPts=_.pts:y.minSegmentPts=Math.min(y.minSegmentPts,_.pts),y.maxSegmentPts===void 0?y.maxSegmentPts=_.pts:y.maxSegmentPts=Math.max(y.maxSegmentPts,_.pts)),typeof _.dts=="number"&&(y.timelineStartInfo.dts===void 0&&(y.timelineStartInfo.dts=_.dts),y.minSegmentDts===void 0?y.minSegmentDts=_.dts:y.minSegmentDts=Math.min(y.minSegmentDts,_.dts),y.maxSegmentDts===void 0?y.maxSegmentDts=_.dts:y.maxSegmentDts=Math.max(y.maxSegmentDts,_.dts))},Pp=function(y){delete y.minSegmentDts,delete y.maxSegmentDts,delete y.minSegmentPts,delete y.maxSegmentPts},Ex=function(y,_){var k,S,I=y.minSegmentDts;return _||(I-=y.timelineStartInfo.dts),k=y.timelineStartInfo.baseMediaDecodeTime,k+=I,k=Math.max(0,k),y.type==="audio"&&(S=y.samplerate/zp,k*=S,k=Math.floor(k)),k},Dr={clearDtsInfo:Pp,calculateTrackBaseMediaDecodeTime:Ex,collectDtsInfo:Ip},Tb=4,Sb=128,Cb=function(y){for(var _=0,k={payloadType:-1,payloadSize:0},S=0,I=0;_<y.byteLength&&y[_]!==Sb;){for(;y[_]===255;)S+=255,_++;for(S+=y[_++];y[_]===255;)I+=255,_++;if(I+=y[_++],!k.payload&&S===Tb){var R=String.fromCharCode(y[_+3],y[_+4],y[_+5],y[_+6]);if(R==="GA94"){k.payloadType=S,k.payloadSize=I,k.payload=y.subarray(_,_+I);break}else k.payload=void 0}_+=I,S=0,I=0}return k},zx=function(y){return y.payload[0]!==181||(y.payload[1]<<8|y.payload[2])!==49||String.fromCharCode(y.payload[3],y.payload[4],y.payload[5],y.payload[6])!=="GA94"||y.payload[7]!==3?null:y.payload.subarray(8,y.payload.length-1)},Ix=function(y,_){var k=[],S,I,R,U;if(!(_[0]&64))return k;for(I=_[0]&31,S=0;S<I;S++)R=S*3,U={type:_[R+2]&3,pts:y},_[R+2]&4&&(U.ccData=_[R+3]<<8|_[R+4],k.push(U));return k},Px=function(y){for(var _=y.byteLength,k=[],S=1,I,R;S<_-2;)y[S]===0&&y[S+1]===0&&y[S+2]===3?(k.push(S+2),S+=2):S++;if(k.length===0)return y;I=_-k.length,R=new Uint8Array(I);var U=0;for(S=0;S<I;U++,S++)U===k[0]&&(U++,k.shift()),R[S]=y[U];return R},ec={parseSei:Cb,parseUserData:zx,parseCaptionPackets:Ix,discardEmulationPreventionBytes:Px,USER_DATA_REGISTERED_ITU_T_T35:Tb},xn=function M(y){y=y||{},M.prototype.init.call(this),this.parse708captions_=typeof y.parse708captions=="boolean"?y.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new ri(0,0),new ri(0,1),new ri(1,0),new ri(1,1)],this.parse708captions_&&(this.cc708Stream_=new Gt({captionServices:y.captionServices})),this.reset(),this.ccStreams_.forEach(function(_){_.on("data",this.trigger.bind(this,"data")),_.on("partialdone",this.trigger.bind(this,"partialdone")),_.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};xn.prototype=new e,xn.prototype.push=function(M){var y,_,k;if(M.nalUnitType==="sei_rbsp"&&(y=ec.parseSei(M.escapedRBSP),!!y.payload&&y.payloadType===ec.USER_DATA_REGISTERED_ITU_T_T35&&(_=ec.parseUserData(y),!!_))){if(M.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(M.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}k=ec.parseCaptionPackets(M.pts,_),this.captionPackets_=this.captionPackets_.concat(k),this.latestDts_!==M.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=M.dts}},xn.prototype.flushCCStreams=function(M){this.ccStreams_.forEach(function(y){return M==="flush"?y.flush():y.partialFlush()},this)},xn.prototype.flushStream=function(M){if(!this.captionPackets_.length){this.flushCCStreams(M);return}this.captionPackets_.forEach(function(y,_){y.presortIndex=_}),this.captionPackets_.sort(function(y,_){return y.pts===_.pts?y.presortIndex-_.presortIndex:y.pts-_.pts}),this.captionPackets_.forEach(function(y){y.type<2?this.dispatchCea608Packet(y):this.dispatchCea708Packet(y)},this),this.captionPackets_.length=0,this.flushCCStreams(M)},xn.prototype.flush=function(){return this.flushStream("flush")},xn.prototype.partialFlush=function(){return this.flushStream("partialFlush")},xn.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(M){M.reset()})},xn.prototype.dispatchCea608Packet=function(M){this.setsTextOrXDSActive(M)?this.activeCea608Channel_[M.type]=null:this.setsChannel1Active(M)?this.activeCea608Channel_[M.type]=0:this.setsChannel2Active(M)&&(this.activeCea608Channel_[M.type]=1),this.activeCea608Channel_[M.type]!==null&&this.ccStreams_[(M.type<<1)+this.activeCea608Channel_[M.type]].push(M)},xn.prototype.setsChannel1Active=function(M){return(M.ccData&30720)===4096},xn.prototype.setsChannel2Active=function(M){return(M.ccData&30720)===6144},xn.prototype.setsTextOrXDSActive=function(M){return(M.ccData&28928)===256||(M.ccData&30974)===4138||(M.ccData&30974)===6186},xn.prototype.dispatchCea708Packet=function(M){this.parse708captions_&&this.cc708Stream_.push(M)};var Rx={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Lx=function(y){var _=Rx[y]||y;return y&4096&&y===_?"":String.fromCharCode(_)},Pu=function(y){return 32<=y&&y<=127||160<=y&&y<=255},Mr=function(y){this.windowNum=y,this.reset()};Mr.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Mr.prototype.getText=function(){return this.rows.join(`
`)},Mr.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Mr.prototype.newLine=function(M){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(M),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Mr.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Mr.prototype.addText=function(M){this.rows[this.rowIdx]+=M},Mr.prototype.backspace=function(){if(!this.isEmpty()){var M=this.rows[this.rowIdx];this.rows[this.rowIdx]=M.substr(0,M.length-1)}};var Ru=function(y,_,k){this.serviceNum=y,this.text="",this.currentWindow=new Mr(-1),this.windows=[],this.stream=k,typeof _=="string"&&this.createTextDecoder(_)};Ru.prototype.init=function(M,y){this.startPts=M;for(var _=0;_<8;_++)this.windows[_]=new Mr(_),typeof y=="function"&&(this.windows[_].beforeRowOverflow=y)},Ru.prototype.setCurrentWindow=function(M){this.currentWindow=this.windows[M]},Ru.prototype.createTextDecoder=function(M){if(typeof TextDecoder=="undefined")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(M)}catch(y){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+M+" encoding. "+y})}};var Gt=function M(y){y=y||{},M.prototype.init.call(this);var _=this,k=y.captionServices||{},S={},I;Object.keys(k).forEach(function(R){I=k[R],/^SERVICE/.test(R)&&(S[R]=I.encoding)}),this.serviceEncodings=S,this.current708Packet=null,this.services={},this.push=function(R){R.type===3?(_.new708Packet(),_.add708Bytes(R)):(_.current708Packet===null&&_.new708Packet(),_.add708Bytes(R))}};Gt.prototype=new e,Gt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Gt.prototype.add708Bytes=function(M){var y=M.ccData,_=y>>>8,k=y&255;this.current708Packet.ptsVals.push(M.pts),this.current708Packet.data.push(_),this.current708Packet.data.push(k)},Gt.prototype.push708Packet=function(){var M=this.current708Packet,y=M.data,_=null,k=null,S=0,I=y[S++];for(M.seq=I>>6,M.sizeCode=I&63;S<y.length;S++)I=y[S++],_=I>>5,k=I&31,_===7&&k>0&&(I=y[S++],_=I),this.pushServiceBlock(_,S,k),k>0&&(S+=k-1)},Gt.prototype.pushServiceBlock=function(M,y,_){var k,S=y,I=this.current708Packet.data,R=this.services[M];for(R||(R=this.initService(M,S));S<y+_&&S<I.length;S++)k=I[S],Pu(k)?S=this.handleText(S,R):k===24?S=this.multiByteCharacter(S,R):k===16?S=this.extendedCommands(S,R):128<=k&&k<=135?S=this.setCurrentWindow(S,R):152<=k&&k<=159?S=this.defineWindow(S,R):k===136?S=this.clearWindows(S,R):k===140?S=this.deleteWindows(S,R):k===137?S=this.displayWindows(S,R):k===138?S=this.hideWindows(S,R):k===139?S=this.toggleWindows(S,R):k===151?S=this.setWindowAttributes(S,R):k===144?S=this.setPenAttributes(S,R):k===145?S=this.setPenColor(S,R):k===146?S=this.setPenLocation(S,R):k===143?R=this.reset(S,R):k===8?R.currentWindow.backspace():k===12?R.currentWindow.clearText():k===13?R.currentWindow.pendingNewLine=!0:k===14?R.currentWindow.clearText():k===141&&S++},Gt.prototype.extendedCommands=function(M,y){var _=this.current708Packet.data,k=_[++M];return Pu(k)&&(M=this.handleText(M,y,{isExtended:!0})),M},Gt.prototype.getPts=function(M){return this.current708Packet.ptsVals[Math.floor(M/2)]},Gt.prototype.initService=function(M,y){var k="SERVICE"+M,_=this,k,S;return k in this.serviceEncodings&&(S=this.serviceEncodings[k]),this.services[M]=new Ru(M,S,_),this.services[M].init(this.getPts(y),function(I){_.flushDisplayed(I,_.services[M])}),this.services[M]},Gt.prototype.handleText=function(M,y,_){var k=_&&_.isExtended,S=_&&_.isMultiByte,I=this.current708Packet.data,R=k?4096:0,U=I[M],G=I[M+1],q=y.currentWindow,$,J;return y.textDecoder_&&!k?(S?(J=[U,G],M++):J=[U],$=y.textDecoder_.decode(new Uint8Array(J))):$=Lx(R|U),q.pendingNewLine&&!q.isEmpty()&&q.newLine(this.getPts(M)),q.pendingNewLine=!1,q.addText($),M},Gt.prototype.multiByteCharacter=function(M,y){var _=this.current708Packet.data,k=_[M+1],S=_[M+2];return Pu(k)&&Pu(S)&&(M=this.handleText(++M,y,{isMultiByte:!0})),M},Gt.prototype.setCurrentWindow=function(M,y){var _=this.current708Packet.data,k=_[M],S=k&7;return y.setCurrentWindow(S),M},Gt.prototype.defineWindow=function(M,y){var _=this.current708Packet.data,k=_[M],S=k&7;y.setCurrentWindow(S);var I=y.currentWindow;return k=_[++M],I.visible=(k&32)>>5,I.rowLock=(k&16)>>4,I.columnLock=(k&8)>>3,I.priority=k&7,k=_[++M],I.relativePositioning=(k&128)>>7,I.anchorVertical=k&127,k=_[++M],I.anchorHorizontal=k,k=_[++M],I.anchorPoint=(k&240)>>4,I.rowCount=k&15,k=_[++M],I.columnCount=k&63,k=_[++M],I.windowStyle=(k&56)>>3,I.penStyle=k&7,I.virtualRowCount=I.rowCount+1,M},Gt.prototype.setWindowAttributes=function(M,y){var _=this.current708Packet.data,k=_[M],S=y.currentWindow.winAttr;return k=_[++M],S.fillOpacity=(k&192)>>6,S.fillRed=(k&48)>>4,S.fillGreen=(k&12)>>2,S.fillBlue=k&3,k=_[++M],S.borderType=(k&192)>>6,S.borderRed=(k&48)>>4,S.borderGreen=(k&12)>>2,S.borderBlue=k&3,k=_[++M],S.borderType+=(k&128)>>5,S.wordWrap=(k&64)>>6,S.printDirection=(k&48)>>4,S.scrollDirection=(k&12)>>2,S.justify=k&3,k=_[++M],S.effectSpeed=(k&240)>>4,S.effectDirection=(k&12)>>2,S.displayEffect=k&3,M},Gt.prototype.flushDisplayed=function(M,y){for(var _=[],k=0;k<8;k++)y.windows[k].visible&&!y.windows[k].isEmpty()&&_.push(y.windows[k].getText());y.endPts=M,y.text=_.join(`

`),this.pushCaption(y),y.startPts=M},Gt.prototype.pushCaption=function(M){M.text!==""&&(this.trigger("data",{startPts:M.startPts,endPts:M.endPts,text:M.text,stream:"cc708_"+M.serviceNum}),M.text="",M.startPts=M.endPts)},Gt.prototype.displayWindows=function(M,y){var _=this.current708Packet.data,k=_[++M],S=this.getPts(M);this.flushDisplayed(S,y);for(var I=0;I<8;I++)k&1<<I&&(y.windows[I].visible=1);return M},Gt.prototype.hideWindows=function(M,y){var _=this.current708Packet.data,k=_[++M],S=this.getPts(M);this.flushDisplayed(S,y);for(var I=0;I<8;I++)k&1<<I&&(y.windows[I].visible=0);return M},Gt.prototype.toggleWindows=function(M,y){var _=this.current708Packet.data,k=_[++M],S=this.getPts(M);this.flushDisplayed(S,y);for(var I=0;I<8;I++)k&1<<I&&(y.windows[I].visible^=1);return M},Gt.prototype.clearWindows=function(M,y){var _=this.current708Packet.data,k=_[++M],S=this.getPts(M);this.flushDisplayed(S,y);for(var I=0;I<8;I++)k&1<<I&&y.windows[I].clearText();return M},Gt.prototype.deleteWindows=function(M,y){var _=this.current708Packet.data,k=_[++M],S=this.getPts(M);this.flushDisplayed(S,y);for(var I=0;I<8;I++)k&1<<I&&y.windows[I].reset();return M},Gt.prototype.setPenAttributes=function(M,y){var _=this.current708Packet.data,k=_[M],S=y.currentWindow.penAttr;return k=_[++M],S.textTag=(k&240)>>4,S.offset=(k&12)>>2,S.penSize=k&3,k=_[++M],S.italics=(k&128)>>7,S.underline=(k&64)>>6,S.edgeType=(k&56)>>3,S.fontStyle=k&7,M},Gt.prototype.setPenColor=function(M,y){var _=this.current708Packet.data,k=_[M],S=y.currentWindow.penColor;return k=_[++M],S.fgOpacity=(k&192)>>6,S.fgRed=(k&48)>>4,S.fgGreen=(k&12)>>2,S.fgBlue=k&3,k=_[++M],S.bgOpacity=(k&192)>>6,S.bgRed=(k&48)>>4,S.bgGreen=(k&12)>>2,S.bgBlue=k&3,k=_[++M],S.edgeRed=(k&48)>>4,S.edgeGreen=(k&12)>>2,S.edgeBlue=k&3,M},Gt.prototype.setPenLocation=function(M,y){var _=this.current708Packet.data,k=_[M],S=y.currentWindow.penLoc;return y.currentWindow.pendingNewLine=!0,k=_[++M],S.row=k&15,k=_[++M],S.column=k&63,M},Gt.prototype.reset=function(M,y){var _=this.getPts(M);return this.flushDisplayed(_,y),this.initService(y.serviceNum,M)};var Ox={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Lu=function(y){return y===null?"":(y=Ox[y]||y,String.fromCharCode(y))},Ou=14,Dx=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ua=function(){for(var y=[],_=Ou+1;_--;)y.push("");return y},ri=function M(y,_){M.prototype.init.call(this),this.field_=y||0,this.dataChannel_=_||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(k){var S,I,R,U,G;if(S=k.ccData&32639,S===this.lastControlCode_){this.lastControlCode_=null;return}if((S&61440)===4096?this.lastControlCode_=S:S!==this.PADDING_&&(this.lastControlCode_=null),R=S>>>8,U=S&255,S!==this.PADDING_)if(S===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(S===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(k.pts),this.flushDisplayed(k.pts),I=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=I,this.startPts_=k.pts;else if(S===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(k.pts);else if(S===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(k.pts);else if(S===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(k.pts);else if(S===this.CARRIAGE_RETURN_)this.clearFormatting(k.pts),this.flushDisplayed(k.pts),this.shiftRowsUp_(),this.startPts_=k.pts;else if(S===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(S===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(k.pts),this.displayed_=Ua();else if(S===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ua();else if(S===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(k.pts),this.displayed_=Ua()),this.mode_="paintOn",this.startPts_=k.pts;else if(this.isSpecialCharacter(R,U))R=(R&3)<<8,G=Lu(R|U),this[this.mode_](k.pts,G),this.column_++;else if(this.isExtCharacter(R,U))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),R=(R&3)<<8,G=Lu(R|U),this[this.mode_](k.pts,G),this.column_++;else if(this.isMidRowCode(R,U))this.clearFormatting(k.pts),this[this.mode_](k.pts," "),this.column_++,(U&14)===14&&this.addFormatting(k.pts,["i"]),(U&1)===1&&this.addFormatting(k.pts,["u"]);else if(this.isOffsetControlCode(R,U))this.column_+=U&3;else if(this.isPAC(R,U)){var q=Dx.indexOf(S&7968);this.mode_==="rollUp"&&(q-this.rollUpRows_+1<0&&(q=this.rollUpRows_-1),this.setRollUp(k.pts,q)),q!==this.row_&&(this.clearFormatting(k.pts),this.row_=q),U&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(k.pts,["u"]),(S&16)===16&&(this.column_=((S&14)>>1)*4),this.isColorPAC(U)&&(U&14)===14&&this.addFormatting(k.pts,["i"])}else this.isNormalChar(R)&&(U===0&&(U=null),G=Lu(R),G+=Lu(U),this[this.mode_](k.pts,G),this.column_+=G.length)}};ri.prototype=new e,ri.prototype.flushDisplayed=function(M){var y=this.displayed_.map(function(_,k){try{return _.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+k+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");y.length&&this.trigger("data",{startPts:this.startPts_,endPts:M,text:y,stream:this.name_})},ri.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ua(),this.nonDisplayed_=Ua(),this.lastControlCode_=null,this.column_=0,this.row_=Ou,this.rollUpRows_=2,this.formatting_=[]},ri.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},ri.prototype.isSpecialCharacter=function(M,y){return M===this.EXT_&&y>=48&&y<=63},ri.prototype.isExtCharacter=function(M,y){return(M===this.EXT_+1||M===this.EXT_+2)&&y>=32&&y<=63},ri.prototype.isMidRowCode=function(M,y){return M===this.EXT_&&y>=32&&y<=47},ri.prototype.isOffsetControlCode=function(M,y){return M===this.OFFSET_&&y>=33&&y<=35},ri.prototype.isPAC=function(M,y){return M>=this.BASE_&&M<this.BASE_+8&&y>=64&&y<=127},ri.prototype.isColorPAC=function(M){return M>=64&&M<=79||M>=96&&M<=127},ri.prototype.isNormalChar=function(M){return M>=32&&M<=127},ri.prototype.setRollUp=function(M,y){if(this.mode_!=="rollUp"&&(this.row_=Ou,this.mode_="rollUp",this.flushDisplayed(M),this.nonDisplayed_=Ua(),this.displayed_=Ua()),y!==void 0&&y!==this.row_)for(var _=0;_<this.rollUpRows_;_++)this.displayed_[y-_]=this.displayed_[this.row_-_],this.displayed_[this.row_-_]="";y===void 0&&(y=this.row_),this.topRow_=y-this.rollUpRows_+1},ri.prototype.addFormatting=function(M,y){this.formatting_=this.formatting_.concat(y);var _=y.reduce(function(k,S){return k+"<"+S+">"},"");this[this.mode_](M,_)},ri.prototype.clearFormatting=function(M){if(!!this.formatting_.length){var y=this.formatting_.reverse().reduce(function(_,k){return _+"</"+k+">"},"");this.formatting_=[],this[this.mode_](M,y)}},ri.prototype.popOn=function(M,y){var _=this.nonDisplayed_[this.row_];_+=y,this.nonDisplayed_[this.row_]=_},ri.prototype.rollUp=function(M,y){var _=this.displayed_[this.row_];_+=y,this.displayed_[this.row_]=_},ri.prototype.shiftRowsUp_=function(){var M;for(M=0;M<this.topRow_;M++)this.displayed_[M]="";for(M=this.row_+1;M<Ou+1;M++)this.displayed_[M]="";for(M=this.topRow_;M<this.row_;M++)this.displayed_[M]=this.displayed_[M+1];this.displayed_[this.row_]=""},ri.prototype.paintOn=function(M,y){var _=this.displayed_[this.row_];_+=y,this.displayed_[this.row_]=_};var Du={CaptionStream:xn,Cea608Stream:ri,Cea708Stream:Gt},Gi={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Eb=8589934592,Mx=4294967296,zb="shared",Rp=function(y,_){var k=1;for(y>_&&(k=-1);Math.abs(_-y)>Mx;)y+=k*Eb;return y},Ib=function M(y){var _,k;M.prototype.init.call(this),this.type_=y||zb,this.push=function(S){this.type_!==zb&&S.type!==this.type_||(k===void 0&&(k=S.dts),S.dts=Rp(S.dts,k),S.pts=Rp(S.pts,k),_=S.dts,this.trigger("data",S))},this.flush=function(){k=_,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){k=void 0,_=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ib.prototype=new e;var Pb={TimestampRolloverStream:Ib,handleRollover:Rp},Rb=function(y,_,k){var S,I="";for(S=_;S<k;S++)I+="%"+("00"+y[S].toString(16)).slice(-2);return I},Ga=function(y,_,k){return decodeURIComponent(Rb(y,_,k))},Bx=function(y,_,k){return unescape(Rb(y,_,k))},Ha=function(y){return y[0]<<21|y[1]<<14|y[2]<<7|y[3]},Lb={TXXX:function(y){var _;if(y.data[0]===3){for(_=1;_<y.data.length;_++)if(y.data[_]===0){y.description=Ga(y.data,1,_),y.value=Ga(y.data,_+1,y.data.length).replace(/\0*$/,"");break}y.data=y.value}},WXXX:function(y){var _;if(y.data[0]===3){for(_=1;_<y.data.length;_++)if(y.data[_]===0){y.description=Ga(y.data,1,_),y.url=Ga(y.data,_+1,y.data.length);break}}},PRIV:function(y){var _;for(_=0;_<y.data.length;_++)if(y.data[_]===0){y.owner=Bx(y.data,0,_);break}y.privateData=y.data.subarray(_+1),y.data=y.privateData}},Mu;Mu=function(y){var _={descriptor:y&&y.descriptor},k=0,S=[],I=0,R;if(Mu.prototype.init.call(this),this.dispatchType=Gi.METADATA_STREAM_TYPE.toString(16),_.descriptor)for(R=0;R<_.descriptor.length;R++)this.dispatchType+=("00"+_.descriptor[R].toString(16)).slice(-2);this.push=function(U){var G,q,$,J,me,je;if(U.type==="timed-metadata"){if(U.dataAlignmentIndicator&&(I=0,S.length=0),S.length===0&&(U.data.length<10||U.data[0]!=="I".charCodeAt(0)||U.data[1]!=="D".charCodeAt(0)||U.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(S.push(U),I+=U.data.byteLength,S.length===1&&(k=Ha(U.data.subarray(6,10)),k+=10),!(I<k)){for(G={data:new Uint8Array(k),frames:[],pts:S[0].pts,dts:S[0].dts},me=0;me<k;)G.data.set(S[0].data.subarray(0,k-me),me),me+=S[0].data.byteLength,I-=S[0].data.byteLength,S.shift();q=10,G.data[5]&64&&(q+=4,q+=Ha(G.data.subarray(10,14)),k-=Ha(G.data.subarray(16,20)));do{if($=Ha(G.data.subarray(q+4,q+8)),$<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(je=String.fromCharCode(G.data[q],G.data[q+1],G.data[q+2],G.data[q+3]),J={id:je,data:G.data.subarray(q+10,q+$+10)},J.key=J.id,Lb[J.id]&&(Lb[J.id](J),J.owner==="com.apple.streaming.transportStreamTimestamp")){var Ke=J.data,Ee=(Ke[3]&1)<<30|Ke[4]<<22|Ke[5]<<14|Ke[6]<<6|Ke[7]>>>2;Ee*=4,Ee+=Ke[7]&3,J.timeStamp=Ee,G.pts===void 0&&G.dts===void 0&&(G.pts=J.timeStamp,G.dts=J.timeStamp),this.trigger("timestamp",J)}G.frames.push(J),q+=10,q+=$}while(q<k);this.trigger("data",G)}}}},Mu.prototype=new e;var Fx=Mu,Ob=Pb.TimestampRolloverStream,tc,Ws,Bu,Vs=188,Lp=71;tc=function(){var y=new Uint8Array(Vs),_=0;tc.prototype.init.call(this),this.push=function(k){var S=0,I=Vs,R;for(_?(R=new Uint8Array(k.byteLength+_),R.set(y.subarray(0,_)),R.set(k,_),_=0):R=k;I<R.byteLength;){if(R[S]===Lp&&R[I]===Lp){this.trigger("data",R.subarray(S,I)),S+=Vs,I+=Vs;continue}S++,I++}S<R.byteLength&&(y.set(R.subarray(S),0),_=R.byteLength-S)},this.flush=function(){_===Vs&&y[0]===Lp&&(this.trigger("data",y),_=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){_=0,this.trigger("reset")}},tc.prototype=new e,Ws=function(){var y,_,k,S;Ws.prototype.init.call(this),S=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,y=function(R,U){var G=0;U.payloadUnitStartIndicator&&(G+=R[G]+1),U.type==="pat"?_(R.subarray(G),U):k(R.subarray(G),U)},_=function(R,U){U.section_number=R[7],U.last_section_number=R[8],S.pmtPid=(R[10]&31)<<8|R[11],U.pmtPid=S.pmtPid},k=function(R,U){var G,q,$,J;if(!!(R[5]&1)){for(S.programMapTable={video:null,audio:null,"timed-metadata":{}},G=(R[1]&15)<<8|R[2],q=3+G-4,$=(R[10]&15)<<8|R[11],J=12+$;J<q;){var me=R[J],je=(R[J+1]&31)<<8|R[J+2];me===Gi.H264_STREAM_TYPE&&S.programMapTable.video===null?S.programMapTable.video=je:me===Gi.ADTS_STREAM_TYPE&&S.programMapTable.audio===null?S.programMapTable.audio=je:me===Gi.METADATA_STREAM_TYPE&&(S.programMapTable["timed-metadata"][je]=me),J+=((R[J+3]&15)<<8|R[J+4])+5}U.programMapTable=S.programMapTable}},this.push=function(I){var R={},U=4;if(R.payloadUnitStartIndicator=!!(I[1]&64),R.pid=I[1]&31,R.pid<<=8,R.pid|=I[2],(I[3]&48)>>>4>1&&(U+=I[U]+1),R.pid===0)R.type="pat",y(I.subarray(U),R),this.trigger("data",R);else if(R.pid===this.pmtPid)for(R.type="pmt",y(I.subarray(U),R),this.trigger("data",R);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([I,U,R]):this.processPes_(I,U,R)},this.processPes_=function(I,R,U){U.pid===this.programMapTable.video?U.streamType=Gi.H264_STREAM_TYPE:U.pid===this.programMapTable.audio?U.streamType=Gi.ADTS_STREAM_TYPE:U.streamType=this.programMapTable["timed-metadata"][U.pid],U.type="pes",U.data=I.subarray(R),this.trigger("data",U)}},Ws.prototype=new e,Ws.STREAM_TYPES={h264:27,adts:15},Bu=function(){var y=this,_=!1,k={data:[],size:0},S={data:[],size:0},I={data:[],size:0},R,U=function($,J){var me,je=$[0]<<16|$[1]<<8|$[2];J.data=new Uint8Array,je===1&&(J.packetLength=6+($[4]<<8|$[5]),J.dataAlignmentIndicator=($[6]&4)!==0,me=$[7],me&192&&(J.pts=($[9]&14)<<27|($[10]&255)<<20|($[11]&254)<<12|($[12]&255)<<5|($[13]&254)>>>3,J.pts*=4,J.pts+=($[13]&6)>>>1,J.dts=J.pts,me&64&&(J.dts=($[14]&14)<<27|($[15]&255)<<20|($[16]&254)<<12|($[17]&255)<<5|($[18]&254)>>>3,J.dts*=4,J.dts+=($[18]&6)>>>1)),J.data=$.subarray(9+$[8]))},G=function($,J,me){var je=new Uint8Array($.size),Ke={type:J},Ee=0,V=0,ue=!1,ae;if(!(!$.data.length||$.size<9)){for(Ke.trackId=$.data[0].pid,Ee=0;Ee<$.data.length;Ee++)ae=$.data[Ee],je.set(ae.data,V),V+=ae.data.byteLength;U(je,Ke),ue=J==="video"||Ke.packetLength<=$.size,(me||ue)&&($.size=0,$.data.length=0),ue&&y.trigger("data",Ke)}};Bu.prototype.init.call(this),this.push=function(q){({pat:function(){},pes:function(){var J,me;switch(q.streamType){case Gi.H264_STREAM_TYPE:J=k,me="video";break;case Gi.ADTS_STREAM_TYPE:J=S,me="audio";break;case Gi.METADATA_STREAM_TYPE:J=I,me="timed-metadata";break;default:return}q.payloadUnitStartIndicator&&G(J,me,!0),J.data.push(q),J.size+=q.data.byteLength},pmt:function(){var J={type:"metadata",tracks:[]};R=q.programMapTable,R.video!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.video,codec:"avc",type:"video"}),R.audio!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.audio,codec:"adts",type:"audio"}),_=!0,y.trigger("data",J)}})[q.type]()},this.reset=function(){k.size=0,k.data.length=0,S.size=0,S.data.length=0,this.trigger("reset")},this.flushStreams_=function(){G(k,"video"),G(S,"audio"),G(I,"timed-metadata")},this.flush=function(){if(!_&&R){var q={type:"metadata",tracks:[]};R.video!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.video,codec:"avc",type:"video"}),R.audio!==null&&q.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+R.audio,codec:"adts",type:"audio"}),y.trigger("data",q)}_=!1,this.flushStreams_(),this.trigger("done")}},Bu.prototype=new e;var Db={PAT_PID:0,MP2T_PACKET_LENGTH:Vs,TransportPacketStream:tc,TransportParseStream:Ws,ElementaryStream:Bu,TimestampRolloverStream:Ob,CaptionStream:Du.CaptionStream,Cea608Stream:Du.Cea608Stream,Cea708Stream:Du.Cea708Stream,MetadataStream:Fx};for(var Fu in Gi)Gi.hasOwnProperty(Fu)&&(Db[Fu]=Gi[Fu]);var lo=Db,Mb=bt.ONE_SECOND_IN_TS,$s,Bb=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];$s=function(y){var _,k=0;$s.prototype.init.call(this),this.skipWarn_=function(S,I){this.trigger("log",{level:"warn",message:"adts skiping bytes "+S+" to "+I+" in frame "+k+" outside syncword"})},this.push=function(S){var I=0,R,U,G,q,$;if(y||(k=0),S.type==="audio"){_&&_.length?(G=_,_=new Uint8Array(G.byteLength+S.data.byteLength),_.set(G),_.set(S.data,G.byteLength)):_=S.data;for(var J;I+7<_.length;){if(_[I]!==255||(_[I+1]&246)!==240){typeof J!="number"&&(J=I),I++;continue}if(typeof J=="number"&&(this.skipWarn_(J,I),J=null),U=(~_[I+1]&1)*2,R=(_[I+3]&3)<<11|_[I+4]<<3|(_[I+5]&224)>>5,q=((_[I+6]&3)+1)*1024,$=q*Mb/Bb[(_[I+2]&60)>>>2],_.byteLength-I<R)break;this.trigger("data",{pts:S.pts+k*$,dts:S.dts+k*$,sampleCount:q,audioobjecttype:(_[I+2]>>>6&3)+1,channelcount:(_[I+2]&1)<<2|(_[I+3]&192)>>>6,samplerate:Bb[(_[I+2]&60)>>>2],samplingfrequencyindex:(_[I+2]&60)>>>2,samplesize:16,data:_.subarray(I+7+U,I+R)}),k++,I+=R}typeof J=="number"&&(this.skipWarn_(J,I),J=null),_=_.subarray(I)}},this.flush=function(){k=0,this.trigger("done")},this.reset=function(){_=void 0,this.trigger("reset")},this.endTimeline=function(){_=void 0,this.trigger("endedtimeline")}},$s.prototype=new e;var Op=$s,ic;ic=function(y){var _=y.byteLength,k=0,S=0;this.length=function(){return 8*_},this.bitsAvailable=function(){return 8*_+S},this.loadWord=function(){var I=y.byteLength-_,R=new Uint8Array(4),U=Math.min(4,_);if(U===0)throw new Error("no bytes available");R.set(y.subarray(I,I+U)),k=new DataView(R.buffer).getUint32(0),S=U*8,_-=U},this.skipBits=function(I){var R;S>I?(k<<=I,S-=I):(I-=S,R=Math.floor(I/8),I-=R*8,_-=R,this.loadWord(),k<<=I,S-=I)},this.readBits=function(I){var R=Math.min(S,I),U=k>>>32-R;return S-=R,S>0?k<<=R:_>0&&this.loadWord(),R=I-R,R>0?U<<R|this.readBits(R):U},this.skipLeadingZeros=function(){var I;for(I=0;I<S;++I)if((k&2147483648>>>I)!==0)return k<<=I,S-=I,I;return this.loadWord(),I+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var I=this.skipLeadingZeros();return this.readBits(I+1)-1},this.readExpGolomb=function(){var I=this.readUnsignedExpGolomb();return 1&I?1+I>>>1:-1*(I>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Fb=ic,Nu,Qs,Dp;Qs=function(){var y=0,_,k;Qs.prototype.init.call(this),this.push=function(S){var I;k?(I=new Uint8Array(k.byteLength+S.data.byteLength),I.set(k),I.set(S.data,k.byteLength),k=I):k=S.data;for(var R=k.byteLength;y<R-3;y++)if(k[y+2]===1){_=y+5;break}for(;_<R;)switch(k[_]){case 0:if(k[_-1]!==0){_+=2;break}else if(k[_-2]!==0){_++;break}y+3!==_-2&&this.trigger("data",k.subarray(y+3,_-2));do _++;while(k[_]!==1&&_<R);y=_-2,_+=3;break;case 1:if(k[_-1]!==0||k[_-2]!==0){_+=3;break}this.trigger("data",k.subarray(y+3,_-2)),y=_-2,_+=3;break;default:_+=3;break}k=k.subarray(y),_-=y,y=0},this.reset=function(){k=null,y=0,this.trigger("reset")},this.flush=function(){k&&k.byteLength>3&&this.trigger("data",k.subarray(y+3)),k=null,y=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Qs.prototype=new e,Dp={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Nu=function(){var y=new Qs,_,k,S,I,R,U,G;Nu.prototype.init.call(this),_=this,this.push=function(q){q.type==="video"&&(k=q.trackId,S=q.pts,I=q.dts,y.push(q))},y.on("data",function(q){var $={trackId:k,pts:S,dts:I,data:q,nalUnitTypeCode:q[0]&31};switch($.nalUnitTypeCode){case 5:$.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:$.nalUnitType="sei_rbsp",$.escapedRBSP=R(q.subarray(1));break;case 7:$.nalUnitType="seq_parameter_set_rbsp",$.escapedRBSP=R(q.subarray(1)),$.config=U($.escapedRBSP);break;case 8:$.nalUnitType="pic_parameter_set_rbsp";break;case 9:$.nalUnitType="access_unit_delimiter_rbsp";break}_.trigger("data",$)}),y.on("done",function(){_.trigger("done")}),y.on("partialdone",function(){_.trigger("partialdone")}),y.on("reset",function(){_.trigger("reset")}),y.on("endedtimeline",function(){_.trigger("endedtimeline")}),this.flush=function(){y.flush()},this.partialFlush=function(){y.partialFlush()},this.reset=function(){y.reset()},this.endTimeline=function(){y.endTimeline()},G=function($,J){var me=8,je=8,Ke,Ee;for(Ke=0;Ke<$;Ke++)je!==0&&(Ee=J.readExpGolomb(),je=(me+Ee+256)%256),me=je===0?me:je},R=function($){for(var J=$.byteLength,me=[],je=1,Ke,Ee;je<J-2;)$[je]===0&&$[je+1]===0&&$[je+2]===3?(me.push(je+2),je+=2):je++;if(me.length===0)return $;Ke=J-me.length,Ee=new Uint8Array(Ke);var V=0;for(je=0;je<Ke;V++,je++)V===me[0]&&(V++,me.shift()),Ee[je]=$[V];return Ee},U=function($){var J=0,me=0,je=0,Ke=0,Ee,V,ue,ae,Ge,dt,It,yi,Ht,ac,n0,Pt=[1,1],sc,Va;if(Ee=new Fb($),V=Ee.readUnsignedByte(),ae=Ee.readUnsignedByte(),ue=Ee.readUnsignedByte(),Ee.skipUnsignedExpGolomb(),Dp[V]&&(Ge=Ee.readUnsignedExpGolomb(),Ge===3&&Ee.skipBits(1),Ee.skipUnsignedExpGolomb(),Ee.skipUnsignedExpGolomb(),Ee.skipBits(1),Ee.readBoolean()))for(n0=Ge!==3?8:12,Va=0;Va<n0;Va++)Ee.readBoolean()&&(Va<6?G(16,Ee):G(64,Ee));if(Ee.skipUnsignedExpGolomb(),dt=Ee.readUnsignedExpGolomb(),dt===0)Ee.readUnsignedExpGolomb();else if(dt===1)for(Ee.skipBits(1),Ee.skipExpGolomb(),Ee.skipExpGolomb(),It=Ee.readUnsignedExpGolomb(),Va=0;Va<It;Va++)Ee.skipExpGolomb();if(Ee.skipUnsignedExpGolomb(),Ee.skipBits(1),yi=Ee.readUnsignedExpGolomb(),Ht=Ee.readUnsignedExpGolomb(),ac=Ee.readBits(1),ac===0&&Ee.skipBits(1),Ee.skipBits(1),Ee.readBoolean()&&(J=Ee.readUnsignedExpGolomb(),me=Ee.readUnsignedExpGolomb(),je=Ee.readUnsignedExpGolomb(),Ke=Ee.readUnsignedExpGolomb()),Ee.readBoolean()&&Ee.readBoolean()){switch(sc=Ee.readUnsignedByte(),sc){case 1:Pt=[1,1];break;case 2:Pt=[12,11];break;case 3:Pt=[10,11];break;case 4:Pt=[16,11];break;case 5:Pt=[40,33];break;case 6:Pt=[24,11];break;case 7:Pt=[20,11];break;case 8:Pt=[32,11];break;case 9:Pt=[80,33];break;case 10:Pt=[18,11];break;case 11:Pt=[15,11];break;case 12:Pt=[64,33];break;case 13:Pt=[160,99];break;case 14:Pt=[4,3];break;case 15:Pt=[3,2];break;case 16:Pt=[2,1];break;case 255:{Pt=[Ee.readUnsignedByte()<<8|Ee.readUnsignedByte(),Ee.readUnsignedByte()<<8|Ee.readUnsignedByte()];break}}Pt&&Pt[0]/Pt[1]}return{profileIdc:V,levelIdc:ue,profileCompatibility:ae,width:(yi+1)*16-J*2-me*2,height:(2-ac)*(Ht+1)*16-je*2-Ke*2,sarRatio:Pt}}},Nu.prototype=new e;var Mp={H264Stream:Nu,NalByteStream:Qs},Nx=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Bp=function(y,_){var k=y[_+6]<<21|y[_+7]<<14|y[_+8]<<7|y[_+9],S=y[_+5],I=(S&16)>>4;return k=k>=0?k:0,I?k+20:k+10},Fp=function M(y,_){return y.length-_<10||y[_]!=="I".charCodeAt(0)||y[_+1]!=="D".charCodeAt(0)||y[_+2]!=="3".charCodeAt(0)?_:(_+=Bp(y,_),M(y,_))},Np=function(y){var _=Fp(y,0);return y.length>=_+2&&(y[_]&255)===255&&(y[_+1]&240)===240&&(y[_+1]&22)===16},Ya=function(y){return y[0]<<21|y[1]<<14|y[2]<<7|y[3]},Nb=function(y,_,k){var S,I="";for(S=_;S<k;S++)I+="%"+("00"+y[S].toString(16)).slice(-2);return I},jb=function(y,_,k){return unescape(Nb(y,_,k))},jx=function(y,_){var k=(y[_+5]&224)>>5,S=y[_+4]<<3,I=y[_+3]&3<<11;return I|S|k},Ub=function(y,_){return y[_]==="I".charCodeAt(0)&&y[_+1]==="D".charCodeAt(0)&&y[_+2]==="3".charCodeAt(0)?"timed-metadata":y[_]&!0&&(y[_+1]&240)===240?"audio":null},Gb=function(y){for(var _=0;_+5<y.length;){if(y[_]!==255||(y[_+1]&246)!==240){_++;continue}return Nx[(y[_+2]&60)>>>2]}return null},Hb=function(y){var _,k,S,I;_=10,y[5]&64&&(_+=4,_+=Ya(y.subarray(10,14)));do{if(k=Ya(y.subarray(_+4,_+8)),k<1)return null;if(I=String.fromCharCode(y[_],y[_+1],y[_+2],y[_+3]),I==="PRIV"){S=y.subarray(_+10,_+k+10);for(var R=0;R<S.byteLength;R++)if(S[R]===0){var U=jb(S,0,R);if(U==="com.apple.streaming.transportStreamTimestamp"){var G=S.subarray(R+1),q=(G[3]&1)<<30|G[4]<<22|G[5]<<14|G[6]<<6|G[7]>>>2;return q*=4,q+=G[7]&3,q}break}}_+=10,_+=k}while(_<y.byteLength);return null},nc={isLikelyAacData:Np,parseId3TagSize:Bp,parseAdtsSize:jx,parseType:Ub,parseSampleRate:Gb,parseAacTimestamp:Hb},ju;ju=function(){var y=new Uint8Array,_=0;ju.prototype.init.call(this),this.setTimestamp=function(k){_=k},this.push=function(k){var S=0,I=0,R,U,G,q;for(y.length?(q=y.length,y=new Uint8Array(k.byteLength+q),y.set(y.subarray(0,q)),y.set(k,q)):y=k;y.length-I>=3;){if(y[I]==="I".charCodeAt(0)&&y[I+1]==="D".charCodeAt(0)&&y[I+2]==="3".charCodeAt(0)){if(y.length-I<10||(S=nc.parseId3TagSize(y,I),I+S>y.length))break;U={type:"timed-metadata",data:y.subarray(I,I+S)},this.trigger("data",U),I+=S;continue}else if((y[I]&255)===255&&(y[I+1]&240)===240){if(y.length-I<7||(S=nc.parseAdtsSize(y,I),I+S>y.length))break;G={type:"audio",data:y.subarray(I,I+S),pts:_,dts:_},this.trigger("data",G),I+=S;continue}I++}R=y.length-I,R>0?y=y.subarray(I):y=new Uint8Array},this.reset=function(){y=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){y=new Uint8Array,this.trigger("endedtimeline")}},ju.prototype=new e;var Ux=ju,Gx=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Uu=Gx,Hx=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],jp=Hx,Yx=Mp.H264Stream,Wx=nc.isLikelyAacData,Up=bt.ONE_SECOND_IN_TS,rc,qs,Gu,Wa,Vx=function(y,_){_.stream=y,this.trigger("log",_)},ei=function(y,_){for(var k=Object.keys(_),S=0;S<k.length;S++){var I=k[S];I==="headOfPipeline"||!_[I].on||_[I].on("log",Vx.bind(y,I))}},$t=function(y,_){var k;if(y.length!==_.length)return!1;for(k=0;k<y.length;k++)if(y[k]!==_[k])return!1;return!0},Gp=function(y,_,k,S,I,R){var U=k-_,G=S-_,q=I-k;return{start:{dts:y,pts:y+U},end:{dts:y+G,pts:y+q},prependedContentDuration:R,baseMediaDecodeTime:y}};qs=function(y,_){var k=[],S,I=0,R=0,U=1/0;_=_||{},S=_.firstSequenceNumber||0,qs.prototype.init.call(this),this.push=function(G){Dr.collectDtsInfo(y,G),y&&Uu.forEach(function(q){y[q]=G[q]}),k.push(G)},this.setEarliestDts=function(G){I=G},this.setVideoBaseMediaDecodeTime=function(G){U=G},this.setAudioAppendStart=function(G){R=G},this.flush=function(){var G,q,$,J,me,je,Ke;if(k.length===0){this.trigger("done","AudioSegmentStream");return}G=Ys.trimAdtsFramesByEarliestDts(k,y,I),y.baseMediaDecodeTime=Dr.calculateTrackBaseMediaDecodeTime(y,_.keepOriginalTimestamps),Ke=Ys.prefixWithSilence(y,G,R,U),y.samples=Ys.generateSampleTable(G),$=de.mdat(Ys.concatenateFrameData(G)),k=[],q=de.moof(S,[y]),J=new Uint8Array(q.byteLength+$.byteLength),S++,J.set(q),J.set($,q.byteLength),Dr.clearDtsInfo(y),me=Math.ceil(Up*1024/y.samplerate),G.length&&(je=G.length*me,this.trigger("segmentTimingInfo",Gp(bt.audioTsToVideoTs(y.baseMediaDecodeTime,y.samplerate),G[0].dts,G[0].pts,G[0].dts+je,G[0].pts+je,Ke||0)),this.trigger("timingInfo",{start:G[0].pts,end:G[0].pts+je})),this.trigger("data",{track:y,boxes:J}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Dr.clearDtsInfo(y),k=[],this.trigger("reset")}},qs.prototype=new e,rc=function(y,_){var k,S=[],I=[],R,U;_=_||{},k=_.firstSequenceNumber||0,rc.prototype.init.call(this),delete y.minPTS,this.gopCache_=[],this.push=function(G){Dr.collectDtsInfo(y,G),G.nalUnitType==="seq_parameter_set_rbsp"&&!R&&(R=G.config,y.sps=[G.data],jp.forEach(function(q){y[q]=R[q]},this)),G.nalUnitType==="pic_parameter_set_rbsp"&&!U&&(U=G.data,y.pps=[G.data]),S.push(G)},this.flush=function(){for(var G,q,$,J,me,je,Ke=0,Ee,V;S.length&&S[0].nalUnitType!=="access_unit_delimiter_rbsp";)S.shift();if(S.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(G=Zt.groupNalsIntoFrames(S),$=Zt.groupFramesIntoGops(G),$[0][0].keyFrame||(q=this.getGopForFusion_(S[0],y),q?(Ke=q.duration,$.unshift(q),$.byteLength+=q.byteLength,$.nalCount+=q.nalCount,$.pts=q.pts,$.dts=q.dts,$.duration+=q.duration):$=Zt.extendFirstKeyFrame($)),I.length){var ue;if(_.alignGopsAtEnd?ue=this.alignGopsAtEnd_($):ue=this.alignGopsAtStart_($),!ue){this.gopCache_.unshift({gop:$.pop(),pps:y.pps,sps:y.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),S=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Dr.clearDtsInfo(y),$=ue}Dr.collectDtsInfo(y,$),y.samples=Zt.generateSampleTable($),me=de.mdat(Zt.concatenateNalData($)),y.baseMediaDecodeTime=Dr.calculateTrackBaseMediaDecodeTime(y,_.keepOriginalTimestamps),this.trigger("processedGopsInfo",$.map(function(ae){return{pts:ae.pts,dts:ae.dts,byteLength:ae.byteLength}})),Ee=$[0],V=$[$.length-1],this.trigger("segmentTimingInfo",Gp(y.baseMediaDecodeTime,Ee.dts,Ee.pts,V.dts+V.duration,V.pts+V.duration,Ke)),this.trigger("timingInfo",{start:$[0].pts,end:$[$.length-1].pts+$[$.length-1].duration}),this.gopCache_.unshift({gop:$.pop(),pps:y.pps,sps:y.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),S=[],this.trigger("baseMediaDecodeTime",y.baseMediaDecodeTime),this.trigger("timelineStartInfo",y.timelineStartInfo),J=de.moof(k,[y]),je=new Uint8Array(J.byteLength+me.byteLength),k++,je.set(J),je.set(me,J.byteLength),this.trigger("data",{track:y,boxes:je}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),S=[],this.gopCache_.length=0,I.length=0,this.trigger("reset")},this.resetStream_=function(){Dr.clearDtsInfo(y),R=void 0,U=void 0},this.getGopForFusion_=function(G){var q=45e3,$=1e4,J=1/0,me,je,Ke,Ee,V;for(V=0;V<this.gopCache_.length;V++)Ee=this.gopCache_[V],Ke=Ee.gop,!(!(y.pps&&$t(y.pps[0],Ee.pps[0]))||!(y.sps&&$t(y.sps[0],Ee.sps[0])))&&(Ke.dts<y.timelineStartInfo.dts||(me=G.dts-Ke.dts-Ke.duration,me>=-$&&me<=q&&(!je||J>me)&&(je=Ee,J=me)));return je?je.gop:null},this.alignGopsAtStart_=function(G){var q,$,J,me,je,Ke,Ee,V;for(je=G.byteLength,Ke=G.nalCount,Ee=G.duration,q=$=0;q<I.length&&$<G.length&&(J=I[q],me=G[$],J.pts!==me.pts);){if(me.pts>J.pts){q++;continue}$++,je-=me.byteLength,Ke-=me.nalCount,Ee-=me.duration}return $===0?G:$===G.length?null:(V=G.slice($),V.byteLength=je,V.duration=Ee,V.nalCount=Ke,V.pts=V[0].pts,V.dts=V[0].dts,V)},this.alignGopsAtEnd_=function(G){var q,$,J,me,je,Ke;for(q=I.length-1,$=G.length-1,je=null,Ke=!1;q>=0&&$>=0;){if(J=I[q],me=G[$],J.pts===me.pts){Ke=!0;break}if(J.pts>me.pts){q--;continue}q===I.length-1&&(je=$),$--}if(!Ke&&je===null)return null;var Ee;if(Ke?Ee=$:Ee=je,Ee===0)return G;var V=G.slice(Ee),ue=V.reduce(function(ae,Ge){return ae.byteLength+=Ge.byteLength,ae.duration+=Ge.duration,ae.nalCount+=Ge.nalCount,ae},{byteLength:0,duration:0,nalCount:0});return V.byteLength=ue.byteLength,V.duration=ue.duration,V.nalCount=ue.nalCount,V.pts=V[0].pts,V.dts=V[0].dts,V},this.alignGopsWith=function(G){I=G}},rc.prototype=new e,Wa=function(y,_){this.numberOfTracks=0,this.metadataStream=_,y=y||{},typeof y.remux!="undefined"?this.remuxTracks=!!y.remux:this.remuxTracks=!0,typeof y.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=y.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Wa.prototype.init.call(this),this.push=function(k){if(k.text)return this.pendingCaptions.push(k);if(k.frames)return this.pendingMetadata.push(k);this.pendingTracks.push(k.track),this.pendingBytes+=k.boxes.byteLength,k.track.type==="video"&&(this.videoTrack=k.track,this.pendingBoxes.push(k.boxes)),k.track.type==="audio"&&(this.audioTrack=k.track,this.pendingBoxes.unshift(k.boxes))}},Wa.prototype=new e,Wa.prototype.flush=function(M){var y=0,_={captions:[],captionStreams:{},metadata:[],info:{}},k,S,I,R=0,U;if(this.pendingTracks.length<this.numberOfTracks){if(M!=="VideoSegmentStream"&&M!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(R=this.videoTrack.timelineStartInfo.pts,jp.forEach(function(G){_.info[G]=this.videoTrack[G]},this)):this.audioTrack&&(R=this.audioTrack.timelineStartInfo.pts,Uu.forEach(function(G){_.info[G]=this.audioTrack[G]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?_.type=this.pendingTracks[0].type:_.type="combined",this.emittedTracks+=this.pendingTracks.length,I=de.initSegment(this.pendingTracks),_.initSegment=new Uint8Array(I.byteLength),_.initSegment.set(I),_.data=new Uint8Array(this.pendingBytes),U=0;U<this.pendingBoxes.length;U++)_.data.set(this.pendingBoxes[U],y),y+=this.pendingBoxes[U].byteLength;for(U=0;U<this.pendingCaptions.length;U++)k=this.pendingCaptions[U],k.startTime=bt.metadataTsToSeconds(k.startPts,R,this.keepOriginalTimestamps),k.endTime=bt.metadataTsToSeconds(k.endPts,R,this.keepOriginalTimestamps),_.captionStreams[k.stream]=!0,_.captions.push(k);for(U=0;U<this.pendingMetadata.length;U++)S=this.pendingMetadata[U],S.cueTime=bt.metadataTsToSeconds(S.pts,R,this.keepOriginalTimestamps),_.metadata.push(S);for(_.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",_),U=0;U<_.captions.length;U++)k=_.captions[U],this.trigger("caption",k);for(U=0;U<_.metadata.length;U++)S=_.metadata[U],this.trigger("id3Frame",S)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Wa.prototype.setRemux=function(M){this.remuxTracks=M},Gu=function(y){var _=this,k=!0,S,I;Gu.prototype.init.call(this),y=y||{},this.baseMediaDecodeTime=y.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var R={};this.transmuxPipeline_=R,R.type="aac",R.metadataStream=new lo.MetadataStream,R.aacStream=new Ux,R.audioTimestampRolloverStream=new lo.TimestampRolloverStream("audio"),R.timedMetadataTimestampRolloverStream=new lo.TimestampRolloverStream("timed-metadata"),R.adtsStream=new Op,R.coalesceStream=new Wa(y,R.metadataStream),R.headOfPipeline=R.aacStream,R.aacStream.pipe(R.audioTimestampRolloverStream).pipe(R.adtsStream),R.aacStream.pipe(R.timedMetadataTimestampRolloverStream).pipe(R.metadataStream).pipe(R.coalesceStream),R.metadataStream.on("timestamp",function(U){R.aacStream.setTimestamp(U.timeStamp)}),R.aacStream.on("data",function(U){U.type!=="timed-metadata"&&U.type!=="audio"||R.audioSegmentStream||(I=I||{timelineStartInfo:{baseMediaDecodeTime:_.baseMediaDecodeTime},codec:"adts",type:"audio"},R.coalesceStream.numberOfTracks++,R.audioSegmentStream=new qs(I,y),R.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),R.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),R.adtsStream.pipe(R.audioSegmentStream).pipe(R.coalesceStream),_.trigger("trackinfo",{hasAudio:!!I,hasVideo:!!S}))}),R.coalesceStream.on("data",this.trigger.bind(this,"data")),R.coalesceStream.on("done",this.trigger.bind(this,"done")),ei(this,R)},this.setupTsPipeline=function(){var R={};this.transmuxPipeline_=R,R.type="ts",R.metadataStream=new lo.MetadataStream,R.packetStream=new lo.TransportPacketStream,R.parseStream=new lo.TransportParseStream,R.elementaryStream=new lo.ElementaryStream,R.timestampRolloverStream=new lo.TimestampRolloverStream,R.adtsStream=new Op,R.h264Stream=new Yx,R.captionStream=new lo.CaptionStream(y),R.coalesceStream=new Wa(y,R.metadataStream),R.headOfPipeline=R.packetStream,R.packetStream.pipe(R.parseStream).pipe(R.elementaryStream).pipe(R.timestampRolloverStream),R.timestampRolloverStream.pipe(R.h264Stream),R.timestampRolloverStream.pipe(R.adtsStream),R.timestampRolloverStream.pipe(R.metadataStream).pipe(R.coalesceStream),R.h264Stream.pipe(R.captionStream).pipe(R.coalesceStream),R.elementaryStream.on("data",function(U){var G;if(U.type==="metadata"){for(G=U.tracks.length;G--;)!S&&U.tracks[G].type==="video"?(S=U.tracks[G],S.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime):!I&&U.tracks[G].type==="audio"&&(I=U.tracks[G],I.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime);S&&!R.videoSegmentStream&&(R.coalesceStream.numberOfTracks++,R.videoSegmentStream=new rc(S,y),R.videoSegmentStream.on("log",_.getLogTrigger_("videoSegmentStream")),R.videoSegmentStream.on("timelineStartInfo",function(q){I&&!y.keepOriginalTimestamps&&(I.timelineStartInfo=q,R.audioSegmentStream.setEarliestDts(q.dts-_.baseMediaDecodeTime))}),R.videoSegmentStream.on("processedGopsInfo",_.trigger.bind(_,"gopInfo")),R.videoSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"videoSegmentTimingInfo")),R.videoSegmentStream.on("baseMediaDecodeTime",function(q){I&&R.audioSegmentStream.setVideoBaseMediaDecodeTime(q)}),R.videoSegmentStream.on("timingInfo",_.trigger.bind(_,"videoTimingInfo")),R.h264Stream.pipe(R.videoSegmentStream).pipe(R.coalesceStream)),I&&!R.audioSegmentStream&&(R.coalesceStream.numberOfTracks++,R.audioSegmentStream=new qs(I,y),R.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),R.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),R.audioSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"audioSegmentTimingInfo")),R.adtsStream.pipe(R.audioSegmentStream).pipe(R.coalesceStream)),_.trigger("trackinfo",{hasAudio:!!I,hasVideo:!!S})}}),R.coalesceStream.on("data",this.trigger.bind(this,"data")),R.coalesceStream.on("id3Frame",function(U){U.dispatchType=R.metadataStream.dispatchType,_.trigger("id3Frame",U)}),R.coalesceStream.on("caption",this.trigger.bind(this,"caption")),R.coalesceStream.on("done",this.trigger.bind(this,"done")),ei(this,R)},this.setBaseMediaDecodeTime=function(R){var U=this.transmuxPipeline_;y.keepOriginalTimestamps||(this.baseMediaDecodeTime=R),I&&(I.timelineStartInfo.dts=void 0,I.timelineStartInfo.pts=void 0,Dr.clearDtsInfo(I),U.audioTimestampRolloverStream&&U.audioTimestampRolloverStream.discontinuity()),S&&(U.videoSegmentStream&&(U.videoSegmentStream.gopCache_=[]),S.timelineStartInfo.dts=void 0,S.timelineStartInfo.pts=void 0,Dr.clearDtsInfo(S),U.captionStream.reset()),U.timestampRolloverStream&&U.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(R){I&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(R)},this.setRemux=function(R){var U=this.transmuxPipeline_;y.remux=R,U&&U.coalesceStream&&U.coalesceStream.setRemux(R)},this.alignGopsWith=function(R){S&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(R)},this.getLogTrigger_=function(R){var U=this;return function(G){G.stream=R,U.trigger("log",G)}},this.push=function(R){if(k){var U=Wx(R);U&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!U&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),k=!1}this.transmuxPipeline_.headOfPipeline.push(R)},this.flush=function(){k=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Gu.prototype=new e;var $x={Transmuxer:Gu,VideoSegmentStream:rc,AudioSegmentStream:qs,AUDIO_PROPERTIES:Uu,VIDEO_PROPERTIES:jp,generateSegmentTimingInfo:Gp},Qx=function(y){return y>>>0},qx=function(y){return("00"+y.toString(16)).slice(-2)},Hu={toUnsigned:Qx,toHexString:qx},Kx=function(y){var _="";return _+=String.fromCharCode(y[0]),_+=String.fromCharCode(y[1]),_+=String.fromCharCode(y[2]),_+=String.fromCharCode(y[3]),_},Zo=Kx,Xx=Hu.toUnsigned,Hi=function M(y,_){var k=[],S,I,R,U,G;if(!_.length)return null;for(S=0;S<y.byteLength;)I=Xx(y[S]<<24|y[S+1]<<16|y[S+2]<<8|y[S+3]),R=Zo(y.subarray(S+4,S+8)),U=I>1?S+I:y.byteLength,R===_[0]&&(_.length===1?k.push(y.subarray(S+8,U)):(G=M(y.subarray(S+8,U),_.slice(1)),G.length&&(k=k.concat(G)))),S=U;return k},Qt=Hi,ea=Hu.toUnsigned,Yb=function(y){var _={version:y[0],flags:new Uint8Array(y.subarray(1,4)),baseMediaDecodeTime:ea(y[4]<<24|y[5]<<16|y[6]<<8|y[7])};return _.version===1&&(_.baseMediaDecodeTime*=Math.pow(2,32),_.baseMediaDecodeTime+=ea(y[8]<<24|y[9]<<16|y[10]<<8|y[11])),_},Yu=Yb,lr=function(y){return{isLeading:(y[0]&12)>>>2,dependsOn:y[0]&3,isDependedOn:(y[1]&192)>>>6,hasRedundancy:(y[1]&48)>>>4,paddingValue:(y[1]&14)>>>1,isNonSyncSample:y[1]&1,degradationPriority:y[2]<<8|y[3]}},Hp=lr,Wb=function(y){var _={version:y[0],flags:new Uint8Array(y.subarray(1,4)),samples:[]},k=new DataView(y.buffer,y.byteOffset,y.byteLength),S=_.flags[2]&1,I=_.flags[2]&4,R=_.flags[1]&1,U=_.flags[1]&2,G=_.flags[1]&4,q=_.flags[1]&8,$=k.getUint32(4),J=8,me;for(S&&(_.dataOffset=k.getInt32(J),J+=4),I&&$&&(me={flags:Hp(y.subarray(J,J+4))},J+=4,R&&(me.duration=k.getUint32(J),J+=4),U&&(me.size=k.getUint32(J),J+=4),q&&(_.version===1?me.compositionTimeOffset=k.getInt32(J):me.compositionTimeOffset=k.getUint32(J),J+=4),_.samples.push(me),$--);$--;)me={},R&&(me.duration=k.getUint32(J),J+=4),U&&(me.size=k.getUint32(J),J+=4),G&&(me.flags=Hp(y.subarray(J,J+4)),J+=4),q&&(_.version===1?me.compositionTimeOffset=k.getInt32(J):me.compositionTimeOffset=k.getUint32(J),J+=4),_.samples.push(me);return _},Yp=Wb,Vb=function(y){var _=new DataView(y.buffer,y.byteOffset,y.byteLength),k={version:y[0],flags:new Uint8Array(y.subarray(1,4)),trackId:_.getUint32(4)},S=k.flags[2]&1,I=k.flags[2]&2,R=k.flags[2]&8,U=k.flags[2]&16,G=k.flags[2]&32,q=k.flags[0]&65536,$=k.flags[0]&131072,J;return J=8,S&&(J+=4,k.baseDataOffset=_.getUint32(12),J+=4),I&&(k.sampleDescriptionIndex=_.getUint32(J),J+=4),R&&(k.defaultSampleDuration=_.getUint32(J),J+=4),U&&(k.defaultSampleSize=_.getUint32(J),J+=4),G&&(k.defaultSampleFlags=_.getUint32(J)),q&&(k.durationIsEmpty=!0),!S&&$&&(k.baseDataOffsetIsMoof=!0),k},Wp=Vb,$b=ec.discardEmulationPreventionBytes,Un=Du.CaptionStream,Jx=function(y,_){for(var k=y,S=0;S<_.length;S++){var I=_[S];if(k<I.size)return I;k-=I.size}return null},cr=function(y,_,k){var S=new DataView(y.buffer,y.byteOffset,y.byteLength),I={logs:[],seiNals:[]},R,U,G,q;for(U=0;U+4<y.length;U+=G)if(G=S.getUint32(U),U+=4,!(G<=0))switch(y[U]&31){case 6:var $=y.subarray(U+1,U+1+G),J=Jx(U,_);if(R={nalUnitType:"sei_rbsp",size:G,data:$,escapedRBSP:$b($),trackId:k},J)R.pts=J.pts,R.dts=J.dts,q=J;else if(q)R.pts=q.pts,R.dts=q.dts;else{I.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+U+" for trackId "+k+". See mux.js#223."});break}I.seiNals.push(R);break}return I},Zx=function(y,_,k){var S=_,I=k.defaultSampleDuration||0,R=k.defaultSampleSize||0,U=k.trackId,G=[];return y.forEach(function(q){var $=Yp(q),J=$.samples;J.forEach(function(me){me.duration===void 0&&(me.duration=I),me.size===void 0&&(me.size=R),me.trackId=U,me.dts=S,me.compositionTimeOffset===void 0&&(me.compositionTimeOffset=0),me.pts=S+me.compositionTimeOffset,S+=me.duration}),G=G.concat(J)}),G},Qb=function(y,_){var k=Qt(y,["moof","traf"]),S=Qt(y,["mdat"]),I={},R=[];return S.forEach(function(U,G){var q=k[G];R.push({mdat:U,traf:q})}),R.forEach(function(U){var G=U.mdat,q=U.traf,$=Qt(q,["tfhd"]),J=Wp($[0]),me=J.trackId,je=Qt(q,["tfdt"]),Ke=je.length>0?Yu(je[0]).baseMediaDecodeTime:0,Ee=Qt(q,["trun"]),V,ue;_===me&&Ee.length>0&&(V=Zx(Ee,Ke,J),ue=cr(G,V,me),I[me]||(I[me]={seiNals:[],logs:[]}),I[me].seiNals=I[me].seiNals.concat(ue.seiNals),I[me].logs=I[me].logs.concat(ue.logs))}),I},ta=function(y,_,k){var S;if(_===null)return null;S=Qb(y,_);var I=S[_]||{};return{seiNals:I.seiNals,logs:I.logs,timescale:k}},Wu=function(){var y=!1,_,k,S,I,R,U;this.isInitialized=function(){return y},this.init=function(G){_=new Un,y=!0,U=G?G.isPartial:!1,_.on("data",function(q){q.startTime=q.startPts/I,q.endTime=q.endPts/I,R.captions.push(q),R.captionStreams[q.stream]=!0}),_.on("log",function(q){R.logs.push(q)})},this.isNewInit=function(G,q){return G&&G.length===0||q&&typeof q=="object"&&Object.keys(q).length===0?!1:S!==G[0]||I!==q[S]},this.parse=function(G,q,$){var J;if(this.isInitialized()){if(!q||!$)return null;if(this.isNewInit(q,$))S=q[0],I=$[S];else if(S===null||!I)return k.push(G),null}else return null;for(;k.length>0;){var me=k.shift();this.parse(me,q,$)}return J=ta(G,S,I),J&&J.logs&&(R.logs=R.logs.concat(J.logs)),J===null||!J.seiNals?R.logs.length?{logs:R.logs,captions:[],captionStreams:[]}:null:(this.pushNals(J.seiNals),this.flushStream(),R)},this.pushNals=function(G){if(!this.isInitialized()||!G||G.length===0)return null;G.forEach(function(q){_.push(q)})},this.flushStream=function(){if(!this.isInitialized())return null;U?_.partialFlush():_.flush()},this.clearParsedCaptions=function(){R.captions=[],R.captionStreams={},R.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;_.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){k=[],S=null,I=null,R?this.clearParsedCaptions():R={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Vp=Wu,jt=Hu.toUnsigned,ur=Hu.toHexString,Vu,qb,$u,Kb,Xb,$p;Vu=function(y){var _={},k=Qt(y,["moov","trak"]);return k.reduce(function(S,I){var R,U,G,q,$;return R=Qt(I,["tkhd"])[0],!R||(U=R[0],G=U===0?12:20,q=jt(R[G]<<24|R[G+1]<<16|R[G+2]<<8|R[G+3]),$=Qt(I,["mdia","mdhd"])[0],!$)?null:(U=$[0],G=U===0?12:20,S[q]=jt($[G]<<24|$[G+1]<<16|$[G+2]<<8|$[G+3]),S)},_)},qb=function(y,_){var k,S,I;return k=Qt(_,["moof","traf"]),S=[].concat.apply([],k.map(function(R){return Qt(R,["tfhd"]).map(function(U){var G,q,$;return G=jt(U[4]<<24|U[5]<<16|U[6]<<8|U[7]),q=y[G]||9e4,$=Qt(R,["tfdt"]).map(function(J){var me,je;return me=J[0],je=jt(J[4]<<24|J[5]<<16|J[6]<<8|J[7]),me===1&&(je*=Math.pow(2,32),je+=jt(J[8]<<24|J[9]<<16|J[10]<<8|J[11])),je})[0],$=typeof $=="number"&&!isNaN($)?$:1/0,$/q})})),I=Math.min.apply(null,S),isFinite(I)?I:0},$u=function(y,_){var k=Qt(_,["moof","traf"]),S=0,I=0,R;if(k&&k.length){var U=Qt(k[0],["tfhd"])[0],G=Qt(k[0],["trun"])[0],q=Qt(k[0],["tfdt"])[0];if(U){var $=Wp(U);R=$.trackId}if(q){var J=Yu(q);S=J.baseMediaDecodeTime}if(G){var me=Yp(G);me.samples&&me.samples.length&&(I=me.samples[0].compositionTimeOffset||0)}}var je=y[R]||9e4;return(S+I)/je},Kb=function(y){var _=Qt(y,["moov","trak"]),k=[];return _.forEach(function(S){var I=Qt(S,["mdia","hdlr"]),R=Qt(S,["tkhd"]);I.forEach(function(U,G){var q=Zo(U.subarray(8,12)),$=R[G],J,me,je;q==="vide"&&(J=new DataView($.buffer,$.byteOffset,$.byteLength),me=J.getUint8(0),je=me===0?J.getUint32(12):J.getUint32(20),k.push(je))})}),k},$p=function(y){var _=y[0],k=_===0?12:20;return jt(y[k]<<24|y[k+1]<<16|y[k+2]<<8|y[k+3])},Xb=function(y){var _=Qt(y,["moov","trak"]),k=[];return _.forEach(function(S){var I={},R=Qt(S,["tkhd"])[0],U,G;R&&(U=new DataView(R.buffer,R.byteOffset,R.byteLength),G=U.getUint8(0),I.id=G===0?U.getUint32(12):U.getUint32(20));var q=Qt(S,["mdia","hdlr"])[0];if(q){var $=Zo(q.subarray(8,12));$==="vide"?I.type="video":$==="soun"?I.type="audio":I.type=$}var J=Qt(S,["mdia","minf","stbl","stsd"])[0];if(J){var me=J.subarray(8);I.codec=Zo(me.subarray(4,8));var je=Qt(me,[I.codec])[0],Ke,Ee;je&&(/^[asm]vc[1-9]$/i.test(I.codec)?(Ke=je.subarray(78),Ee=Zo(Ke.subarray(4,8)),Ee==="avcC"&&Ke.length>11?(I.codec+=".",I.codec+=ur(Ke[9]),I.codec+=ur(Ke[10]),I.codec+=ur(Ke[11])):I.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(I.codec)?(Ke=je.subarray(28),Ee=Zo(Ke.subarray(4,8)),Ee==="esds"&&Ke.length>20&&Ke[19]!==0?(I.codec+="."+ur(Ke[19]),I.codec+="."+ur(Ke[20]>>>2&63).replace(/^0/,"")):I.codec="mp4a.40.2"):I.codec=I.codec.toLowerCase())}var V=Qt(S,["mdia","mdhd"])[0];V&&(I.timescale=$p(V)),k.push(I)}),k};var Qp={findBox:Qt,parseType:Zo,timescale:Vu,startTime:qb,compositionStartTime:$u,videoTrackIds:Kb,tracks:Xb,getTimescaleFromMediaHeader:$p},oc=function(y){var _=y[1]&31;return _<<=8,_|=y[2],_},Io=function(y){return!!(y[1]&64)},Qu=function(y){var _=0;return(y[3]&48)>>>4>1&&(_+=y[4]+1),_},Jb=function(y,_){var k=oc(y);return k===0?"pat":k===_?"pmt":_?"pes":null},Zb=function(y){var _=Io(y),k=4+Qu(y);return _&&(k+=y[k]+1),(y[k+10]&31)<<8|y[k+11]},qp=function(y){var _={},k=Io(y),S=4+Qu(y);if(k&&(S+=y[S]+1),!!(y[S+5]&1)){var I,R,U;I=(y[S+1]&15)<<8|y[S+2],R=3+I-4,U=(y[S+10]&15)<<8|y[S+11];for(var G=12+U;G<R;){var q=S+G;_[(y[q+1]&31)<<8|y[q+2]]=y[q],G+=((y[q+3]&15)<<8|y[q+4])+5}return _}},Kp=function(y,_){var k=oc(y),S=_[k];switch(S){case Gi.H264_STREAM_TYPE:return"video";case Gi.ADTS_STREAM_TYPE:return"audio";case Gi.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},e0=function(y){var _=Io(y);if(!_)return null;var k=4+Qu(y);if(k>=y.byteLength)return null;var S=null,I;return I=y[k+7],I&192&&(S={},S.pts=(y[k+9]&14)<<27|(y[k+10]&255)<<20|(y[k+11]&254)<<12|(y[k+12]&255)<<5|(y[k+13]&254)>>>3,S.pts*=4,S.pts+=(y[k+13]&6)>>>1,S.dts=S.pts,I&64&&(S.dts=(y[k+14]&14)<<27|(y[k+15]&255)<<20|(y[k+16]&254)<<12|(y[k+17]&255)<<5|(y[k+18]&254)>>>3,S.dts*=4,S.dts+=(y[k+18]&6)>>>1)),S},Xp=function(y){switch(y){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Jp=function(y){for(var _=4+Qu(y),k=y.subarray(_),S=0,I=0,R=!1,U;I<k.byteLength-3;I++)if(k[I+2]===1){S=I+5;break}for(;S<k.byteLength;)switch(k[S]){case 0:if(k[S-1]!==0){S+=2;break}else if(k[S-2]!==0){S++;break}I+3!==S-2&&(U=Xp(k[I+3]&31),U==="slice_layer_without_partitioning_rbsp_idr"&&(R=!0));do S++;while(k[S]!==1&&S<k.length);I=S-2,S+=3;break;case 1:if(k[S-1]!==0||k[S-2]!==0){S+=3;break}U=Xp(k[I+3]&31),U==="slice_layer_without_partitioning_rbsp_idr"&&(R=!0),I=S-2,S+=3;break;default:S+=3;break}return k=k.subarray(I),S-=I,I=0,k&&k.byteLength>3&&(U=Xp(k[I+3]&31),U==="slice_layer_without_partitioning_rbsp_idr"&&(R=!0)),R},Zp={parseType:Jb,parsePat:Zb,parsePmt:qp,parsePayloadUnitStartIndicator:Io,parsePesType:Kp,parsePesTime:e0,videoPacketContainsKeyFrame:Jp},Ks=Pb.handleRollover,Dt={};Dt.ts=Zp,Dt.aac=nc;var Ti=bt.ONE_SECOND_IN_TS,Yi=188,kn=71,t0=function(y,_){for(var k=0,S=Yi,I,R;S<y.byteLength;){if(y[k]===kn&&y[S]===kn){switch(I=y.subarray(k,S),R=Dt.ts.parseType(I,_.pid),R){case"pat":_.pid=Dt.ts.parsePat(I);break;case"pmt":var U=Dt.ts.parsePmt(I);_.table=_.table||{},Object.keys(U).forEach(function(G){_.table[G]=U[G]});break}k+=Yi,S+=Yi;continue}k++,S++}},eh=function(y,_,k){for(var S=0,I=Yi,R,U,G,q,$,J=!1;I<=y.byteLength;){if(y[S]===kn&&(y[I]===kn||I===y.byteLength)){switch(R=y.subarray(S,I),U=Dt.ts.parseType(R,_.pid),U){case"pes":G=Dt.ts.parsePesType(R,_.table),q=Dt.ts.parsePayloadUnitStartIndicator(R),G==="audio"&&q&&($=Dt.ts.parsePesTime(R),$&&($.type="audio",k.audio.push($),J=!0));break}if(J)break;S+=Yi,I+=Yi;continue}S++,I++}for(I=y.byteLength,S=I-Yi,J=!1;S>=0;){if(y[S]===kn&&(y[I]===kn||I===y.byteLength)){switch(R=y.subarray(S,I),U=Dt.ts.parseType(R,_.pid),U){case"pes":G=Dt.ts.parsePesType(R,_.table),q=Dt.ts.parsePayloadUnitStartIndicator(R),G==="audio"&&q&&($=Dt.ts.parsePesTime(R),$&&($.type="audio",k.audio.push($),J=!0));break}if(J)break;S-=Yi,I-=Yi;continue}S--,I--}},e1=function(y,_,k){for(var S=0,I=Yi,R,U,G,q,$,J,me,je,Ke=!1,Ee={data:[],size:0};I<y.byteLength;){if(y[S]===kn&&y[I]===kn){switch(R=y.subarray(S,I),U=Dt.ts.parseType(R,_.pid),U){case"pes":if(G=Dt.ts.parsePesType(R,_.table),q=Dt.ts.parsePayloadUnitStartIndicator(R),G==="video"&&(q&&!Ke&&($=Dt.ts.parsePesTime(R),$&&($.type="video",k.video.push($),Ke=!0)),!k.firstKeyFrame)){if(q&&Ee.size!==0){for(J=new Uint8Array(Ee.size),me=0;Ee.data.length;)je=Ee.data.shift(),J.set(je,me),me+=je.byteLength;if(Dt.ts.videoPacketContainsKeyFrame(J)){var V=Dt.ts.parsePesTime(J);V?(k.firstKeyFrame=V,k.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Ee.size=0}Ee.data.push(R),Ee.size+=R.byteLength}break}if(Ke&&k.firstKeyFrame)break;S+=Yi,I+=Yi;continue}S++,I++}for(I=y.byteLength,S=I-Yi,Ke=!1;S>=0;){if(y[S]===kn&&y[I]===kn){switch(R=y.subarray(S,I),U=Dt.ts.parseType(R,_.pid),U){case"pes":G=Dt.ts.parsePesType(R,_.table),q=Dt.ts.parsePayloadUnitStartIndicator(R),G==="video"&&q&&($=Dt.ts.parsePesTime(R),$&&($.type="video",k.video.push($),Ke=!0));break}if(Ke)break;S-=Yi,I-=Yi;continue}S--,I--}},t1=function(y,_){if(y.audio&&y.audio.length){var k=_;(typeof k=="undefined"||isNaN(k))&&(k=y.audio[0].dts),y.audio.forEach(function(R){R.dts=Ks(R.dts,k),R.pts=Ks(R.pts,k),R.dtsTime=R.dts/Ti,R.ptsTime=R.pts/Ti})}if(y.video&&y.video.length){var S=_;if((typeof S=="undefined"||isNaN(S))&&(S=y.video[0].dts),y.video.forEach(function(R){R.dts=Ks(R.dts,S),R.pts=Ks(R.pts,S),R.dtsTime=R.dts/Ti,R.ptsTime=R.pts/Ti}),y.firstKeyFrame){var I=y.firstKeyFrame;I.dts=Ks(I.dts,S),I.pts=Ks(I.pts,S),I.dtsTime=I.dts/Ti,I.ptsTime=I.pts/Ti}}},i1=function(y){for(var _=!1,k=0,S=null,I=null,R=0,U=0,G;y.length-U>=3;){var q=Dt.aac.parseType(y,U);switch(q){case"timed-metadata":if(y.length-U<10){_=!0;break}if(R=Dt.aac.parseId3TagSize(y,U),R>y.length){_=!0;break}I===null&&(G=y.subarray(U,U+R),I=Dt.aac.parseAacTimestamp(G)),U+=R;break;case"audio":if(y.length-U<7){_=!0;break}if(R=Dt.aac.parseAdtsSize(y,U),R>y.length){_=!0;break}S===null&&(G=y.subarray(U,U+R),S=Dt.aac.parseSampleRate(G)),k++,U+=R;break;default:U++;break}if(_)return null}if(S===null||I===null)return null;var $=Ti/S,J={audio:[{type:"audio",dts:I,pts:I},{type:"audio",dts:I+k*1024*$,pts:I+k*1024*$}]};return J},n1=function(y){var _={pid:null,table:null},k={};t0(y,_);for(var S in _.table)if(_.table.hasOwnProperty(S)){var I=_.table[S];switch(I){case Gi.H264_STREAM_TYPE:k.video=[],e1(y,_,k),k.video.length===0&&delete k.video;break;case Gi.ADTS_STREAM_TYPE:k.audio=[],eh(y,_,k),k.audio.length===0&&delete k.audio;break}}return k},r1=function(y,_){var k=Dt.aac.isLikelyAacData(y),S;return k?S=i1(y):S=n1(y),!S||!S.audio&&!S.video?null:(t1(S,_),S)},Xs={inspect:r1,parseAudioPes_:eh},o1=function(y,_){_.on("data",function(k){var S=k.initSegment;k.initSegment={data:S.buffer,byteOffset:S.byteOffset,byteLength:S.byteLength};var I=k.data;k.data=I.buffer,y.postMessage({action:"data",segment:k,byteOffset:I.byteOffset,byteLength:I.byteLength},[k.data])}),_.on("done",function(k){y.postMessage({action:"done"})}),_.on("gopInfo",function(k){y.postMessage({action:"gopInfo",gopInfo:k})}),_.on("videoSegmentTimingInfo",function(k){var S={start:{decode:bt.videoTsToSeconds(k.start.dts),presentation:bt.videoTsToSeconds(k.start.pts)},end:{decode:bt.videoTsToSeconds(k.end.dts),presentation:bt.videoTsToSeconds(k.end.pts)},baseMediaDecodeTime:bt.videoTsToSeconds(k.baseMediaDecodeTime)};k.prependedContentDuration&&(S.prependedContentDuration=bt.videoTsToSeconds(k.prependedContentDuration)),y.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:S})}),_.on("audioSegmentTimingInfo",function(k){var S={start:{decode:bt.videoTsToSeconds(k.start.dts),presentation:bt.videoTsToSeconds(k.start.pts)},end:{decode:bt.videoTsToSeconds(k.end.dts),presentation:bt.videoTsToSeconds(k.end.pts)},baseMediaDecodeTime:bt.videoTsToSeconds(k.baseMediaDecodeTime)};k.prependedContentDuration&&(S.prependedContentDuration=bt.videoTsToSeconds(k.prependedContentDuration)),y.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:S})}),_.on("id3Frame",function(k){y.postMessage({action:"id3Frame",id3Frame:k})}),_.on("caption",function(k){y.postMessage({action:"caption",caption:k})}),_.on("trackinfo",function(k){y.postMessage({action:"trackinfo",trackInfo:k})}),_.on("audioTimingInfo",function(k){y.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:bt.videoTsToSeconds(k.start),end:bt.videoTsToSeconds(k.end)}})}),_.on("videoTimingInfo",function(k){y.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:bt.videoTsToSeconds(k.start),end:bt.videoTsToSeconds(k.end)}})}),_.on("log",function(k){y.postMessage({action:"log",log:k})})},i0=function(){function M(_,k){this.options=k||{},this.self=_,this.init()}var y=M.prototype;return y.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new $x.Transmuxer(this.options),o1(this.self,this.transmuxer)},y.pushMp4Captions=function(k){this.captionParser||(this.captionParser=new Vp,this.captionParser.init());var S=new Uint8Array(k.data,k.byteOffset,k.byteLength),I=this.captionParser.parse(S,k.trackIds,k.timescales);this.self.postMessage({action:"mp4Captions",captions:I&&I.captions||[],logs:I&&I.logs||[],data:S.buffer},[S.buffer])},y.probeMp4StartTime=function(k){var S=k.timescales,I=k.data,R=Qp.startTime(S,I);this.self.postMessage({action:"probeMp4StartTime",startTime:R,data:I},[I.buffer])},y.probeMp4Tracks=function(k){var S=k.data,I=Qp.tracks(S);this.self.postMessage({action:"probeMp4Tracks",tracks:I,data:S},[S.buffer])},y.probeTs=function(k){var S=k.data,I=k.baseStartTime,R=typeof I=="number"&&!isNaN(I)?I*bt.ONE_SECOND_IN_TS:void 0,U=Xs.inspect(S,R),G=null;U&&(G={hasVideo:U.video&&U.video.length===2||!1,hasAudio:U.audio&&U.audio.length===2||!1},G.hasVideo&&(G.videoStart=U.video[0].ptsTime),G.hasAudio&&(G.audioStart=U.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:G,data:S},[S.buffer])},y.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},y.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},y.push=function(k){var S=new Uint8Array(k.data,k.byteOffset,k.byteLength);this.transmuxer.push(S)},y.reset=function(){this.transmuxer.reset()},y.setTimestampOffset=function(k){var S=k.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(bt.secondsToVideoTs(S)))},y.setAudioAppendStart=function(k){this.transmuxer.setAudioAppendStart(Math.ceil(bt.secondsToVideoTs(k.appendStart)))},y.setRemux=function(k){this.transmuxer.setRemux(k.remux)},y.flush=function(k){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},y.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},y.alignGopsWith=function(k){this.transmuxer.alignGopsWith(k.gopsToAlignWith.slice())},M}();self.onmessage=function(M){if(M.data.action==="init"&&M.data.options){this.messageHandlers=new i0(self,M.data.options);return}this.messageHandlers||(this.messageHandlers=new i0(self)),M.data&&M.data.action&&M.data.action!=="init"&&this.messageHandlers[M.data.action]&&this.messageHandlers[M.data.action](M.data)}})),rwe=v9(nwe),owe=function(e,i,n){var r=e.data.segment,o=r.type,a=r.initSegment,s=r.captions,l=r.captionStreams,c=r.metadata,u=r.videoFrameDtsTime,f=r.videoFramePtsTime;i.buffer.push({captions:s,captionStreams:l,metadata:c});var h=e.data.segment.boxes||{data:e.data.segment.data},m={type:o,data:new Uint8Array(h.data,h.data.byteOffset,h.data.byteLength),initSegment:new Uint8Array(a.data,a.byteOffset,a.byteLength)};typeof u!="undefined"&&(m.videoFrameDtsTime=u),typeof f!="undefined"&&(m.videoFramePtsTime=f),n(m)},awe=function(e){var i=e.transmuxedData,n=e.callback;i.buffer=[],n(i)},swe=function(e,i){i.gopInfo=e.data.gopInfo},A9=function(e){var i=e.transmuxer,n=e.bytes,r=e.audioAppendStart,o=e.gopsToAlignWith,a=e.remux,s=e.onData,l=e.onTrackInfo,c=e.onAudioTimingInfo,u=e.onVideoTimingInfo,f=e.onVideoSegmentTimingInfo,h=e.onAudioSegmentTimingInfo,m=e.onId3,b=e.onCaptions,w=e.onDone,g=e.onEndedTimeline,A=e.onTransmuxerLog,x=e.isEndOfTimeline,T={buffer:[]},C=x,z=function(F){i.currentTransmux===e&&(F.data.action==="data"&&owe(F,T,s),F.data.action==="trackinfo"&&l(F.data.trackInfo),F.data.action==="gopInfo"&&swe(F,T),F.data.action==="audioTimingInfo"&&c(F.data.audioTimingInfo),F.data.action==="videoTimingInfo"&&u(F.data.videoTimingInfo),F.data.action==="videoSegmentTimingInfo"&&f(F.data.videoSegmentTimingInfo),F.data.action==="audioSegmentTimingInfo"&&h(F.data.audioSegmentTimingInfo),F.data.action==="id3Frame"&&m([F.data.id3Frame],F.data.id3Frame.dispatchType),F.data.action==="caption"&&b(F.data.caption),F.data.action==="endedtimeline"&&(C=!1,g()),F.data.action==="log"&&A(F.data.log),F.data.type==="transmuxed"&&(C||(i.onmessage=null,awe({transmuxedData:T,callback:w}),x9(i))))};if(i.onmessage=z,r&&i.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(o)&&i.postMessage({action:"alignGopsWith",gopsToAlignWith:o}),typeof a!="undefined"&&i.postMessage({action:"setRemux",remux:a}),n.byteLength){var L=n instanceof ArrayBuffer?n:n.buffer,B=n instanceof ArrayBuffer?0:n.byteOffset;i.postMessage({action:"push",data:L,byteOffset:B,byteLength:n.byteLength},[L])}x&&i.postMessage({action:"endTimeline"}),i.postMessage({action:"flush"})},x9=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():A9(e.currentTransmux))},OO=function(e,i){e.postMessage({action:i}),x9(e)},k9=function(e,i){if(!i.currentTransmux){i.currentTransmux=e,OO(i,e);return}i.transmuxQueue.push(OO.bind(null,i,e))},lwe=function(e){k9("reset",e)},cwe=function(e){k9("endTimeline",e)},_9=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,A9(e);return}e.transmuxer.transmuxQueue.push(e)},uwe=function(e){var i=new rwe;i.currentTransmux=null,i.transmuxQueue=[];var n=i.terminate;return i.terminate=function(){return i.currentTransmux=null,i.transmuxQueue.length=0,n.call(i)},i.postMessage({action:"init",options:e}),i},v_={reset:lwe,endTimeline:cwe,transmux:_9,createTransmuxer:uwe},Pw=function(e){var i=e.transmuxer,n=e.endAction||e.action,r=e.callback,o=he({},e,{endAction:null,transmuxer:null,callback:null}),a=function c(u){u.data.action===n&&(i.removeEventListener("message",c),u.data.data&&(u.data.data=new Uint8Array(u.data.data,e.byteOffset||0,e.byteLength||u.data.data.byteLength),e.data&&(e.data=u.data.data)),r(u.data))};if(i.addEventListener("message",a),e.data){var s=e.data instanceof ArrayBuffer;o.byteOffset=s?0:e.data.byteOffset,o.byteLength=e.data.byteLength;var l=[s?e.data:e.data.buffer];i.postMessage(o,l)}else i.postMessage(o)},ga={FAILURE:2,TIMEOUT:-101,ABORTED:-102},j2=function(e){e.forEach(function(i){i.abort()})},dwe=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},fwe=function(e){var i=e.target,n=Date.now()-i.requestTime,r={bandwidth:1/0,bytesReceived:0,roundTripTime:n||0};return r.bytesReceived=e.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},Jz=function(e,i){return i.timedout?{status:i.status,message:"HLS request timed-out at URL: "+i.uri,code:ga.TIMEOUT,xhr:i}:i.aborted?{status:i.status,message:"HLS request aborted at URL: "+i.uri,code:ga.ABORTED,xhr:i}:e?{status:i.status,message:"HLS request errored at URL: "+i.uri,code:ga.FAILURE,xhr:i}:i.responseType==="arraybuffer"&&i.response.byteLength===0?{status:i.status,message:"Empty HLS response at URL: "+i.uri,code:ga.FAILURE,xhr:i}:null},DO=function(e,i,n){return function(r,o){var a=o.response,s=Jz(r,o);if(s)return n(s,e);if(a.byteLength!==16)return n({status:o.status,message:"Invalid HLS key at URL: "+o.uri,code:ga.FAILURE,xhr:o},e);for(var l=new DataView(a),c=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]),u=0;u<i.length;u++)i[u].bytes=c;return n(null,e)}},T9=function(e,i){var n=pz(e.map.bytes);if(n!=="mp4"){var r=e.map.resolvedUri||e.map.uri;return i({internal:!0,message:"Found unsupported "+(n||"unknown")+" container for initialization segment at URL: "+r,code:ga.FAILURE})}Pw({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(a){var s=a.tracks,l=a.data;return e.map.bytes=l,s.forEach(function(c){e.map.tracks=e.map.tracks||{},!e.map.tracks[c.type]&&(e.map.tracks[c.type]=c,typeof c.id=="number"&&c.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[c.id]=c.timescale))}),i(null)}})},pwe=function(e){var i=e.segment,n=e.finishProcessingFn;return function(r,o){var a=Jz(r,o);if(a)return n(a,i);var s=new Uint8Array(o.response);if(i.map.key)return i.map.encryptedBytes=s,n(null,i);i.map.bytes=s,T9(i,function(l){if(l)return l.xhr=o,l.status=o.status,n(l,i);n(null,i)})}},hwe=function(e){var i=e.segment,n=e.finishProcessingFn,r=e.responseType;return function(o,a){var s=Jz(o,a);if(s)return n(s,i);var l=r==="arraybuffer"||!a.responseText?a.response:twe(a.responseText.substring(i.lastReachedChar||0));return i.stats=dwe(a),i.key?i.encryptedBytes=new Uint8Array(l):i.bytes=new Uint8Array(l),n(null,i)}},mwe=function(e){var i=e.segment,n=e.bytes,r=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,l=e.id3Fn,c=e.captionsFn,u=e.isEndOfTimeline,f=e.endedTimelineFn,h=e.dataFn,m=e.doneFn,b=e.onTransmuxerLog,w=i.map&&i.map.tracks||{},g=Boolean(w.audio&&w.video),A=o.bind(null,i,"audio","start"),x=o.bind(null,i,"audio","end"),T=o.bind(null,i,"video","start"),C=o.bind(null,i,"video","end"),z=function(){return _9({bytes:n,transmuxer:i.transmuxer,audioAppendStart:i.audioAppendStart,gopsToAlignWith:i.gopsToAlignWith,remux:g,onData:function(O){O.type=O.type==="combined"?"video":O.type,h(i,O)},onTrackInfo:function(O){r&&(g&&(O.isMuxed=!0),r(i,O))},onAudioTimingInfo:function(O){A&&typeof O.start!="undefined"&&(A(O.start),A=null),x&&typeof O.end!="undefined"&&x(O.end)},onVideoTimingInfo:function(O){T&&typeof O.start!="undefined"&&(T(O.start),T=null),C&&typeof O.end!="undefined"&&C(O.end)},onVideoSegmentTimingInfo:function(O){a(O)},onAudioSegmentTimingInfo:function(O){s(O)},onId3:function(O,F){l(i,O,F)},onCaptions:function(O){c(i,[O])},isEndOfTimeline:u,onEndedTimeline:function(){f()},onTransmuxerLog:b,onDone:function(O){!m||(O.type=O.type==="combined"?"video":O.type,m(null,i,O))}})};Pw({action:"probeTs",transmuxer:i.transmuxer,data:n,baseStartTime:i.baseStartTime,callback:function(B){i.bytes=n=B.data;var O=B.result;O&&(r(i,{hasAudio:O.hasAudio,hasVideo:O.hasVideo,isMuxed:g}),r=null,O.hasAudio&&!g&&A(O.audioStart),O.hasVideo&&T(O.videoStart),A=null,T=null),z()}})},S9=function(e){var i=e.segment,n=e.bytes,r=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,l=e.id3Fn,c=e.captionsFn,u=e.isEndOfTimeline,f=e.endedTimelineFn,h=e.dataFn,m=e.doneFn,b=e.onTransmuxerLog,w=new Uint8Array(n);if(F0e(w)){i.isFmp4=!0;var g=i.map.tracks,A={isFmp4:!0,hasVideo:!!g.video,hasAudio:!!g.audio};g.audio&&g.audio.codec&&g.audio.codec!=="enca"&&(A.audioCodec=g.audio.codec),g.video&&g.video.codec&&g.video.codec!=="encv"&&(A.videoCodec=g.video.codec),g.video&&g.audio&&(A.isMuxed=!0),r(i,A);var x=function(C){h(i,{data:w,type:A.hasAudio&&!A.isMuxed?"audio":"video"}),C&&C.length&&c(i,C),m(null,i,{})};Pw({action:"probeMp4StartTime",timescales:i.map.timescales,data:w,transmuxer:i.transmuxer,callback:function(C){var z=C.data,L=C.startTime;if(n=z.buffer,i.bytes=w=z,A.hasAudio&&!A.isMuxed&&o(i,"audio","start",L),A.hasVideo&&o(i,"video","start",L),!g.video||!z.byteLength||!i.transmuxer){x();return}Pw({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:i.transmuxer,data:w,timescales:i.map.timescales,trackIds:[g.video.id],callback:function(O){n=O.data.buffer,i.bytes=w=O.data,O.logs.forEach(function(F){b(ee.mergeOptions(F,{stream:"mp4CaptionParser"}))}),x(O.captions)}})}});return}if(!i.transmuxer){m(null,i,{});return}if(typeof i.container=="undefined"&&(i.container=pz(w)),i.container!=="ts"&&i.container!=="aac"){r(i,{hasAudio:!1,hasVideo:!1}),m(null,i,{});return}mwe({segment:i,bytes:n,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:l,captionsFn:c,isEndOfTimeline:u,endedTimelineFn:f,dataFn:h,doneFn:m,onTransmuxerLog:b})},C9=function(e,i){var n=e.id,r=e.key,o=e.encryptedBytes,a=e.decryptionWorker,s=function c(u){if(u.data.source===n){a.removeEventListener("message",c);var f=u.data.decrypted;i(new Uint8Array(f.bytes,f.byteOffset,f.byteLength))}};a.addEventListener("message",s);var l;r.bytes.slice?l=r.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(r.bytes)),a.postMessage(f9({source:n,encrypted:o,key:l,iv:r.iv}),[o.buffer,l.buffer])},gwe=function(e){var i=e.decryptionWorker,n=e.segment,r=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,l=e.id3Fn,c=e.captionsFn,u=e.isEndOfTimeline,f=e.endedTimelineFn,h=e.dataFn,m=e.doneFn,b=e.onTransmuxerLog;C9({id:n.requestId,key:n.key,encryptedBytes:n.encryptedBytes,decryptionWorker:i},function(w){n.bytes=w,S9({segment:n,bytes:n.bytes,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:l,captionsFn:c,isEndOfTimeline:u,endedTimelineFn:f,dataFn:h,doneFn:m,onTransmuxerLog:b})})},bwe=function(e){var i=e.activeXhrs,n=e.decryptionWorker,r=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,l=e.id3Fn,c=e.captionsFn,u=e.isEndOfTimeline,f=e.endedTimelineFn,h=e.dataFn,m=e.doneFn,b=e.onTransmuxerLog,w=0,g=!1;return function(A,x){if(!g){if(A)return g=!0,j2(i),m(A,x);if(w+=1,w===i.length){var T=function(){if(x.encryptedBytes)return gwe({decryptionWorker:n,segment:x,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:l,captionsFn:c,isEndOfTimeline:u,endedTimelineFn:f,dataFn:h,doneFn:m,onTransmuxerLog:b});S9({segment:x,bytes:x.bytes,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:l,captionsFn:c,isEndOfTimeline:u,endedTimelineFn:f,dataFn:h,doneFn:m,onTransmuxerLog:b})};if(x.endOfAllRequests=Date.now(),x.map&&x.map.encryptedBytes&&!x.map.bytes)return C9({decryptionWorker:n,id:x.requestId+"-init",encryptedBytes:x.map.encryptedBytes,key:x.map.key},function(C){x.map.bytes=C,T9(x,function(z){if(z)return j2(i),m(z,x);T()})});T()}}}},vwe=function(e){var i=e.loadendState,n=e.abortFn;return function(r){var o=r.target;o.aborted&&n&&!i.calledAbortFn&&(n(),i.calledAbortFn=!0)}},ywe=function(e){var i=e.segment,n=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(r){var o=r.target;if(!o.aborted)return i.stats=ee.mergeOptions(i.stats,fwe(r)),!i.stats.firstBytesReceivedAt&&i.stats.bytesReceived&&(i.stats.firstBytesReceivedAt=Date.now()),n(r,i)}},wwe=function(e){var i=e.xhr,n=e.xhrOptions,r=e.decryptionWorker,o=e.segment,a=e.abortFn,s=e.progressFn,l=e.trackInfoFn,c=e.timingInfoFn,u=e.videoSegmentTimingInfoFn,f=e.audioSegmentTimingInfoFn,h=e.id3Fn,m=e.captionsFn,b=e.isEndOfTimeline,w=e.endedTimelineFn,g=e.dataFn,A=e.doneFn,x=e.onTransmuxerLog,T=[],C=bwe({activeXhrs:T,decryptionWorker:r,trackInfoFn:l,timingInfoFn:c,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:f,id3Fn:h,captionsFn:m,isEndOfTimeline:b,endedTimelineFn:w,dataFn:g,doneFn:A,onTransmuxerLog:x});if(o.key&&!o.key.bytes){var z=[o.key];o.map&&!o.map.bytes&&o.map.key&&o.map.key.resolvedUri===o.key.resolvedUri&&z.push(o.map.key);var L=ee.mergeOptions(n,{uri:o.key.resolvedUri,responseType:"arraybuffer"}),B=DO(o,z,C),O=i(L,B);T.push(O)}if(o.map&&!o.map.bytes){var F=o.map.key&&(!o.key||o.key.resolvedUri!==o.map.key.resolvedUri);if(F){var H=ee.mergeOptions(n,{uri:o.map.key.resolvedUri,responseType:"arraybuffer"}),K=DO(o,[o.map.key],C),fe=i(H,K);T.push(fe)}var Ae=ee.mergeOptions(n,{uri:o.map.resolvedUri,responseType:"arraybuffer",headers:F2(o.map)}),Se=pwe({segment:o,finishProcessingFn:C}),ke=i(Ae,Se);T.push(ke)}var Oe=ee.mergeOptions(n,{uri:o.part&&o.part.resolvedUri||o.resolvedUri,responseType:"arraybuffer",headers:F2(o)}),Fe=hwe({segment:o,finishProcessingFn:C,responseType:Oe.responseType}),Ve=i(Oe,Fe);Ve.addEventListener("progress",ywe({segment:o,progressFn:s,trackInfoFn:l,timingInfoFn:c,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:f,id3Fn:h,captionsFn:m,isEndOfTimeline:b,endedTimelineFn:w,dataFn:g})),T.push(Ve);var Le={};return T.forEach(function(Me){Me.addEventListener("loadend",vwe({loadendState:Le,abortFn:a}))}),function(){return j2(T)}},Awe=Jo("CodecUtils"),xwe=function(e){var i=e.attributes||{};if(i.CODECS)return oa(i.CODECS)},E9=function(e,i){var n=i.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},kwe=function(e,i){if(!E9(e,i))return!0;var n=i.attributes||{},r=e.mediaGroups.AUDIO[n.AUDIO];for(var o in r)if(!r[o].uri&&!r[o].playlists)return!0;return!1},Rw=function(e){var i={};return e.forEach(function(n){var r=n.mediaType,o=n.type,a=n.details;i[r]=i[r]||[],i[r].push(tj(""+o+a))}),Object.keys(i).forEach(function(n){if(i[n].length>1){Awe("multiple "+n+" codecs found as attributes: "+i[n].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),i[n]=null;return}i[n]=i[n][0]}),i},MO=function(e){var i=0;return e.audio&&i++,e.video&&i++,i},wm=function(e,i){var n=i.attributes||{},r=Rw(xwe(i)||[]);if(E9(e,i)&&!r.audio&&!kwe(e,i)){var o=Rw(nbe(e,n.AUDIO)||[]);o.audio&&(r.audio=o.audio)}return r},wv=Jo("PlaylistSelector"),BO=function(e){if(!(!e||!e.playlist)){var i=e.playlist;return JSON.stringify({id:i.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:i.attributes&&i.attributes.CODECS||""})}},Lw=function(e,i){if(!e)return"";var n=Q.getComputedStyle(e);return n?n[i]:""},Vd=function(e,i){var n=e.slice();e.sort(function(r,o){var a=i(r,o);return a===0?n.indexOf(r)-n.indexOf(o):a})},Zz=function(e,i){var n,r;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||Q.Number.MAX_VALUE,i.attributes.BANDWIDTH&&(r=i.attributes.BANDWIDTH),r=r||Q.Number.MAX_VALUE,n-r},_we=function(e,i){var n,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||Q.Number.MAX_VALUE,i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width&&(r=i.attributes.RESOLUTION.width),r=r||Q.Number.MAX_VALUE,n===r&&e.attributes.BANDWIDTH&&i.attributes.BANDWIDTH?e.attributes.BANDWIDTH-i.attributes.BANDWIDTH:n-r},z9=function(e,i,n,r,o,a){if(!!e){var s={bandwidth:i,width:n,height:r,limitRenditionByPlayerDimensions:o},l=e.playlists;yr.isAudioOnly(e)&&(l=a.getAudioTrackPlaylists_(),s.audioOnly=!0);var c=l.map(function(H){var K,fe=H.attributes&&H.attributes.RESOLUTION&&H.attributes.RESOLUTION.width,Ae=H.attributes&&H.attributes.RESOLUTION&&H.attributes.RESOLUTION.height;return K=H.attributes&&H.attributes.BANDWIDTH,K=K||Q.Number.MAX_VALUE,{bandwidth:K,width:fe,height:Ae,playlist:H}});Vd(c,function(H,K){return H.bandwidth-K.bandwidth}),c=c.filter(function(H){return!yr.isIncompatible(H.playlist)});var u=c.filter(function(H){return yr.isEnabled(H.playlist)});u.length||(u=c.filter(function(H){return!yr.isDisabled(H.playlist)}));var f=u.filter(function(H){return H.bandwidth*Xi.BANDWIDTH_VARIANCE<i}),h=f[f.length-1],m=f.filter(function(H){return H.bandwidth===h.bandwidth})[0];if(o===!1){var b=m||u[0]||c[0];if(b&&b.playlist){var w="sortedPlaylistReps";return m&&(w="bandwidthBestRep"),u[0]&&(w="enabledPlaylistReps"),wv("choosing "+BO(b)+" using "+w+" with options",s),b.playlist}return wv("could not choose a playlist with options",s),null}var g=f.filter(function(H){return H.width&&H.height});Vd(g,function(H,K){return H.width-K.width});var A=g.filter(function(H){return H.width===n&&H.height===r});h=A[A.length-1];var x=A.filter(function(H){return H.bandwidth===h.bandwidth})[0],T,C,z;x||(T=g.filter(function(H){return H.width>n||H.height>r}),C=T.filter(function(H){return H.width===T[0].width&&H.height===T[0].height}),h=C[C.length-1],z=C.filter(function(H){return H.bandwidth===h.bandwidth})[0]);var L;if(a.experimentalLeastPixelDiffSelector){var B=g.map(function(H){return H.pixelDiff=Math.abs(H.width-n)+Math.abs(H.height-r),H});Vd(B,function(H,K){return H.pixelDiff===K.pixelDiff?K.bandwidth-H.bandwidth:H.pixelDiff-K.pixelDiff}),L=B[0]}var O=L||z||x||m||u[0]||c[0];if(O&&O.playlist){var F="sortedPlaylistReps";return L?F="leastPixelDiffRep":z?F="resolutionPlusOneRep":x?F="resolutionBestRep":m?F="bandwidthBestRep":u[0]&&(F="enabledPlaylistReps"),wv("choosing "+BO(O)+" using "+F+" with options",s),O.playlist}return wv("could not choose a playlist with options",s),null}},FO=function(){var e=this.useDevicePixelRatio&&Q.devicePixelRatio||1;return z9(this.playlists.master,this.systemBandwidth,parseInt(Lw(this.tech_.el(),"width"),10)*e,parseInt(Lw(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},Twe=function(e){var i=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var r=this.useDevicePixelRatio&&Q.devicePixelRatio||1;return i<0&&(i=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(i=e*this.systemBandwidth+(1-e)*i,n=this.systemBandwidth),z9(this.playlists.master,i,parseInt(Lw(this.tech_.el(),"width"),10)*r,parseInt(Lw(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},Swe=function(e){var i=e.master,n=e.currentTime,r=e.bandwidth,o=e.duration,a=e.segmentDuration,s=e.timeUntilRebuffer,l=e.currentTimeline,c=e.syncController,u=i.playlists.filter(function(w){return!yr.isIncompatible(w)}),f=u.filter(yr.isEnabled);f.length||(f=u.filter(function(w){return!yr.isDisabled(w)}));var h=f.filter(yr.hasAttribute.bind(null,"BANDWIDTH")),m=h.map(function(w){var g=c.getSyncPoint(w,o,l,n),A=g?1:2,x=yr.estimateSegmentRequestTime(a,r,w),T=x*A-s;return{playlist:w,rebufferingImpact:T}}),b=m.filter(function(w){return w.rebufferingImpact<=0});return Vd(b,function(w,g){return Zz(g.playlist,w.playlist)}),b.length?b[0]:(Vd(m,function(w,g){return w.rebufferingImpact-g.rebufferingImpact}),m[0]||null)},Cwe=function(){var e=this,i=this.playlists.master.playlists.filter(yr.isEnabled);Vd(i,function(r,o){return Zz(r,o)});var n=i.filter(function(r){return!!wm(e.playlists.master,r).video});return n[0]||null},Ewe=function(e){var i=0,n;return e.bytes&&(n=new Uint8Array(e.bytes),e.segments.forEach(function(r){n.set(r,i),i+=r.byteLength})),n},zwe=function(e,i,n){if(!e[n]){i.trigger({type:"usage",name:"vhs-608"}),i.trigger({type:"usage",name:"hls-608"});var r=n;/^cc708_/.test(n)&&(r="SERVICE"+n.split("_")[1]);var o=i.textTracks().getTrackById(r);if(o)e[n]=o;else{var a=i.options_.vhs&&i.options_.vhs.captionServices||{},s=n,l=n,c=!1,u=a[r];u&&(s=u.label,l=u.language,c=u.default),e[n]=i.addRemoteTextTrack({kind:"captions",id:r,default:c,label:s,language:l},!1).track}}},Iwe=function(e){var i=e.inbandTextTracks,n=e.captionArray,r=e.timestampOffset;if(!!n){var o=Q.WebKitDataCue||Q.VTTCue;n.forEach(function(a){var s=a.stream;i[s].addCue(new o(a.startTime+r,a.endTime+r,a.text))})}},Pwe=function(e){Object.defineProperties(e.frame,{id:{get:function(){return ee.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return ee.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return ee.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},Rwe=function(e){var i=e.inbandTextTracks,n=e.metadataArray,r=e.timestampOffset,o=e.videoDuration;if(!!n){var a=Q.WebKitDataCue||Q.VTTCue,s=i.metadataTrack_;if(!!s&&(n.forEach(function(m){var b=m.cueTime+r;typeof b!="number"||Q.isNaN(b)||b<0||!(b<1/0)||m.frames.forEach(function(w){var g=new a(b,b,w.value||w.url||w.data||"");g.frame=w,g.value=w,Pwe(g),s.addCue(g)})}),!(!s.cues||!s.cues.length))){for(var l=s.cues,c=[],u=0;u<l.length;u++)l[u]&&c.push(l[u]);var f=c.reduce(function(m,b){var w=m[b.startTime]||[];return w.push(b),m[b.startTime]=w,m},{}),h=Object.keys(f).sort(function(m,b){return Number(m)-Number(b)});h.forEach(function(m,b){var w=f[m],g=Number(h[b+1])||o;w.forEach(function(A){A.endTime=g})})}}},Lwe=function(e,i,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=i)},Kh=function(e,i,n){var r,o;if(!!n&&!!n.cues)for(r=n.cues.length;r--;)o=n.cues[r],o.startTime>=e&&o.endTime<=i&&n.removeCue(o)},Owe=function(e){var i=e.cues;if(!!i)for(var n=0;n<i.length;n++){for(var r=[],o=0,a=0;a<i.length;a++)i[n].startTime===i[a].startTime&&i[n].endTime===i[a].endTime&&i[n].text===i[a].text&&(o++,o>1&&r.push(i[a]));r.length&&r.forEach(function(s){return e.removeCue(s)})}},Dwe=function(e,i,n){if(typeof i=="undefined"||i===null||!e.length)return[];var r=Math.ceil((i-n+3)*vw.ONE_SECOND_IN_TS),o;for(o=0;o<e.length&&!(e[o].pts>r);o++);return e.slice(o)},Mwe=function(e,i,n){if(!i.length)return e;if(n)return i.slice();var r=i[0].pts,o=0;for(o;o<e.length&&!(e[o].pts>=r);o++);return e.slice(0,o).concat(i)},Bwe=function(e,i,n,r){for(var o=Math.ceil((i-r)*vw.ONE_SECOND_IN_TS),a=Math.ceil((n-r)*vw.ONE_SECOND_IN_TS),s=e.slice(),l=e.length;l--&&!(e[l].pts<=a););if(l===-1)return s;for(var c=l+1;c--&&!(e[c].pts<=o););return c=Math.max(c,0),s.splice(c,l-c+1),s},Fwe=function(e,i){if(!e&&!i||!e&&i||e&&!i)return!1;if(e===i)return!0;var n=Object.keys(e).sort(),r=Object.keys(i).sort();if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++){var a=n[o];if(a!==r[o]||e[a]!==i[a])return!1}return!0},I9=22,Nwe=function(e,i,n){i=i||[];for(var r=[],o=0,a=0;a<i.length;a++){var s=i[a];if(e===s.timeline&&(r.push(a),o+=s.duration,o>n))return a}return r.length===0?0:r[r.length-1]},Dh=1,jwe=500,NO=function(e){return typeof e=="number"&&isFinite(e)},Av=1/60,Uwe=function(e,i,n){return e!=="main"||!i||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":i.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!i.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},Gwe=function(e,i,n){var r=i-Xi.BACK_BUFFER_LENGTH;e.length&&(r=Math.max(r,e.start(0)));var o=i-n;return Math.min(o,r)},hd=function(e){var i=e.startOfSegment,n=e.duration,r=e.segment,o=e.part,a=e.playlist,s=a.mediaSequence,l=a.id,c=a.segments,u=c===void 0?[]:c,f=e.mediaIndex,h=e.partIndex,m=e.timeline,b=u.length-1,w="mediaIndex/partIndex increment";e.getMediaInfoForTime?w="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(w="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(w+=" with independent "+e.independent);var g=typeof h=="number",A=e.segment.uri?"segment":"pre-segment",x=g?JU({preloadSegment:r})-1:0;return A+" ["+(s+f)+"/"+(s+b)+"]"+(g?" part ["+h+"/"+x+"]":"")+(" segment start/end ["+r.start+" => "+r.end+"]")+(g?" part start/end ["+o.start+" => "+o.end+"]":"")+(" startOfSegment ["+i+"]")+(" duration ["+n+"]")+(" timeline ["+m+"]")+(" selected by ["+w+"]")+(" playlist ["+l+"]")},jO=function(e){return e+"TimingInfo"},Hwe=function(e){var i=e.segmentTimeline,n=e.currentTimeline,r=e.startOfSegment,o=e.buffered,a=e.overrideCheck;return!a&&i===n?null:i<n?r:o.length?o.end(o.length-1):r},UO=function(e){var i=e.timelineChangeController,n=e.currentTimeline,r=e.segmentTimeline,o=e.loaderType,a=e.audioDisabled;if(n===r)return!1;if(o==="audio"){var s=i.lastTimelineChange({type:"main"});return!s||s.to!==r}if(o==="main"&&a){var l=i.pendingTimelineChange({type:"audio"});return!(l&&l.to===r)}return!1},Ywe=function(e,i){var n=e&&typeof e.start=="number"&&typeof e.end=="number"?e.end-e.start:0,r=i&&typeof i.start=="number"&&typeof i.end=="number"?i.end-i.start:0;return Math.max(n,r)},GO=function(e){var i=e.segmentDuration,n=e.maxDuration;return i?Math.round(i)>n+Yl:!1},Wwe=function(e,i){if(i!=="hls")return null;var n=Ywe(e.audioTimingInfo,e.videoTimingInfo);if(!n)return null;var r=e.playlist.targetDuration,o=GO({segmentDuration:n,maxDuration:r*2}),a=GO({segmentDuration:n,maxDuration:r}),s="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+n+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+r+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return o||a?{severity:o?"warn":"info",message:s}:null},U2=function(t){ge(e,t);function e(n,r){var o;if(o=t.call(this)||this,!n)throw new TypeError("Initialization settings are required");if(typeof n.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!n.mediaSource)throw new TypeError("No MediaSource specified");return o.bandwidth=n.bandwidth,o.throughput={rate:0,count:0},o.roundTrip=NaN,o.resetStats_(),o.mediaIndex=null,o.partIndex=null,o.hasPlayed_=n.hasPlayed,o.currentTime_=n.currentTime,o.seekable_=n.seekable,o.seeking_=n.seeking,o.duration_=n.duration,o.mediaSource_=n.mediaSource,o.vhs_=n.vhs,o.loaderType_=n.loaderType,o.currentMediaInfo_=void 0,o.startingMediaInfo_=void 0,o.segmentMetadataTrack_=n.segmentMetadataTrack,o.goalBufferLength_=n.goalBufferLength,o.sourceType_=n.sourceType,o.sourceUpdater_=n.sourceUpdater,o.inbandTextTracks_=n.inbandTextTracks,o.state_="INIT",o.timelineChangeController_=n.timelineChangeController,o.shouldSaveSegmentTimingInfo_=!0,o.parse708captions_=n.parse708captions,o.captionServices_=n.captionServices,o.experimentalExactManifestTimings=n.experimentalExactManifestTimings,o.checkBufferTimeout_=null,o.error_=void 0,o.currentTimeline_=-1,o.pendingSegment_=null,o.xhrOptions_=null,o.pendingSegments_=[],o.audioDisabled_=!1,o.isPendingTimestampOffset_=!1,o.gopBuffer_=[],o.timeMapping_=0,o.safeAppend_=ee.browser.IE_VERSION>=11,o.appendInitSegment_={audio:!0,video:!0},o.playlistOfLastInitSegment_={audio:null,video:null},o.callQueue_=[],o.loadQueue_=[],o.metadataQueue_={id3:[],caption:[]},o.waitingOnRemove_=!1,o.quotaExceededErrorRetryTimeout_=null,o.activeInitSegmentId_=null,o.initSegments_={},o.cacheEncryptionKeys_=n.cacheEncryptionKeys,o.keyCache_={},o.decrypter_=n.decrypter,o.syncController_=n.syncController,o.syncPoint_={segmentIndex:0,time:0},o.transmuxer_=o.createTransmuxer_(),o.triggerSyncInfoUpdate_=function(){return o.trigger("syncinfoupdate")},o.syncController_.on("syncinfoupdate",o.triggerSyncInfoUpdate_),o.mediaSource_.addEventListener("sourceopen",function(){o.isEndOfStream_()||(o.ended_=!1)}),o.fetchAtBuffer_=!1,o.logger_=Jo("SegmentLoader["+o.loaderType_+"]"),Object.defineProperty(oe(o),"state",{get:function(){return this.state_},set:function(s){s!==this.state_&&(this.logger_(this.state_+" -> "+s),this.state_=s,this.trigger("statechange"))}}),o.sourceUpdater_.on("ready",function(){o.hasEnoughInfoToAppend_()&&o.processCallQueue_()}),o.loaderType_==="main"&&o.timelineChangeController_.on("pendingtimelinechange",function(){o.hasEnoughInfoToAppend_()&&o.processCallQueue_()}),o.loaderType_==="audio"&&o.timelineChangeController_.on("timelinechange",function(){o.hasEnoughInfoToLoad_()&&o.processLoadQueue_(),o.hasEnoughInfoToAppend_()&&o.processCallQueue_()}),o}var i=e.prototype;return i.createTransmuxer_=function(){return v_.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},i.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&Q.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(r){this.audioDisabled_=!r,r?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,Q.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},i.checkForAbort_=function(r){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==r},i.error=function(r){return typeof r!="undefined"&&(this.logger_("error occurred:",r),this.error_=r),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&v_.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},i.buffered_=function(){var r=this.getMediaInfo_();if(!this.sourceUpdater_||!r)return ee.createTimeRanges();if(this.loaderType_==="main"){var o=r.hasAudio,a=r.hasVideo,s=r.isMuxed;if(a&&o&&!this.audioDisabled_&&!s)return this.sourceUpdater_.buffered();if(a)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(r,o){if(o===void 0&&(o=!1),!r)return null;var a=Iw(r),s=this.initSegments_[a];return o&&!s&&r.bytes&&(this.initSegments_[a]=s={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:r.bytes,tracks:r.tracks,timescales:r.timescales}),s||r},i.segmentKey=function(r,o){if(o===void 0&&(o=!1),!r)return null;var a=p9(r),s=this.keyCache_[a];this.cacheEncryptionKeys_&&o&&!s&&r.bytes&&(this.keyCache_[a]=s={resolvedUri:r.resolvedUri,bytes:r.bytes});var l={resolvedUri:(s||r).resolvedUri};return s&&(l.bytes=s.bytes),l},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(r,o){if(o===void 0&&(o={}),!!r){var a=this.playlist_,s=this.pendingSegment_;this.playlist_=r,this.xhrOptions_=o,this.state==="INIT"&&(r.syncInfo={mediaSequence:r.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(r));var l=null;if(a&&(a.id?l=a.id:a.uri&&(l=a.uri)),this.logger_("playlist update ["+l+" => "+(r.id||r.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!a||a.uri!==r.uri){this.mediaIndex!==null&&(r.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var c=r.mediaSequence-a.mediaSequence;if(this.logger_("live window shift ["+c+"]"),this.mediaIndex!==null)if(this.mediaIndex-=c,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var u=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!u.parts||!u.parts.length||!u.parts[this.partIndex])){var f=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=f}}s&&(s.mediaIndex-=c,s.mediaIndex<0?(s.mediaIndex=null,s.partIndex=null):(s.mediaIndex>=0&&(s.segment=r.segments[s.mediaIndex]),s.partIndex>=0&&s.segment.parts&&(s.part=s.segment.parts[s.partIndex]))),this.syncController_.saveExpiredSegmentInfo(a,r)}},i.pause=function(){this.checkBufferTimeout_&&(Q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return this.checkBufferTimeout_===null},i.resetEverything=function(r){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,r),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&v_.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},i.remove=function(r,o,a,s){if(a===void 0&&(a=function(){}),s===void 0&&(s=!1),o===1/0&&(o=this.duration_()),o<=r){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var l=1,c=function(){l--,l===0&&a()};(s||!this.audioDisabled_)&&(l++,this.sourceUpdater_.removeAudio(r,o,c)),(s||this.loaderType_==="main")&&(this.gopBuffer_=Bwe(this.gopBuffer_,r,o,this.timeMapping_),l++,this.sourceUpdater_.removeVideo(r,o,c));for(var u in this.inbandTextTracks_)Kh(r,o,this.inbandTextTracks_[u]);Kh(r,o,this.segmentMetadataTrack_),c()},i.monitorBuffer_=function(){this.checkBufferTimeout_&&Q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Q.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&Q.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Q.setTimeout(this.monitorBufferTick_.bind(this),jwe)},i.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var r=this.chooseNextRequest_();!r||(typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline})),this.loadSegment_(r))}},i.isEndOfStream_=function(r,o,a){if(r===void 0&&(r=this.mediaIndex),o===void 0&&(o=this.playlist_),a===void 0&&(a=this.partIndex),!o||!this.mediaSource_)return!1;var s=typeof r=="number"&&o.segments[r],l=r+1===o.segments.length,c=!s||!s.parts||a+1===s.parts.length;return o.endList&&this.mediaSource_.readyState==="open"&&l&&c},i.chooseNextRequest_=function(){var r=this.buffered_(),o=zO(r)||0,a=$z(r,this.currentTime_()),s=!this.hasPlayed_()&&a>=1,l=a>=this.goalBufferLength_(),c=this.playlist_.segments;if(!c.length||s||l)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var u={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(u.isSyncRequest)u.mediaIndex=Nwe(this.currentTimeline_,c,o);else if(this.mediaIndex!==null){var f=c[this.mediaIndex],h=typeof this.partIndex=="number"?this.partIndex:-1;u.startOfSegment=f.end?f.end:o,f.parts&&f.parts[h+1]?(u.mediaIndex=this.mediaIndex,u.partIndex=h+1):u.mediaIndex=this.mediaIndex+1}else{var m=yr.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?o:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),b=m.segmentIndex,w=m.startTime,g=m.partIndex;u.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+o:"currentTime "+this.currentTime_(),u.mediaIndex=b,u.startOfSegment=w,u.partIndex=g}var A=c[u.mediaIndex],x=A&&typeof u.partIndex=="number"&&A.parts&&A.parts[u.partIndex];if(!A||typeof u.partIndex=="number"&&!x)return null;if(typeof u.partIndex!="number"&&A.parts&&(u.partIndex=0,x=A.parts[0]),!a&&x&&!x.independent)if(u.partIndex===0){var T=c[u.mediaIndex-1],C=T.parts&&T.parts.length&&T.parts[T.parts.length-1];C&&C.independent&&(u.mediaIndex-=1,u.partIndex=T.parts.length-1,u.independent="previous segment")}else A.parts[u.partIndex-1].independent&&(u.partIndex-=1,u.independent="previous part");var z=this.mediaSource_&&this.mediaSource_.readyState==="ended";return u.mediaIndex>=c.length-1&&z&&!this.seeking_()?null:this.generateSegmentInfo_(u)},i.generateSegmentInfo_=function(r){var o=r.independent,a=r.playlist,s=r.mediaIndex,l=r.startOfSegment,c=r.isSyncRequest,u=r.partIndex,f=r.forceTimestampOffset,h=r.getMediaInfoForTime,m=a.segments[s],b=typeof u=="number"&&m.parts[u],w={requestId:"segment-loader-"+Math.random(),uri:b&&b.resolvedUri||m.resolvedUri,mediaIndex:s,partIndex:b?u:null,isSyncRequest:c,startOfSegment:l,playlist:a,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:m.timeline,duration:b&&b.duration||m.duration,segment:m,part:b,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:h,independent:o},g=typeof f!="undefined"?f:this.isPendingTimestampOffset_;w.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:m.timeline,currentTimeline:this.currentTimeline_,startOfSegment:l,buffered:this.buffered_(),overrideCheck:g});var A=zO(this.sourceUpdater_.audioBuffered());return typeof A=="number"&&(w.audioAppendStart=A-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(w.gopsToAlignWith=Dwe(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),w},i.timestampOffsetForSegment_=function(r){return Hwe(r)},i.earlyAbortWhenNeeded_=function(r){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(r.firstBytesReceivedAt||Date.now())<1e3)){var o=this.currentTime_(),a=r.bandwidth,s=this.pendingSegment_.duration,l=yr.estimateSegmentRequestTime(s,a,this.playlist_,r.bytesReceived),c=mye(this.buffered_(),o,this.vhs_.tech_.playbackRate())-1;if(!(l<=c)){var u=Swe({master:this.vhs_.playlists.master,currentTime:o,bandwidth:a,duration:this.duration_(),segmentDuration:s,timeUntilRebuffer:c,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!u){var f=l-c,h=f-u.rebufferingImpact,m=.5;c<=Yl&&(m=1),!(!u.playlist||u.playlist.uri===this.playlist_.uri||h<m)&&(this.bandwidth=u.playlist.attributes.BANDWIDTH*Xi.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},i.handleAbort_=function(r){this.logger_("Aborting "+hd(r)),this.mediaRequestsAborted+=1},i.handleProgress_=function(r,o){this.earlyAbortWhenNeeded_(o.stats),!this.checkForAbort_(o.requestId)&&this.trigger("progress")},i.handleTrackInfo_=function(r,o){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&(this.checkForIllegalMediaSwitch(o)||(o=o||{},Fwe(this.currentMediaInfo_,o)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=o,this.currentMediaInfo_=o,this.logger_("trackinfo update",o),this.trigger("trackinfo")),!this.checkForAbort_(r.requestId)&&(this.pendingSegment_.trackInfo=o,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},i.handleTimingInfo_=function(r,o,a,s){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var l=this.pendingSegment_,c=jO(o);l[c]=l[c]||{},l[c][a]=s,this.logger_("timinginfo: "+o+" - "+a+" - "+s),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},i.handleCaptions_=function(r,o){var a=this;if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(o.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var s=this.pendingSegment_;if(!s.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,r,o));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),c={};o.forEach(function(u){c[u.stream]=c[u.stream]||{startTime:1/0,captions:[],endTime:0};var f=c[u.stream];f.startTime=Math.min(f.startTime,u.startTime+l),f.endTime=Math.max(f.endTime,u.endTime+l),f.captions.push(u)}),Object.keys(c).forEach(function(u){var f=c[u],h=f.startTime,m=f.endTime,b=f.captions,w=a.inbandTextTracks_;a.logger_("adding cues from "+h+" -> "+m+" for "+u),zwe(w,a.vhs_.tech_,u),Kh(h,m,w[u]),Iwe({captionArray:b,inbandTextTracks:w,timestampOffset:l})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},i.handleId3_=function(r,o,a){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){var s=this.pendingSegment_;if(!s.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,r,o,a));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();Lwe(this.inbandTextTracks_,a,this.vhs_.tech_),Rwe({inbandTextTracks:this.inbandTextTracks_,metadataArray:o,timestampOffset:l,videoDuration:this.duration_()})}},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(r){return r()}),this.metadataQueue_.caption.forEach(function(r){return r()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var r=this.callQueue_;this.callQueue_=[],r.forEach(function(o){return o()})},i.processLoadQueue_=function(){var r=this.loadQueue_;this.loadQueue_=[],r.forEach(function(o){return o()})},i.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var r=this.pendingSegment_;return r?this.getCurrentMediaInfo_()?!UO({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},i.getCurrentMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),r&&r.trackInfo||this.currentMediaInfo_},i.getMediaInfo_=function(r){return r===void 0&&(r=this.pendingSegment_),this.getCurrentMediaInfo_(r)||this.startingMediaInfo_},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var r=this.pendingSegment_,o=this.getCurrentMediaInfo_();if(!r||!o)return!1;var a=o.hasAudio,s=o.hasVideo,l=o.isMuxed;return!(s&&!r.videoTimingInfo||a&&!this.audioDisabled_&&!l&&!r.audioTimingInfo||UO({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:r.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.handleData_=function(r,o){if(this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,r,o));return}var a=this.pendingSegment_;if(this.setTimeMapping_(a.timeline),this.updateMediaSecondsLoaded_(a.part||a.segment),this.mediaSource_.readyState!=="closed"){if(r.map&&(r.map=this.initSegmentForMap(r.map,!0),a.segment.map=r.map),r.key&&this.segmentKey(r.key,!0),a.isFmp4=r.isFmp4,a.timingInfo=a.timingInfo||{},a.isFmp4)this.trigger("fmp4"),a.timingInfo.start=a[jO(o.type)].start;else{var s=this.getCurrentMediaInfo_(),l=this.loaderType_==="main"&&s&&s.hasVideo,c;l&&(c=a.videoTimingInfo.start),a.timingInfo.start=this.trueSegmentStart_({currentStart:a.timingInfo.start,playlist:a.playlist,mediaIndex:a.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:l,firstVideoFrameTimeForData:c,videoTimingInfo:a.videoTimingInfo,audioTimingInfo:a.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(a,o.type),this.updateSourceBufferTimestampOffset_(a),a.isSyncRequest){this.updateTimingInfoEnd_(a),this.syncController_.saveSegmentTimingInfo({segmentInfo:a,shouldSaveTimelineMapping:this.loaderType_==="main"});var u=this.chooseNextRequest_();if(u.mediaIndex!==a.mediaIndex||u.partIndex!==a.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}a.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(a,o)}}},i.updateAppendInitSegmentStatus=function(r,o){this.loaderType_==="main"&&typeof r.timestampOffset=="number"&&!r.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[o]!==r.playlist&&(this.appendInitSegment_[o]=!0)},i.getInitSegmentAndUpdateState_=function(r){var o=r.type,a=r.initSegment,s=r.map,l=r.playlist;if(s){var c=Iw(s);if(this.activeInitSegmentId_===c)return null;a=this.initSegmentForMap(s,!0).bytes,this.activeInitSegmentId_=c}return a&&this.appendInitSegment_[o]?(this.playlistOfLastInitSegment_[o]=l,this.appendInitSegment_[o]=!1,this.activeInitSegmentId_=null,a):null},i.handleQuotaExceededError_=function(r,o){var a=this,s=r.segmentInfo,l=r.type,c=r.bytes,u=this.sourceUpdater_.audioBuffered(),f=this.sourceUpdater_.videoBuffered();u.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Oc(u).join(", ")),f.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Oc(f).join(", "));var h=u.length?u.start(0):0,m=u.length?u.end(u.length-1):0,b=f.length?f.start(0):0,w=f.length?f.end(f.length-1):0;if(m-h<=Dh&&w-b<=Dh){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+c.byteLength+", ")+("audio buffer: "+Oc(u).join(", ")+", ")+("video buffer: "+Oc(f).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:s,type:l,bytes:c}));var g=this.currentTime_(),A=g-Dh;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+A),this.remove(0,A,function(){a.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+Dh+"s"),a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=Q.setTimeout(function(){a.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),a.quotaExceededErrorRetryTimeout_=null,a.processCallQueue_()},Dh*1e3)},!0)},i.handleAppendError_=function(r,o){var a=r.segmentInfo,s=r.type,l=r.bytes;if(!!o){if(o.code===I9){this.handleQuotaExceededError_({segmentInfo:a,type:s,bytes:l});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",o),this.error(s+" append of "+l.length+"b failed for segment "+("#"+a.mediaIndex+" in playlist "+a.playlist.id)),this.trigger("appenderror")}},i.appendToSourceBuffer_=function(r){var o=r.segmentInfo,a=r.type,s=r.initSegment,l=r.data,c=r.bytes;if(!c){var u=[l],f=l.byteLength;s&&(u.unshift(s),f+=s.byteLength),c=Ewe({bytes:f,segments:u})}this.sourceUpdater_.appendBuffer({segmentInfo:o,type:a,bytes:c},this.handleAppendError_.bind(this,{segmentInfo:o,type:a,bytes:c}))},i.handleSegmentTimingInfo_=function(r,o,a){if(!(!this.pendingSegment_||o!==this.pendingSegment_.requestId)){var s=this.pendingSegment_.segment,l=r+"TimingInfo";s[l]||(s[l]={}),s[l].transmuxerPrependedSeconds=a.prependedContentDuration||0,s[l].transmuxedPresentationStart=a.start.presentation,s[l].transmuxedDecodeStart=a.start.decode,s[l].transmuxedPresentationEnd=a.end.presentation,s[l].transmuxedDecodeEnd=a.end.decode,s[l].baseMediaDecodeTime=a.baseMediaDecodeTime}},i.appendData_=function(r,o){var a=o.type,s=o.data;if(!(!s||!s.byteLength)&&!(a==="audio"&&this.audioDisabled_)){var l=this.getInitSegmentAndUpdateState_({type:a,initSegment:o.initSegment,playlist:r.playlist,map:r.isFmp4?r.segment.map:null});this.appendToSourceBuffer_({segmentInfo:r,type:a,initSegment:l,data:s})}},i.loadSegment_=function(r){var o=this;if(this.state="WAITING",this.pendingSegment_=r,this.trimBackBuffer_(r),typeof r.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var a=he({},r,{forceTimestampOffset:!0});he(r,o.generateSegmentInfo_(a)),o.isPendingTimestampOffset_=!1,o.updateTransmuxerAndRequestSegment_(r)});return}this.updateTransmuxerAndRequestSegment_(r)},i.updateTransmuxerAndRequestSegment_=function(r){var o=this;this.shouldUpdateTransmuxerTimestampOffset_(r.timestampOffset)&&(this.gopBuffer_.length=0,r.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:r.timestampOffset}));var a=this.createSimplifiedSegmentObj_(r),s=this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex),l=this.mediaIndex!==null,c=r.timeline!==this.currentTimeline_&&r.timeline>0,u=s||l&&c;this.logger_("Requesting "+hd(r)),a.map&&!a.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),r.abortRequests=wwe({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:a,abortFn:this.handleAbort_.bind(this,r),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",r.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",r.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:u,endedTimelineFn:function(){o.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(h){var m=h.message,b=h.level,w=h.stream;o.logger_(hd(r)+" logged from transmuxer stream "+w+" as a "+b+": "+m)}})},i.trimBackBuffer_=function(r){var o=Gwe(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);o>0&&this.remove(0,o)},i.createSimplifiedSegmentObj_=function(r){var o=r.segment,a=r.part,s={resolvedUri:a?a.resolvedUri:o.resolvedUri,byterange:a?a.byterange:o.byterange,requestId:r.requestId,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,part:r.part},l=r.playlist.segments[r.mediaIndex-1];if(l&&l.timeline===o.timeline&&(l.videoTimingInfo?s.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(s.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),o.key){var c=o.key.iv||new Uint32Array([0,0,0,r.mediaIndex+r.playlist.mediaSequence]);s.key=this.segmentKey(o.key),s.key.iv=c}return o.map&&(s.map=this.initSegmentForMap(o.map)),s},i.saveTransferStats_=function(r){this.mediaRequests+=1,r&&(this.mediaBytesTransferred+=r.bytesReceived,this.mediaTransferDuration+=r.roundTripTime)},i.saveBandwidthRelatedStats_=function(r,o){if(this.pendingSegment_.byteLength=o.bytesReceived,r<Av){this.logger_("Ignoring segment's bandwidth because its duration of "+r+(" is less than the min to record "+Av));return}this.bandwidth=o.bandwidth,this.roundTrip=o.roundTripTime},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},i.segmentRequestFinished_=function(r,o,a){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,r,o,a));return}if(this.saveTransferStats_(o.stats),!!this.pendingSegment_&&o.requestId===this.pendingSegment_.requestId){if(r){if(this.pendingSegment_=null,this.state="READY",r.code===ga.ABORTED)return;if(this.pause(),r.code===ga.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(r),this.trigger("error");return}var s=this.pendingSegment_;this.saveBandwidthRelatedStats_(s.duration,o.stats),s.endOfAllRequests=o.endOfAllRequests,a.gopInfo&&(this.gopBuffer_=Mwe(this.gopBuffer_,a.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(s)}},i.setTimeMapping_=function(r){var o=this.syncController_.mappingForTimeline(r);o!==null&&(this.timeMapping_=o)},i.updateMediaSecondsLoaded_=function(r){typeof r.start=="number"&&typeof r.end=="number"?this.mediaSecondsLoaded+=r.end-r.start:this.mediaSecondsLoaded+=r.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(r){return r===null?!1:this.loaderType_==="main"&&r!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&r!==this.sourceUpdater_.audioTimestampOffset()},i.trueSegmentStart_=function(r){var o=r.currentStart,a=r.playlist,s=r.mediaIndex,l=r.firstVideoFrameTimeForData,c=r.currentVideoTimestampOffset,u=r.useVideoTimingInfo,f=r.videoTimingInfo,h=r.audioTimingInfo;if(typeof o!="undefined")return o;if(!u)return h.start;var m=a.segments[s-1];return s===0||!m||typeof m.start=="undefined"||m.end!==l+c?l:f.start},i.waitForAppendsToComplete_=function(r){var o=this.getCurrentMediaInfo_(r);if(!o){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var a=o.hasAudio,s=o.hasVideo,l=o.isMuxed,c=this.loaderType_==="main"&&s,u=!this.audioDisabled_&&a&&!l;if(r.waitingOnAppends=0,!r.hasAppendedData_){!r.timingInfo&&typeof r.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),r.timingInfo={start:0},r.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(r),this.processMetadataQueue_()),this.checkAppendsDone_(r);return}c&&r.waitingOnAppends++,u&&r.waitingOnAppends++,c&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,r)),u&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,r))},i.checkAppendsDone_=function(r){this.checkForAbort_(r.requestId)||(r.waitingOnAppends--,r.waitingOnAppends===0&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(r){var o=Uwe(this.loaderType_,this.getCurrentMediaInfo_(),r);return o?(this.error({message:o,blacklistDuration:1/0}),this.trigger("error"),!0):!1},i.updateSourceBufferTimestampOffset_=function(r){if(!(r.timestampOffset===null||typeof r.timingInfo.start!="number"||r.changedTimestampOffset||this.loaderType_!=="main")){var o=!1;r.timestampOffset-=r.timingInfo.start,r.changedTimestampOffset=!0,r.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(r.timestampOffset),o=!0),r.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(r.timestampOffset),o=!0),o&&this.trigger("timestampoffset")}},i.updateTimingInfoEnd_=function(r){r.timingInfo=r.timingInfo||{};var o=this.getMediaInfo_(),a=this.loaderType_==="main"&&o&&o.hasVideo,s=a&&r.videoTimingInfo?r.videoTimingInfo:r.audioTimingInfo;!s||(r.timingInfo.end=typeof s.end=="number"?s.end:s.start+r.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var r=this.pendingSegment_;this.updateTimingInfoEnd_(r),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});var o=Wwe(r,this.sourceType_);if(o&&(o.severity==="warn"?ee.log.warn(o.message):this.logger_(o.message)),this.recordThroughput_(r),this.pendingSegment_=null,this.state="READY",r.isSyncRequest&&(this.trigger("syncinfoupdate"),!r.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+hd(r));return}this.logger_("Appended "+hd(r)),this.addSegmentMetadataCue_(r),this.fetchAtBuffer_=!0,this.currentTimeline_!==r.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:r.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:r.timeline})),this.currentTimeline_=r.timeline,this.trigger("syncinfoupdate");var a=r.segment,s=r.part,l=a.end&&this.currentTime_()-a.end>r.playlist.targetDuration*3,c=s&&s.end&&this.currentTime_()-s.end>r.playlist.partTargetDuration*3;if(l||c){this.logger_("bad "+(l?"segment":"part")+" "+hd(r)),this.resetEverything();return}var u=this.mediaIndex!==null;u&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=r.mediaIndex,this.partIndex=r.partIndex,this.isEndOfStream_(r.mediaIndex,r.playlist,r.partIndex)&&this.endOfStream(),this.trigger("appended"),r.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},i.recordThroughput_=function(r){if(r.duration<Av){this.logger_("Ignoring segment's throughput because its duration of "+r.duration+(" is less than the min to record "+Av));return}var o=this.throughput.rate,a=Date.now()-r.endOfAllRequests+1,s=Math.floor(r.byteLength/a*8*1e3);this.throughput.rate+=(s-o)/++this.throughput.count},i.addSegmentMetadataCue_=function(r){if(!!this.segmentMetadataTrack_){var o=r.segment,a=o.start,s=o.end;if(!(!NO(a)||!NO(s))){Kh(a,s,this.segmentMetadataTrack_);var l=Q.WebKitDataCue||Q.VTTCue,c={custom:o.custom,dateTimeObject:o.dateTimeObject,dateTimeString:o.dateTimeString,bandwidth:r.playlist.attributes.BANDWIDTH,resolution:r.playlist.attributes.RESOLUTION,codecs:r.playlist.attributes.CODECS,byteLength:r.byteLength,uri:r.uri,timeline:r.timeline,playlist:r.playlist.id,start:a,end:s},u=JSON.stringify(c),f=new l(a,s,u);f.value=c,this.segmentMetadataTrack_.addCue(f)}}},e}(ee.EventTarget);function ms(){}var P9=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toUpperCase()})},Vwe=["video","audio"],G2=function(e,i){var n=i[e+"Buffer"];return n&&n.updating||i.queuePending[e]},$we=function(e,i){for(var n=0;n<i.length;n++){var r=i[n];if(r.type==="mediaSource")return null;if(r.type===e)return n}return null},eI=function t(e,i){if(i.queue.length!==0){var n=0,r=i.queue[n];if(r.type==="mediaSource"){!i.updating()&&i.mediaSource.readyState!=="closed"&&(i.queue.shift(),r.action(i),r.doneFn&&r.doneFn(),t("audio",i),t("video",i));return}if(e!=="mediaSource"&&!(!i.ready()||i.mediaSource.readyState==="closed"||G2(e,i))){if(r.type!==e){if(n=$we(e,i.queue),n===null)return;r=i.queue[n]}if(i.queue.splice(n,1),i.queuePending[e]=r,r.action(e,i),!r.doneFn){i.queuePending[e]=null,t(e,i);return}}}},R9=function(e,i){var n=i[e+"Buffer"],r=P9(e);!n||(n.removeEventListener("updateend",i["on"+r+"UpdateEnd_"]),n.removeEventListener("error",i["on"+r+"Error_"]),i.codecs[e]=null,i[e+"Buffer"]=null)},la=function(e,i){return e&&i&&Array.prototype.indexOf.call(e.sourceBuffers,i)!==-1},Gr={appendBuffer:function(e,i,n){return function(r,o){var a=o[r+"Buffer"];if(!!la(o.mediaSource,a)){o.logger_("Appending segment "+i.mediaIndex+"'s "+e.length+" bytes to "+r+"Buffer");try{a.appendBuffer(e)}catch(s){o.logger_("Error with code "+s.code+" "+(s.code===I9?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+i.mediaIndex+" to "+r+"Buffer")),o.queuePending[r]=null,n(s)}}}},remove:function(e,i){return function(n,r){var o=r[n+"Buffer"];if(!!la(r.mediaSource,o)){r.logger_("Removing "+e+" to "+i+" from "+n+"Buffer");try{o.remove(e,i)}catch{r.logger_("Remove "+e+" to "+i+" from "+n+"Buffer failed")}}}},timestampOffset:function(e){return function(i,n){var r=n[i+"Buffer"];!la(n.mediaSource,r)||(n.logger_("Setting "+i+"timestampOffset to "+e),r.timestampOffset=e)}},callback:function(e){return function(i,n){e()}},endOfStream:function(e){return function(i){if(i.mediaSource.readyState==="open"){i.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{i.mediaSource.endOfStream(e)}catch(n){ee.log.warn("Failed to call media source endOfStream",n)}}}},duration:function(e){return function(i){i.logger_("Setting mediaSource duration to "+e);try{i.mediaSource.duration=e}catch(n){ee.log.warn("Failed to set media source duration",n)}}},abort:function(){return function(e,i){if(i.mediaSource.readyState==="open"){var n=i[e+"Buffer"];if(!!la(i.mediaSource,n)){i.logger_("calling abort on "+e+"Buffer");try{n.abort()}catch(r){ee.log.warn("Failed to abort on "+e+"Buffer",r)}}}}},addSourceBuffer:function(e,i){return function(n){var r=P9(e),o=mg(i);n.logger_("Adding "+e+"Buffer with codec "+i+" to mediaSource");var a=n.mediaSource.addSourceBuffer(o);a.addEventListener("updateend",n["on"+r+"UpdateEnd_"]),a.addEventListener("error",n["on"+r+"Error_"]),n.codecs[e]=i,n[e+"Buffer"]=a}},removeSourceBuffer:function(e){return function(i){var n=i[e+"Buffer"];if(R9(e,i),!!la(i.mediaSource,n)){i.logger_("Removing "+e+"Buffer with codec "+i.codecs[e]+" from mediaSource");try{i.mediaSource.removeSourceBuffer(n)}catch(r){ee.log.warn("Failed to removeSourceBuffer "+e+"Buffer",r)}}}},changeType:function(e){return function(i,n){var r=n[i+"Buffer"],o=mg(e);!la(n.mediaSource,r)||n.codecs[i]!==e&&(n.logger_("changing "+i+"Buffer codec from "+n.codecs[i]+" to "+e),r.changeType(o),n.codecs[i]=e)}}},Hr=function(e){var i=e.type,n=e.sourceUpdater,r=e.action,o=e.doneFn,a=e.name;n.queue.push({type:i,action:r,doneFn:o,name:a}),eI(i,n)},HO=function(e,i){return function(n){if(i.queuePending[e]){var r=i.queuePending[e].doneFn;i.queuePending[e]=null,r&&r(i[e+"Error_"])}eI(e,i)}},L9=function(t){ge(e,t);function e(n){var r;return r=t.call(this)||this,r.mediaSource=n,r.sourceopenListener_=function(){return eI("mediaSource",oe(r))},r.mediaSource.addEventListener("sourceopen",r.sourceopenListener_),r.logger_=Jo("SourceUpdater"),r.audioTimestampOffset_=0,r.videoTimestampOffset_=0,r.queue=[],r.queuePending={audio:null,video:null},r.delayedAudioAppendQueue_=[],r.videoAppendQueued_=!1,r.codecs={},r.onVideoUpdateEnd_=HO("video",oe(r)),r.onAudioUpdateEnd_=HO("audio",oe(r)),r.onVideoError_=function(o){r.videoError_=o},r.onAudioError_=function(o){r.audioError_=o},r.createdSourceBuffers_=!1,r.initializedEme_=!1,r.triggeredReady_=!1,r}var i=e.prototype;return i.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},i.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},i.hasInitializedAnyEme=function(){return this.initializedEme_},i.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},i.createSourceBuffers=function(r){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(r),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},i.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},i.addSourceBuffer=function(r,o){Hr({type:"mediaSource",sourceUpdater:this,action:Gr.addSourceBuffer(r,o),name:"addSourceBuffer"})},i.abort=function(r){Hr({type:r,sourceUpdater:this,action:Gr.abort(r),name:"abort"})},i.removeSourceBuffer=function(r){if(!this.canRemoveSourceBuffer()){ee.log.error("removeSourceBuffer is not supported!");return}Hr({type:"mediaSource",sourceUpdater:this,action:Gr.removeSourceBuffer(r),name:"removeSourceBuffer"})},i.canRemoveSourceBuffer=function(){return!ee.browser.IE_VERSION&&!ee.browser.IS_FIREFOX&&Q.MediaSource&&Q.MediaSource.prototype&&typeof Q.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return Q.SourceBuffer&&Q.SourceBuffer.prototype&&typeof Q.SourceBuffer.prototype.changeType=="function"},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(r,o){if(!this.canChangeType()){ee.log.error("changeType is not supported!");return}Hr({type:r,sourceUpdater:this,action:Gr.changeType(o),name:"changeType"})},i.addOrChangeSourceBuffers=function(r){var o=this;if(!r||typeof r!="object"||Object.keys(r).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(r).forEach(function(a){var s=r[a];if(!o.hasCreatedSourceBuffers())return o.addSourceBuffer(a,s);o.canChangeType()&&o.changeType(a,s)})},i.appendBuffer=function(r,o){var a=this,s=r.segmentInfo,l=r.type,c=r.bytes;if(this.processedAppend_=!0,l==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([r,o]),this.logger_("delayed audio append of "+c.length+" until video append");return}var u=o;if(Hr({type:l,sourceUpdater:this,action:Gr.appendBuffer(c,s||{mediaIndex:-1},u),doneFn:o,name:"appendBuffer"}),l==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var f=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+f.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,f.forEach(function(h){a.appendBuffer.apply(a,h)})}},i.audioBuffered=function(){return la(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:ee.createTimeRange()},i.videoBuffered=function(){return la(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:ee.createTimeRange()},i.buffered=function(){var r=la(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,o=la(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return o&&!r?this.audioBuffered():r&&!o?this.videoBuffered():hye(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(r,o){o===void 0&&(o=ms),Hr({type:"mediaSource",sourceUpdater:this,action:Gr.duration(r),name:"duration",doneFn:o})},i.endOfStream=function(r,o){r===void 0&&(r=null),o===void 0&&(o=ms),typeof r!="string"&&(r=void 0),Hr({type:"mediaSource",sourceUpdater:this,action:Gr.endOfStream(r),name:"endOfStream",doneFn:o})},i.removeAudio=function(r,o,a){if(a===void 0&&(a=ms),!this.audioBuffered().length||this.audioBuffered().end(0)===0){a();return}Hr({type:"audio",sourceUpdater:this,action:Gr.remove(r,o),doneFn:a,name:"remove"})},i.removeVideo=function(r,o,a){if(a===void 0&&(a=ms),!this.videoBuffered().length||this.videoBuffered().end(0)===0){a();return}Hr({type:"video",sourceUpdater:this,action:Gr.remove(r,o),doneFn:a,name:"remove"})},i.updating=function(){return!!(G2("audio",this)||G2("video",this))},i.audioTimestampOffset=function(r){return typeof r!="undefined"&&this.audioBuffer&&this.audioTimestampOffset_!==r&&(Hr({type:"audio",sourceUpdater:this,action:Gr.timestampOffset(r),name:"timestampOffset"}),this.audioTimestampOffset_=r),this.audioTimestampOffset_},i.videoTimestampOffset=function(r){return typeof r!="undefined"&&this.videoBuffer&&this.videoTimestampOffset!==r&&(Hr({type:"video",sourceUpdater:this,action:Gr.timestampOffset(r),name:"timestampOffset"}),this.videoTimestampOffset_=r),this.videoTimestampOffset_},i.audioQueueCallback=function(r){!this.audioBuffer||Hr({type:"audio",sourceUpdater:this,action:Gr.callback(r),name:"callback"})},i.videoQueueCallback=function(r){!this.videoBuffer||Hr({type:"video",sourceUpdater:this,action:Gr.callback(r),name:"callback"})},i.dispose=function(){var r=this;this.trigger("dispose"),Vwe.forEach(function(o){r.abort(o),r.canRemoveSourceBuffer()?r.removeSourceBuffer(o):r[o+"QueueCallback"](function(){return R9(o,r)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(ee.EventTarget),YO=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},WO=new Uint8Array(`

`.split("").map(function(t){return t.charCodeAt(0)})),Qwe=function(t){ge(e,t);function e(n,r){var o;return r===void 0&&(r={}),o=t.call(this,n,r)||this,o.mediaSource_=null,o.subtitlesTrack_=null,o.loaderType_="subtitle",o.featuresNativeTextTracks_=n.featuresNativeTextTracks,o.shouldSaveSegmentTimingInfo_=!1,o}var i=e.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return ee.createTimeRanges();var r=this.subtitlesTrack_.cues,o=r[0].startTime,a=r[r.length-1].startTime;return ee.createTimeRanges([[o,a]])},i.initSegmentForMap=function(r,o){if(o===void 0&&(o=!1),!r)return null;var a=Iw(r),s=this.initSegments_[a];if(o&&!s&&r.bytes){var l=WO.byteLength+r.bytes.byteLength,c=new Uint8Array(l);c.set(r.bytes),c.set(WO,r.bytes.byteLength),this.initSegments_[a]=s={resolvedUri:r.resolvedUri,byterange:r.byterange,bytes:c}}return s||r},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.track=function(r){return typeof r=="undefined"?this.subtitlesTrack_:(this.subtitlesTrack_=r,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},i.remove=function(r,o){Kh(r,o,this.subtitlesTrack_)},i.fillBuffer_=function(){var r=this,o=this.chooseNextRequest_();if(!!o){if(this.syncController_.timestampOffsetForTimeline(o.timeline)===null){var a=function(){r.state="READY",r.paused()||r.monitorBuffer_()};this.syncController_.one("timestampoffset",a),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(o)}},i.timestampOffsetForSegment_=function(){return null},i.chooseNextRequest_=function(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))},i.skipEmptySegments_=function(r){for(;r&&r.segment.empty;){if(r.mediaIndex+1>=r.playlist.segments.length){r=null;break}r=this.generateSegmentInfo_({playlist:r.playlist,mediaIndex:r.mediaIndex+1,startOfSegment:r.startOfSegment+r.duration,isSyncRequest:r.isSyncRequest})}return r},i.stopForError=function(r){this.error(r),this.state="READY",this.pause(),this.trigger("error")},i.segmentRequestFinished_=function(r,o,a){var s=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(o.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(r){r.code===ga.TIMEOUT&&this.handleTimeout_(),r.code===ga.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(r);return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,o.stats),this.state="APPENDING",this.trigger("appending");var c=l.segment;if(c.map&&(c.map.bytes=o.map.bytes),l.bytes=o.bytes,typeof Q.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var u,f=function(){s.subtitlesTrack_.tech_.off("vttjsloaded",u),s.stopForError({message:"Error loading vtt.js"})};u=function(){s.subtitlesTrack_.tech_.off("vttjserror",f),s.segmentRequestFinished_(r,o,a)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",u),this.subtitlesTrack_.tech_.one("vttjserror",f);return}c.requested=!0;try{this.parseVTTCues_(l)}catch(h){this.stopForError({message:h.message});return}if(this.updateTimeMapping_(l,this.syncController_.timelines[l.timeline],this.playlist_),l.cues.length?l.timingInfo={start:l.cues[0].startTime,end:l.cues[l.cues.length-1].endTime}:l.timingInfo={start:l.startOfSegment,end:l.startOfSegment+l.duration},l.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}l.byteLength=l.bytes.byteLength,this.mediaSecondsLoaded+=c.duration,l.cues.forEach(function(h){s.subtitlesTrack_.addCue(s.featuresNativeTextTracks_?new Q.VTTCue(h.startTime,h.endTime,h.text):h)}),Owe(this.subtitlesTrack_),this.handleAppendsDone_()},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(r){var o,a=!1;typeof Q.TextDecoder=="function"?o=new Q.TextDecoder("utf8"):(o=Q.WebVTT.StringDecoder(),a=!0);var s=new Q.WebVTT.Parser(Q,Q.vttjs,o);if(r.cues=[],r.timestampmap={MPEGTS:0,LOCAL:0},s.oncue=r.cues.push.bind(r.cues),s.ontimestampmap=function(u){r.timestampmap=u},s.onparsingerror=function(u){ee.log.warn("Error encountered when parsing cues: "+u.message)},r.segment.map){var l=r.segment.map.bytes;a&&(l=YO(l)),s.parse(l)}var c=r.bytes;a&&(c=YO(c)),s.parse(c),s.flush()},i.updateTimeMapping_=function(r,o,a){var s=r.segment;if(!!o){if(!r.cues.length){s.empty=!0;return}var l=r.timestampmap,c=l.MPEGTS/vw.ONE_SECOND_IN_TS-l.LOCAL+o.mapping;if(r.cues.forEach(function(h){h.startTime+=c,h.endTime+=c}),!a.syncInfo){var u=r.cues[0].startTime,f=r.cues[r.cues.length-1].startTime;a.syncInfo={mediaSequence:a.mediaSequence+r.mediaIndex,time:Math.min(u,f-s.duration)}}}},e}(U2),qwe=function(e,i){for(var n=e.cues,r=0;r<n.length;r++){var o=n[r];if(i>=o.adStartTime&&i<=o.adEndTime)return o}return null},Kwe=function(e,i,n){if(n===void 0&&(n=0),!!e.segments)for(var r=n,o,a=0;a<e.segments.length;a++){var s=e.segments[a];if(o||(o=qwe(i,r+s.duration/2)),o){if("cueIn"in s){o.endTime=r,o.adEndTime=r,r+=s.duration,o=null;continue}if(r<o.endTime){r+=s.duration;continue}o.endTime+=s.duration}else if("cueOut"in s&&(o=new Q.VTTCue(r,r+s.duration,s.cueOut),o.adStartTime=r,o.adEndTime=r+parseFloat(s.cueOut),i.addCue(o)),"cueOutCont"in s){var l=s.cueOutCont.split("/").map(parseFloat),c=l[0],u=l[1];o=new Q.VTTCue(r,r+s.duration,""),o.adStartTime=r-c,o.adEndTime=o.adStartTime+u,i.addCue(o)}r+=s.duration}},Xwe=86400,VO=[{name:"VOD",run:function(e,i,n,r,o){if(n!==1/0){var a={time:0,segmentIndex:0,partIndex:null};return a}return null}},{name:"ProgramDateTime",run:function(e,i,n,r,o){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var a=null,s=null,l=L2(i);o=o||0;for(var c=0;c<l.length;c++){var u=i.endList||o===0?c:l.length-(c+1),f=l[u],h=f.segment,m=e.timelineToDatetimeMappings[h.timeline];if(!(!m||!h.dateTimeObject)){var b=h.dateTimeObject.getTime()/1e3,w=b+m;if(h.parts&&typeof f.partIndex=="number")for(var g=0;g<f.partIndex;g++)w+=h.parts[g].duration;var A=Math.abs(o-w);if(s!==null&&(A===0||s<A))break;s=A,a={time:w,segmentIndex:f.segmentIndex,partIndex:f.partIndex}}}return a}},{name:"Segment",run:function(e,i,n,r,o){var a=null,s=null;o=o||0;for(var l=L2(i),c=0;c<l.length;c++){var u=i.endList||o===0?c:l.length-(c+1),f=l[u],h=f.segment,m=f.part&&f.part.start||h&&h.start;if(h.timeline===r&&typeof m!="undefined"){var b=Math.abs(o-m);if(s!==null&&s<b)break;(!a||s===null||s>=b)&&(s=b,a={time:m,segmentIndex:f.segmentIndex,partIndex:f.partIndex})}}return a}},{name:"Discontinuity",run:function(e,i,n,r,o){var a=null;if(o=o||0,i.discontinuityStarts&&i.discontinuityStarts.length)for(var s=null,l=0;l<i.discontinuityStarts.length;l++){var c=i.discontinuityStarts[l],u=i.discontinuitySequence+l+1,f=e.discontinuities[u];if(f){var h=Math.abs(o-f.time);if(s!==null&&s<h)break;(!a||s===null||s>=h)&&(s=h,a={time:f.time,segmentIndex:c,partIndex:null})}}return a}},{name:"Playlist",run:function(e,i,n,r,o){if(i.syncInfo){var a={time:i.syncInfo.time,segmentIndex:i.syncInfo.mediaSequence-i.mediaSequence,partIndex:null};return a}return null}}],Jwe=function(t){ge(e,t);function e(n){var r;return r=t.call(this)||this,r.timelines=[],r.discontinuities=[],r.timelineToDatetimeMappings={},r.logger_=Jo("SyncController"),r}var i=e.prototype;return i.getSyncPoint=function(r,o,a,s){var l=this.runStrategies_(r,o,a,s);return l.length?this.selectSyncPoint_(l,{key:"time",value:s}):null},i.getExpiredTime=function(r,o){if(!r||!r.segments)return null;var a=this.runStrategies_(r,o,r.discontinuitySequence,0);if(!a.length)return null;var s=this.selectSyncPoint_(a,{key:"segmentIndex",value:0});return s.segmentIndex>0&&(s.time*=-1),Math.abs(s.time+ym({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:s.segmentIndex,endIndex:0}))},i.runStrategies_=function(r,o,a,s){for(var l=[],c=0;c<VO.length;c++){var u=VO[c],f=u.run(this,r,o,a,s);f&&(f.strategy=u.name,l.push({strategy:u.name,syncPoint:f}))}return l},i.selectSyncPoint_=function(r,o){for(var a=r[0].syncPoint,s=Math.abs(r[0].syncPoint[o.key]-o.value),l=r[0].strategy,c=1;c<r.length;c++){var u=Math.abs(r[c].syncPoint[o.key]-o.value);u<s&&(s=u,a=r[c].syncPoint,l=r[c].strategy)}return this.logger_("syncPoint for ["+o.key+": "+o.value+"] chosen with strategy"+(" ["+l+"]: [time:"+a.time+",")+(" segmentIndex:"+a.segmentIndex)+(typeof a.partIndex=="number"?",partIndex:"+a.partIndex:"")+"]"),a},i.saveExpiredSegmentInfo=function(r,o){var a=o.mediaSequence-r.mediaSequence;if(a>Xwe){ee.log.warn("Not saving expired segment info. Media sequence gap "+a+" is too large.");return}for(var s=a-1;s>=0;s--){var l=r.segments[s];if(l&&typeof l.start!="undefined"){o.syncInfo={mediaSequence:r.mediaSequence+s,time:l.start},this.logger_("playlist refresh sync: [time:"+o.syncInfo.time+","+(" mediaSequence: "+o.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},i.setDateTimeMappingForStart=function(r){if(this.timelineToDatetimeMappings={},r.segments&&r.segments.length&&r.segments[0].dateTimeObject){var o=r.segments[0],a=o.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[o.timeline]=-a}},i.saveSegmentTimingInfo=function(r){var o=r.segmentInfo,a=r.shouldSaveTimelineMapping,s=this.calculateSegmentTimeMapping_(o,o.timingInfo,a),l=o.segment;s&&(this.saveDiscontinuitySyncInfo_(o),o.playlist.syncInfo||(o.playlist.syncInfo={mediaSequence:o.playlist.mediaSequence+o.mediaIndex,time:l.start}));var c=l.dateTimeObject;l.discontinuity&&a&&c&&(this.timelineToDatetimeMappings[l.timeline]=-(c.getTime()/1e3))},i.timestampOffsetForTimeline=function(r){return typeof this.timelines[r]=="undefined"?null:this.timelines[r].time},i.mappingForTimeline=function(r){return typeof this.timelines[r]=="undefined"?null:this.timelines[r].mapping},i.calculateSegmentTimeMapping_=function(r,o,a){var s=r.segment,l=r.part,c=this.timelines[r.timeline],u,f;if(typeof r.timestampOffset=="number")c={time:r.startOfSegment,mapping:r.startOfSegment-o.start},a&&(this.timelines[r.timeline]=c,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+r.timeline+": "+("[time: "+c.time+"] [mapping: "+c.mapping+"]"))),u=r.startOfSegment,f=o.end+c.mapping;else if(c)u=o.start+c.mapping,f=o.end+c.mapping;else return!1;return l&&(l.start=u,l.end=f),(!s.start||u<s.start)&&(s.start=u),s.end=f,!0},i.saveDiscontinuitySyncInfo_=function(r){var o=r.playlist,a=r.segment;if(a.discontinuity)this.discontinuities[a.timeline]={time:a.start,accuracy:0};else if(o.discontinuityStarts&&o.discontinuityStarts.length)for(var s=0;s<o.discontinuityStarts.length;s++){var l=o.discontinuityStarts[s],c=o.discontinuitySequence+s+1,u=l-r.mediaIndex,f=Math.abs(u);if(!this.discontinuities[c]||this.discontinuities[c].accuracy>f){var h=void 0;u<0?h=a.start-ym({defaultDuration:o.targetDuration,durationList:o.segments,startIndex:r.mediaIndex,endIndex:l}):h=a.end+ym({defaultDuration:o.targetDuration,durationList:o.segments,startIndex:r.mediaIndex+1,endIndex:l}),this.discontinuities[c]={time:h,accuracy:f}}}},i.dispose=function(){this.trigger("dispose"),this.off()},e}(ee.EventTarget),Zwe=function(t){ge(e,t);function e(){var n;return n=t.call(this)||this,n.pendingTimelineChanges_={},n.lastTimelineChanges_={},n}var i=e.prototype;return i.clearPendingTimelineChange=function(r){this.pendingTimelineChanges_[r]=null,this.trigger("pendingtimelinechange")},i.pendingTimelineChange=function(r){var o=r.type,a=r.from,s=r.to;return typeof a=="number"&&typeof s=="number"&&(this.pendingTimelineChanges_[o]={type:o,from:a,to:s},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[o]},i.lastTimelineChange=function(r){var o=r.type,a=r.from,s=r.to;return typeof a=="number"&&typeof s=="number"&&(this.lastTimelineChanges_[o]={type:o,from:a,to:s},delete this.pendingTimelineChanges_[o],this.trigger("timelinechange")),this.lastTimelineChanges_[o]},i.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(ee.EventTarget),eAe=y9(w9(function(){function t(w,g,A){return A={path:g,exports:{},require:function(T,C){return e(T,C==null?A.path:C)}},w(A,A.exports),A.exports}function e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=t(function(w){function g(x,T){for(var C=0;C<T.length;C++){var z=T[C];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(x,z.key,z)}}function A(x,T,C){return T&&g(x.prototype,T),C&&g(x,C),x}w.exports=A,w.exports.default=w.exports,w.exports.__esModule=!0}),n=t(function(w){function g(A,x){return w.exports=g=Object.setPrototypeOf||function(C,z){return C.__proto__=z,C},w.exports.default=w.exports,w.exports.__esModule=!0,g(A,x)}w.exports=g,w.exports.default=w.exports,w.exports.__esModule=!0}),r=t(function(w){function g(A,x){A.prototype=Object.create(x.prototype),A.prototype.constructor=A,n(A,x)}w.exports=g,w.exports.default=w.exports,w.exports.__esModule=!0}),o=function(){function w(){this.listeners={}}var g=w.prototype;return g.on=function(x,T){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push(T)},g.off=function(x,T){if(!this.listeners[x])return!1;var C=this.listeners[x].indexOf(T);return this.listeners[x]=this.listeners[x].slice(0),this.listeners[x].splice(C,1),C>-1},g.trigger=function(x){var T=this.listeners[x];if(!!T)if(arguments.length===2)for(var C=T.length,z=0;z<C;++z)T[z].call(this,arguments[1]);else for(var L=Array.prototype.slice.call(arguments,1),B=T.length,O=0;O<B;++O)T[O].apply(this,L)},g.dispose=function(){this.listeners={}},g.pipe=function(x){this.on("data",function(T){x.push(T)})},w}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function a(w){return w.subarray(0,w.byteLength-w[w.byteLength-1])}/*! @name aes-decrypter @version 3.1.2 @license Apache-2.0 */var s=function(){var g=[[[],[],[],[],[]],[[],[],[],[],[]]],A=g[0],x=g[1],T=A[4],C=x[4],z,L,B,O=[],F=[],H,K,fe,Ae,Se,ke;for(z=0;z<256;z++)F[(O[z]=z<<1^(z>>7)*283)^z]=z;for(L=B=0;!T[L];L^=H||1,B=F[B]||1)for(Ae=B^B<<1^B<<2^B<<3^B<<4,Ae=Ae>>8^Ae&255^99,T[L]=Ae,C[Ae]=L,fe=O[K=O[H=O[L]]],ke=fe*16843009^K*65537^H*257^L*16843008,Se=O[Ae]*257^Ae*16843008,z=0;z<4;z++)A[z][L]=Se=Se<<24^Se>>>8,x[z][Ae]=ke=ke<<24^ke>>>8;for(z=0;z<5;z++)A[z]=A[z].slice(0),x[z]=x[z].slice(0);return g},l=null,c=function(){function w(A){l||(l=s()),this._tables=[[l[0][0].slice(),l[0][1].slice(),l[0][2].slice(),l[0][3].slice(),l[0][4].slice()],[l[1][0].slice(),l[1][1].slice(),l[1][2].slice(),l[1][3].slice(),l[1][4].slice()]];var x,T,C,z=this._tables[0][4],L=this._tables[1],B=A.length,O=1;if(B!==4&&B!==6&&B!==8)throw new Error("Invalid aes key size");var F=A.slice(0),H=[];for(this._key=[F,H],x=B;x<4*B+28;x++)C=F[x-1],(x%B===0||B===8&&x%B===4)&&(C=z[C>>>24]<<24^z[C>>16&255]<<16^z[C>>8&255]<<8^z[C&255],x%B===0&&(C=C<<8^C>>>24^O<<24,O=O<<1^(O>>7)*283)),F[x]=F[x-B]^C;for(T=0;x;T++,x--)C=F[T&3?x:x-4],x<=4||T<4?H[T]=C:H[T]=L[0][z[C>>>24]]^L[1][z[C>>16&255]]^L[2][z[C>>8&255]]^L[3][z[C&255]]}var g=w.prototype;return g.decrypt=function(x,T,C,z,L,B){var O=this._key[1],F=x^O[0],H=z^O[1],K=C^O[2],fe=T^O[3],Ae,Se,ke,Oe=O.length/4-2,Fe,Ve=4,Le=this._tables[1],Me=Le[0],ce=Le[1],Z=Le[2],de=Le[3],ie=Le[4];for(Fe=0;Fe<Oe;Fe++)Ae=Me[F>>>24]^ce[H>>16&255]^Z[K>>8&255]^de[fe&255]^O[Ve],Se=Me[H>>>24]^ce[K>>16&255]^Z[fe>>8&255]^de[F&255]^O[Ve+1],ke=Me[K>>>24]^ce[fe>>16&255]^Z[F>>8&255]^de[H&255]^O[Ve+2],fe=Me[fe>>>24]^ce[F>>16&255]^Z[H>>8&255]^de[K&255]^O[Ve+3],Ve+=4,F=Ae,H=Se,K=ke;for(Fe=0;Fe<4;Fe++)L[(3&-Fe)+B]=ie[F>>>24]<<24^ie[H>>16&255]<<16^ie[K>>8&255]<<8^ie[fe&255]^O[Ve++],Ae=F,F=H,H=K,K=fe,fe=Ae},w}(),u=function(w){r(g,w);function g(){var x;return x=w.call(this,o)||this,x.jobs=[],x.delay=1,x.timeout_=null,x}var A=g.prototype;return A.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},A.push=function(T){this.jobs.push(T),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},g}(o),f=function(g){return g<<24|(g&65280)<<8|(g&16711680)>>8|g>>>24},h=function(g,A,x){var T=new Int32Array(g.buffer,g.byteOffset,g.byteLength>>2),C=new c(Array.prototype.slice.call(A)),z=new Uint8Array(g.byteLength),L=new Int32Array(z.buffer),B,O,F,H,K,fe,Ae,Se,ke;for(B=x[0],O=x[1],F=x[2],H=x[3],ke=0;ke<T.length;ke+=4)K=f(T[ke]),fe=f(T[ke+1]),Ae=f(T[ke+2]),Se=f(T[ke+3]),C.decrypt(K,fe,Ae,Se,L,ke),L[ke]=f(L[ke]^B),L[ke+1]=f(L[ke+1]^O),L[ke+2]=f(L[ke+2]^F),L[ke+3]=f(L[ke+3]^H),B=K,O=fe,F=Ae,H=Se;return z},m=function(){function w(A,x,T,C){var z=w.STEP,L=new Int32Array(A.buffer),B=new Uint8Array(A.byteLength),O=0;for(this.asyncStream_=new u,this.asyncStream_.push(this.decryptChunk_(L.subarray(O,O+z),x,T,B)),O=z;O<L.length;O+=z)T=new Uint32Array([f(L[O-4]),f(L[O-3]),f(L[O-2]),f(L[O-1])]),this.asyncStream_.push(this.decryptChunk_(L.subarray(O,O+z),x,T,B));this.asyncStream_.push(function(){C(null,a(B))})}var g=w.prototype;return g.decryptChunk_=function(x,T,C,z){return function(){var L=h(x,T,C);z.set(L,x.byteOffset)}},i(w,null,[{key:"STEP",get:function(){return 32e3}}]),w}(),b=function(g){var A={};return Object.keys(g).forEach(function(x){var T=g[x];ArrayBuffer.isView(T)?A[x]={bytes:T.buffer,byteOffset:T.byteOffset,byteLength:T.byteLength}:A[x]=T}),A};self.onmessage=function(w){var g=w.data,A=new Uint8Array(g.encrypted.bytes,g.encrypted.byteOffset,g.encrypted.byteLength),x=new Uint32Array(g.key.bytes,g.key.byteOffset,g.key.byteLength/4),T=new Uint32Array(g.iv.bytes,g.iv.byteOffset,g.iv.byteLength/4);new m(A,x,T,function(C,z){self.postMessage(b({source:g.source,decrypted:z}),[z.buffer])})}})),tAe=v9(eAe),iAe=function(e){var i=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(i="main-desc"),i},Ow=function(e,i){e.abort(),e.pause(),i&&i.activePlaylistLoader&&(i.activePlaylistLoader.pause(),i.activePlaylistLoader=null)},H2=function(e,i){i.activePlaylistLoader=e,e.load()},nAe=function(e,i){return function(){var n=i.segmentLoaders,r=n[e],o=n.main,a=i.mediaTypes[e],s=a.activeTrack(),l=a.getActiveGroup(),c=a.activePlaylistLoader,u=a.lastGroup_;if(!(l&&u&&l.id===u.id)&&(a.lastGroup_=l,a.lastTrack_=s,Ow(r,a),!(!l||l.isMasterPlaylist))){if(!l.playlistLoader){c&&o.resetEverything();return}r.resyncLoader(),H2(l.playlistLoader,a)}}},rAe=function(e,i){return function(){var n=i.segmentLoaders[e],r=i.mediaTypes[e];r.lastGroup_=null,n.abort(),n.pause()}},oAe=function(e,i){return function(){var n=i.masterPlaylistLoader,r=i.segmentLoaders,o=r[e],a=r.main,s=i.mediaTypes[e],l=s.activeTrack(),c=s.getActiveGroup(),u=s.activePlaylistLoader,f=s.lastTrack_;if(!(f&&l&&f.id===l.id)&&(s.lastGroup_=c,s.lastTrack_=l,Ow(o,s),!!c)){if(c.isMasterPlaylist){if(!l||!f||l.id===f.id)return;var h=i.vhs.masterPlaylistController_,m=h.selectPlaylist();if(h.media()===m)return;s.logger_("track change. Switching master audio from "+f.id+" to "+l.id),n.pause(),a.resetEverything(),h.fastQualityChange_(m);return}if(e==="AUDIO"){if(!c.playlistLoader){a.setAudio(!0),a.resetEverything();return}o.setAudio(!0),a.setAudio(!1)}if(u===c.playlistLoader){H2(c.playlistLoader,s);return}o.track&&o.track(l),o.resetEverything(),H2(c.playlistLoader,s)}}},Dw={AUDIO:function(e,i){return function(){var n=i.segmentLoaders[e],r=i.mediaTypes[e],o=i.blacklistCurrentPlaylist;Ow(n,r);var a=r.activeTrack(),s=r.activeGroup(),l=(s.filter(function(f){return f.default})[0]||s[0]).id,c=r.tracks[l];if(a===c){o({message:"Problem encountered loading the default audio track."});return}ee.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var u in r.tracks)r.tracks[u].enabled=r.tracks[u]===c;r.onTrackChanged()}},SUBTITLES:function(e,i){return function(){var n=i.segmentLoaders[e],r=i.mediaTypes[e];ee.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Ow(n,r);var o=r.activeTrack();o&&(o.mode="disabled"),r.onTrackChanged()}}},$O={AUDIO:function(e,i,n){if(!!i){var r=n.tech,o=n.requestOptions,a=n.segmentLoaders[e];i.on("loadedmetadata",function(){var s=i.media();a.playlist(s,o),(!r.paused()||s.endList&&r.preload()!=="none")&&a.load()}),i.on("loadedplaylist",function(){a.playlist(i.media(),o),r.paused()||a.load()}),i.on("error",Dw[e](e,n))}},SUBTITLES:function(e,i,n){var r=n.tech,o=n.requestOptions,a=n.segmentLoaders[e],s=n.mediaTypes[e];i.on("loadedmetadata",function(){var l=i.media();a.playlist(l,o),a.track(s.activeTrack()),(!r.paused()||l.endList&&r.preload()!=="none")&&a.load()}),i.on("loadedplaylist",function(){a.playlist(i.media(),o),r.paused()||a.load()}),i.on("error",Dw[e](e,n))}},aAe={AUDIO:function(e,i){var n=i.vhs,r=i.sourceType,o=i.segmentLoaders[e],a=i.requestOptions,s=i.master.mediaGroups,l=i.mediaTypes[e],c=l.groups,u=l.tracks,f=l.logger_,h=i.masterPlaylistLoader,m=kb(h.master);(!s[e]||Object.keys(s[e]).length===0)&&(s[e]={main:{default:{default:!0}}},m&&(s[e].main.default.playlists=h.master.playlists));for(var b in s[e]){c[b]||(c[b]=[]);for(var w in s[e][b]){var g=s[e][b][w],A=void 0;if(m?(f("AUDIO group '"+b+"' label '"+w+"' is a master playlist"),g.isMasterPlaylist=!0,A=null):r==="vhs-json"&&g.playlists?A=new Id(g.playlists[0],n,a):g.resolvedUri?A=new Id(g.resolvedUri,n,a):g.playlists&&r==="dash"?A=new N2(g.playlists[0],n,a,h):A=null,g=ee.mergeOptions({id:w,playlistLoader:A},g),$O[e](e,g.playlistLoader,i),c[b].push(g),typeof u[w]=="undefined"){var x=new ee.AudioTrack({id:w,kind:iAe(g),enabled:!1,language:g.language,default:g.default,label:w});u[w]=x}}}o.on("error",Dw[e](e,i))},SUBTITLES:function(e,i){var n=i.tech,r=i.vhs,o=i.sourceType,a=i.segmentLoaders[e],s=i.requestOptions,l=i.master.mediaGroups,c=i.mediaTypes[e],u=c.groups,f=c.tracks,h=i.masterPlaylistLoader;for(var m in l[e]){u[m]||(u[m]=[]);for(var b in l[e][m])if(!l[e][m][b].forced){var w=l[e][m][b],g=void 0;if(o==="hls")g=new Id(w.resolvedUri,r,s);else if(o==="dash"){var A=w.playlists.filter(function(T){return T.excludeUntil!==1/0});if(!A.length)return;g=new N2(w.playlists[0],r,s,h)}else o==="vhs-json"&&(g=new Id(w.playlists?w.playlists[0]:w.resolvedUri,r,s));if(w=ee.mergeOptions({id:b,playlistLoader:g},w),$O[e](e,w.playlistLoader,i),u[m].push(w),typeof f[b]=="undefined"){var x=n.addRemoteTextTrack({id:b,kind:"subtitles",default:w.default&&w.autoselect,language:w.language,label:b},!1).track;f[b]=x}}}a.on("error",Dw[e](e,i))},"CLOSED-CAPTIONS":function(e,i){var n=i.tech,r=i.master.mediaGroups,o=i.mediaTypes[e],a=o.groups,s=o.tracks;for(var l in r[e]){a[l]||(a[l]=[]);for(var c in r[e][l]){var u=r[e][l][c];if(!!/^(?:CC|SERVICE)/.test(u.instreamId)){var f=n.options_.vhs&&n.options_.vhs.captionServices||{},h={label:c,language:u.language,instreamId:u.instreamId,default:u.default&&u.autoselect};if(f[h.instreamId]&&(h=ee.mergeOptions(h,f[h.instreamId])),h.default===void 0&&delete h.default,a[l].push(ee.mergeOptions({id:c},u)),typeof s[c]=="undefined"){var m=n.addRemoteTextTrack({id:h.instreamId,kind:"captions",default:h.default,language:h.language,label:h.label},!1).track;s[c]=m}}}}}},sAe=function t(e,i){for(var n=0;n<e.length;n++)if(Kz(i,e[n])||e[n].playlists&&t(e[n].playlists,i))return!0;return!1},lAe=function(e,i){return function(n){var r=i.masterPlaylistLoader,o=i.mediaTypes[e].groups,a=r.media();if(!a)return null;var s=null;a.attributes[e]&&(s=o[a.attributes[e]]);var l=Object.keys(o);if(!s)if(e==="AUDIO"&&l.length>1&&kb(i.master))for(var c=0;c<l.length;c++){var u=o[l[c]];if(sAe(u,a)){s=u;break}}else o.main?s=o.main:l.length===1&&(s=o[l[0]]);return typeof n=="undefined"?s:n===null||!s?null:s.filter(function(f){return f.id===n.id})[0]||null}},cAe={AUDIO:function(e,i){return function(){var n=i.mediaTypes[e].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(e,i){return function(){var n=i.mediaTypes[e].tracks;for(var r in n)if(n[r].mode==="showing"||n[r].mode==="hidden")return n[r];return null}}},uAe=function(e,i){var n=i.mediaTypes;return function(){var r=n[e].activeTrack();return r?n[e].activeGroup(r):null}},dAe=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(b){aAe[b](b,e)});var i=e.mediaTypes,n=e.masterPlaylistLoader,r=e.tech,o=e.vhs,a=e.segmentLoaders,s=a.AUDIO,l=a.main;["AUDIO","SUBTITLES"].forEach(function(b){i[b].activeGroup=lAe(b,e),i[b].activeTrack=cAe[b](b,e),i[b].onGroupChanged=nAe(b,e),i[b].onGroupChanging=rAe(b,e),i[b].onTrackChanged=oAe(b,e),i[b].getActiveGroup=uAe(b,e)});var c=i.AUDIO.activeGroup();if(c){var u=(c.filter(function(b){return b.default})[0]||c[0]).id;i.AUDIO.tracks[u].enabled=!0,i.AUDIO.onGroupChanged(),i.AUDIO.onTrackChanged();var f=i.AUDIO.getActiveGroup();f.playlistLoader?(l.setAudio(!1),s.setAudio(!0)):l.setAudio(!0)}n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(b){return i[b].onGroupChanged()})}),n.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(b){return i[b].onGroupChanging()})});var h=function(){i.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"}),r.trigger({type:"usage",name:"hls-audio-change"})};r.audioTracks().addEventListener("change",h),r.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),o.on("dispose",function(){r.audioTracks().removeEventListener("change",h),r.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(var m in i.AUDIO.tracks)r.audioTracks().addTrack(i.AUDIO.tracks[m])},fAe=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(i){e[i]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ms,activeTrack:ms,getActiveGroup:ms,onGroupChanged:ms,onTrackChanged:ms,lastTrack_:null,logger_:Jo("MediaGroups["+i+"]")}}),e},pAe=60*2,ns,hAe=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],mAe=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},gAe=function(e){var i=e.currentPlaylist,n=e.buffered,r=e.currentTime,o=e.nextPlaylist,a=e.bufferLowWaterLine,s=e.bufferHighWaterLine,l=e.duration,c=e.experimentalBufferBasedABR,u=e.log;if(!o)return ee.log.warn("We received no playlist to switch to. Please check your stream."),!1;var f="allowing switch "+(i&&i.id||"null")+" -> "+o.id;if(!i)return u(f+" as current playlist is not set"),!0;if(o.id===i.id)return!1;var h=Boolean(zd(n,r).length);if(!i.endList)return!h&&typeof i.partTargetDuration=="number"?(u("not "+f+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(u(f+" as current playlist is live"),!0);var m=$z(n,r),b=c?Xi.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Xi.MAX_BUFFER_LOW_WATER_LINE;if(l<b)return u(f+" as duration < max low water line ("+l+" < "+b+")"),!0;var w=o.attributes.BANDWIDTH,g=i.attributes.BANDWIDTH;if(w<g&&(!c||m<s)){var A=f+" as next bandwidth < current bandwidth ("+w+" < "+g+")";return c&&(A+=" and forwardBuffer < bufferHighWaterLine ("+m+" < "+s+")"),u(A),!0}if((!c||w>g)&&m>=a){var x=f+" as forwardBuffer >= bufferLowWaterLine ("+m+" >= "+a+")";return c&&(x+=" and next bandwidth > current bandwidth ("+w+" > "+g+")"),u(x),!0}return u("not "+f+" as no switching criteria met"),!1},bAe=function(t){ge(e,t);function e(n){var r;r=t.call(this)||this;var o=n.src,a=n.handleManifestRedirects,s=n.withCredentials,l=n.tech,c=n.bandwidth,u=n.externVhs,f=n.useCueTags,h=n.blacklistDuration,m=n.enableLowInitialPlaylist,b=n.sourceType,w=n.cacheEncryptionKeys,g=n.experimentalBufferBasedABR,A=n.experimentalLeastPixelDiffSelector,x=n.captionServices;if(!o)throw new Error("A non-empty playlist URL or JSON manifest string is required");var T=n.maxPlaylistRetries;(T===null||typeof T=="undefined")&&(T=1/0),ns=u,r.experimentalBufferBasedABR=Boolean(g),r.experimentalLeastPixelDiffSelector=Boolean(A),r.withCredentials=s,r.tech_=l,r.vhs_=l.vhs,r.sourceType_=b,r.useCueTags_=f,r.blacklistDuration=h,r.maxPlaylistRetries=T,r.enableLowInitialPlaylist=m,r.useCueTags_&&(r.cueTagsTrack_=r.tech_.addTextTrack("metadata","ad-cues"),r.cueTagsTrack_.inBandMetadataTrackDispatchType=""),r.requestOptions_={withCredentials:s,handleManifestRedirects:a,maxPlaylistRetries:T,timeout:null},r.on("error",r.pauseLoading),r.mediaTypes_=fAe(),r.mediaSource=new Q.MediaSource,r.handleDurationChange_=r.handleDurationChange_.bind(oe(r)),r.handleSourceOpen_=r.handleSourceOpen_.bind(oe(r)),r.handleSourceEnded_=r.handleSourceEnded_.bind(oe(r)),r.mediaSource.addEventListener("durationchange",r.handleDurationChange_),r.mediaSource.addEventListener("sourceopen",r.handleSourceOpen_),r.mediaSource.addEventListener("sourceended",r.handleSourceEnded_),r.seekable_=ee.createTimeRanges(),r.hasPlayed_=!1,r.syncController_=new Jwe(n),r.segmentMetadataTrack_=l.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,r.decrypter_=new tAe,r.sourceUpdater_=new L9(r.mediaSource),r.inbandTextTracks_={},r.timelineChangeController_=new Zwe;var C={vhs:r.vhs_,parse708captions:n.parse708captions,captionServices:x,mediaSource:r.mediaSource,currentTime:r.tech_.currentTime.bind(r.tech_),seekable:function(){return r.seekable()},seeking:function(){return r.tech_.seeking()},duration:function(){return r.duration()},hasPlayed:function(){return r.hasPlayed_},goalBufferLength:function(){return r.goalBufferLength()},bandwidth:c,syncController:r.syncController_,decrypter:r.decrypter_,sourceType:r.sourceType_,inbandTextTracks:r.inbandTextTracks_,cacheEncryptionKeys:w,sourceUpdater:r.sourceUpdater_,timelineChangeController:r.timelineChangeController_,experimentalExactManifestTimings:n.experimentalExactManifestTimings};r.masterPlaylistLoader_=r.sourceType_==="dash"?new N2(o,r.vhs_,r.requestOptions_):new Id(o,r.vhs_,r.requestOptions_),r.setupMasterPlaylistLoaderListeners_(),r.mainSegmentLoader_=new U2(ee.mergeOptions(C,{segmentMetadataTrack:r.segmentMetadataTrack_,loaderType:"main"}),n),r.audioSegmentLoader_=new U2(ee.mergeOptions(C,{loaderType:"audio"}),n),r.subtitleSegmentLoader_=new Qwe(ee.mergeOptions(C,{loaderType:"vtt",featuresNativeTextTracks:r.tech_.featuresNativeTextTracks}),n),r.setupSegmentLoaderListeners_(),r.experimentalBufferBasedABR&&(r.masterPlaylistLoader_.one("loadedplaylist",function(){return r.startABRTimer_()}),r.tech_.on("pause",function(){return r.stopABRTimer_()}),r.tech_.on("play",function(){return r.startABRTimer_()})),hAe.forEach(function(L){r[L+"_"]=mAe.bind(oe(r),L)}),r.logger_=Jo("MPC"),r.triggeredFmp4Usage=!1,r.tech_.preload()==="none"?(r.loadOnPlay_=function(){r.loadOnPlay_=null,r.masterPlaylistLoader_.load()},r.tech_.one("play",r.loadOnPlay_)):r.masterPlaylistLoader_.load(),r.timeToLoadedData__=-1,r.mainAppendsToLoadedData__=-1,r.audioAppendsToLoadedData__=-1;var z=r.tech_.preload()==="none"?"play":"loadstart";return r.tech_.one(z,function(){var L=Date.now();r.tech_.one("loadeddata",function(){r.timeToLoadedData__=Date.now()-L,r.mainAppendsToLoadedData__=r.mainSegmentLoader_.mediaAppends,r.audioAppendsToLoadedData__=r.audioSegmentLoader_.mediaAppends})}),r}var i=e.prototype;return i.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},i.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},i.appendsToLoadedData_=function(){var r=this.mainAppendsToLoadedData_(),o=this.audioAppendsToLoadedData_();return r===-1||o===-1?-1:r+o},i.timeToLoadedData_=function(){return this.timeToLoadedData__},i.checkABR_=function(){var r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,"abr")},i.switchMedia_=function(r,o,a){var s=this.media(),l=s&&(s.id||s.uri),c=r.id||r.uri;l&&l!==c&&(this.logger_("switch media "+l+" -> "+c+" from "+o),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+o})),this.masterPlaylistLoader_.media(r,a)},i.startABRTimer_=function(){var r=this;this.stopABRTimer_(),this.abrTimer_=Q.setInterval(function(){return r.checkABR_()},250)},i.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(Q.clearInterval(this.abrTimer_),this.abrTimer_=null)},i.getAudioTrackPlaylists_=function(){var r=this.master(),o=r&&r.playlists||[];if(!r||!r.mediaGroups||!r.mediaGroups.AUDIO)return o;var a=r.mediaGroups.AUDIO,s=Object.keys(a),l;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)l=this.mediaTypes_.AUDIO.activeTrack();else{var c=a.main||s.length&&a[s[0]];for(var u in c)if(c[u].default){l={label:u};break}}if(!l)return o;var f=[];for(var h in a)if(a[h][l.label]){var m=a[h][l.label];if(m.playlists&&m.playlists.length)f.push.apply(f,m.playlists);else if(m.uri)f.push(m);else if(r.playlists.length)for(var b=0;b<r.playlists.length;b++){var w=r.playlists[b];w.attributes&&w.attributes.AUDIO&&w.attributes.AUDIO===h&&f.push(w)}}return f.length?f:o},i.setupMasterPlaylistLoaderListeners_=function(){var r=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var o=r.masterPlaylistLoader_.media(),a=o.targetDuration*1.5*1e3;O2(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=a,o.endList&&r.tech_.preload()!=="none"&&(r.mainSegmentLoader_.playlist(o,r.requestOptions_),r.mainSegmentLoader_.load()),dAe({sourceType:r.sourceType_,segmentLoaders:{AUDIO:r.audioSegmentLoader_,SUBTITLES:r.subtitleSegmentLoader_,main:r.mainSegmentLoader_},tech:r.tech_,requestOptions:r.requestOptions_,masterPlaylistLoader:r.masterPlaylistLoader_,vhs:r.vhs_,master:r.master(),mediaTypes:r.mediaTypes_,blacklistCurrentPlaylist:r.blacklistCurrentPlaylist.bind(r)}),r.triggerPresenceUsage_(r.master(),o),r.setupFirstPlay(),!r.mediaTypes_.AUDIO.activePlaylistLoader||r.mediaTypes_.AUDIO.activePlaylistLoader.media()?r.trigger("selectedinitialmedia"):r.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){r.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){r.loadOnPlay_&&r.tech_.off("play",r.loadOnPlay_);var o=r.masterPlaylistLoader_.media();if(!o){r.excludeUnsupportedVariants_();var a;if(r.enableLowInitialPlaylist&&(a=r.selectInitialPlaylist()),a||(a=r.selectPlaylist()),!a||!r.shouldSwitchToMedia_(a))return;r.initialMedia_=a,r.switchMedia_(r.initialMedia_,"initial");var s=r.sourceType_==="vhs-json"&&r.initialMedia_.segments;if(!s)return;o=r.initialMedia_}r.handleUpdatedMediaPlaylist(o)}),this.masterPlaylistLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){r.mainSegmentLoader_.abort(),r.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var o=r.masterPlaylistLoader_.media(),a=o.targetDuration*1.5*1e3;O2(r.masterPlaylistLoader_.master,r.masterPlaylistLoader_.media())?r.requestOptions_.timeout=0:r.requestOptions_.timeout=a,r.mainSegmentLoader_.playlist(o,r.requestOptions_),r.mainSegmentLoader_.load(),r.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var o=r.masterPlaylistLoader_.media();if(o.lastExcludeReason_!=="playlist-unchanged"){var a=r.stuckAtPlaylistEnd_(o);a&&(r.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),r.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){r.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),r.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},i.handleUpdatedMediaPlaylist=function(r){this.useCueTags_&&this.updateAdCues_(r),this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.updateDuration(!r.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(r,o){var a=r.mediaGroups||{},s=!0,l=Object.keys(a.AUDIO);for(var c in a.AUDIO)for(var u in a.AUDIO[c]){var f=a.AUDIO[c][u];f.uri||(s=!1)}s&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(a.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),ns.Playlist.isAes(o)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),l.length&&Object.keys(a.AUDIO[l[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},i.shouldSwitchToMedia_=function(r){var o=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,a=this.tech_.currentTime(),s=this.bufferLowWaterLine(),l=this.bufferHighWaterLine(),c=this.tech_.buffered();return gAe({buffered:c,currentTime:a,currentPlaylist:o,nextPlaylist:r,bufferLowWaterLine:s,bufferHighWaterLine:l,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},i.setupSegmentLoaderListeners_=function(){var r=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var a=r.selectPlaylist();r.shouldSwitchToMedia_(a)&&r.switchMedia_(a,"bandwidthupdate"),r.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){r.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){r.blacklistCurrentPlaylist(r.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){r.error=r.mainSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){r.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),r.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){r.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){r.error=r.audioSegmentLoader_.error_,r.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){r.logger_("main segment loader ended"),r.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(a){r.experimentalBufferBasedABR||(r.delegateLoaders_("all",["abort"]),r.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},pAe))});var o=function(){if(!r.sourceUpdater_.hasCreatedSourceBuffers())return r.tryToCreateSourceBuffers_();var s=r.getCodecsOrExclude_();!s||r.sourceUpdater_.addOrChangeSourceBuffers(s)};this.mainSegmentLoader_.on("trackinfo",o),this.audioSegmentLoader_.on("trackinfo",o),this.mainSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){r.triggeredFmp4Usage||(r.tech_.trigger({type:"usage",name:"vhs-fmp4"}),r.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){r.logger_("audioSegmentLoader ended"),r.onEndOfStream()})},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(r){r===void 0&&(r=this.selectPlaylist()),this.fastQualityChange_(r)},i.fastQualityChange_=function(r){var o=this;if(r===void 0&&(r=this.selectPlaylist()),r===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(r,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){ee.browser.IE_VERSION||ee.browser.IS_EDGE?o.tech_.setCurrentTime(o.tech_.currentTime()+.04):o.tech_.setCurrentTime(o.tech_.currentTime())})},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var r=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<r.start(0))return this.tech_.setCurrentTime(r.end(r.length-1))}},i.setupFirstPlay=function(){var r=this,o=this.masterPlaylistLoader_.media();if(!o||this.tech_.paused()||this.hasPlayed_)return!1;if(!o.endList){var a=this.seekable();if(!a.length)return!1;if(ee.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){r.trigger("firstplay"),r.tech_.setCurrentTime(a.end(0)),r.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(a.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var r=this.tech_.play();typeof r!="undefined"&&typeof r.then=="function"&&r.then(null,function(o){})}this.trigger("sourceopen")},i.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var r=this.inbandTextTracks_.metadataTrack_.cues;if(!(!r||!r.length)){var o=this.duration();r[r.length-1].endTime=isNaN(o)||Math.abs(o)===1/0?Number.MAX_VALUE:o}}},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=function(){var r=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var o=this.mainSegmentLoader_.getCurrentMediaInfo_();!o||o.hasVideo?r=r&&this.audioSegmentLoader_.ended_:r=this.audioSegmentLoader_.ended_}!r||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},i.stuckAtPlaylistEnd_=function(r){var o=this.seekable();if(!o.length)return!1;var a=this.syncController_.getExpiredTime(r,this.duration());if(a===null)return!1;var s=ns.Playlist.playlistEnd(r,a),l=this.tech_.currentTime(),c=this.tech_.buffered();if(!c.length)return s-l<=ma;var u=c.end(c.length-1);return u-l<=ma&&s-u<=ma},i.blacklistCurrentPlaylist=function(r,o){r===void 0&&(r={});var a=r.playlist||this.masterPlaylistLoader_.media();if(o=o||r.blacklistDuration||this.blacklistDuration,!a){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}a.playlistErrors_++;var s=this.masterPlaylistLoader_.master.playlists,l=s.filter(Tx),c=l.length===1&&l[0]===a;if(s.length===1&&o!==1/0)return ee.log.warn("Problem encountered with playlist "+a.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(c);if(c){var u=!1;s.forEach(function(A){if(A!==a){var x=A.excludeUntil;typeof x!="undefined"&&x!==1/0&&(u=!0,delete A.excludeUntil)}}),u&&(ee.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var f;a.playlistErrors_>this.maxPlaylistRetries?f=1/0:f=Date.now()+o*1e3,a.excludeUntil=f,r.reason&&(a.lastExcludeReason_=r.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var h=this.selectPlaylist();if(!h){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var m=r.internal?this.logger_:ee.log.warn,b=r.message?" "+r.message:"";m((r.internal?"Internal problem":"Problem")+" encountered with playlist "+a.id+"."+(b+" Switching to playlist "+h.id+".")),h.attributes.AUDIO!==a.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),h.attributes.SUBTITLES!==a.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var w=h.targetDuration/2*1e3||5*1e3,g=typeof h.lastRequest=="number"&&Date.now()-h.lastRequest<=w;return this.switchMedia_(h,"exclude",c||g)},i.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},i.delegateLoaders_=function(r,o){var a=this,s=[],l=r==="all";(l||r==="main")&&s.push(this.masterPlaylistLoader_);var c=[];(l||r==="audio")&&c.push("AUDIO"),(l||r==="subtitle")&&(c.push("CLOSED-CAPTIONS"),c.push("SUBTITLES")),c.forEach(function(u){var f=a.mediaTypes_[u]&&a.mediaTypes_[u].activePlaylistLoader;f&&s.push(f)}),["main","audio","subtitle"].forEach(function(u){var f=a[u+"SegmentLoader_"];f&&(r===u||r==="all")&&s.push(f)}),s.forEach(function(u){return o.forEach(function(f){typeof u[f]=="function"&&u[f]()})})},i.setCurrentTime=function(r){var o=zd(this.tech_.buffered(),r);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(o&&o.length)return r;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var r=this.masterPlaylistLoader_.media();return r?r.endList?this.mediaSource?this.mediaSource.duration:ns.Playlist.duration(r):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var r;if(!(!this.masterPlaylistLoader_||this.sourceUpdater_.hasCreatedSourceBuffers())){var o=this.masterPlaylistLoader_.media();if(!!o){var a=this.syncController_.getExpiredTime(o,this.duration());if(a!==null){var s=this.masterPlaylistLoader_.master,l=ns.Playlist.seekable(o,a,ns.Playlist.liveEdgeDelay(s,o));if(l.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(o=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),a=this.syncController_.getExpiredTime(o,this.duration()),a===null||(r=ns.Playlist.seekable(o,a,ns.Playlist.liveEdgeDelay(s,o)),r.length===0)))){var c,u;this.seekable_&&this.seekable_.length&&(c=this.seekable_.end(0),u=this.seekable_.start(0)),r?r.start(0)>l.end(0)||l.start(0)>r.end(0)?this.seekable_=l:this.seekable_=ee.createTimeRanges([[r.start(0)>l.start(0)?r.start(0):l.start(0),r.end(0)<l.end(0)?r.end(0):l.end(0)]]):this.seekable_=l,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===c&&this.seekable_.start(0)===u)&&(this.logger_("seekable updated ["+KU(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(r){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,r),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(r){var o=this.seekable();if(!o.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<o.end(o.length-1))&&this.sourceUpdater_.setDuration(o.end(o.length-1));return}var a=this.tech_.buffered(),s=ns.Playlist.duration(this.masterPlaylistLoader_.media());a.length>0&&(s=Math.max(s,a.end(a.length-1))),this.mediaSource.duration!==s&&this.sourceUpdater_.setDuration(s)},i.dispose=function(){var r=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(o){var a=r.mediaTypes_[o].groups;for(var s in a)a[s].forEach(function(l){l.playlistLoader&&l.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var r=!!this.mediaTypes_.AUDIO.activePlaylistLoader,o=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),a=r?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!o||!a)},i.getCodecsOrExclude_=function(){var r=this,o={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};o.video=o.main;var a=wm(this.master(),this.media()),s={},l=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(o.main.hasVideo&&(s.video=a.video||o.main.videoCodec||obe),o.main.isMuxed&&(s.video+=","+(a.audio||o.main.audioCodec||DL)),(o.main.hasAudio&&!o.main.isMuxed||o.audio.hasAudio||l)&&(s.audio=a.audio||o.main.audioCodec||o.audio.audioCodec||DL,o.audio.isFmp4=o.main.hasAudio&&!o.main.isMuxed?o.main.isFmp4:o.audio.isFmp4),!s.audio&&!s.video){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var c=function(g,A){return g?qv(A):t_(A)},u={},f;if(["video","audio"].forEach(function(w){if(s.hasOwnProperty(w)&&!c(o[w].isFmp4,s[w])){var g=o[w].isFmp4?"browser":"muxer";u[g]=u[g]||[],u[g].push(s[w]),w==="audio"&&(f=g)}}),l&&f&&this.media().attributes.AUDIO){var h=this.media().attributes.AUDIO;this.master().playlists.forEach(function(w){var g=w.attributes&&w.attributes.AUDIO;g===h&&w!==r.media()&&(w.excludeUntil=1/0)}),this.logger_("excluding audio group "+h+" as "+f+' does not support codec(s): "'+s.audio+'"')}if(Object.keys(u).length){var m=Object.keys(u).reduce(function(w,g){return w&&(w+=", "),w+=g+' does not support codec(s): "'+u[g].join(",")+'"',w},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:m,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var b=[];if(["video","audio"].forEach(function(w){var g=(oa(r.sourceUpdater_.codecs[w]||"")[0]||{}).type,A=(oa(s[w]||"")[0]||{}).type;g&&A&&g.toLowerCase()!==A.toLowerCase()&&b.push('"'+r.sourceUpdater_.codecs[w]+'" -> "'+s[w]+'"')}),b.length){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+b.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return s},i.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var r=this.getCodecsOrExclude_();if(!!r){this.sourceUpdater_.createSourceBuffers(r);var o=[r.video,r.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(o)}}},i.excludeUnsupportedVariants_=function(){var r=this,o=this.master().playlists,a=[];Object.keys(o).forEach(function(s){var l=o[s];if(a.indexOf(l.id)===-1){a.push(l.id);var c=wm(r.master,l),u=[];c.audio&&!t_(c.audio)&&!qv(c.audio)&&u.push("audio codec "+c.audio),c.video&&!t_(c.video)&&!qv(c.video)&&u.push("video codec "+c.video),c.text&&c.text==="stpp.ttml.im1t"&&u.push("text codec "+c.text),u.length&&(l.excludeUntil=1/0,r.logger_("excluding "+l.id+" for unsupported: "+u.join(", ")))}})},i.excludeIncompatibleVariants_=function(r){var o=this,a=[],s=this.master().playlists,l=Rw(oa(r)),c=MO(l),u=l.video&&oa(l.video)[0]||null,f=l.audio&&oa(l.audio)[0]||null;Object.keys(s).forEach(function(h){var m=s[h];if(!(a.indexOf(m.id)!==-1||m.excludeUntil===1/0)){a.push(m.id);var b=[],w=wm(o.masterPlaylistLoader_.master,m),g=MO(w);if(!(!w.audio&&!w.video)){if(g!==c&&b.push('codec count "'+g+'" !== "'+c+'"'),!o.sourceUpdater_.canChangeType()){var A=w.video&&oa(w.video)[0]||null,x=w.audio&&oa(w.audio)[0]||null;A&&u&&A.type.toLowerCase()!==u.type.toLowerCase()&&b.push('video codec "'+A.type+'" !== "'+u.type+'"'),x&&f&&x.type.toLowerCase()!==f.type.toLowerCase()&&b.push('audio codec "'+x.type+'" !== "'+f.type+'"')}b.length&&(m.excludeUntil=1/0,o.logger_("blacklisting "+m.id+": "+b.join(" && ")))}}})},i.updateAdCues_=function(r){var o=0,a=this.seekable();a.length&&(o=a.start(0)),Kwe(r,this.cueTagsTrack_,o)},i.goalBufferLength=function(){var r=this.tech_.currentTime(),o=Xi.GOAL_BUFFER_LENGTH,a=Xi.GOAL_BUFFER_LENGTH_RATE,s=Math.max(o,Xi.MAX_GOAL_BUFFER_LENGTH);return Math.min(o+r*a,s)},i.bufferLowWaterLine=function(){var r=this.tech_.currentTime(),o=Xi.BUFFER_LOW_WATER_LINE,a=Xi.BUFFER_LOW_WATER_LINE_RATE,s=Math.max(o,Xi.MAX_BUFFER_LOW_WATER_LINE),l=Math.max(o,Xi.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(o+r*a,this.experimentalBufferBasedABR?l:s)},i.bufferHighWaterLine=function(){return Xi.BUFFER_HIGH_WATER_LINE},e}(ee.EventTarget),vAe=function(e,i,n){return function(r){var o=e.master.playlists[i],a=qz(o),s=Tx(o);return typeof r=="undefined"?s:(r?delete o.disabled:o.disabled=!0,r!==s&&!a&&(n(),r?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),r)}},yAe=function(e,i,n){var r=e.masterPlaylistController_,o=e.options_.smoothQualityChange,a=o?"smooth":"fast",s=r[a+"QualityChange_"].bind(r);if(i.attributes){var l=i.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=i.attributes.BANDWIDTH}this.codecs=wm(r.master(),i),this.playlist=i,this.id=n,this.enabled=vAe(e.playlists,i.id,s)},wAe=function(e){e.representations=function(){var i=e.masterPlaylistController_.master(),n=kb(i)?e.masterPlaylistController_.getAudioTrackPlaylists_():i.playlists;return n?n.filter(function(r){return!qz(r)}).map(function(r,o){return new yAe(e,r,r.id)}):[]}},QO=["seeking","seeked","pause","playing","error"],AAe=function(){function t(i){var n=this;this.masterPlaylistController_=i.masterPlaylistController,this.tech_=i.tech,this.seekable=i.seekable,this.allowSeeksWithinUnsafeLiveWindow=i.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=i.liveRangeSafeTimeDelta,this.media=i.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Jo("PlaybackWatcher"),this.logger_("initialize");var r=function(){return n.monitorCurrentTime_()},o=function(){return n.monitorCurrentTime_()},a=function(){return n.techWaiting_()},s=function(){return n.cancelTimer_()},l=this.masterPlaylistController_,c=["main","subtitle","audio"],u={};c.forEach(function(h){u[h]={reset:function(){return n.resetSegmentDownloads_(h)},updateend:function(){return n.checkSegmentDownloads_(h)}},l[h+"SegmentLoader_"].on("appendsdone",u[h].updateend),l[h+"SegmentLoader_"].on("playlistupdate",u[h].reset),n.tech_.on(["seeked","seeking"],u[h].reset)});var f=function(m){["main","audio"].forEach(function(b){l[b+"SegmentLoader_"][m]("appended",n.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){n.fixesBadSeeks_()&&(n.consecutiveUpdates=0,n.lastRecordedTime=n.tech_.currentTime(),f("off"))},this.clearSeekingAppendCheck_=function(){return f("off")},this.watchForBadSeeking_=function(){n.clearSeekingAppendCheck_(),f("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",a),this.tech_.on(QO,s),this.tech_.on("canplay",o),this.tech_.one("play",r),this.dispose=function(){n.clearSeekingAppendCheck_(),n.logger_("dispose"),n.tech_.off("waiting",a),n.tech_.off(QO,s),n.tech_.off("canplay",o),n.tech_.off("play",r),n.tech_.off("seeking",n.watchForBadSeeking_),n.tech_.off("seeked",n.clearSeekingAppendCheck_),c.forEach(function(h){l[h+"SegmentLoader_"].off("appendsdone",u[h].updateend),l[h+"SegmentLoader_"].off("playlistupdate",u[h].reset),n.tech_.off(["seeked","seeking"],u[h].reset)}),n.checkCurrentTimeTimeout_&&Q.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}var e=t.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&Q.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=Q.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(n){var r=this.masterPlaylistController_[n+"SegmentLoader_"];this[n+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+n+" loader"),this[n+"StalledDownloads_"]=0,this[n+"Buffered_"]=r.buffered_()},e.checkSegmentDownloads_=function(n){var r=this.masterPlaylistController_,o=r[n+"SegmentLoader_"],a=o.buffered_(),s=gye(this[n+"Buffered_"],a);if(this[n+"Buffered_"]=a,s){this.resetSegmentDownloads_(n);return}this[n+"StalledDownloads_"]++,this.logger_("found #"+this[n+"StalledDownloads_"]+" "+n+" appends that did not increase buffer (possible stalled download)",{playlistId:o.playlist_&&o.playlist_.id,buffered:Oc(a)}),!(this[n+"StalledDownloads_"]<10)&&(this.logger_(n+" loader stalled download exclusion"),this.resetSegmentDownloads_(n),this.tech_.trigger({type:"usage",name:"vhs-"+n+"-download-exclusion"}),n!=="subtitle"&&r.blacklistCurrentPlaylist({message:"Excessive "+n+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var n=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===n&&(!r.length||n+ma>=r.end(r.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&n===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):n===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=n)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var n=this.tech_.seeking();if(!n)return!1;var r=this.seekable(),o=this.tech_.currentTime(),a=this.afterSeekableWindow_(r,o,this.media(),this.allowSeeksWithinUnsafeLiveWindow),s;if(a){var l=r.end(r.length-1);s=l}if(this.beforeSeekableWindow_(r,o)){var c=r.start(0);s=c+(c===r.end(0)?0:ma)}if(typeof s!="undefined")return this.logger_("Trying to seek outside of seekable at time "+o+" with "+("seekable range "+KU(r)+". Seeking to ")+(s+".")),this.tech_.setCurrentTime(s),!0;for(var u=this.masterPlaylistController_.sourceUpdater_,f=this.tech_.buffered(),h=u.audioBuffer?u.audioBuffered():null,m=u.videoBuffer?u.videoBuffered():null,b=this.media(),w=b.partTargetDuration?b.partTargetDuration:(b.targetDuration-Yl)*2,g=[h,m],A=0;A<g.length;A++)if(!!g[A]){var x=$z(g[A],o);if(x<w)return!1}var T=yv(f,o);return T.length===0?!1:(s=T.start(0)+ma,this.logger_("Buffered region starts ("+T.start(0)+") "+(" just beyond seek point ("+o+"). Seeking to "+s+".")),this.tech_.setCurrentTime(s),!0)},e.waiting_=function(){if(!this.techWaiting_()){var n=this.tech_.currentTime(),r=this.tech_.buffered(),o=zd(r,n);if(o.length&&n+3<=o.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(n),this.logger_("Stopped at "+n+" while inside a buffered region "+("["+o.start(0)+" -> "+o.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var n=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(n,r)){var o=n.end(n.length-1);return this.logger_("Fell out of live window at time "+r+". Seeking to "+("live point (seekable end) "+o)),this.cancelTimer_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var a=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,s=this.tech_.buffered(),l=this.videoUnderflow_({audioBuffered:a.audioBuffered(),videoBuffered:a.videoBuffered(),currentTime:r});if(l)return this.cancelTimer_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var c=yv(s,r);if(c.length>0){var u=c.start(0)-r;return this.logger_("Stopped at "+r+", setting timer for "+u+", seeking "+("to "+c.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),u*1e3,r),!0}return!1},e.afterSeekableWindow_=function(n,r,o,a){if(a===void 0&&(a=!1),!n.length)return!1;var s=n.end(n.length-1)+ma,l=!o.endList;return l&&a&&(s=n.end(n.length-1)+o.targetDuration*3),r>s},e.beforeSeekableWindow_=function(n,r){return!!(n.length&&n.start(0)>0&&r<n.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(n){var r=n.videoBuffered,o=n.audioBuffered,a=n.currentTime;if(!!r){var s;if(r.length&&o.length){var l=zd(r,a-3),c=zd(r,a),u=zd(o,a);u.length&&!c.length&&l.length&&(s={start:l.end(0),end:u.end(0)})}else{var f=yv(r,a);f.length||(s=this.gapFromVideoUnderflow_(r,a))}return s?(this.logger_("Encountered a gap in video from "+s.start+" to "+s.end+". "+("Seeking to current time "+a)),!0):!1}},e.skipTheGap_=function(n){var r=this.tech_.buffered(),o=this.tech_.currentTime(),a=yv(r,o);this.cancelTimer_(),!(a.length===0||o!==n)&&(this.logger_("skipTheGap_:","currentTime:",o,"scheduled currentTime:",n,"nextRange start:",a.start(0)),this.tech_.setCurrentTime(a.start(0)+Yl),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(n,r){for(var o=pye(n),a=0;a<o.length;a++){var s=o.start(a),l=o.end(a);if(r-s<4&&r-s>2)return{start:s,end:l}}return null},t}(),xAe={errorInterval:30,getSource:function(e){var i=this.tech({IWillNotUseThisInPlugins:!0}),n=i.currentSource_||this.currentSource();return e(n)}},kAe=function t(e,i){var n=0,r=0,o=ee.mergeOptions(xAe,i);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){r&&e.currentTime(r)},s=function(h){h!=null&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(h),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},l=function(){if(Date.now()-n<o.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!o.getSource||typeof o.getSource!="function"){ee.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),o.getSource.call(e,s)},c=function f(){e.off("loadedmetadata",a),e.off("error",l),e.off("dispose",f)},u=function(h){c(),t(e,h)};e.on("error",l),e.on("dispose",c),e.reloadSourceOnError=u},_Ae=function(e){kAe(this,e)},O9="2.12.0",TAe="5.14.1",SAe="0.19.2",CAe="4.7.0",EAe="3.1.2",hn={PlaylistLoader:Id,Playlist:yr,utils:jye,STANDARD_PLAYLIST_SELECTOR:FO,INITIAL_PLAYLIST_SELECTOR:Cwe,lastBandwidthSelector:FO,movingAverageBandwidthSelector:Twe,comparePlaylistBandwidth:Zz,comparePlaylistResolution:_we,xhr:d9()};Object.keys(Xi).forEach(function(t){Object.defineProperty(hn,t,{get:function(){return ee.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),Xi[t]},set:function(i){if(ee.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),typeof i!="number"||i<0){ee.log.warn("value of Vhs."+t+" must be greater than or equal to 0");return}Xi[t]=i}})});var D9="videojs-vhs",M9=function(e,i){for(var n=i.media(),r=-1,o=0;o<e.length;o++)if(e[o].id===n.id){r=o;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})},zAe=function(e,i){i.representations().forEach(function(n){e.addQualityLevel(n)}),M9(e,i.playlists)};hn.canPlaySource=function(){return ee.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var IAe=function(e,i,n){if(!e)return e;var r={};i&&i.attributes&&i.attributes.CODECS&&(r=Rw(oa(i.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);var o=mg(r.video),a=mg(r.audio),s={};for(var l in e)s[l]={},a&&(s[l].audioContentType=a),o&&(s[l].videoContentType=o),i.contentProtection&&i.contentProtection[l]&&i.contentProtection[l].pssh&&(s[l].pssh=i.contentProtection[l].pssh),typeof e[l]=="string"&&(s[l].url=e[l]);return ee.mergeOptions(e,s)},PAe=function(e,i){return e.reduce(function(n,r){if(!r.contentProtection)return n;var o=i.reduce(function(a,s){var l=r.contentProtection[s];return l&&l.pssh&&(a[s]={pssh:l.pssh}),a},{});return Object.keys(o).length&&n.push(o),n},[])},RAe=function(e){var i=e.player,n=e.sourceKeySystems,r=e.audioMedia,o=e.mainPlaylists;if(!i.eme.initializeMediaKeys)return Promise.resolve();var a=r?o.concat([r]):o,s=PAe(a,Object.keys(n)),l=[],c=[];return s.forEach(function(u){c.push(new Promise(function(f,h){i.tech_.one("keysessioncreated",f)})),l.push(new Promise(function(f,h){i.eme.initializeMediaKeys({keySystems:u},function(m){if(m){h(m);return}f()})}))}),Promise.race([Promise.all(l),Promise.race(c)])},LAe=function(e){var i=e.player,n=e.sourceKeySystems,r=e.media,o=e.audioMedia,a=IAe(n,r,o);return a?(i.currentSource().keySystems=a,a&&!i.eme?(ee.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},B9=function(){if(!Q.localStorage)return null;var e=Q.localStorage.getItem(D9);if(!e)return null;try{return JSON.parse(e)}catch{return null}},OAe=function(e){if(!Q.localStorage)return!1;var i=B9();i=i?ee.mergeOptions(i,e):e;try{Q.localStorage.setItem(D9,JSON.stringify(i))}catch{return!1}return i},DAe=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};hn.supportsNativeHls=function(){if(!De||!De.createElement)return!1;var t=De.createElement("video");if(!ee.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(i){return/maybe|probably/i.test(t.canPlayType(i))})}();hn.supportsNativeDash=function(){return!De||!De.createElement||!ee.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(De.createElement("video").canPlayType("application/dash+xml"))}();hn.supportsTypeNatively=function(t){return t==="hls"?hn.supportsNativeHls:t==="dash"?hn.supportsNativeDash:!1};hn.isSupported=function(){return ee.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var MAe=ee.getComponent("Component"),tI=function(t){ge(e,t);function e(n,r,o){var a;if(a=t.call(this,r,ee.mergeOptions(o.hls,o.vhs))||this,o.hls&&Object.keys(o.hls).length&&ee.log.warn("Using hls options is deprecated. Use vhs instead."),typeof o.initialBandwidth=="number"&&(a.options_.bandwidth=o.initialBandwidth),a.logger_=Jo("VhsHandler"),r.options_&&r.options_.playerId){var s=ee(r.options_.playerId);s.hasOwnProperty("hls")||Object.defineProperty(s,"hls",{get:function(){return ee.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"hls-player-access"}),oe(a)},configurable:!0}),s.hasOwnProperty("vhs")||Object.defineProperty(s,"vhs",{get:function(){return ee.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),r.trigger({type:"usage",name:"vhs-player-access"}),oe(a)},configurable:!0}),s.hasOwnProperty("dash")||Object.defineProperty(s,"dash",{get:function(){return ee.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),oe(a)},configurable:!0}),a.player_=s}if(a.tech_=r,a.source_=n,a.stats={},a.ignoreNextSeekingEvent_=!1,a.setOptions_(),a.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(a.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return a.on(De,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(l){var c=De.fullscreenElement||De.webkitFullscreenElement||De.mozFullScreenElement||De.msFullscreenElement;c&&c.contains(a.tech_.el())?a.masterPlaylistController_.fastQualityChange_():a.masterPlaylistController_.checkABR_()}),a.on(a.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),a.on(a.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),a.on(a.tech_,"play",a.play),a}var i=e.prototype;return i.setOptions_=function(){var r=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage!="undefined"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var o=B9();o&&o.bandwidth&&(this.options_.bandwidth=o.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),o&&o.throughput&&(this.options_.throughput=o.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Xi.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Xi.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(a){typeof r.source_[a]!="undefined"&&(r.options_[a]=r.source_[a])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},i.src=function(r,o){var a=this;if(!!r){this.setOptions_(),this.options_.src=DAe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=hn,this.options_.sourceType=nj(o),this.options_.seekTo=function(c){a.tech_.setCurrentTime(c)},this.options_.smoothQualityChange&&ee.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new bAe(this.options_);var s=ee.mergeOptions({liveRangeSafeTimeDelta:ma},this.options_,{seekable:function(){return a.seekable()},media:function(){return a.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new AAe(s),this.masterPlaylistController_.on("error",function(){var c=ee.players[a.tech_.options_.playerId],u=a.masterPlaylistController_.error;typeof u=="object"&&!u.code?u.code=3:typeof u=="string"&&(u={message:u,code:3}),c.error(u)});var l=this.options_.experimentalBufferBasedABR?hn.movingAverageBandwidthSelector(.55):hn.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):l.bind(this),this.masterPlaylistController_.selectInitialPlaylist=hn.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(u){this.masterPlaylistController_.selectPlaylist=u.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(u){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=u,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var u=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,f=Q.navigator.connection||Q.navigator.mozConnection||Q.navigator.webkitConnection,h=1e7;if(this.options_.useNetworkInformationApi&&f){var m=f.downlink*1e3*1e3;m>=h&&u>=h?u=Math.max(u,m):u=m}return u},set:function(u){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=u,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var u=1/(this.bandwidth||1),f;this.throughput>0?f=1/this.throughput:f=0;var h=Math.floor(1/(u+f));return h},set:function(){ee.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return a.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return a.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return a.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return a.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return a.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return a.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return a.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return a.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return a.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return a.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return a.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Oc(a.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return a.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return a.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return a.tech_.name_},enumerable:!0},duration:{get:function(){return a.tech_.duration()},enumerable:!0},master:{get:function(){return a.playlists.master},enumerable:!0},playerDimensions:{get:function(){return a.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Oc(a.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return a.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){a.options_.useBandwidthFromLocalStorage&&OAe({bandwidth:a.bandwidth,throughput:Math.round(a.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){wAe(a)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){a.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=Q.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},i.setupEme_=function(){var r=this,o=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,a=LAe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:o&&o.media()});if(this.player_.tech_.on("keystatuschange",function(s){s.status==="output-restricted"&&r.masterPlaylistController_.blacklistCurrentPlaylist({playlist:r.masterPlaylistController_.media(),message:"DRM keystatus changed to "+s.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),ee.browser.IE_VERSION===11||!a){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.logger_("waiting for EME key session creation"),RAe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:o&&o.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){r.logger_("created EME key session"),r.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(s){r.logger_("error while creating EME key session",s),r.player_.error({message:"Failed to initialize media keys for EME",code:3})})},i.setupQualityLevels_=function(){var r=this,o=ee.players[this.tech_.options_.playerId];!o||!o.qualityLevels||this.qualityLevels_||(this.qualityLevels_=o.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){zAe(r.qualityLevels_,r)}),this.playlists.on("mediachange",function(){M9(r.qualityLevels_,r.playlists)}))},e.version=function(){return{"@videojs/http-streaming":O9,"mux.js":TAe,"mpd-parser":SAe,"m3u8-parser":CAe,"aes-decrypter":EAe}},i.version=function(){return this.constructor.version()},i.canChangeType=function(){return L9.canChangeType()},i.play=function(){this.masterPlaylistController_.play()},i.setCurrentTime=function(r){this.masterPlaylistController_.setCurrentTime(r)},i.duration=function(){return this.masterPlaylistController_.duration()},i.seekable=function(){return this.masterPlaylistController_.seekable()},i.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&Q.URL.revokeObjectURL&&(Q.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),t.prototype.dispose.call(this)},i.convertToProgramTime=function(r,o){return $ye({playlist:this.masterPlaylistController_.media(),time:r,callback:o})},i.seekToProgramTime=function(r,o,a,s){return a===void 0&&(a=!0),s===void 0&&(s=2),Qye({programTime:r,playlist:this.masterPlaylistController_.media(),retryCount:s,pauseAfterSeek:a,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:o})},e}(MAe),Sx={name:"videojs-http-streaming",VERSION:O9,canHandleSource:function(e,i){i===void 0&&(i={});var n=ee.mergeOptions(ee.options,i);return Sx.canPlayType(e.type,n)},handleSource:function(e,i,n){n===void 0&&(n={});var r=ee.mergeOptions(ee.options,n);return i.vhs=new tI(e,i,r),ee.hasOwnProperty("hls")||Object.defineProperty(i,"hls",{get:function(){return ee.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),i.vhs},configurable:!0}),i.vhs.xhr=d9(),i.vhs.src(e.src,e.type),i.vhs},canPlayType:function(e,i){i===void 0&&(i={});var n=ee.mergeOptions(ee.options,i),r=n.vhs.overrideNative,o=r===void 0?!ee.browser.IS_ANY_SAFARI:r,a=nj(e),s=a&&(!hn.supportsTypeNatively(a)||o);return s?"maybe":""}},BAe=function(){return qv("avc1.4d400d,mp4a.40.2")};BAe()&&ee.getTech("Html5").registerSourceHandler(Sx,0);ee.VhsHandler=tI;Object.defineProperty(ee,"HlsHandler",{get:function(){return ee.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),tI},configurable:!0});ee.VhsSourceHandler=Sx;Object.defineProperty(ee,"HlsSourceHandler",{get:function(){return ee.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Sx},configurable:!0});ee.Vhs=hn;Object.defineProperty(ee,"Hls",{get:function(){return ee.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),hn},configurable:!0});ee.use||(ee.registerComponent("Hls",hn),ee.registerComponent("Vhs",hn));ee.options.vhs=ee.options.vhs||{};ee.options.hls=ee.options.hls||{};if(!ee.getPlugin||!ee.getPlugin("reloadSourceOnError")){var FAe=ee.registerPlugin||ee.plugin;FAe("reloadSourceOnError",_Ae)}var NAe=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"})),jAe={exports:{}},UAe=$2(NAe);(function(t,e){(function(i,n){{var r=UAe;t.exports=n(r.default||r)}})(Bo,function(i){var n=i.browser.IS_IOS||i.browser.IS_NATIVE_ANDROID,r=i.getTech("Tech"),o=i.extend(r,{constructor:function(c,u){r.call(this,c,u),this.setPoster(c.poster),this.setSrc(this.options_.source,!0),this.setTimeout(function(){this.el_&&(this.el_.parentNode.className+=" vjs-youtube",n&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),o.isApiReady?this.initYTPlayer():o.apiReadyQueue.push(this))}.bind(this))},dispose:function(){if(this.ytPlayer)this.ytPlayer.stopVideo&&this.ytPlayer.stopVideo(),this.ytPlayer.destroy&&this.ytPlayer.destroy();else{var c=o.apiReadyQueue.indexOf(this);c!==-1&&o.apiReadyQueue.splice(c,1)}this.ytPlayer=null,this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile",""),this.el_.parentNode.removeChild(this.el_),r.prototype.dispose.call(this)},createEl:function(){var c=document.createElement("div");c.setAttribute("id",this.options_.techId),c.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute"),c.setAttribute("class","vjs-tech");var u=document.createElement("div");if(u.appendChild(c),!n&&!this.options_.ytControls){var f=document.createElement("div");f.setAttribute("class","vjs-iframe-blocker"),f.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),f.onclick=function(){this.pause()}.bind(this),u.appendChild(f)}return u},initYTPlayer:function(){var c={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(typeof this.options_.autohide!="undefined"&&(c.autohide=this.options_.autohide),typeof this.options_.cc_load_policy!="undefined"&&(c.cc_load_policy=this.options_.cc_load_policy),typeof this.options_.ytControls!="undefined"&&(c.controls=this.options_.ytControls),typeof this.options_.disablekb!="undefined"&&(c.disablekb=this.options_.disablekb),typeof this.options_.color!="undefined"&&(c.color=this.options_.color),c.controls?typeof this.options_.fs!="undefined"&&(c.fs=this.options_.fs):c.fs=0,this.options_.source.src.indexOf("end=")!==-1){var u=this.options_.source.src.match(/end=([0-9]*)/);this.options_.end=parseInt(u[1])}if(typeof this.options_.end!="undefined"&&(c.end=this.options_.end),typeof this.options_.hl!="undefined"?c.hl=this.options_.hl:typeof this.options_.language!="undefined"&&(c.hl=this.options_.language.substr(0,2)),typeof this.options_.iv_load_policy!="undefined"&&(c.iv_load_policy=this.options_.iv_load_policy),typeof this.options_.list!="undefined"?c.list=this.options_.list:this.url&&typeof this.url.listId!="undefined"&&(c.list=this.url.listId),typeof this.options_.listType!="undefined"&&(c.listType=this.options_.listType),typeof this.options_.modestbranding!="undefined"&&(c.modestbranding=this.options_.modestbranding),typeof this.options_.playlist!="undefined"&&(c.playlist=this.options_.playlist),typeof this.options_.playsinline!="undefined"&&(c.playsinline=this.options_.playsinline),typeof this.options_.rel!="undefined"&&(c.rel=this.options_.rel),typeof this.options_.showinfo!="undefined"&&(c.showinfo=this.options_.showinfo),this.options_.source.src.indexOf("start=")!==-1){var f=this.options_.source.src.match(/start=([0-9]*)/);this.options_.start=parseInt(f[1])}if(typeof this.options_.start!="undefined"&&(c.start=this.options_.start),typeof this.options_.theme!="undefined"&&(c.theme=this.options_.theme),typeof this.options_.customVars!="undefined"){var h=this.options_.customVars;Object.keys(h).forEach(function(b){c[b]=h[b]})}this.activeVideoId=this.url?this.url.videoId:null,this.activeList=c.list;var m={videoId:this.activeVideoId,playerVars:c,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onVolumeChange:this.onPlayerVolumeChange.bind(this),onError:this.onPlayerError.bind(this)}};typeof this.options_.enablePrivacyEnhancedMode!="undefined"&&this.options_.enablePrivacyEnhancedMode&&(m.host="https://www.youtube-nocookie.com"),this.ytPlayer=new YT.Player(this.options_.techId,m)},onPlayerReady:function(){this.options_.muted&&this.ytPlayer.mute();var c=this.ytPlayer.getAvailablePlaybackRates();c.length>1&&(this.featuresPlaybackRate=!0),this.playerReady_=!0,this.triggerReady(),this.playOnReady?this.play():this.cueOnReady&&(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)},onPlayerPlaybackQualityChange:function(){},onPlayerPlaybackRateChange:function(){this.trigger("ratechange")},onPlayerStateChange:function(c){var u=c.data;if(!(u===this.lastState||this.errorNumber))switch(this.lastState=u,u){case-1:this.trigger("loadstart"),this.trigger("loadedmetadata"),this.trigger("durationchange"),this.trigger("ratechange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting");break}},onPlayerVolumeChange:function(){this.trigger("volumechange")},onPlayerError:function(c){this.errorNumber=c.data,this.trigger("pause"),this.trigger("error")},error:function(){var c=1e3+this.errorNumber;switch(this.errorNumber){case 5:return{code:c,message:"Error while trying to play the video"};case 2:case 100:return{code:c,message:"Unable to find the video"};case 101:case 150:return{code:c,message:"Playback on other Websites has been disabled by the video owner."}}return{code:c,message:"YouTube unknown error ("+this.errorNumber+")"}},loadVideoById_:function(c){var u={videoId:c};this.options_.start&&(u.startSeconds=this.options_.start),this.options_.end&&(u.endSeconds=this.options_.end),this.ytPlayer.loadVideoById(u)},cueVideoById_:function(c){var u={videoId:c};this.options_.start&&(u.startSeconds=this.options_.start),this.options_.end&&(u.endSeconds=this.options_.end),this.ytPlayer.cueVideoById(u)},src:function(c){return c&&this.setSrc({src:c}),this.source},poster:function(){return n?null:this.poster_},setPoster:function(c){this.poster_=c},setSrc:function(c){!c||!c.src||(delete this.errorNumber,this.source=c,this.url=o.parseUrl(c.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.trigger("posterchange"),this.checkHighResPoster()),this.options_.autoplay&&!n?this.isReady_?this.play():this.playOnReady=!0:this.activeVideoId!==this.url.videoId&&(this.isReady_?(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId):this.cueOnReady=!0))},autoplay:function(){return this.options_.autoplay},setAutoplay:function(c){this.options_.autoplay=c},loop:function(){return this.options_.loop},setLoop:function(c){this.options_.loop=c},play:function(){!this.url||!this.url.videoId||(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.loadVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))},pause:function(){this.ytPlayer&&this.ytPlayer.pauseVideo()},paused:function(){return this.ytPlayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:!0},currentTime:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0},setCurrentTime:function(c){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(c,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==c&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval(function(){this.lastState!==YT.PlayerState.PAUSED||!this.isSeeking?clearInterval(this.checkSeekedInPauseInterval):this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked())}.bind(this),250))},seeking:function(){return this.isSeeking},seekable:function(){return this.ytPlayer?i.createTimeRange(0,this.ytPlayer.getDuration()):i.createTimeRange()},onSeeked:function(){clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")},playbackRate:function(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1},setPlaybackRate:function(c){!this.ytPlayer||this.ytPlayer.setPlaybackRate(c)},duration:function(){return this.ytPlayer?this.ytPlayer.getDuration():0},currentSrc:function(){return this.source&&this.source.src},ended:function(){return this.ytPlayer?this.lastState===YT.PlayerState.ENDED:!1},volume:function(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1},setVolume:function(c){!this.ytPlayer||this.ytPlayer.setVolume(c*100)},muted:function(){return this.ytPlayer?this.ytPlayer.isMuted():!1},setMuted:function(c){if(this.ytPlayer)this.muted(!0);else return;c?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50)},buffered:function(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return i.createTimeRange();var c=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return i.createTimeRange(0,c)},preload:function(){},load:function(){},reset:function(){},networkState:function(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 3:return 2;default:return 1}},readyState:function(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 5:return 1;case 3:return 2;default:return 4}},supportsFullScreen:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled},checkHighResPoster:function(){var c="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var u=new Image;u.onload=function(){if("naturalHeight"in u){if(u.naturalHeight<=90||u.naturalWidth<=120)return}else if(u.height<=90||u.width<=120)return;this.poster_=c,this.trigger("posterchange")}.bind(this),u.onerror=function(){},u.src=c}catch{}}});o.isSupported=function(){return!0},o.canPlaySource=function(c){return o.canPlayType(c.type)},o.canPlayType=function(c){return c==="video/youtube"},o.parseUrl=function(c){var u={videoId:null},f=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,h=c.match(f);h&&h[2].length===11&&(u.videoId=h[2]);var m=/[?&]list=([^#\&\?]+)/;return h=c.match(m),h&&h[1]&&(u.listId=h[1]),u};function a(){YT.ready(function(){o.isApiReady=!0;for(var c=0;c<o.apiReadyQueue.length;++c)o.apiReadyQueue[c].initYTPlayer()})}function s(c,u){var f=!1,h=document.createElement("script"),m=document.getElementsByTagName("script")[0];!m||(m.parentNode.insertBefore(h,m),h.onload=function(){f||(f=!0,u())},h.onreadystatechange=function(){!f&&(this.readyState==="complete"||this.readyState==="loaded")&&(f=!0,u())},h.src=c)}function l(){var c=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.type="text/css",f.styleSheet?f.styleSheet.cssText=c:f.appendChild(document.createTextNode(c)),u.appendChild(f)}o.apiReadyQueue=[],typeof document!="undefined"&&(s("https://www.youtube.com/iframe_api",a),l()),typeof i.registerTech!="undefined"?i.registerTech("Youtube",o):i.registerComponent("Youtube",o)})})(jAe);const Mw=t=>{const e=t.trim().split(":").reverse();let i=0;return e.forEach((n,r)=>{const o=parseFloat(n);isNaN(o)||n.includes("-")?i+=NaN:i+=o*Math.pow(60,r)}),i&&(i=Math.floor(i)),i},Pd=t=>{if(isNaN(t))return"NaN";const e=Math.floor(t),i=Math.floor(e/3600),n=Math.floor((e-i*3600)/60),r=e-i*3600-n*60,o=gm(r);return i>0?`${i}:${gm(n)}:${o}`:`${n}:${o}`};var kc=(t=>(t[t.UPDATE_VALUE=0]="UPDATE_VALUE",t[t.VALIDATE_VALUE=1]="VALIDATE_VALUE",t[t.OPEN=2]="OPEN",t[t.CLOSE=3]="CLOSE",t))(kc||{});const GAe={value:"",isDisabled:!1,isActive:!1,isOpen:!1},HAe=(t,e)=>{switch(e.type){case 0:return{...t,value:e.payload};case 1:{const i=Pd(Mw(t.value));return e.payload!==void 0?{...t,value:i,isDisabled:!e.payload,isActive:e.payload}:{...t,value:i}}case 2:{const i=Pd(e.payload);return{...t,isOpen:!0,value:i,isDisabled:!1,isActive:!1}}case 3:return{...t,isOpen:!1};default:return t}},YAe=()=>P("svg",{transform:"scale(-1,1)",xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})}),WAe=Be.button({display:"flex",justifyContent:"center",alignItems:"center",columnGap:4,border:0,padding:"8px 16px",fontWeight:600,"& > svg":{width:"1rem",height:"1rem"}}),VAe=Be.div({border:`1px solid ${No.lightgrey}`,borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center",columnGap:24,"& > input":{flex:1,border:0,marginLeft:16},"& > .mzp-c-button":{padding:"8px 16px",fontWeight:600,border:0},"& > .mzp-c-button, & > .mzp-c-button:hover":{color:No.dark_blue}}),$Ae=Be.div({display:"flex",alignItems:"center",columnGap:8,"& > label":{padding:0}}),QAe=Be.input(t=>({border:0,borderBottomColor:t.disabled?"white":"black",borderBottomStyle:"solid",borderBottomWidth:"1.5px",width:64})),qAe=Be(pf)({"i.close.icon":{top:0,right:0,color:"black"},"i.close::before":{content:'"\u2716"'}}),KAe=({sessionIndex:t,getCurrentTime:e})=>{const i=Y.exports.useRef(null),n=Y.exports.useRef(null),r=Y.exports.useRef(null),o=Xf(),[a,s]=Y.exports.useReducer(HAe,GAe),l=Y.exports.useCallback(()=>{const g=e();s({type:kc.OPEN,payload:g})},[e]),c=()=>{s({type:kc.CLOSE})},u=g=>{s({type:kc.VALIDATE_VALUE,payload:g.target.checked})},f=async()=>{var g;(g=n.current)==null||g.select(),navigator.clipboard?await navigator.clipboard.writeText(w()):document.execCommand("copy")},h=g=>{s({type:kc.UPDATE_VALUE,payload:g.target.value})},m=()=>{s({type:kc.VALIDATE_VALUE})},b=g=>{g.key==="Enter"&&s({type:kc.VALIDATE_VALUE})},w=Y.exports.useCallback(()=>{const g=Mw(a.value),A=`${document.location.href.split("#")[0]}#${o.pathname}?s=${t}`;return a.isActive&&g?`${A}&t=${g}`:`${A}`},[a.value,a.isActive,t,o]);return le(Ir,{children:[le(qAe,{closeIcon:!0,trigger:le(WAe,{className:"mzp-c-button mzp-t-secondary",onClick:l,children:[P(YAe,{}),"SHARE"]}),open:a.isOpen,onClose:c,mountNode:i.current,size:"small",children:[P(pf.Header,{children:"Share"}),le(pf.Content,{children:[le(VAe,{children:[P("input",{readOnly:!0,"aria-readonly":!0,ref:n,value:w()}),P("button",{className:"mzp-c-button mzp-t-secondary",onClick:f,children:"COPY"})]}),P("br",{}),le($Ae,{children:[P("input",{id:"share-with-time-point",type:"checkbox",checked:a.isActive,onChange:u}),P("label",{htmlFor:"share-with-time-point",children:"Start at"}),P(QAe,{disabled:a.isDisabled,value:a.value,onChange:h,onBlur:m,onKeyUp:b,ref:r})]})]})]}),P("div",{ref:i})]})};var ey=(t=>(t.mp4="mp4",t.webm="webm",t.youtube="youtube",t))(ey||{});function XAe(t){let e;if(t.match(/youtu?.be/))e=ey.youtube;else{const i=t.match(new RegExp(`(${ey.webm}|${ey.mp4})$`));i&&(e=i[0])}return e}function JAe(t){const e=XAe(t),i={src:t};return e&&(i.type=`video/${e}`),i}var ss=(t=>(t[t.UPDATE_START=0]="UPDATE_START",t[t.UPDATE_END=1]="UPDATE_END",t[t.UPDATE_FORMAT=2]="UPDATE_FORMAT",t[t.UPDATE_URL=3]="UPDATE_URL",t[t.VALIDATE_VALUES=4]="VALIDATE_VALUES",t[t.OPEN=5]="OPEN",t[t.CLOSE=6]="CLOSE",t))(ss||{});const ZAe={startValue:"",endValue:"",isActive:!1,isOpen:!1,format:"mp4",generatedUrl:void 0},exe=(t,e)=>{switch(e.type){case 0:return{...t,startValue:e.payload};case 1:return{...t,endValue:e.payload};case 2:return{...t,format:e.payload};case 3:return console.log(`URL state was updated: ${e.payload}`),{...t,generatedUrl:e.payload};case 4:{let i=Mw(t.startValue);const n=Mw(t.endValue);i>n&&(i=n-1);const r=Pd(i),o=Pd(n);return e.payload?{...t,startValue:r,endValue:o,isActive:e.payload}:{...t,endValue:o,startValue:r}}case 5:{const i=Pd(e.payload),n=Pd(e.payload+30);return{...t,isOpen:!0,startValue:i,endValue:n,isActive:!1}}case 6:return{...t,isOpen:!1};default:return t}},txe=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15M9 12l3 3m0 0l3-3m-3 3V2.25"})});var F9=(t=>(t.DOWNLOAD_VIDEO_CLIP="generate_clip",t))(F9||{});class ixe{constructor(e){this.networkService=Mt.getInstance(e.options,e.settings),this.projectId=e.options.projectId||"NO PROJECT ID"}formatTimeString(e){let i=e;return i.length<8?(i.length==4?i=i.padStart(5,"0"):i.length==5?i=i.padStart(6,":"):i=i.padStart(8,"0"),this.formatTimeString(i)):i}async getClip(e,i,n,r,o){console.log(`Message received: event ${n} clip from ${e}-${i} in ${o}`);const a=this.formatTimeString(e),s=this.formatTimeString(i);return this.networkService.getFunction(F9.DOWNLOAD_VIDEO_CLIP)({start:a,end:s,eventId:n,sessionId:r,format:o,projectId:this.projectId}).then(c=>{const f=c.data.clipUrl;return Promise.resolve(f)}).catch(c=>{const u=c.code,f=c.message;return console.log(`ERROR: ${u}, ${f}`),Promise.reject(c)})}}const nxe=Be.button({display:"flex",justifyContent:"center",alignItems:"center",columnGap:4,border:0,padding:"8px 16px",fontWeight:600,"& > svg":{width:"1rem",height:"1rem"}}),qO=Be.div({display:"flex",alignItems:"center",columnGap:8,"& > label":{padding:0}}),KO=Be.input(t=>({border:0,borderBottomColor:t.disabled?"white":"black",borderBottomStyle:"solid",borderBottomWidth:"1.5px",width:64})),rxe=Be(pf)({"i.close.icon":{top:0,right:0,color:"black"},"i.close::before":{content:'"\u2716"'}}),oxe=({sessionId:t,getCurrentTime:e})=>{const{id:i}=cA(),{firebaseConfig:n}=Li(),r=Y.exports.useRef(null),o=Y.exports.useRef(null),[a,s]=Y.exports.useReducer(exe,ZAe),l=Y.exports.useCallback(()=>{const g=e();s({type:ss.OPEN,payload:g})},[e]),c=()=>{s({type:ss.CLOSE})},u=async()=>{console.log(`Download Pressed ${a.startValue} - ${a.endValue}, event ID ${i}`);const A=await new ixe(n).getClip(a.startValue,a.endValue,i,t,a.format);s({type:ss.UPDATE_URL,payload:A})},f=g=>{s({type:ss.UPDATE_START,payload:g.target.value})},h=g=>{s({type:ss.UPDATE_END,payload:g.target.value})},m=(g,A)=>{s({type:ss.UPDATE_FORMAT,payload:A.value})},b=()=>{s({type:ss.VALIDATE_VALUES})},w=g=>{g.key==="Enter"&&s({type:ss.VALIDATE_VALUES})};return le(Ir,{children:[le(rxe,{closeIcon:!0,trigger:le(nxe,{className:"mzp-c-button mzp-t-secondary",onClick:l,children:[P(txe,{}),"DOWNLOAD VIDEO CLIP"]}),open:a.isOpen,onClose:c,mountNode:r.current,size:"small",children:[P(pf.Header,{children:"Create a Video Clip"}),le(pf.Content,{children:[P("button",{className:"mzp-c-button mzp-t-secondary",onClick:u,children:"Prepare Clip"}),P("br",{}),a.generatedUrl&&P("a",{href:a.generatedUrl,target:"_blank",rel:"noopener noreferrer",children:"Your download is ready"}),le(qO,{children:[P("label",{htmlFor:"download-start-time-point",children:"Start at"}),P(KO,{disabled:!1,value:a.startValue,onChange:f,onBlur:b,onKeyUp:w,ref:o})]}),le(qO,{children:[P("label",{htmlFor:"download-end-time-point",children:"End at"}),P(KO,{disabled:!1,value:a.endValue,onChange:h,onBlur:b,onKeyUp:w,ref:o})]}),le(sv,{children:[P(sv.Field,{children:"Format"}),P(sv.Field,{children:P(Ml,{label:"Video",name:"radioGroup",value:"mp4",checked:a.format==="mp4",onChange:m})}),P(sv.Field,{children:P(Ml,{label:"Audio",name:"radioGroup",value:"mp3",checked:a.format==="mp3",onChange:m})})]})]})]}),P("div",{ref:r})]})},XO=10,axe=({sessionId:t,sessionIndex:e,uri:i,componentRef:n,initialSeconds:r})=>{const{language:o}=Ko(),a=Y.exports.useRef(null),s=Y.exports.useRef();Y.exports.useImperativeHandle(n,()=>({seekTo:u=>{var f,h,m;(f=s.current)==null||f.currentTime(u),(h=s.current)!=null&&h.paused()&&((m=s.current)==null||m.play())},pause:()=>{var u;return(u=s.current)==null?void 0:u.pause()}}));const l=Y.exports.useCallback(()=>s.current?s.current.currentTime():0,[]),c=()=>le(Ir,{children:[le("div",{style:{display:"flex",flexDirection:"row-reverse",marginBottom:4},children:[P(oxe,{sessionId:t,getCurrentTime:l}),P(KAe,{sessionIndex:e,getCurrentTime:l})]}),P("div",{"data-vjs-player":!0,children:P("video",{ref:a,className:"video-js vjs-big-play-centered vjs-theme-cdp"})})]});return Y.exports.useEffect(()=>{const u=a.current;let f;return u&&(f=ee(u,{autoplay:!1,controls:!0,controlBar:{currentTimeDisplay:!0,timeDivider:!0,durationDisplay:!0,customControlSpacer:!0,remainingTimeDisplay:!1},preload:r?"auto":"metadata",aspectRatio:"16:9",fluid:!0,language:o,playbackRates:[2,1.5,1,.75,.5],responsive:!0,techOrder:["youtube","html5"],sources:[JAe(i)],userActions:{hotkeys:h=>{var m,b,w,g,A,x,T,C,z,L,B,O;h.which===75||h.which===32?(m=s.current)!=null&&m.paused()?(b=s.current)==null||b.play():(w=s.current)==null||w.pause():h.which===77?(A=s.current)==null||A.muted(!((g=s.current)!=null&&g.muted())):h.which===70?(x=s.current)!=null&&x.isFullscreen()?(T=s.current)==null||T.exitFullscreen():(C=s.current)==null||C.requestFullscreen():h.which===37?(L=s.current)==null||L.currentTime(((z=s.current)==null?void 0:z.currentTime())-XO):h.which===39&&((O=s.current)==null||O.currentTime(((B=s.current)==null?void 0:B.currentTime())+XO))}}},function(){r&&r>0&&this.currentTime(r),s.current=this})),()=>{f&&f.dispose()}},[i,r,o]),P(c,{})};var N9=Be(Dpe)(t=>({"& > .ui.tab":{margin:0,border:0,padding:t.padding},[`@media (min-width:${Ft.tablet})`]:{"& > .ui.menu > a.item":{fontSize:Er.font_size_7}},[`@media (max-width:${t.breakpoint})`]:{"& > .ui.menu":{flexDirection:"column"},"& > .ui.secondary.pointing.menu > a.item":{alignSelf:"flex-start",borderBottomStyle:"none"},"& > .ui.secondary.pointing.menu > a.active.item":{borderLeft:"2px solid"}}}));const sxe=({eventVideoRefs:t,sessions:e,currentSession:i,initialSeconds:n,setCurrentSession:r})=>{const{language:o}=Ko(),[,a]=Y.exports.useState(""),s=(u,f)=>r(h=>{var m;return(m=t[h].current)==null||m.pause(),f.activeIndex}),l=Y.exports.useRef(e.map((u,f)=>({menuItem:`${ze.session} ${f+1}`,pane:{key:`session_index_${f+1}`,content:P(axe,{sessionId:u.id,sessionIndex:f,initialSeconds:f===i?n:0,uri:u.video_uri,componentRef:t[f]})}})));Y.exports.useEffect(()=>{for(let u=0;u<l.current.length;u++)l.current[u].menuItem=`${ze.session} ${u+1}`;a(o)},[o]);const c=e.length>3?Ft.largeMobile:Ft.smallMobile;return P(N9,{padding:"0px",breakpoint:c,menu:{secondary:!0,pointing:!0},panes:l.current,renderActiveOnly:!1,activeIndex:i,onTabChange:s})};var lxe=ye.memo(sxe);const cxe=Be.div({maxHeight:"100vh",overflowY:"auto"}),uxe=({sentences:t,transcriptItemsRefs:e,jumpToVideoClip:i})=>{const n=(r,o)=>()=>i(r,o);return P(cxe,{children:t.map((r,o)=>P(Y7,{sessionIndex:r.session_index,speakerName:r.speaker_name,text:r.text,startTime:W7(r.start_time),handleJumpToVideoClip:n(r.session_index,r.start_time),searchQuery:"",speakerId:r.speaker_id,speakerPictureSrc:r.speaker_pictureSrc,componentRef:e[o]},r.index))})},dxe=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 12H6"})}),fxe=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),pxe=Be.summary({color:No.dark_blue,display:"flex",alignItems:"center","&::before, &::marker":{content:"none"},"& svg":{marginLeft:4,width:"1rem",height:"1rem"}}),j9=({documents:t})=>{const[e,i]=Y.exports.useState(!1),n=()=>i(r=>!r);return!t||t.length===0?null:le("details",{onToggle:n,children:[le(pxe,{children:[ze.see_documents,e?P(dxe,{}):P(fxe,{})]}),P("ul",{className:"mzp-u-list-styled",children:t.map(r=>P("li",{children:P("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",children:r.label})},r.label))})]})},hxe=Be.li({"& > div:first-of-type":{fontWeight:600},"& > a":{display:"flex",alignItems:"center"},"& > a > svg":{width:"1rem",height:"1rem",transform:"rotate(-90deg)"}}),mxe=({minutesItems:t})=>P("ol",{className:"mzp-u-list-styled",children:t.map(e=>le(hxe,{children:[P("div",{children:e.name}),e.matter_ref&&le(mn,{to:`/matters/${e.matter_ref}`,children:[ze.go_to_matter_details," ",P(i7,{})]}),e.description&&P("div",{children:e.description}),P(j9,{documents:e.documents})]},e.name))}),gxe=()=>P("svg",{className:"cdp-acceptance-green",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),bxe=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"cdp-rejected-red",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),vxe=()=>P("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"cdp-in-progress_orange",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),yxe=()=>P("svg",{className:"cdp-light-purple",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:P("g",{id:"Group 1",children:le("g",{id:"Frame 1",children:[P("circle",{id:"Ellipse 1",cx:"12",cy:"12",r:"9",stroke:"currentColor",strokeWidth:"2"}),P("circle",{id:"Ellipse 2",cx:"12",cy:"12",r:"4",stroke:"currentColor",strokeWidth:"2"}),P("path",{id:"Line 1",d:"M8.00001 16L16 7.99998",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})})});var cs=(t=>(t.ALTERNATE="Alternate",t.CHAIR="Chair",t.COUNCILMEMBER="Councilmember",t.MEMBER="Member",t.COUNCILPRESIDENT="Council President",t.VICE_CHAIR="Vice Chair",t.SUPERVISOR="Supervisor",t))(cs||{}),ai=(t=>(t.ABSTAIN_APPROVE="Abstain (Approve)",t.ABSTAIN_NON_VOTING="Abstain (Non-Voting)",t.ABSTAIN_REJECT="Abstain (Reject)",t.ABSENT_APPROVE="Absent (Approve)",t.ABSENT_NON_VOTING="Absent (Non-Voting)",t.ABSENT_REJECT="Absent (Reject)",t.APPROVE="Approve",t.REJECT="Reject",t))(ai||{}),Go=(t=>(t.ADOPTED="Adopted",t.IN_PROGRESS="In Progress",t.REJECTED="Rejected",t))(Go||{}),Y2=(t=>(t.FAILED="Failed",t.PASSED="Passed",t))(Y2||{});const Ms=({result:t,style:e})=>{let i=P("div",{});switch(t){case Y2.PASSED:case Go.ADOPTED:case ai.ABSENT_APPROVE:case ai.ABSTAIN_APPROVE:case ai.APPROVE:i=P(gxe,{});break;case Y2.FAILED:case Go.REJECTED:case ai.ABSENT_REJECT:case ai.ABSTAIN_REJECT:case ai.REJECT:i=P(bxe,{});break;case ai.ABSENT_NON_VOTING:case ai.ABSTAIN_NON_VOTING:i=P(yxe,{});break;case Go.IN_PROGRESS:i=P(vxe,{});break}const n=Fa.exports.useMediaQuery({query:`(max-width: ${Ft.tablet})`}),r=ze[t.toLowerCase().replace(/[()]/g,"").replace(/[ -]/g,"_")];return e||(e={display:"flex",flex:1,alignItems:"center"}),n?P("div",{style:{height:24,width:24},children:i}):le("div",{style:e,children:[P("div",{style:{height:24,width:24},children:i}),P("div",{children:P("p",{className:"mzp-c-card-desc",style:{marginLeft:8},children:r})})]})};Ms.defaultProps={result:Go.IN_PROGRESS};const Cx=({index:t})=>{const e=t%2===0?"rgb(236,236,236)":"white";return P("div",{style:{display:"flex",flex:1,flexDirection:"column",padding:16,borderBottom:"1px solid #000000",backgroundColor:e},children:P("p",{className:"mzp-c-card-desc",children:t===0?"No results found.":"Record missing."})})},U9=({index:t,children:e,columnNames:i,columnDistribution:n,onClick:r})=>{const o=t%2===0?YR.COLORS.EVEN_CELL:YR.COLORS.ODD_CELL,a=Fa.exports.useMediaQuery({query:`(max-width: ${Ft.tablet})`});return!e||e.length===0?P(Cx,{index:t}):a?P("div",{style:{display:"flex",flex:1,flexDirection:"column",padding:16,borderBottom:"1px solid #000000",backgroundColor:o},children:e==null?void 0:e.map((s,l)=>{const c=i?i[l]:"";return le("div",{style:{display:"flex",justifyContent:"space-between",flex:1,alignItems:"flex-start"},children:[P("p",{style:{flex:1,fontWeight:"bold",paddingRight:8},className:"mzp-c-card-desc",children:c}),s]},l)})}):P("div",{style:{display:"flex",flex:1,backgroundColor:o,flexDirection:"row",padding:16},onClick:r,children:e==null?void 0:e.map((s,l)=>{const c=n?n[l]:"0%";return P("div",{style:{width:c},children:s},l)})})};function wxe(t,e,i){if(t)return P(ye.Fragment,{children:e.map((n,r)=>{const o=`/people/${n.personId}`;return le("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[P(mn,{style:{flex:1},to:o,children:n.name}),P(Ms,{result:n.decision})]},`individual-vote-${r}-${n.id}`)})});{let n=0,r=0,o=0;e.forEach(c=>{[ai.ABSENT_APPROVE,ai.ABSTAIN_APPROVE,ai.APPROVE].includes(c.decision)&&n++,[ai.ABSENT_REJECT,ai.ABSTAIN_REJECT,ai.REJECT].includes(c.decision)&&r++,[ai.ABSENT_NON_VOTING,ai.ABSTAIN_NON_VOTING].includes(c.decision)&&o++});const a=ze.number_approved.replace("{number}",`${n}`),s=ze.number_rejected.replace("{number}",`${r}`),l=ze.number_non_voting.replace("{number}",`${o}`);return i?le("div",{style:{display:"flex",flexDirection:"column"},children:[P("p",{children:a}),P("p",{children:s}),P("p",{children:l})]}):P("p",{children:`${a} ${cw} ${s} ${cw} ${l}`})}}const Axe=({index:t,legislationLink:e,legislationName:i,legislationDescription:n,councilDecision:r,votes:o,columnNames:a,columnDistribution:s})=>{const[l,c]=Y.exports.useState(!1),u=Fa.exports.useMediaQuery({query:`(max-width: ${Ft.tablet})`});return le(U9,{index:t,columnNames:a,columnDistribution:s,onClick:()=>{c(!l)},children:[le("div",{children:[P(mn,{to:e,children:P("p",{className:"mzp-c-card-desc",style:{fontWeight:600,marginBottom:0},children:i})}),!u&&P("p",{children:n})]}),P(Ms,{result:r}),wxe(l,o,u)]},`meeting-table-row-${t}`)},xxe=Be.div({padding:8,fontSize:Er.font_size_6,fontWeight:600}),kxe=({columnNames:t,columnDistribution:e})=>Fa.exports.useMediaQuery({query:`(max-width: ${Ft.tablet})`})?null:P("div",{style:{display:"flex",flex:1,flexDirection:"row"},children:t==null?void 0:t.map((n,r)=>{const o=e[r]||0;return P("div",{style:{width:o},children:P(xxe,{children:n})},n)})});function _xe(t){return P(Cx,{index:t},`empty-table-row-${t}`)}const G9=({data:t,renderRow:e,columnDistribution:i,columnNames:n})=>{const r=!t||!t.length||t.length===0;return le(ye.Fragment,{children:[P(kxe,{columnDistribution:i,columnNames:n}),r&&_xe(0),t.map((o,a)=>e(o,a))]})};function Txe(t){return P(Cx,{index:t},`empty-table-row-${t}`)}const Sxe=({votesPage:t})=>{const e=[ze.legislation,ze.council_decision,ze.votes],i=["35%","25%","40%"];function n(r,o){if(!r.matter||!r.votes)return Txe(o);const a=r.matter.name,s=r.matter.description,l=r.council_decision,c=`/matters/${r.matter.id}`;return P(Axe,{index:o,legislationName:a,legislationDescription:s,councilDecision:l,legislationLink:c,votes:r.votes,columnDistribution:i,columnNames:e},`meeting-voting-table-row-${o}`)}return le(Ir,{children:[P("p",{children:ze.meeting_votes_caption}),P(G9,{data:t,columnDistribution:i,columnNames:e,renderRow:n})]})},Cxe=({currentInfoTab:t,setCurrentInfoTab:e,sentences:i,transcriptItemsRefs:n,eventMinutesItems:r,votes:o,jumpToVideoClip:a})=>{const{language:s}=Ko(),l=(b,w)=>e(w.activeIndex),c=Y.exports.useMemo(()=>r.map(({minutes_item:b,files:w})=>({name:b==null?void 0:b.name,description:b==null?void 0:b.description,matter_ref:b==null?void 0:b.matter_ref,documents:w&&w.length>0?w.map(({name:g,uri:A})=>({label:g,url:A})):void 0})),[r]),u=Y.exports.useMemo(()=>o.reduce((b,w)=>(Object.keys(b).includes(w.event_minutes_item_ref)||(b[w.event_minutes_item_ref]=[]),b[w.event_minutes_item_ref].push(w),b),{}),[o]),f=Y.exports.useMemo(()=>r.map(b=>u[b.id]||[]),[u,r]),h=Y.exports.useMemo(()=>{const b=[];return r.forEach(({minutes_item:w,decision:g},A)=>{const x=f[A];x&&x.length>0&&b.push({matter:{name:w==null?void 0:w.name,description:w==null?void 0:w.description,id:w==null?void 0:w.matter_ref},council_decision:g,votes:x.map(({person:T,decision:C,id:z})=>({personId:T==null?void 0:T.id,name:T==null?void 0:T.name,decision:C,id:z}))})}),b},[r,f]),m=Y.exports.useMemo(()=>[{menuItem:ze.minutes,pane:{key:"agenda",content:P(mxe,{minutesItems:c})}},{menuItem:ze.transcript,pane:{key:"transcript",content:P(cb,{data:"transcript",isLoading:i.isLoading,error:i.error,notFound:!i.data||i.data.length===0,children:i.data&&P(uxe,{sentences:i.data,transcriptItemsRefs:n,jumpToVideoClip:a})})}},{menuItem:ze.votes,pane:{key:"votes",content:P(Sxe,{votesPage:h})}}],[c,i,n,a,h,s]);return P(N9,{padding:"16px",menu:{secondary:!0,pointing:!0},panes:m,activeIndex:t,onTabChange:l,renderActiveOnly:!1})};var Exe=ye.memo(Cxe);const zxe=Be.div({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",rowGap:"32px","& > *":{width:"100%"}}),Ixe=Be.div({"& > h1":{margin:0}}),Pxe=Be.div({position:"sticky",top:0,zIndex:2,backgroundColor:"white",[`@media (min-width:${Ft.tablet})`]:{position:"static"},[`@media (min-aspect-ratio:5/4), (min-width:${Ft.desktop})`]:{width:"50%"}}),Rxe=Be.div({[`@media (min-aspect-ratio:5/4), (min-width:${Ft.desktop})`]:{width:"47%"}}),Lxe=({event:t,sessions:e,sentences:i,eventMinutesItems:n,votes:r,initialSession:o,initialSeconds:a,searchQuery:s})=>{var C,z,L,B,O;const{municipality:l}=Li(),{language:c}=Ko();Zf(`${(C=t.body)==null?void 0:C.name}${((z=t.body)==null?void 0:z.name)&&t.event_datetime&&" -- "}${(L=t.event_datetime)==null?void 0:L.toLocaleDateString(c,{timeZone:l.timeZone})}`);const[u,f]=Y.exports.useState(o),[h,m]=Y.exports.useState(0),b=Y.exports.useRef(e.map(()=>Y.exports.createRef())),w=Y.exports.useCallback((F,H)=>{var K;f(fe=>{var Ae;return fe!==F&&((Ae=b.current[fe].current)==null||Ae.pause()),F}),(K=b.current[F].current)==null||K.seekTo(H)},[b]),g=Y.exports.useMemo(()=>(i.data||[]).map(()=>Y.exports.createRef()),[i.data]),[A,x]=Y.exports.useState(),T=Y.exports.useCallback(F=>{var H;h!==1?(m(1),x(F)):(H=g[F].current)==null||H.scrollIntoView()},[g,h]);return Y.exports.useEffect(()=>{var F;h===1&&A!==void 0&&((F=g[A].current)==null||F.scrollIntoView(),x(void 0))},[h,A,g]),le(zxe,{children:[le(Ixe,{children:[P("h1",{className:"mzp-u-title-sm",children:(B=t.body)==null?void 0:B.name}),P("p",{className:"mzp-c-card-desc",children:(O=t.event_datetime)==null?void 0:O.toLocaleString(c,{timeZone:l.timeZone,timeZoneName:"short",month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})})]}),P(Pxe,{children:P(lxe,{eventVideoRefs:b.current,sessions:e,currentSession:u,initialSeconds:a,setCurrentSession:f})}),P(Rxe,{children:P(ige,{searchQuery:s||"",sentences:i,jumpToVideoClip:w,jumpToTranscript:T})}),P("div",{children:P(Exe,{currentInfoTab:h,setCurrentInfoTab:m,sentences:i,transcriptItemsRefs:g,eventMinutesItems:n,votes:r,jumpToVideoClip:w})})]})},Oxe="Reproducir",Dxe="Pausa",Mxe="Duraci\xF3n total",Bxe="DIRECTO",Fxe="Cargado",Nxe="Progreso",jxe="Pantalla completa",Uxe="Silenciar",Gxe="No silenciado",Hxe="Subt\xEDtulos",Yxe="Subt\xEDtulos especiales",Wxe="Cap\xEDtulos",Vxe="Volver a reproducir",$xe="Descripciones",Qxe="Cerrar",qxe="Texto",Kxe="Blanco",Xxe="Negro",Jxe="Rojo",Zxe="Verde",e1e="Azul",t1e="Amarillo",i1e="Magenta",n1e="Cian",r1e="Fondo",o1e="Ventana",a1e="Transparente",s1e="Opaca",l1e="Ninguno",c1e="En relieve",u1e="Hundido",d1e="Uniforme",f1e="Sombra paralela",p1e="Informal",h1e="Cursiva",m1e="Restablecer",g1e="Listo";var b1e={Play:Oxe,"Play Video":"Reproducir V\xEDdeo",Pause:Dxe,"Current Time":"Tiempo reproducido",Duration:Mxe,"Remaining Time":"Tiempo restante","Stream Type":"Tipo de secuencia",LIVE:Bxe,Loaded:Fxe,Progress:Nxe,Fullscreen:jxe,"Non-Fullscreen":"Pantalla no completa",Mute:Uxe,Unmute:Gxe,"Playback Rate":"Velocidad de reproducci\xF3n",Subtitles:Hxe,"subtitles off":"Subt\xEDtulos desactivados",Captions:Yxe,"captions off":"Subt\xEDtulos especiales desactivados",Chapters:Wxe,"You aborted the media playback":"Ha interrumpido la reproducci\xF3n del v\xEDdeo.","A network error caused the media download to fail part-way.":"Un error de red ha interrumpido la descarga del v\xEDdeo.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"No se ha podido cargar el v\xEDdeo debido a un fallo de red o del servidor o porque el formato es incompatible.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La reproducci\xF3n de v\xEDdeo se ha interrumpido por un problema de corrupci\xF3n de datos o porque el v\xEDdeo precisa funciones que su navegador no ofrece.","No compatible source was found for this media.":"No se ha encontrado ninguna fuente compatible con este v\xEDdeo.","Audio Player":"Reproductor de audio","Video Player":"Reproductor de video",Replay:Vxe,"Seek to live, currently behind live":"Buscar en vivo, actualmente demorado con respecto a la transmisi\xF3n en vivo","Seek to live, currently playing live":"Buscar en vivo, actualmente reproduciendo en vivo","Progress Bar":"Barra de progreso","progress bar timing: currentTime={1} duration={2}":"{1} de {2}",Descriptions:$xe,"descriptions off":"descripciones desactivadas","Audio Track":"Pista de audio","Volume Level":"Nivel de volumen","The media is encrypted and we do not have the keys to decrypt it.":"El material audiovisual est\xE1 cifrado y no tenemos las claves para descifrarlo.",Close:Qxe,"Modal Window":"Ventana modal","This is a modal window":"Esta es una ventana modal","This modal can be closed by pressing the Escape key or activating the close button.":"Esta ventana modal puede cerrarse presionando la tecla Escape o activando el bot\xF3n de cierre.",", opens captions settings dialog":", abre el di\xE1logo de configuraci\xF3n de leyendas",", opens subtitles settings dialog":", abre el di\xE1logo de configuraci\xF3n de subt\xEDtulos",", selected":", seleccionado","Close Modal Dialog":"Cierra cuadro de di\xE1logo modal",", opens descriptions settings dialog":", abre el di\xE1logo de configuraci\xF3n de las descripciones","captions settings":"configuraci\xF3n de leyendas","subtitles settings":"configuraci\xF3n de subt\xEDtulos","descriptions settings":"configuraci\xF3n de descripciones",Text:qxe,White:Kxe,Black:Xxe,Red:Jxe,Green:Zxe,Blue:e1e,Yellow:t1e,Magenta:i1e,Cyan:n1e,Background:r1e,Window:o1e,Transparent:a1e,"Semi-Transparent":"Semitransparente",Opaque:s1e,"Font Size":"Tama\xF1o de fuente","Text Edge Style":"Estilo de borde del texto",None:l1e,Raised:c1e,Depressed:u1e,Uniform:d1e,Dropshadow:f1e,"Font Family":"Familia de fuente","Proportional Sans-Serif":"Sans-Serif proporcional","Monospace Sans-Serif":"Sans-Serif monoespacio","Proportional Serif":"Serif proporcional","Monospace Serif":"Serif monoespacio",Casual:p1e,Script:h1e,"Small Caps":"Min\xFAsculas",Reset:m1e,"restore all settings to the default values":"restablece todas las configuraciones a los valores predeterminados",Done:g1e,"Caption Settings Dialog":"Di\xE1logo de configuraci\xF3n de leyendas","Beginning of dialog window. Escape will cancel and close the window.":"Comienzo de la ventana de di\xE1logo. La tecla Escape cancelar\xE1 la operaci\xF3n y cerrar\xE1 la ventana.","End of dialog window.":"Final de la ventana de di\xE1logo.","{1} is loading.":"{1} se est\xE1 cargando.","Exit Picture-in-Picture":"Salir de imagen sobre imagen","Picture-in-Picture":"Imagen sobre imagen"};const v1e="Wiedergabe",y1e="Pause",w1e="Erneut abspielen",A1e="Dauer",x1e="LIVE",k1e="Geladen",_1e="Status",T1e="Vollbild",S1e="Ton aus",C1e="Ton ein",E1e="Untertitel",z1e="Untertitel",I1e="Kapitel",P1e="Schlie\xDFen",R1e="Beschreibungen",L1e="Schrift",O1e="Wei\xDF",D1e="Schwarz",M1e="Rot",B1e="Gr\xFCn",F1e="Blau",N1e="Gelb",j1e="Magenta",U1e="T\xFCrkis",G1e="Hintergrund",H1e="Fenster",Y1e="Durchsichtig",W1e="Undurchsichtig",V1e="Kein",$1e="Erhoben",Q1e="Gedr\xFCckt",q1e="Uniform",K1e="Schlagschatten",X1e="Zwanglos",J1e="Schreibschrift",Z1e="Zur\xFCcksetzen",eke="Fertig";var tke={Play:v1e,Pause:y1e,Replay:w1e,"Current Time":"Aktueller Zeitpunkt",Duration:A1e,"Remaining Time":"Verbleibende Zeit","Stream Type":"Streamtyp",LIVE:x1e,Loaded:k1e,Progress:_1e,Fullscreen:T1e,"Non-Fullscreen":"Vollbildmodus beenden",Mute:S1e,Unmute:C1e,"Playback Rate":"Wiedergabegeschwindigkeit",Subtitles:E1e,"subtitles off":"Untertitel aus",Captions:z1e,"captions off":"Untertitel aus",Chapters:I1e,"You aborted the media playback":"Sie haben die Videowiedergabe abgebrochen.","A network error caused the media download to fail part-way.":"Der Videodownload ist aufgrund eines Netzwerkfehlers fehlgeschlagen.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Das Video konnte nicht geladen werden, da entweder ein Server- oder Netzwerkfehler auftrat oder das Format nicht unterst\xFCtzt wird.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Die Videowiedergabe wurde entweder wegen eines Problems mit einem besch\xE4digten Video oder wegen verwendeten Funktionen, die vom Browser nicht unterst\xFCtzt werden, abgebrochen.","No compatible source was found for this media.":"F\xFCr dieses Video wurde keine kompatible Quelle gefunden.","Play Video":"Video abspielen",Close:P1e,"Modal Window":"Modales Fenster","This is a modal window":"Dies ist ein modales Fenster","This modal can be closed by pressing the Escape key or activating the close button.":'Durch Dr\xFCcken der Esc-Taste bzw. Bet\xE4tigung der Schaltfl\xE4che "Schlie\xDFen" wird dieses modale Fenster geschlossen.',", opens captions settings dialog":", \xF6ffnet Einstellungen f\xFCr Untertitel",", opens subtitles settings dialog":", \xF6ffnet Einstellungen f\xFCr Untertitel",", selected":", ausgew\xE4hlt","captions settings":"Untertiteleinstellungen","subtitles settings":"Untertiteleinstellungen","descriptions settings":"Einstellungen f\xFCr Beschreibungen","Close Modal Dialog":"Modales Fenster schlie\xDFen",Descriptions:R1e,"descriptions off":"Beschreibungen aus","The media is encrypted and we do not have the keys to decrypt it.":"Die Entschl\xFCsselungsschl\xFCssel f\xFCr den verschl\xFCsselten Medieninhalt sind nicht verf\xFCgbar.",", opens descriptions settings dialog":", \xF6ffnet Einstellungen f\xFCr Beschreibungen","Audio Track":"Tonspur",Text:L1e,White:O1e,Black:D1e,Red:M1e,Green:B1e,Blue:F1e,Yellow:N1e,Magenta:j1e,Cyan:U1e,Background:G1e,Window:H1e,Transparent:Y1e,"Semi-Transparent":"Halbdurchsichtig",Opaque:W1e,"Font Size":"Schriftgr\xF6\xDFe","Text Edge Style":"Textkantenstil",None:V1e,Raised:$1e,Depressed:Q1e,Uniform:q1e,Dropshadow:K1e,"Font Family":"Schriftfamilie","Proportional Sans-Serif":"Proportionale Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportionale Serif","Monospace Serif":"Monospace Serif",Casual:X1e,Script:J1e,"Small Caps":"Small-Caps",Reset:Z1e,"restore all settings to the default values":"Alle Einstellungen auf die Standardwerte zur\xFCcksetzen",Done:eke,"Caption Settings Dialog":"Einstellungsdialog f\xFCr Untertitel","Beginning of dialog window. Escape will cancel and close the window.":"Anfang des Dialogfensters. Esc bricht ab und schlie\xDFt das Fenster.","End of dialog window.":"Ende des Dialogfensters.","Audio Player":"Audio-Player","Video Player":"Video-Player","Progress Bar":"Fortschrittsbalken","progress bar timing: currentTime={1} duration={2}":"{1} von {2}","Volume Level":"Lautst\xE4rke","{1} is loading.":"{1} wird geladen.","Seek to live, currently behind live":"Zur Live-\xDCbertragung wechseln. Aktuell wird es nicht live abgespielt.","Seek to live, currently playing live":"Zur Live-\xDCbertragung wechseln. Es wird aktuell live abgespielt.","Exit Picture-in-Picture":"Bild-im-Bild-Modus beenden","Picture-in-Picture":"Bild-im-Bild-Modus"};const ike=()=>{ee.addLanguage("es",b1e),ee.addLanguage("de",tke)};ike();const nke=()=>{const{id:t}=cA(),{firebaseConfig:e}=Li(),i=Xf(),n=Y.exports.useMemo(()=>i.state?i.state.query:"",[i.state]),[r,o]=Y.exports.useMemo(()=>{const{s:C,t:z}=pA.parse(i.search);return[C,z].map(L=>{if(L!==null&&typeof L=="string"){const B=parseFloat(L);return isNaN(B)||B<0?0:Math.floor(B)}else return 0})},[i.search]),a=Y.exports.useCallback(async()=>{const z=await new tx(e).getEventById(t);return Promise.resolve(z)},[e,t]),{state:s}=pn({...Fo},a),l=Y.exports.useCallback(async()=>{const z=await new Ahe(e).getSessionsByEventId(t);return Promise.resolve(z)},[e,t]),{state:c}=pn({...Fo},l),u=Y.exports.useCallback(async()=>{const C=new The(e),z=new g7(e),L=await C.getEventMinutesItemsByEventId(t),B=await Promise.all(L.map(({id:O})=>z.getEventMinutesItemFilesByEventMinutesItemId(O)));return Promise.resolve(L.map((O,F)=>({...O,files:B[F]})))},[e,t]),{state:f}=pn({...Fo},u),h=Y.exports.useCallback(async()=>{const z=await new ox(e).getVotesByEventId(t);return Promise.resolve(z)},[e,t]),{state:m}=pn({...Fo},h),b=Y.exports.useCallback(async()=>{const C=new khe(e),z=new Ehe(e);if(c.data){const L=await Promise.all(c.data.map(({id:F})=>C.getTranscriptBySessionId(F))),B=await Promise.all(L.map(F=>{var H;return z.download((H=F[0].file)==null?void 0:H.uri)})),O=[];return B.forEach((F,H)=>{var K;(K=F==null?void 0:F.sentences)==null||K.forEach(fe=>{O.push({session_index:H,index:O.length,start_time:fe.start_time,end_time:fe.end_time,text:fe.text,speaker_name:fe.speaker_name,speaker_index:fe.speaker_index,speaker_id:void 0,speaker_pictureSrc:void 0})})}),Promise.resolve(O)}return Promise.resolve([])},[e,c.data]),{state:w,dispatch:g}=pn({...Fo,hasFetchRequest:!1},b);Y.exports.useEffect(()=>{c.data&&g({type:aw.FETCH})},[c.data,g]);const A=Y.exports.useMemo(()=>s.isLoading||c.isLoading||f.isLoading||m.isLoading,[s.isLoading,c.isLoading,f.isLoading,m.isLoading]),x=Y.exports.useMemo(()=>{if(!(!s.data||!c.data||!f.data||!m.data))return{event:s.data,sessions:c.data,eventMinutesItems:f.data,votes:m.data}},[s.data,c.data,f.data,m.data]),T=Y.exports.useMemo(()=>{const C=[s.error,c.error,f.error,m.error].map(z=>(z==null?void 0:z.message)||"").filter(z=>z.length>0);return C.length>0?new Error(C.join(`
`)):null},[s.error,c.error,f.error,m.error]);return P(hp,{isLoading:A,error:T,children:x&&P(Lxe,{...x,sentences:w,searchQuery:n,initialSession:r>0&&r<x.sessions.length?r:0,initialSeconds:o})})};var _g=(t=>(t.FAILURE="FAILURE",t.SUCCESS="SUCCESS",t.FETCH_MODELS="FETCH_MODELS",t))(_g||{});const rke=()=>(t,e)=>{switch(e.type){case"SUCCESS":return{...t,models:t.fetchModels?e.payload:[...t.models,...e.payload],fetchModels:!1,showMoreModels:!1,hasMoreModels:e.payload.length===t.batchSize};case"FAILURE":return{...t,error:e.payload,fetchModels:!1,showMoreModels:!1};case"FETCH_MODELS":return{...t,error:null,fetchModels:e.payload,showMoreModels:!e.payload};default:return t}};function iI(t,e){const[i,n]=Y.exports.useReducer(rke(),t);return Y.exports.useEffect(()=>{let r=!1;const o=async()=>{try{const a=await e(i)();r||n({type:"SUCCESS",payload:a})}catch(a){if(!r){const s=Ca(a);n({type:"FAILURE",payload:s})}}};return(i.fetchModels||i.showMoreModels)&&o(),()=>{r=!0}},[i,i.batchSize,i.models,i.fetchModels,i.showMoreModels,e,n]),{state:i,dispatch:n}}const oke=({bodies:t,initialSelectedBodies:e})=>{const{firebaseConfig:i,municipality:n}=Li(),{language:r}=Ko(),o=jc({name:ze.date,initialState:{start:"",end:""},defaultDataValue:"",textRepFunction:l7(r,n.timeZone)}),a=jc({name:ze.committee,initialState:t.reduce((T,C)=>(T[C.id]=e[C.id]||!1,T),{}),defaultDataValue:!1,textRepFunction:X8,limit:mE}),s=jc({name:"Sort",initialState:{by:"event_datetime",order:Zi.desc,label:ze.newest_first},defaultDataValue:"",textRepFunction:c7}),l=Y.exports.useCallback(T=>async()=>{const C=!T.fetchModels&&T.models.length>0?T.models[T.models.length-1].event_datetime:void 0,z=new tx(i),L=await z.getEvents(T.batchSize,lC(a.state),{start:Rf(new Date(o.state.start),n.timeZone),end:Rf(new Date(o.state.end),n.timeZone)},{by:s.state.by,order:s.state.order},C),B=await Promise.all(L.map(O=>z.getRenderableEvent(O)));return Promise.resolve(B)},[i,a.state,o.state,s.state,n.timeZone]),c=Fa.exports.useMediaQuery({query:`(min-width: ${Ft.desktop})`}),{state:u,dispatch:f}=iI({batchSize:h7-(c?1:0),models:[],fetchModels:!0,showMoreModels:!1,hasMoreModels:!1,error:null},l),h=tC(),[m,b]=Y.exports.useState(""),w=()=>{const T=`?q=${m.trim().replace(/\s+/g,"+")}`;h.push({pathname:`/${Jr.EVENT}/search`,search:T,state:{query:m.trim(),committees:a.state,dateRange:o.state}})},g=Y.exports.useCallback(()=>{f({type:_g.FETCH_MODELS,payload:!0})},[f]),A=Y.exports.useCallback(()=>f({type:_g.FETCH_MODELS,payload:!1}),[f]),x=Y.exports.useMemo(()=>{if(u.fetchModels)return P(Pa,{active:!0,size:"massive"});if(u.error)return P(hm,{children:u.error.toString()});if(u.models.length===0)return P(hm,{children:ze.no_results_found});{const T=u.models.map(({keyGrams:C,...z})=>({link:`/${Jr.EVENT}/${z.id}`,jsx:P(t7,{event:z,tags:C})}));return P(UE,{cards:T})}},[u.fetchModels,u.error,u.models]);return le(d7,{children:[le(p7,{children:[P("h1",{className:"mzp-u-title-sm",children:ze.events}),P(f7,{placeholder:ze.search_topic_placeholder,query:m,setQuery:b,handleSearch:w})]}),P(u7,{allBodies:t,filters:[a,o,s],sortOptions:[{by:"event_datetime",order:Zi.desc,label:ze.newest_first},{by:"event_datetime",order:Zi.asc,label:ze.oldest_first}],handlePopupClose:g}),x,P(ix,{isVisible:u.hasMoreModels&&!u.fetchModels,children:le("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:A,children:[P("span",{children:ze.show_more}),P(Pa,{inline:!0,active:u.showMoreModels,size:"tiny"})]})})]})},ake=()=>{const{firebaseConfig:t}=Li();Zf(ze.events);const e=Xf(),i=Y.exports.useMemo(()=>{if(e.state)return e.state;const{body:o}=pA.parse(e.search),a={};return o&&typeof o=="string"&&(a[o]=!0),{committees:a}},[e]),n=Y.exports.useCallback(async()=>{const a=await new bF(t).getAllBodies();return Promise.resolve({bodies:a})},[t]),{state:r}=pn({isLoading:!1,error:null,hasFetchRequest:!0},n);return P(hp,{isLoading:r.isLoading,error:r.error,children:r.data&&P(oke,{...r.data,initialSelectedBodies:i.committees})})};class ske extends Bn{constructor(e){super(Ce.Person,e)}async getPersonById(e){const i=new Ii(Ce.File,At.PersonPictureRef),n=this.networkService.getDocument(e,Ce.Person,new tn([i]));return this.createModel(n,rx,`getPersonById(${e})`)}}class H9{constructor(e){this.id=e.id,this.name=e.name,e.external_source_id&&(this.external_source_id=e.external_source_id),e.electoral_area&&(this.electoral_area=e.electoral_area),e.electoral_type&&(this.electoral_type=e.electoral_type),e.image_ref&&(e.image_ref instanceof St?this.image_ref=e.image_ref.id:typeof e.image_ref=="object"&&(this.image=new Pf(e.image_ref)))}}class xv{constructor(e){this.id=e.id,this.title=e.title,this.person_ref=e.person_ref.id,this.seat_ref=e.seat_ref.id,this.start_datetime=Ea(e.start_datetime),e.end_datetime&&(this.end_datetime=Ea(e.end_datetime)),typeof e.person_ref=="object"&&!(e.person_ref instanceof St)&&(this.person=new rx(e.person_ref)),e.body_ref&&(e.body_ref instanceof St?this.body_ref=e.body_ref.id:typeof e.body_ref=="object"&&(this.body=new Xy(e.body_ref))),typeof e.seat_ref=="object"&&!(e.seat_ref instanceof St)&&(this.seat=new H9(e.seat_ref)),e.external_source_id&&(this.external_source_id=e.external_source_id)}}class W2 extends Bn{constructor(e){super(Ce.Role,e)}async getPopulatedRolesByPersonId(e){const i=new Ii(Ce.Body,At.RoleBodyRef),n=this.networkService.getDocuments(Ce.Role,[ki(At.RolePersonRef,bi.eq,Vi(Mt.getDb(),Ce.Person,e)),Rn("start_datetime",Zi.desc)],new tn([i]));return this.createModels(n,xv,`getPopulatedRolesByPersonId(${e})`)}async getCouncilMemberRolesByPersonId(e){const i=new Ii(Ce.Seat,At.RoleSeatRef),n=this.networkService.getDocuments(Ce.Role,[ki(At.RolePersonRef,bi.eq,Vi(Mt.getDb(),Ce.Person,e)),ki("title",bi.eq,cs.COUNCILMEMBER),Rn("start_datetime",Zi.desc)],new tn([i]));return this.createModels(n,xv,`getCouncilMemberRolesByPersonId(${e})`)}async getMostRecentCouncilMemberRoleBySeat(e){const i=new Ii(Ce.Person,At.RolePersonRef),n=this.networkService.getDocuments(Ce.Role,[ki(At.RoleSeatRef,bi.eq,Vi(Mt.getDb(),Ce.Seat,e)),ki("end_datetime",bi.eq,null),cu(1),Rn("start_datetime",Zi.desc)],new tn([i])),r=await this.createModels(n,xv,"getMostRecentCouncilMemberRoleBySeatWithNullEndDates");if(r[0])return Promise.resolve(r[0]);const o=this.networkService.getDocuments(Ce.Role,[ki(At.RoleSeatRef,bi.eq,Vi(Mt.getDb(),Ce.Seat,e)),cu(1),Rn("end_datetime",Zi.desc)],new tn([i])),a=await this.createModels(o,xv,"getMostRecentCouncilMemberRoleBySeat");return a[0]?Promise.resolve(a[0]):Promise.resolve(null)}}var Wl=Be.h2(t=>({display:t.isInline?"inline":"block",paddingBottom:t.hasBorderBottom?8:0,borderBottom:t.hasBorderBottom?`1px solid ${No.grey}`:0}));const lke=Be.div({"& > address > a:nth-of-type(2)":{marginTop:8},"& a":{display:"flex",alignItems:"center",columnGap:8},"& svg":{width:Er.font_size_5,height:Er.font_size_5,color:No.black}}),cke=({person:t})=>t.phone||t.email||t.website?le(lke,{children:[P(Wl,{hasBorderBottom:!0,className:"mzp-u-title-xs",children:ze.contact}),(t.phone||t.email)&&le("address",{children:[t.email&&le("a",{className:"mzp-c-cta-link",href:`mailto:${t.email}`,children:[P("svg",{width:16,height:16,xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),t.email]}),t.phone&&le("a",{className:"mzp-c-cta-link",href:`tel:${t.phone}`,children:[P("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),t.phone]})]}),t.website&&le(Ir,{children:[P("br",{}),P("a",{className:"mzp-c-cta-link",target:"_blank",rel:"noopener noreferrer",href:t.website,children:ze.visit_persons_website.replace("{person_name}",t.name)})]})]}):null,uke=uw[Math.floor(Math.random()*uw.length)],dke=Be.div({position:"relative",height:150,"& img":{objectFit:"cover"},[`@media (min-width:${Ft.tablet})`]:{height:400}}),fke=Be.img({width:"100%",height:"100%"}),pke=Be.img(t=>({visibility:t.isLoading?"hidden":"visible",position:"absolute",left:-5,bottom:-35,width:100,height:100,borderRadius:"50%",[`@media (min-width:${Ft.tablet})`]:{left:-25,width:200,height:200}})),hke=({personName:t,personPictureSrc:e,seatPictureSrc:i,electoralArea:n})=>{const[r,o]=Y.exports.useState(!0),[a,s]=Y.exports.useState(!0);return Y.exports.useEffect(()=>{e.data===null&&o(!1)},[e.data]),le(dke,{children:[P(jE,{contentIsLoading:a||r,children:P(fke,{className:"mzp-c-card-image",src:i.data===null?uke:i.data,alt:`${n||""}`,onLoad:()=>s(!1)})}),e.data&&P(pke,{isLoading:a||r,className:"mzp-c-card-image",src:e.data,alt:`Picture of ${t}`,onLoad:()=>o(!1)})]})};class JO{constructor(e){this.id=e.id,this.person_ref=e.person_ref.id,this.matter_ref=e.matter_ref.id,e.external_source_id&&(this.external_source_id=e.external_source_id),typeof e.person_ref=="object"&&!(e.person_ref instanceof St)&&(this.person=new rx(e.person_ref)),typeof e.matter_ref=="object"&&!(e.matter_ref instanceof St)&&(this.matter=new lb(e.matter_ref))}}class Y9 extends Bn{constructor(e){super(Ce.MatterSponsor,e)}async getMatterSponsorByMatterId(e){const i=new Ii(Ce.MatterSponsor,At.MatterSponsorPersonRef),n=this.networkService.getDocuments(Ce.MatterSponsor,[ki(At.MatterSponsorMatterRef,bi.eq,Vi(Mt.getDb(),Ce.Matter,e))],new tn([i]));return this.createModels(n,JO,`getMatterSponsorByMatterId(${e})`)}async getMattersSponsoredByPersonId(e,i,n){const r=new Ii(Ce.Matter,At.MatterSponsorMatterRef),o=[];if(o.push(ki(At.MatterSponsorPersonRef,bi.eq,Vi(Mt.getDb(),Ce.Person,e))),o.push(Rn(At.MatterSponsorMatterRef,Zi.asc)),n){const s=Vi(Mt.getDb(),Ce.MatterSponsor,n),l=await dE(s);o.push(uE(l))}o.push(cu(i));const a=this.networkService.getDocuments(Ce.MatterSponsor,o,new tn([r]));return this.createModels(a,JO,`getMattersSponsoredByPersonId(${e})`)}}const mke=25,gke=25,bke=Be.summary(t=>({"&::before":{content:"none"},cursor:"pointer",paddingRight:0,paddingBottom:t.hasBorderBottom?8:0,borderBottom:t.hasBorderBottom?`1px solid ${No.grey}`:0})),Iu=({summaryContent:t,hiddenContent:e,defaultOpen:i,hasBorderBottom:n})=>le("details",{open:i,children:[P(bke,{hasBorderBottom:n,children:t}),e]});var Bw=Be.ul(t=>({marginLeft:"1.25rem","& > li":{marginTop:t.gap}}));const vke=({personId:t})=>{const{firebaseConfig:e}=Li(),i=Y.exports.useCallback(s=>async()=>{const l=!s.fetchModels&&s.models.length>0?s.models[s.models.length-1].id:void 0,u=await new Y9(e).getMattersSponsoredByPersonId(t,s.batchSize,l);return Promise.resolve(u)},[e,t]),{state:n,dispatch:r}=iI({batchSize:gke,models:[],fetchModels:!0,showMoreModels:!1,hasMoreModels:!1,error:null},i),o=Y.exports.useCallback(()=>r({type:_g.FETCH_MODELS,payload:!1}),[r]),a=Y.exports.useMemo(()=>le(cb,{data:"legislations",isLoading:n.fetchModels,error:n.error,notFound:!n.fetchModels&&n.models.length===0,children:[P(Bw,{gap:8,children:n.models.map(s=>{var l,c,u,f;return P("li",{children:le("dl",{children:[P("dt",{children:P(mn,{to:`/matters/${(l=s.matter)==null?void 0:l.id}`,children:P("strong",{children:(c=s.matter)==null?void 0:c.name})},(u=s.matter)==null?void 0:u.id)}),P("dd",{children:(f=s.matter)==null?void 0:f.title})]})},s.id)})}),P("br",{}),P(ix,{isVisible:!n.fetchModels&&n.hasMoreModels,children:le("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:o,children:[P("span",{children:ze.show_more}),P(Pa,{inline:!0,active:n.showMoreModels,size:"tiny"})]})})]}),[n,o]);return P("div",{style:{marginTop:16},children:P(Iu,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:P(Wl,{className:"mzp-u-title-xs",isInline:!0,children:ze.legislation_sponsored}),hiddenContent:a})})};function yke(t){function e(n,r){return`${n.toISOString()}${r==null?void 0:r.toISOString()}`}return[...new Map(t.map(n=>[e(n.start_datetime,n.end_datetime),n])).values()].sort((n,r)=>r.start_datetime.getTime()-n.start_datetime.getTime())}function wke(t,e){const i=t.filter(a=>a.title!==cs.COUNCILMEMBER),n=[cs.COUNCILPRESIDENT,cs.CHAIR,cs.VICE_CHAIR,cs.SUPERVISOR,cs.MEMBER,cs.ALTERNATE];i.sort((a,s)=>n.indexOf(a.title)-n.indexOf(s.title));const r=e.reduce((a,s)=>(a[s.id]=[[],[]],a),{}),o=new Date;for(const a of i){const s=a.end_datetime||o;for(const l of e){const c=l.end_datetime||o;s>=l.start_datetime&&s<=c&&(s>o?r[l.id][0].push(a):r[l.id][1].push(a))}}return[r,i]}const y_=({hasBorderBottom:t,roles:e,defaultOpen:i,title:n})=>P(Iu,{hasBorderBottom:t,defaultOpen:i,summaryContent:n,hiddenContent:P(Bw,{gap:4,children:e.map(r=>{var o,a,s;return le("li",{children:[P("strong",{children:`${ze[r.title.toLowerCase().replace(" ","_")]}: `}),P(mn,{to:{pathname:"/events",search:`?body=${(o=r.body)==null?void 0:o.id}`,state:{committees:{[(a=r.body)==null?void 0:a.id]:!0}}},children:P("strong",{children:`${(s=r.body)==null?void 0:s.name}`})})]},r.id)})})}),Ake=({councilMemberRoles:t,allRoles:e})=>{const{municipality:i}=Li(),{language:n}=Ko(),[r,o,a]=Y.exports.useMemo(()=>{const s=yke(t),[l,c]=wke(e,s);return[s,l,c]},[t,e]);return e.length===0?null:r.length===0&&a.length>0?P(y_,{hasBorderBottom:!0,roles:a,defaultOpen:!1,title:P(Wl,{isInline:!0,className:"mzp-u-title-xs",children:ze.committees})}):le("div",{children:[P(Wl,{hasBorderBottom:!0,className:"mzp-u-title-xs",children:ze.terms}),P(Bw,{gap:16,children:r.map(s=>{var c,u;const l=!s.end_datetime||s.end_datetime>new Date;return P("li",{children:P(Iu,{defaultOpen:l,summaryContent:le("span",{style:{fontSize:Er.font_size_6},children:[P("strong",{children:`${ze[s.title.toLowerCase().replace(" ","_")]}: `})," ",`${(c=s.seat)==null?void 0:c.name} // ${(u=s.seat)==null?void 0:u.electoral_area} (${s.start_datetime.toLocaleDateString(n,{timeZone:i.timeZone})} - ${s.end_datetime?s.end_datetime.toLocaleDateString(n,{timeZone:i.timeZone}):""})`]}),hiddenContent:le(Bw,{gap:8,children:[o[s.id][0].length>0&&P("li",{children:P(y_,{hasBorderBottom:!1,roles:o[s.id][0],defaultOpen:l,title:ze.committee_membership})}),o[s.id][1].length>0&&P("li",{children:P(y_,{hasBorderBottom:!1,roles:o[s.id][1],defaultOpen:!l,title:ze.former_committee_membership})})]})})},s.id)})})]})},xke=({index:t,legislationLink:e,legislationName:i,legislationTags:n,voteDecision:r,councilDecision:o,meetingDate:a,meetingLink:s,committeeName:l,columnNames:c,columnDistribution:u})=>{const{municipality:f}=Li(),{language:h}=Ko(),m=n&&n.length>0?n.join(cw):"",b=a==null?void 0:a.toLocaleDateString(h,{timeZone:f.timeZone,month:"long",day:"numeric",year:"numeric"}),w=Fa.exports.useMediaQuery({query:`(max-width: ${Ft.tablet})`});return le(U9,{index:t,columnNames:c,columnDistribution:u,children:[le(ye.Fragment,{children:[P(mn,{to:e,children:P("p",{className:"mzp-c-card-desc",style:{fontWeight:600,marginBottom:0},children:i})}),!w&&P("p",{className:"mzp-c-card-desc",children:m})]}),P(Ms,{result:r}),P(Ms,{result:o}),le(ye.Fragment,{children:[P(mn,{to:s,children:b}),!w&&P("p",{className:"mzp-c-card-desc",children:l})]})]},`voting-table-row-${t}`)};function kke(t){return P(Cx,{index:t},`empty-table-row-${t}`)}const _ke=({name:t,votesPage:e})=>{const i=[ze.legislation,ze.persons_vote.replace("{name}",t),ze.council_decision,ze.meeting],n=["30%","15%","20%","35%"];function r(o,a){var w;if(!o.matter||!o.decision||!o.event)return kke(a);const s=o.matter.name,l=o.decision,c=(w=o.event_minutes_item)==null?void 0:w.decision,u=`/matters/${o.matter.id}`,f=o.matter.keywords,h=o.event.event_datetime,m=`/events/${o.event.id}`,b=o.event.body.name;return P(xke,{index:a,legislationName:s,voteDecision:l,councilDecision:c,legislationLink:u,legislationTags:f,meetingDate:h,meetingLink:m,committeeName:b,columnNames:i,columnDistribution:n},`voting-table-row-${a}`)}return P(G9,{data:e,columnDistribution:n,columnNames:i,renderRow:r})},Tke=({personId:t,personName:e})=>{const{firebaseConfig:i}=Li(),n=Y.exports.useCallback(l=>async()=>{const c=!l.fetchModels&&l.models.length>0?l.models[l.models.length-1].id:void 0,f=await new ox(i).getFullyPopulatedVotesByPersonId(t,l.batchSize,c);return Promise.resolve(f)},[i,t]),{state:r,dispatch:o}=iI({batchSize:mke,models:[],fetchModels:!0,showMoreModels:!1,hasMoreModels:!1,error:null},n),a=Y.exports.useCallback(()=>o({type:_g.FETCH_MODELS,payload:!1}),[o]),s=Y.exports.useMemo(()=>le(cb,{data:"votes",isLoading:r.fetchModels,error:r.error,notFound:!r.fetchModels&&r.models.length===0,children:[P(_ke,{name:e,votesPage:r.models}),P("br",{}),P(ix,{isVisible:!r.fetchModels&&r.hasMoreModels,children:le("button",{className:"mzp-c-button mzp-t-secondary mzp-t-lg",onClick:a,children:[P("span",{children:ze.show_more}),P(Pa,{inline:!0,active:r.showMoreModels,size:"tiny"})]})})]}),[e,r,a]);return P(Iu,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:P(Wl,{className:"mzp-u-title-xs",isInline:!0,children:ze.persons_voting_record.replace("{person_name}",e)}),hiddenContent:le(Ir,{children:[P("br",{}),s]})})},Ske=Be.div({display:"grid",gridTemplateColumns:"1fr",rowGap:64}),Cke=Be.h1({margin:0,"& > span:first-of-type":{fontSize:"inherit",fontWeight:"inherit"},"& > span:not(:first-of-type)":{fontSize:Er.font_size_7},"& > span:nth-of-type(2)":{marginLeft:16,padding:"0px 8px",borderRadius:4,fontWeight:300},"& > span:nth-of-type(3)":{marginTop:16,display:"block",fontWeight:400}}),Eke=Be.div(t=>({display:t.isVisible?"grid":"none",rowGap:64,gridTemplateColumns:"1fr",[`@media (min-width:${Ft.tablet})`]:{gridTemplateColumns:"auto 1fr",columnGap:128}})),zke=({person:t,roles:e,councilMemberRoles:i,personPictureSrc:n,seatPictureSrc:r})=>{var c;const o=i.length>0?i[0]:void 0,a=!(o!=null&&o.end_datetime)||(o==null?void 0:o.end_datetime)>new Date,s=!!(t.phone||t.email||t.website),l=e.length>0;return Zf(t.name),le(Ske,{children:[P(hke,{personName:t.name,personPictureSrc:n,seatPictureSrc:r,electoralArea:(c=o==null?void 0:o.seat)==null?void 0:c.electoral_area}),le(Cke,{className:"mzp-u-title-sm",children:[P("span",{children:t.name}),o&&P("span",{className:a?"cdp-bg-neon-green":"cdp-bg-dark-grey",children:a?ze.active:ze.inactive}),(o==null?void 0:o.seat)&&P("span",{children:`${o==null?void 0:o.seat.name} // ${o.seat.electoral_area}`})]}),le(Eke,{isVisible:s||l,children:[P(cke,{person:t}),P(Ake,{councilMemberRoles:i,allRoles:e})]}),P(vke,{personId:t.id}),P("div",{children:P(Tke,{personId:t.id,personName:t.name})})]})},Ike=()=>{const{id:t}=cA(),{firebaseConfig:e}=Li(),i=Y.exports.useCallback(async()=>{const x=await new ske(e).getPersonById(t);return Promise.resolve(x)},[t,e]),{state:n}=pn({...Fo},i),r=Y.exports.useCallback(async()=>{var T;const A=new lw(e),{networkService:x}=A;if((T=n.data)!=null&&T.picture){const C=await x.getDownloadUrl(n.data.picture.uri);return Promise.resolve(C)}return Promise.resolve(null)},[n.data,e]),{state:o,dispatch:a}=pn({...Fo,hasFetchRequest:!1},r);Y.exports.useEffect(()=>{n.data&&a({type:aw.FETCH})},[n.data,a]);const s=Y.exports.useCallback(async()=>{const x=await new W2(e).getCouncilMemberRolesByPersonId(t);return Promise.resolve(x)},[t,e]),{state:l}=pn({...Fo},s),c=Y.exports.useCallback(async()=>{const A=new lw(e),{networkService:x}=A;if(l.data&&l.data.length>0&&l.data[0].seat&&l.data[0].seat.image_ref){const T=await A.getFileById(l.data[0].seat.image_ref),C=await x.getDownloadUrl(T.uri);return Promise.resolve(C)}return Promise.resolve(null)},[l.data,e]),{state:u,dispatch:f}=pn({...Fo,hasFetchRequest:!1},c);Y.exports.useEffect(()=>{l.data&&f({type:aw.FETCH})},[l.data,f]);const h=Y.exports.useCallback(async()=>{const x=await new W2(e).getPopulatedRolesByPersonId(t);return Promise.resolve(x)},[t,e]),{state:m}=pn({...Fo},h),b=Y.exports.useMemo(()=>n.isLoading||l.isLoading||m.isLoading,[n.isLoading,l.isLoading,m.isLoading]),w=Y.exports.useMemo(()=>{if(!(!n.data||!l.data||!m.data))return{person:n.data,councilMemberRoles:l.data,roles:m.data}},[n.data,l.data,m.data]),g=Y.exports.useMemo(()=>{const A=[n.error,l.error,m.error].map(x=>(x==null?void 0:x.message)||"").filter(x=>x.length>0);return A.length>0?new Error(A.join(`
`)):null},[n.error,l.error,m.error]);return P(hp,{isLoading:b,error:g,children:w&&P(zke,{...w,personPictureSrc:o,seatPictureSrc:u})})},Pke=uw[Math.floor(Math.random()*uw.length)],Rke=Be.div({float:"right",marginRight:8,marginBottom:8,borderRadius:"10%",padding:"0 4px"}),ZO=Be.img(t=>({objectFit:"cover",left:`${t.left} !important`,width:`${t.width} !important`,height:"100%"})),Lke=({person:t,seat:e})=>{var c,u,f,h,m,b;const{firebaseConfig:i}=Li(),n=Y.exports.useCallback(async()=>{const w=new lw(i),{networkService:g}=w,A=[Promise.resolve(void 0),Promise.resolve(void 0)];e.image_ref&&(A[0]=w.getFileById(e.image_ref).then(C=>g.getDownloadUrl(C.uri)).catch(()=>Promise.resolve(void 0))),t.picture_ref&&(A[1]=w.getFileById(t.picture_ref).then(C=>g.getDownloadUrl(C.uri)).catch(()=>Promise.resolve(void 0)));const[x,T]=await Promise.all(A);return Promise.resolve({seatPictureSrc:x,personPictureSrc:T})},[t.picture_ref,e.image_ref,i]),{state:r}=pn({isLoading:!1,error:null,hasFetchRequest:!0},n),[o,a]=Y.exports.useState(!0),[s,l]=Y.exports.useState(!0);return Y.exports.useEffect(()=>{var w;!r.isLoading&&((w=r.data)==null?void 0:w.personPictureSrc)===void 0&&a(!1)},[r]),P("section",{className:"mzp-c-card mzp-c-card-medium mzp-has-aspect-16-9",children:le("div",{className:"mzp-c-card-block-link",children:[P("div",{className:"mzp-c-card-media-wrapper",children:P(e7,{children:le(jE,{contentIsLoading:o||s,children:[((c=r.data)==null?void 0:c.personPictureSrc)&&P(ZO,{className:"mzp-c-card-image",src:r.data.personPictureSrc,width:(u=r.data)!=null&&u.seatPictureSrc?"40%":"100%",left:"0",alt:t.name,onLoad:()=>a(!1)}),P(ZO,{className:"mzp-c-card-image",src:!r.isLoading&&((f=r.data)==null?void 0:f.seatPictureSrc)===void 0?Pke:(h=r.data)==null?void 0:h.seatPictureSrc,width:(m=r.data)!=null&&m.personPictureSrc?"60%":"100%",left:(b=r.data)!=null&&b.personPictureSrc?"40%":"0",alt:`${e.name} - ${e.electoral_area}`,onLoad:()=>l(!1)})]})})}),le("div",{className:"mzp-c-card-content",children:[P("h2",{className:"mzp-c-card-title",children:t.name}),P(Rke,{className:t.is_active?"cdp-bg-neon-green":"cdp-bg-dark-grey",children:t.is_active?ze.active:ze.inactive}),le("p",{className:"mzp-c-card-desc",children:[e.name," \u2022 ",e.electoral_area]})]})]})})},Oke=({roles:t,seats:e})=>{const i=t.reduce((n,r,o)=>(r.person&&n.push({link:`/people/${r.person.id}`,jsx:P(Lke,{person:r.person,seat:e[o]},`person-card-${r.person.name}`)}),n),[]);return le("div",{children:[P("h1",{className:"mzp-u-title-sm",children:"Current Councilmembers"}),P(UE,{cards:i})]})};class Dke extends Bn{constructor(e){super(Ce.Seat,e)}async getAllSeats(){const e=this.networkService.getDocuments(Ce.Seat,[Rn("name")]);return this.createModels(e,H9,"getAllSeats")}}const Mke=()=>{const{firebaseConfig:t}=Li(),e=Y.exports.useCallback(async()=>{const n=new Dke(t),r=new W2(t),o=await n.getAllSeats(),a=o.map(u=>r.getMostRecentCouncilMemberRoleBySeat(u.id)),s=await Promise.all(a),l=s.reduce((u,f,h)=>(f===null&&u.push(h),u),[]),c=s.reduce((u,f)=>(f!==null&&u.push(f),u),[]);for(let u=l.length-1;u>=0;u--)o.splice(l[u],1);return{seats:o,roles:c}},[t]),{state:i}=pn({isLoading:!1,error:null,hasFetchRequest:!0},e);return P(hp,{isLoading:i.isLoading,error:i.error,children:i.data&&P(Oke,{roles:i.data.roles,seats:i.data.seats})})},Bke=({matterStatus:t,indexedMatterGrams:e})=>{var i,n;return le("div",{children:[P("h1",{className:"mzp-u-title-sm",children:(i=t.matter)==null?void 0:i.name}),P("b",{children:(n=t.matter)==null?void 0:n.title}),le("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",marginTop:12,marginBottom:12},children:[P(Ms,{result:t.status,style:{display:"flex",alignItems:"center",flex:0,whiteSpace:"nowrap"}}),P("div",{style:{display:"flex",flexDirection:"row",justifyContent:"left",alignItems:"center",flex:1},children:e&&e.map(r=>le("div",{children:[P("p",{style:{display:"inline",paddingLeft:11,paddingRight:11},children:"\u2022"}),P("p",{style:{display:"inline"},children:r.unstemmed_gram})]},r.id))})]})]})},Tg=20,V2=6,_c=Be.div({width:Tg,height:Tg,borderRadius:"50%",zIndex:1}),W9=29,Fke=`calc(50% + ${Tg/2}px + ${V2+2}px)`,Nke=Be.div({height:W9,position:"relative"}),eD=Be.div(t=>({position:"absolute",top:0,left:0,height:W9,width:t.width,borderTopLeftRadius:"50em",borderBottomLeftRadius:"50em",borderTopRightRadius:"50em",borderBottomRightRadius:"50em",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:t.zIndex,"& > div:first-of-type":{marginLeft:V2},"& > div:last-of-type":{marginRight:V2}})),jke=Be.div({display:"flex",justifyContent:"space-between","& > div":{fontWeight:500}}),Uke={[Go.ADOPTED]:["cdp-bg-acceptance-green","cdp-bg-light-acceptance_green"],[Go.REJECTED]:["cdp-bg-rejected-red","cdp-bg-light-rejected_red"],[Go.IN_PROGRESS]:["cdp-bg-in-progress_orange","cdp-bg-light-in_progress_orange"]},Gke=({status:t})=>{const e=Uke[t],i=t===Go.IN_PROGRESS;return le("div",{children:[le(Nke,{children:[le(eD,{className:e[1],width:i?Fke:"100%",zIndex:2,children:[P(_c,{className:e[0]}),P(_c,{className:e[0]}),!i&&P(_c,{className:e[0]})]}),le(eD,{className:"cdp-bg-light-neutral_grey",width:"100%",zIndex:1,children:[P(_c,{className:"cdp-bg-neutral-grey"}),P(_c,{className:"cdp-bg-neutral-grey"}),P(_c,{className:"cdp-bg-neutral-grey"})]})]}),le(jke,{children:[P("div",{children:"Introduced"}),P("div",{children:Go.IN_PROGRESS}),P("div",{style:{opacity:i?"0.75":"1"},children:i?Go.ADOPTED:t})]})]})},Hke=Be(Wl)({display:"flex",justifyContent:"space-between",alignItems:"flex-end","& > em":{fontSize:Er.font_size_6,fontWeight:400}}),Yke=Be.div({display:"flex",flexWrap:"wrap"}),Wke=Be.dl({fontSize:Er.font_size_6,display:"flex",flexDirection:"column",rowGap:16,"& > div:not(:nth-of-type(2))":{display:"flex",columnGap:4,flexWrap:"wrap"},"& > div:nth-of-type(2)":{margin:"16px 0"},"& > div:nth-of-type(2) > dt":{width:0,height:0,overflow:"hidden"},"& dt":{fontWeight:600},"& dd":{fontWeight:400}}),Vke=({matterStatus:t,event:e,sponsors:i,document:n})=>{const{municipality:r}=Li(),{language:o}=Ko();return le("div",{children:[le(Hke,{hasBorderBottom:!0,className:"mzp-u-title-xs",children:[P("span",{children:"Legislation Overview"}),P("em",{children:`Last Updated ${t.update_datetime.toLocaleDateString(o,{timeZone:r.timeZone,month:"long",day:"numeric",year:"numeric"})}`})]}),le(Wke,{children:[le("div",{children:[P("dt",{children:"Legislation Status:"}),P("dd",{children:P(Ms,{result:t.status})})]}),le("div",{children:[P("dt",{children:"Progress bar"}),P("dd",{children:P(Gke,{status:t.status})})]}),e&&le("div",{children:[P("dt",{children:"Latest Meeting:"}),P("dd",{children:P(mn,{to:`/events/${e.id}`,children:e.event_datetime.toLocaleDateString(o,{timeZone:r.timeZone,month:"short",day:"numeric",year:"numeric"})})})]}),n&&le("div",{children:[P("dt",{children:"Latest Document:"}),P("dd",{children:P("a",{target:"_blank",rel:"noopener noreferrer",href:n.url,children:n.name})})]}),le("div",{children:[P("dt",{children:"Sponsored by:"}),P("dd",{children:P(Yke,{children:i.map((a,s)=>[s>0&&P("span",{style:{whiteSpace:"pre-wrap"},children:",  "}),P(mn,{to:`/people/${a.id}`,children:a.name},a.id)])})})]})]})]})},$ke=Be.div({flex:4}),tD=Be.div(t=>({position:"absolute",top:0,left:0,height:t.height,width:t.width,borderTopLeftRadius:"50em",borderBottomLeftRadius:"50em",borderTopRightRadius:"50em",borderBottomRightRadius:"50em",zIndex:t.zIndex})),w_=({statusColor:t,percentage:e,height:i,votes:n,label:r})=>{const[o,a]=Y.exports.useState(!1),s=Fa.exports.useMediaQuery({query:`(max-width: ${Ft.tablet})`}),l=n.map((h,m)=>{var b;return le("div",{style:{marginTop:4,display:"flex"},children:[P(mn,{to:`/people/${h.id}`,style:{marginLeft:12,flex:1},children:(b=h.person)==null?void 0:b.name}),P(Ms,{result:h.decision}),!s&&P($ke,{style:{flex:4}})]},`${m}_${h.id}_vote`)}),c=s?"column":"row",u=s?"100%":"80%",f=s?"100%":"20%";return le("div",{style:{display:"flex",flexDirection:"column",marginTop:16},children:[le("div",{style:{display:"flex",flexDirection:c,flex:1,alignItems:"center"},children:[le("div",{style:{height:i,position:"relative",width:u,cursor:"pointer"},onClick:()=>{a(!o)},children:[P(tD,{className:t,width:`${e}%`,height:i,zIndex:2}),P(tD,{className:"cdp-bg-neutral-grey",width:"100%",height:i,zIndex:1})]}),P("b",{style:{marginLeft:16,width:f},children:r})]}),o&&l]})};function Qke(t){const e=[],i=[],n=[];return t.forEach(r=>{[ai.ABSENT_APPROVE,ai.ABSTAIN_APPROVE,ai.APPROVE].includes(r.decision)&&e.push(r),[ai.ABSENT_REJECT,ai.ABSTAIN_REJECT,ai.REJECT].includes(r.decision)&&i.push(r),[ai.ABSENT_NON_VOTING,ai.ABSTAIN_NON_VOTING].includes(r.decision)&&n.push(r)}),{inFavor:e,against:i,abstained:n}}const A_=16,V9=({votes:t})=>{const{inFavor:e,against:i,abstained:n}=Qke(t),r=ze.number_approved.replace("{number}",`${e.length}`),o=ze.number_rejected.replace("{number}",`${i.length}`),a=ze.number_non_voting.replace("{number}",`${n.length}`),s=[P(w_,{statusColor:"cdp-bg-acceptance-green",votes:e,percentage:e.length/t.length*100,height:A_,label:r},"inFavorVoteBar"),P(w_,{statusColor:"cdp-bg-rejected-red",votes:i,percentage:i.length/t.length*100,height:A_,label:o},"againstVoteBar"),P(w_,{statusColor:"cdp-bg-light-purple",votes:n,percentage:n.length/t.length*100,height:A_,label:a},"abstainedVoteBar")];return P("div",{style:{display:"flex",flexDirection:"column"},children:s})},qke=({votes:t})=>P("div",{style:{marginTop:16},children:P(Iu,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:P(Wl,{className:"mzp-u-title-xs",isInline:!0,children:ze.latest_vote}),hiddenContent:P(V9,{votes:t})})}),Kke=({eventMinutesItem:t,isLastIndex:e})=>{var g,A,x,T,C,z,L,B;const{municipality:i}=Li(),n=Fa.exports.useMediaQuery({query:`(max-width: ${Ft.tablet})`}),r=n?4:12,o=Be.div({position:"relative"}),a=Be.div({margin:r,display:"flex",flexDirection:"row",gap:r*3}),s=Be.div({flex:1}),l=Be.div({display:"flex",flexDirection:"row"}),c=Be.div(()=>({flex:1,marginTop:r,marginLeft:n?0:r*2})),u=Be.div({position:"absolute",top:r+Tg,left:Tg/2+r,height:"100%",width:2,zIndex:0,backgroundColor:"grey"}),{firebaseConfig:f}=Li(),{language:h}=Ko(),m=(g=t.event)==null?void 0:g.event_datetime.toLocaleDateString(h,{timeZone:i.timeZone,month:"long",day:"numeric",year:"numeric"}),b=Y.exports.useCallback(async()=>{const O={votes:[],files:[]},H=await new g7(f).getEventMinutesItemFilesByEventMinutesItemId(t.id);if(O.files=H.map(({name:K,uri:fe})=>({label:K,url:fe})),t.decision){const K=new ox(f);O.votes=await K.getVotesByEventMinutesItemId(t.id)}return Promise.resolve(O)},[t.id,t.decision,f]),{state:w}=pn({...Fo},b);return le(o,{children:[le(a,{children:[P(_c,{className:"cdp-bg-neutral-grey"}),le(s,{children:[le(l,{children:[P(mn,{to:`/events/${(A=t.event)==null?void 0:A.id}`,children:m}),t.decision&&P(Ms,{result:t.decision,style:{marginLeft:r,display:"flex",flex:1,alignItems:"center"}})]}),le(cb,{data:"votes and documents associated with this event",isLoading:w.isLoading,error:w.error,notFound:!w.data,children:[((x=w.data)==null?void 0:x.votes)&&((T=w.data)==null?void 0:T.votes.length)>0&&P(Iu,{summaryContent:ze.votes,hiddenContent:P(c,{children:P(V9,{votes:(C=w.data)==null?void 0:C.votes})}),defaultOpen:!1,hasBorderBottom:!1}),((z=w.data)==null?void 0:z.files)&&((L=w.data)==null?void 0:L.files.length)>0&&P(j9,{documents:(B=w.data)==null?void 0:B.files})]})]})]}),!e&&P(u,{})]})},Xke=Be.div({marginTop:16}),Jke=Be.div({display:"flex",flexDirection:"column"}),Zke=({eventMinutesItems:t})=>P(Xke,{children:P(Iu,{hasBorderBottom:!0,defaultOpen:!1,summaryContent:P(Wl,{className:"mzp-u-title-xs",isInline:!0,children:ze.history}),hiddenContent:P(Jke,{children:t.map((e,i)=>P(Kke,{isLastIndex:i===t.length-1,eventMinutesItem:e},`leg_hist_node_${e.id}_${i}`))})})}),e_e=Be.div({display:"grid",gridTemplateColumns:"1fr",rowGap:64}),t_e=({matterStatus:t,indexedMatterGrams:e,event:i,sponsors:n,votes:r,legislationHistory:o})=>le(e_e,{children:[P(Bke,{matterStatus:t,indexedMatterGrams:e}),P(Vke,{matterStatus:t,event:i,sponsors:n}),r&&P(qke,{votes:r}),o&&P(Zke,{eventMinutesItems:o})]});class i_e extends Bn{constructor(e){super(Ce.Matter,e)}async getMatterById(e){const i=this.networkService.getDocument(e,Ce.Matter);return this.createModel(i,lb,`getMatterById(${e})`)}}class n_e{constructor(e){this.id=e.id,this.matter_ref=e.matter_ref.id,this.status=e.status,this.update_datetime=Ea(e.update_datetime),e.event_minutes_item_ref&&(e.event_minutes_item_ref instanceof St?this.event_minutes_item_ref=e.event_minutes_item_ref.id:typeof e.event_minutes_item_ref=="object"&&(this.event_minutes_item=new nx(e.event_minutes_item_ref))),e.external_source_id&&(this.external_source_id=e.external_source_id),typeof e.matter_ref=="object"&&!(e.matter_ref instanceof St)&&(this.matter=new lb(e.matter_ref))}}class r_e extends Bn{constructor(e){super(Ce.MatterStatus,e)}async getMatterStatusesByMatterId(e){const i=new Ii(Ce.EventMinutesItem,At.EventMinutesItemEventRef),n=new Ii(Ce.MatterStatus,At.MatterStatusEventMinutesItemRef,new tn([i])),r=this.networkService.getDocuments(Ce.MatterStatus,[ki(At.MatterStatusMatterRef,bi.eq,Vi(Mt.getDb(),Ce.Matter,e)),Rn("update_datetime",Zi.desc)],new tn([n]));return this.createModels(r,n_e,`getMatterStatusByMatterId(${e})`)}}const o_e=()=>{const{firebaseConfig:t}=Li(),{id:e}=cA(),i=Y.exports.useCallback(async()=>{const r=new i_e(t),o=new r_e(t),a=new Y9(t),s=new tx(t),l=r.getMatterById(e),c=a.getMatterSponsorByMatterId(e),u=o.getMatterStatusesByMatterId(e),f=await Promise.all([l,c,u]),[h,m,b]=f,w=m.filter(C=>C.person).map(C=>C.person),g=b.reduce((C,z)=>(z.event_minutes_item&&C.push(z.event_minutes_item),C),[]),A=b[0];A.matter=h;const x={matterStatus:A,indexedMatterGrams:[],sponsors:w,legislationHistory:g};let T;for(const C of b)if(C.event_minutes_item){T=C.event_minutes_item;break}if(T){const C=new ox(t),z=await Promise.all([C.getVotesByEventMinutesItemId(T.id),s.getEventById(T.event_ref)]);x.votes=z[0],x.event=z[1]}return x},[t,e]),{state:n}=pn({isLoading:!1,error:null,hasFetchRequest:!0},i);return P(hp,{isLoading:n.isLoading,error:n.error,children:n.data&&P(t_e,{indexedMatterGrams:n.data.indexedMatterGrams,matterStatus:n.data.matterStatus,sponsors:n.data.sponsors,event:n.data.event,votes:n.data.votes,legislationHistory:n.data.legislationHistory})})},a_e=Be.div({minHeight:"100vh",display:"flex",flexDirection:"column"}),s_e=Be.main({boxSizing:"border-box",width:"100%",padding:"16px",flex:1,alignSelf:"center",display:"flex",flexDirection:"column",[`@media (min-width:${Ft.tablet})`]:{padding:"32px",maxWidth:"1280px"}});function l_e(){Zf(ze.council_data_project);const{municipality:t}=Li(),[e,i]=Y.exports.useState(vhe[0]);return P(Ir,{children:P(mK,{languageConfig:{language:e,setLanguage:i},children:le(cX,{basename:"/",children:[P(qX,{styles:W8`
              html,
              body {
                font-size: 100%;
              }

              body {
                font-family: Inter, X-LocaleSpecific, sans-serif;
              }
            `}),le(a_e,{children:[P(_J,{municipalityName:t.name}),P(s_e,{children:le(lX,{children:[P(rl,{exact:!0,path:"/",children:P(UJ,{})}),P(rl,{exact:!0,path:`/${Jr.EVENT}`,children:P(ake,{})}),P(rl,{exact:!0,path:`/${Jr.EVENT}/search`,children:P(whe,{})}),P(rl,{exact:!0,path:`/${Jr.EVENT}/:id`,children:P(nke,{})}),P(rl,{exact:!0,path:"/people",children:P(Mke,{})}),P(rl,{exact:!0,path:"/people/:id",children:P(Ike,{})}),P(rl,{exact:!0,path:"/matters/:id",children:P(o_e,{})}),P(rl,{path:"*",component:$N})]})}),P(SJ,{footerLinksSections:t.footerLinksSections})]})]})})})}cK.render(P(ye.StrictMode,{children:P(hK,{appConfig:{firebaseConfig:{options:{projectId:"cdp-seattle-staging-dbengvtn"},settings:{}},municipality:{name:"Seattle Staging",timeZone:"America/Los_Angeles",footerLinksSections:[]}},children:P(l_e,{})})}),document.getElementById("root"))});export default c_e();
